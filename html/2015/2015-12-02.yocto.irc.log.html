<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Wednesday, 2015-12-02</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Wednesday, 2015-12-02</h1>
<div class="navigation"> <a href="%23yocto.2015-12-01.log.html">&#171; Tuesday, 2015-12-01</a> <a href="index.html">Index</a> <a href="%23yocto.2015-12-03.log.html">Thursday, 2015-12-03 &#187;</a> </div>
<table class="irclog">
<tr id="t2015-12-02T01:16:03"><td class="nickchange" colspan="2">*** Jackie is now known as Guest18951</td><td><a href="#t2015-12-02T01:16:03" class="time">01:16</a></td></tr>
<tr id="t2015-12-02T01:22:14"><td class="part" colspan="2">*** aehs29 &lt;aehs29!aehernan@nat/intel/x-pimgjcnkqvsodrmz&gt; has left #yocto</td><td><a href="#t2015-12-02T01:22:14" class="time">01:22</a></td></tr>
<tr id="t2015-12-02T01:51:54"><td class="nickchange" colspan="2">*** Guest18951 is now known as Jackie_huang</td><td><a href="#t2015-12-02T01:51:54" class="time">01:51</a></td></tr>
<tr id="t2015-12-02T02:56:33"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">Question: If adding coreutils, do I need to manually modify the busybox config in a bbappend to remove overlap or is that handle automagically?</td><td class="time"><a href="#t2015-12-02T02:56:33" class="time">02:56</a></td></tr>
<tr id="t2015-12-02T02:57:29"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">(I really just want to include a proper dd...)(</td><td class="time"><a href="#t2015-12-02T02:57:29" class="time">02:57</a></td></tr>
<tr id="t2015-12-02T03:02:52"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">pevster: automatically (via the alternatives system)</td><td class="time"><a href="#t2015-12-02T03:02:52" class="time">03:02</a></td></tr>
<tr id="t2015-12-02T03:04:47"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">bluelightning: Smashing thanks... Is there a way I can just cherry pick dd on it's own?</td><td class="time"><a href="#t2015-12-02T03:04:47" class="time">03:04</a></td></tr>
<tr id="t2015-12-02T03:05:42"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">pevster: not out of the box, but you could bbappend the coreutils recipe to split it out into its own package</td><td class="time"><a href="#t2015-12-02T03:05:42" class="time">03:05</a></td></tr>
<tr id="t2015-12-02T03:06:04"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">Hm... it seems to add 6M to my image :-D</td><td class="time"><a href="#t2015-12-02T03:06:04" class="time">03:06</a></td></tr>
<tr id="t2015-12-02T03:06:08"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">pevster: another (more drastic) alternative would be to switch to ddrescue</td><td class="time"><a href="#t2015-12-02T03:06:08" class="time">03:06</a></td></tr>
<tr id="t2015-12-02T03:07:15"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">bluelightning: oooh... I've not seen that before. I take it that it's compatible with 'normal' coreutils dd?</td><td class="time"><a href="#t2015-12-02T03:07:15" class="time">03:07</a></td></tr>
<tr id="t2015-12-02T03:07:53"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">it's functionally equivelent, but not drop-in command-line compatible</td><td class="time"><a href="#t2015-12-02T03:07:53" class="time">03:07</a></td></tr>
<tr id="t2015-12-02T03:07:54"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">thats the main problem I have - busybox doesn't support skip_bytes so having to do horrible non-block dd operations which is hideously slow</td><td class="time"><a href="#t2015-12-02T03:07:54" class="time">03:07</a></td></tr>
<tr id="t2015-12-02T03:16:33"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">Strewth, might just be quicker to port to busybox :-D</td><td class="time"><a href="#t2015-12-02T03:16:33" class="time">03:16</a></td></tr>
<tr id="t2015-12-02T03:18:00"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">well, the least intrusive fix is to split coreutils packaging, and that should be trivial</td><td class="time"><a href="#t2015-12-02T03:18:00" class="time">03:18</a></td></tr>
<tr id="t2015-12-02T03:19:35"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">you'd just need a bbappend with PACKAGES =+ "${PN}-dd"&nbsp;&nbsp;and&nbsp;&nbsp;FILES_${PN}-dd = "${base_bindir}/dd"</td><td class="time"><a href="#t2015-12-02T03:19:35" class="time">03:19</a></td></tr>
<tr id="t2015-12-02T03:21:26"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">probably also ALTERNATIVE_${PN}-dd = "dd"</td><td class="time"><a href="#t2015-12-02T03:21:26" class="time">03:21</a></td></tr>
<tr id="t2015-12-02T03:23:45"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">Really? I didn;t think the coreutils recipe knew about all the internal packages?</td><td class="time"><a href="#t2015-12-02T03:23:45" class="time">03:23</a></td></tr>
<tr id="t2015-12-02T03:23:58"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">bluelightning: is that a recentish thing?</td><td class="time"><a href="#t2015-12-02T03:23:58" class="time">03:23</a></td></tr>
<tr id="t2015-12-02T03:24:27"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">Oh, I see, just define it in the append...</td><td class="time"><a href="#t2015-12-02T03:24:27" class="time">03:24</a></td></tr>
<tr id="t2015-12-02T03:24:38"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">right, in adding those you're creating a package just to split out a single file</td><td class="time"><a href="#t2015-12-02T03:24:38" class="time">03:24</a></td></tr>
<tr id="t2015-12-02T03:25:12"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">if there are shared libs in the main package though there'll be a dependency created that drags in the main package, hopefully that's not the case</td><td class="time"><a href="#t2015-12-02T03:25:12" class="time">03:25</a></td></tr>
<tr id="t2015-12-02T03:25:23"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">(shared libs that dd links to)</td><td class="time"><a href="#t2015-12-02T03:25:23" class="time">03:25</a></td></tr>
<tr id="t2015-12-02T03:25:48"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">I was wondering about that - I seem to be 6MB heavier and the main bins don't account for that</td><td class="time"><a href="#t2015-12-02T03:25:48" class="time">03:25</a></td></tr>
<tr id="t2015-12-02T03:38:35"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">bluelightning: Tried as quoted but craps out with</td><td class="time"><a href="#t2015-12-02T03:38:35" class="time">03:38</a></td></tr>
<tr id="t2015-12-02T03:38:41"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40"> * opkg_install_cmd: Cannot install package coreutils-dd.</td><td class="time"><a href="#t2015-12-02T03:38:41" class="time">03:38</a></td></tr>
<tr id="t2015-12-02T03:42:25"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">for whatever reason the file can't have gone into the package, and thus it ended up empty</td><td class="time"><a href="#t2015-12-02T03:42:25" class="time">03:42</a></td></tr>
<tr id="t2015-12-02T03:43:10"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">you can check this by looking under packages-split in the workdir for coreutils</td><td class="time"><a href="#t2015-12-02T03:43:10" class="time">03:43</a></td></tr>
<tr id="t2015-12-02T03:43:46"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">you did use =+ and not += to add the item to PACKAGES right?</td><td class="time"><a href="#t2015-12-02T03:43:46" class="time">03:43</a></td></tr>
<tr id="t2015-12-02T03:43:55"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">Oh... does it need dd.coreutils not dd?</td><td class="time"><a href="#t2015-12-02T03:43:55" class="time">03:43</a></td></tr>
<tr id="t2015-12-02T03:44:03"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">Yes :-)</td><td class="time"><a href="#t2015-12-02T03:44:03" class="time">03:44</a></td></tr>
<tr id="t2015-12-02T03:44:10"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">ah - yes that might be it ;)</td><td class="time"><a href="#t2015-12-02T03:44:10" class="time">03:44</a></td></tr>
<tr id="t2015-12-02T03:44:10"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">Cut and pasted</td><td class="time"><a href="#t2015-12-02T03:44:10" class="time">03:44</a></td></tr>
<tr id="t2015-12-02T03:46:24"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">That was it. Seems to have worked, you are a splendid human being, thank you!</td><td class="time"><a href="#t2015-12-02T03:46:24" class="time">03:46</a></td></tr>
<tr id="t2015-12-02T03:46:47"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">(at least it seems find until I do a full clean rebuild and find something is broken...)</td><td class="time"><a href="#t2015-12-02T03:46:47" class="time">03:46</a></td></tr>
<tr id="t2015-12-02T03:50:41"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">glad I could help :)</td><td class="time"><a href="#t2015-12-02T03:50:41" class="time">03:50</a></td></tr>
<tr id="t2015-12-02T03:51:43"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">pevster: btw I didn't see your answer to my earlier question regarding your issues with building the image from sstate</td><td class="time"><a href="#t2015-12-02T03:51:43" class="time">03:51</a></td></tr>
<tr id="t2015-12-02T03:55:42"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">Ah yes - I haven't managed to get a concise summary of WTF im doing :-) I wrote the code ages ago and it's gone cold so need to re-read it to figure it out. The dd optimisation is a side excursion that cropped up along the way !</td><td class="time"><a href="#t2015-12-02T03:55:42" class="time">03:55</a></td></tr>
<tr id="t2015-12-02T03:55:51"><th class="nick" style="background: #407a40">pevster</th><td class="text" style="color: #407a40">s/get/write/</td><td class="time"><a href="#t2015-12-02T03:55:51" class="time">03:55</a></td></tr>
<tr id="t2015-12-02T03:58:56"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">the only thing I can think of is you're poking files into the sysroot (or other sstate-managed areas) with the result that the files aren't being properly saved and restored through sstate</td><td class="time"><a href="#t2015-12-02T03:58:56" class="time">03:58</a></td></tr>
<tr id="t2015-12-02T06:28:00"><td class="nickchange" colspan="2">*** ka6sox is now known as zz_ka6sox</td><td><a href="#t2015-12-02T06:28:00" class="time">06:28</a></td></tr>
<tr id="t2015-12-02T06:28:29"><td class="nickchange" colspan="2">*** zz_ka6sox is now known as Guest83896</td><td><a href="#t2015-12-02T06:28:29" class="time">06:28</a></td></tr>
<tr id="t2015-12-02T07:57:10"><td class="nickchange" colspan="2">*** jbrianceau_away is now known as jbrianceau</td><td><a href="#t2015-12-02T07:57:10" class="time">07:57</a></td></tr>
<tr id="t2015-12-02T08:56:41"><th class="nick" style="background: #818144">Ulfalizer</th><td class="text" style="color: #818144">somehow a directory named the same as the ${S} directory is created in ${D} after do_install(), causing do_package_qa() to fail. any ideas what might be going on? the do_install() comes from a custom bbclass that takes ipk packages as input and extracts them. i've confirmed that the directory does not exist at the end of do_install() (with an 'ls').</td><td class="time"><a href="#t2015-12-02T08:56:41" class="time">08:56</a></td></tr>
<tr id="t2015-12-02T08:57:41"><th class="nick" style="background: #818144">Ulfalizer</th><td class="text" style="color: #818144">the contents of ${D} look fine besides that directory too</td><td class="time"><a href="#t2015-12-02T08:57:41" class="time">08:57</a></td></tr>
<tr id="t2015-12-02T09:06:02"><th class="nick" style="background: #818144">Ulfalizer</th><td class="text" style="color: #818144">oh, and ${S} is used to point out the directory where the .ipk files reside</td><td class="time"><a href="#t2015-12-02T09:06:02" class="time">09:06</a></td></tr>
<tr id="t2015-12-02T09:25:12"><th class="nick" style="background: #854685">abelloni</th><td class="text" style="color: #854685">sgw_: btw, I updated my kernel and it works fine, thanks!</td><td class="time"><a href="#t2015-12-02T09:25:12" class="time">09:25</a></td></tr>
<tr id="t2015-12-02T09:26:13"><th class="nick" style="background: #854685">abelloni</th><td class="text" style="color: #854685">however, when probing gma500_gfx, it switches to a resolution that is not supported by my monitor so I've just blacklisted that module</td><td class="time"><a href="#t2015-12-02T09:26:13" class="time">09:26</a></td></tr>
<tr id="t2015-12-02T09:32:23"><td class="nickchange" colspan="2">*** bboozzoo_ is now known as bboozzoo</td><td><a href="#t2015-12-02T09:32:23" class="time">09:32</a></td></tr>
<tr id="t2015-12-02T10:06:16"><th class="nick" style="background: #488888">darkspike</th><td class="text" style="color: #488888">hi all</td><td class="time"><a href="#t2015-12-02T10:06:16" class="time">10:06</a></td></tr>
<tr id="t2015-12-02T10:06:17"><th class="nick" style="background: #488888">darkspike</th><td class="text" style="color: #488888">Is there a way to disable/mask systemd services centrally (in the image or local.conf) without using ROOTFS_POSTPROCESS_COMMAND to remove the links in rootfs ?</td><td class="time"><a href="#t2015-12-02T10:06:17" class="time">10:06</a></td></tr>
<tr id="t2015-12-02T10:07:46"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">SYSTEMD_AUTO_ENABLE_pn-somerecipe = "disable" in your local.conf might work</td><td class="time"><a href="#t2015-12-02T10:07:46" class="time">10:07</a></td></tr>
<tr id="t2015-12-02T10:10:18"><th class="nick" style="background: #488888">darkspike</th><td class="text" style="color: #488888">rburton: thank you very much !</td><td class="time"><a href="#t2015-12-02T10:10:18" class="time">10:10</a></td></tr>
<tr id="t2015-12-02T10:29:47"><th class="nick" style="background: #818144">Ulfalizer</th><td class="text" style="color: #818144">is do_package ever supposed to create things in ${D}</td><td class="time"><a href="#t2015-12-02T10:29:47" class="time">10:29</a></td></tr>
<tr id="t2015-12-02T10:29:48"><th class="nick" style="background: #818144">Ulfalizer</th><td class="text" style="color: #818144">?</td><td class="time"><a href="#t2015-12-02T10:29:48" class="time">10:29</a></td></tr>
<tr id="t2015-12-02T10:30:47"><th class="nick" style="background: #818144">Ulfalizer</th><td class="text" style="color: #818144">somehow it ends up creating a directory named the same as ${S}, which do_package_qa then barfs on</td><td class="time"><a href="#t2015-12-02T10:30:47" class="time">10:30</a></td></tr>
<tr id="t2015-12-02T10:32:43"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">Ulfalizer: sounds like your recipe is borked, can you share it?</td><td class="time"><a href="#t2015-12-02T10:32:43" class="time">10:32</a></td></tr>
<tr id="t2015-12-02T10:33:34"><th class="nick" style="background: #818144">Ulfalizer</th><td class="text" style="color: #818144">i'll see if i can reduce it</td><td class="time"><a href="#t2015-12-02T10:33:34" class="time">10:33</a></td></tr>
<tr id="t2015-12-02T10:36:18"><th class="nick" style="background: #818144">Ulfalizer</th><td class="text" style="color: #818144">it noexec's do_patch, do_configure, and do_compile, then does&nbsp;&nbsp; for ipk in "${WORKDIR}/${S}"/*.ipk; do ar p "$ipk" data.tar.gz | tar xz -C "${D}"; done&nbsp;&nbsp;in do_install, assuming S has been set up to point to a directory with IPK packages</td><td class="time"><a href="#t2015-12-02T10:36:18" class="time">10:36</a></td></tr>
<tr id="t2015-12-02T10:36:35"><th class="nick" style="background: #818144">Ulfalizer</th><td class="text" style="color: #818144">strangely it works if i use a custom variable instead of S</td><td class="time"><a href="#t2015-12-02T10:36:35" class="time">10:36</a></td></tr>
<tr id="t2015-12-02T10:37:12"><th class="nick" style="background: #818144">Ulfalizer</th><td class="text" style="color: #818144">after do_install, the contents of &lt;pkg&gt;/image look fine too. for some reason do_package creates a directory in it though.</td><td class="time"><a href="#t2015-12-02T10:37:12" class="time">10:37</a></td></tr>
<tr id="t2015-12-02T10:37:22"><th class="nick" style="background: #818144">Ulfalizer</th><td class="text" style="color: #818144">the contents of ${D} that is</td><td class="time"><a href="#t2015-12-02T10:37:22" class="time">10:37</a></td></tr>
<tr id="t2015-12-02T10:40:36"><th class="nick" style="background: #818144">Ulfalizer</th><td class="text" style="color: #818144">and yeah, i agree that it might be a slightly dubious thing to do :)</td><td class="time"><a href="#t2015-12-02T10:40:36" class="time">10:40</a></td></tr>
<tr id="t2015-12-02T10:51:14"><td class="other" colspan="2">-YoctoAutoBuilder- build #555 of eclipse-plugin-kepler is complete: Failure [failed Building Eclipse Plugin Publishing Artifacts]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/eclipse-plugin-kepler/builds/555" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/eclipse-plugin-kepler/builds/555</a></td><td><a href="#t2015-12-02T10:51:14" class="time">10:51</a></td></tr>
<tr id="t2015-12-02T10:55:06"><th class="nick" style="background: #4b904b">lufi</th><td class="text" style="color: #4b904b">Hi Guys</td><td class="time"><a href="#t2015-12-02T10:55:06" class="time">10:55</a></td></tr>
<tr id="t2015-12-02T10:55:56"><th class="nick" style="background: #4b904b">lufi</th><td class="text" style="color: #4b904b">which iso of yocto can emulate powerpc or cisco 4500 32 bit architecture</td><td class="time"><a href="#t2015-12-02T10:55:56" class="time">10:55</a></td></tr>
<tr id="t2015-12-02T10:56:12"><th class="nick" style="background: #4b904b">lufi</th><td class="text" style="color: #4b904b">*iso/image ?</td><td class="time"><a href="#t2015-12-02T10:56:12" class="time">10:56</a></td></tr>
<tr id="t2015-12-02T10:58:07"><th class="nick" style="background: #818144">Ulfalizer</th><td class="text" style="color: #818144">where do i find the default do_package implementation?</td><td class="time"><a href="#t2015-12-02T10:58:07" class="time">10:58</a></td></tr>
<tr id="t2015-12-02T11:02:38"><th class="nick" style="background: #818144">Ulfalizer</th><td class="text" style="color: #818144">oh, package.bbclass</td><td class="time"><a href="#t2015-12-02T11:02:38" class="time">11:02</a></td></tr>
<tr id="t2015-12-02T11:33:53"><th class="nick" style="background: #4d4d93">minipada</th><td class="text" style="color: #4d4d93">Hello, I am trying to compile f2c for ARM and in the Makefile, I have to execute a binary generated by the Makefile as follow: "./a.out &gt;arith.h" . An error is generated at this step saying "cannot execute binary file". Is there a way to</td><td class="time"><a href="#t2015-12-02T11:33:53" class="time">11:33</a></td></tr>
<tr id="t2015-12-02T11:33:59"><th class="nick" style="background: #4d4d93">minipada</th><td class="text" style="color: #4d4d93">use it ?</td><td class="time"><a href="#t2015-12-02T11:33:59" class="time">11:33</a></td></tr>
<tr id="t2015-12-02T11:53:19"><th class="nick" style="background: #97974f">jaeckel</th><td class="text" style="color: #97974f">I know it's not especially yocto related, but does someone of you know if the kernel supports the memmap parameter on ARM? it looks like it doesn't work for me</td><td class="time"><a href="#t2015-12-02T11:53:19" class="time">11:53</a></td></tr>
<tr id="t2015-12-02T12:02:34"><td class="part" colspan="2">*** raykinsella78 &lt;raykinsella78!rkinsell@nat/intel/x-uphqhssrnatjtbyh&gt; has left #yocto</td><td><a href="#t2015-12-02T12:02:34" class="time">12:02</a></td></tr>
<tr id="t2015-12-02T12:26:06"><td class="nickchange" colspan="2">*** j6V6t2 is now known as j6V6t</td><td><a href="#t2015-12-02T12:26:06" class="time">12:26</a></td></tr>
<tr id="t2015-12-02T12:48:33"><th class="nick" style="background: #854685">abelloni</th><td class="text" style="color: #854685">jaeckel: most of it is x86 only</td><td class="time"><a href="#t2015-12-02T12:48:33" class="time">12:48</a></td></tr>
<tr id="t2015-12-02T12:48:39"><th class="nick" style="background: #854685">abelloni</th><td class="text" style="color: #854685">see the documentation</td><td class="time"><a href="#t2015-12-02T12:48:39" class="time">12:48</a></td></tr>
<tr id="t2015-12-02T12:51:26"><th class="nick" style="background: #97974f">jaeckel</th><td class="text" style="color: #97974f">I already guessed so :(</td><td class="time"><a href="#t2015-12-02T12:51:26" class="time">12:51</a></td></tr>
<tr id="t2015-12-02T12:51:46"><th class="nick" style="background: #854685">abelloni</th><td class="text" style="color: #854685">tile and xtense also support a subset</td><td class="time"><a href="#t2015-12-02T12:51:46" class="time">12:51</a></td></tr>
<tr id="t2015-12-02T12:51:54"><th class="nick" style="background: #854685">abelloni</th><td class="text" style="color: #854685">xtensa</td><td class="time"><a href="#t2015-12-02T12:51:54" class="time">12:51</a></td></tr>
<tr id="t2015-12-02T12:52:54"><th class="nick" style="background: #854685">abelloni</th><td class="text" style="color: #854685">you probably don't need that anyway</td><td class="time"><a href="#t2015-12-02T12:52:54" class="time">12:52</a></td></tr>
<tr id="t2015-12-02T12:53:09"><th class="nick" style="background: #97974f">jaeckel</th><td class="text" style="color: #97974f">what do you mean?</td><td class="time"><a href="#t2015-12-02T12:53:09" class="time">12:53</a></td></tr>
<tr id="t2015-12-02T12:53:25"><th class="nick" style="background: #97974f">jaeckel</th><td class="text" style="color: #97974f">is there an alternative way to do the same?</td><td class="time"><a href="#t2015-12-02T12:53:25" class="time">12:53</a></td></tr>
<tr id="t2015-12-02T12:53:40"><th class="nick" style="background: #854685">abelloni</th><td class="text" style="color: #854685">what do you want to achieve exactly?</td><td class="time"><a href="#t2015-12-02T12:53:40" class="time">12:53</a></td></tr>
<tr id="t2015-12-02T12:54:13"><th class="nick" style="background: #97974f">jaeckel</th><td class="text" style="color: #97974f">reserve a memory region that it's not used by the kernel</td><td class="time"><a href="#t2015-12-02T12:54:13" class="time">12:54</a></td></tr>
<tr id="t2015-12-02T12:55:12"><th class="nick" style="background: #854685">abelloni</th><td class="text" style="color: #854685">did you have a look at cma?</td><td class="time"><a href="#t2015-12-02T12:55:12" class="time">12:55</a></td></tr>
<tr id="t2015-12-02T12:55:26"><th class="nick" style="background: #854685">abelloni</th><td class="text" style="color: #854685">this is probably what you want</td><td class="time"><a href="#t2015-12-02T12:55:26" class="time">12:55</a></td></tr>
<tr id="t2015-12-02T12:55:51"><th class="nick" style="background: #97974f">jaeckel</th><td class="text" style="color: #97974f">mh</td><td class="time"><a href="#t2015-12-02T12:55:51" class="time">12:55</a></td></tr>
<tr id="t2015-12-02T12:57:13"><th class="nick" style="background: #97974f">jaeckel</th><td class="text" style="color: #97974f">can I use that parameter to tell the kernel to not touch a specific memory region?</td><td class="time"><a href="#t2015-12-02T12:57:13" class="time">12:57</a></td></tr>
<tr id="t2015-12-02T12:58:12"><th class="nick" style="background: #97974f">jaeckel</th><td class="text" style="color: #97974f">I'm sharing memory with some other peripheral and I want to exclude that memory from the kernel</td><td class="time"><a href="#t2015-12-02T12:58:12" class="time">12:58</a></td></tr>
<tr id="t2015-12-02T13:00:17"><th class="nick" style="background: #854685">abelloni</th><td class="text" style="color: #854685">that is the point</td><td class="time"><a href="#t2015-12-02T13:00:17" class="time">13:00</a></td></tr>
<tr id="t2015-12-02T13:05:49"><th class="nick" style="background: #97974f">jaeckel</th><td class="text" style="color: #97974f">cool, looks like a possible solution</td><td class="time"><a href="#t2015-12-02T13:05:49" class="time">13:05</a></td></tr>
<tr id="t2015-12-02T13:07:01"><th class="nick" style="background: #97974f">jaeckel</th><td class="text" style="color: #97974f">thx</td><td class="time"><a href="#t2015-12-02T13:07:01" class="time">13:07</a></td></tr>
<tr id="t2015-12-02T14:00:10"><td class="nickchange" colspan="2">*** jonathanmaw_ is now known as jonathanmaw</td><td><a href="#t2015-12-02T14:00:10" class="time">14:00</a></td></tr>
<tr id="t2015-12-02T14:07:58"><td class="other" colspan="2">-YoctoAutoBuilder- build #545 of nightly-oecore is complete: Failure [failed Running Sanity Tests]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-oecore/builds/545" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-oecore/builds/545</a></td><td><a href="#t2015-12-02T14:07:58" class="time">14:07</a></td></tr>
<tr id="t2015-12-02T14:11:47"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">Hi All, I'm having an issue in yocto daisy -- I hope this is the right place to ask.</td><td class="time"><a href="#t2015-12-02T14:11:47" class="time">14:11</a></td></tr>
<tr id="t2015-12-02T14:15:11"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">I think this is a bbappend + state problem. Is it even valid to do two builds against the same sstate-cache with different layers where a bbappend is included in one set of layers and not in the other?</td><td class="time"><a href="#t2015-12-02T14:15:11" class="time">14:15</a></td></tr>
<tr id="t2015-12-02T14:16:11"><th class="nick" style="background: #539e9e">Crofton|work</th><td class="text" style="color: #539e9e">edbart1, there is a guy in #oe asking wic questions</td><td class="time"><a href="#t2015-12-02T14:16:11" class="time">14:16</a></td></tr>
<tr id="t2015-12-02T14:16:13"><td class="other" colspan="2">-YoctoAutoBuilder- build #547 of nightly-qa-systemd is complete: Failure [failed Running Sanity Tests_2]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-qa-systemd/builds/547" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-qa-systemd/builds/547</a></td><td><a href="#t2015-12-02T14:16:13" class="time">14:16</a></td></tr>
<tr id="t2015-12-02T14:17:57"><th class="nick" style="background: #a25555">edbart1</th><td class="text" style="color: #a25555">Crofton: thanks, I'll connect there.</td><td class="time"><a href="#t2015-12-02T14:17:57" class="time">14:17</a></td></tr>
<tr id="t2015-12-02T14:18:11"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">More specifically: I am doing builds with and without my layer included where my layer contains a bbappend of paxctl which overrides do_install. There are other recipes in my layer which will fail build if the do_install override isn't invoked. I've got these builds going in CI and sometimes I'll get failures. I'm sharing sstate but also running a shared pr service.</td><td class="time"><a href="#t2015-12-02T14:18:11" class="time">14:18</a></td></tr>
<tr id="t2015-12-02T15:51:59"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">bengardiner: sstate uses metadata checksumming. if the variables used by a task change, then the checksum changes, and that sstate won't be used. so there's nothing wrong with bbappend and sstate interaction whatsoever</td><td class="time"><a href="#t2015-12-02T15:51:59" class="time">15:51</a></td></tr>
<tr id="t2015-12-02T15:52:18"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">but you can use bitbake-dumpsig and bitbake-diffsigs to examine and compare the .sigdata/.siginfo files from your sstate cache or stamps dir</td><td class="time"><a href="#t2015-12-02T15:52:18" class="time">15:52</a></td></tr>
<tr id="t2015-12-02T16:14:25"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">thanks, kergoth.</td><td class="time"><a href="#t2015-12-02T16:14:25" class="time">16:14</a></td></tr>
<tr id="t2015-12-02T16:15:01"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">I change BBCLASSEXTEND, DEPENDS (and I even tried a hack to change PR) in the bbappend file</td><td class="time"><a href="#t2015-12-02T16:15:01" class="time">16:15</a></td></tr>
<tr id="t2015-12-02T16:15:33"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">so logically sstate shouldn't be blocking the rebuild. must be something else then?</td><td class="time"><a href="#t2015-12-02T16:15:33" class="time">16:15</a></td></tr>
<tr id="t2015-12-02T16:16:45"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i use a single sstate cache for tons of yocto versions, machines, distros, etc, there's no bad interaction, any changes invalidate/change the sstate, never reused when it shouldn't be</td><td class="time"><a href="#t2015-12-02T16:16:45" class="time">16:16</a></td></tr>
<tr id="t2015-12-02T16:16:57"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">now, the opposite it sometimes true, it rebuilds more than i want sometimes, but better that than the alternative</td><td class="time"><a href="#t2015-12-02T16:16:57" class="time">16:16</a></td></tr>
<tr id="t2015-12-02T16:17:07"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">so yes, its unlikely for that to be a problem</td><td class="time"><a href="#t2015-12-02T16:17:07" class="time">16:17</a></td></tr>
<tr id="t2015-12-02T16:17:28"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">if your bbappend isn't being applied, either your layer isn't enabled, your BBFILES in your layer.conf is incorrect, or the path to the bbappend doesn't match up with the BBFILES in the layer.conf</td><td class="time"><a href="#t2015-12-02T16:17:28" class="time">16:17</a></td></tr>
<tr id="t2015-12-02T16:17:37"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">bitbake-layers show-appends may be of use</td><td class="time"><a href="#t2015-12-02T16:17:37" class="time">16:17</a></td></tr>
<tr id="t2015-12-02T16:23:59"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">or the bbappend's version doesn't match the recipe version.</td><td class="time"><a href="#t2015-12-02T16:23:59" class="time">16:23</a></td></tr>
<tr id="t2015-12-02T16:25:14"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">good point. bitbake-layers show-appends will warn about that</td><td class="time"><a href="#t2015-12-02T16:25:14" class="time">16:25</a></td></tr>
<tr id="t2015-12-02T16:25:19"><th class="nick" style="background: #adad5b">pedroalvarez</th><td class="text" style="color: #adad5b">Hi! Is it possible to generate a rawdisk image using bitbake? My build has generated a ext3 rootfs and a kernels, but I wonder if yocto can put them together&nbsp;&nbsp;with a bootloader</td><td class="time"><a href="#t2015-12-02T16:25:19" class="time">16:25</a></td></tr>
<tr id="t2015-12-02T16:25:27"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">if an append exists for a non-preferred recipe but not a preferred recipe</td><td class="time"><a href="#t2015-12-02T16:25:27" class="time">16:25</a></td></tr>
<tr id="t2015-12-02T16:25:34"><th class="nick" style="background: #adad5b">pedroalvarez</th><td class="text" style="color: #adad5b">(for a x86 VM)</td><td class="time"><a href="#t2015-12-02T16:25:34" class="time">16:25</a></td></tr>
<tr id="t2015-12-02T16:25:37"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">"[...] it rebuilds more than I want sometimes [...]" -- that's interesting. Because I run the build jobs in parrallel in a CI server</td><td class="time"><a href="#t2015-12-02T16:25:37" class="time">16:25</a></td></tr>
<tr id="t2015-12-02T16:25:42"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">pedroalvarez: wic is the best tool for that</td><td class="time"><a href="#t2015-12-02T16:25:42" class="time">16:25</a></td></tr>
<tr id="t2015-12-02T16:26:21"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">all contributing to the sstate cache. maybe the build without the layer is winning the race to add to the cache</td><td class="time"><a href="#t2015-12-02T16:26:21" class="time">16:26</a></td></tr>
<tr id="t2015-12-02T16:26:40"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">no, that wouldn't make sense</td><td class="time"><a href="#t2015-12-02T16:26:40" class="time">16:26</a></td></tr>
<tr id="t2015-12-02T16:26:43"><th class="nick" style="background: #adad5b">pedroalvarez</th><td class="text" style="color: #adad5b">kergoth: thanks, I'll have a look</td><td class="time"><a href="#t2015-12-02T16:26:43" class="time">16:26</a></td></tr>
<tr id="t2015-12-02T16:26:51"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">again, if the append changes the metadata, it changes the checksum, and both builds will emit different sstates</td><td class="time"><a href="#t2015-12-02T16:26:51" class="time">16:26</a></td></tr>
<tr id="t2015-12-02T16:26:54"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">mario-goulart: thanks, I'll check for a warning about a missing bbappend target</td><td class="time"><a href="#t2015-12-02T16:26:54" class="time">16:26</a></td></tr>
<tr id="t2015-12-02T16:26:59"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">there's no race, they write entirely different filenames</td><td class="time"><a href="#t2015-12-02T16:26:59" class="time">16:26</a></td></tr>
<tr id="t2015-12-02T16:27:22"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">kergoth: ok then; I'm glad you're lending your expertise. Thank you again</td><td class="time"><a href="#t2015-12-02T16:27:22" class="time">16:27</a></td></tr>
<tr id="t2015-12-02T16:27:24"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">bengardiner: it errs on the side of caution. if recipe A is changed and recipes B and C depend on A, B and C will also be rebuilt after A is rebuilt. this is obviously needed to handle cases where e.g. the library ABI changes, but of course it also means a change to a comment in do_install will ripple outward through the dependency graph :)</td><td class="time"><a href="#t2015-12-02T16:27:24" class="time">16:27</a></td></tr>
<tr id="t2015-12-02T16:27:44"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">but better that than possibly risking brokenness due to using out of date stuff and not relinking</td><td class="time"><a href="#t2015-12-02T16:27:44" class="time">16:27</a></td></tr>
<tr id="t2015-12-02T16:28:07"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">makes sense</td><td class="time"><a href="#t2015-12-02T16:28:07" class="time">16:28</a></td></tr>
<tr id="t2015-12-02T16:28:14"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">ideally in the long term we'll be able to recognize when the output of a task hasn't changed when the input has, but to do that we'd need heuristic analysis of the output, or reproducible bit-by-bit builds</td><td class="time"><a href="#t2015-12-02T16:28:14" class="time">16:28</a></td></tr>
<tr id="t2015-12-02T16:28:18"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">"bitbake -DDD" can also be handy for debugging (you probably want to redirect the output to a file)</td><td class="time"><a href="#t2015-12-02T16:28:18" class="time">16:28</a></td></tr>
<tr id="t2015-12-02T16:29:28"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">ok -- so at least now I know I'm not attempting something that is flawed at the outset.</td><td class="time"><a href="#t2015-12-02T16:29:28" class="time">16:29</a></td></tr>
<tr id="t2015-12-02T16:30:29"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">I'm going to go have some lunch. I'll pop back and report if I find anything or not. Thanks for all your advice so far</td><td class="time"><a href="#t2015-12-02T16:30:29" class="time">16:30</a></td></tr>
<tr id="t2015-12-02T16:31:37"><th class="nick" style="background: #adad5b">pedroalvarez</th><td class="text" style="color: #adad5b">oh, good to see that sharing sstate dir for various builds works for people here</td><td class="time"><a href="#t2015-12-02T16:31:37" class="time">16:31</a></td></tr>
<tr id="t2015-12-02T16:31:59"><th class="nick" style="background: #adad5b">pedroalvarez</th><td class="text" style="color: #adad5b">I'm trying to create some CI pipelines and that was one of my ideas to try to save some time</td><td class="time"><a href="#t2015-12-02T16:31:59" class="time">16:31</a></td></tr>
<tr id="t2015-12-02T16:32:31"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">we use it for our incremental CI builds, a common sstate cache for both the automated builds and for use by the engineers</td><td class="time"><a href="#t2015-12-02T16:32:31" class="time">16:32</a></td></tr>
<tr id="t2015-12-02T16:32:40"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">then do periodic full builds from scratch</td><td class="time"><a href="#t2015-12-02T16:32:40" class="time">16:32</a></td></tr>
<tr id="t2015-12-02T16:32:52"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">much, much, *much* faster</td><td class="time"><a href="#t2015-12-02T16:32:52" class="time">16:32</a></td></tr>
<tr id="t2015-12-02T16:32:57"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">yup.. we do the same.. this is what we consider to be best practice..</td><td class="time"><a href="#t2015-12-02T16:32:57" class="time">16:32</a></td></tr>
<tr id="t2015-12-02T16:33:10"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">(with the understanding engineers don't HAVE to use the cache.. since it's juts that a cache)</td><td class="time"><a href="#t2015-12-02T16:33:10" class="time">16:33</a></td></tr>
<tr id="t2015-12-02T16:33:16"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">indeed</td><td class="time"><a href="#t2015-12-02T16:33:16" class="time">16:33</a></td></tr>
<tr id="t2015-12-02T16:33:32"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">it's so nice though, since the CI machines tend to bef aster than individual engineer workstations</td><td class="time"><a href="#t2015-12-02T16:33:32" class="time">16:33</a></td></tr>
<tr id="t2015-12-02T16:33:36"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">bootstraps progress on tasks</td><td class="time"><a href="#t2015-12-02T16:33:36" class="time">16:33</a></td></tr>
<tr id="t2015-12-02T16:33:48"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">naturally depends, but..</td><td class="time"><a href="#t2015-12-02T16:33:48" class="time">16:33</a></td></tr>
<tr id="t2015-12-02T16:34:04"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">How do you guys usually share the sstate cache?&nbsp;&nbsp;NFS?</td><td class="time"><a href="#t2015-12-02T16:34:04" class="time">16:34</a></td></tr>
<tr id="t2015-12-02T16:34:11"><th class="nick" style="background: #adad5b">pedroalvarez</th><td class="text" style="color: #adad5b">yeah, I was pondering how to share the sstate cache</td><td class="time"><a href="#t2015-12-02T16:34:11" class="time">16:34</a></td></tr>
<tr id="t2015-12-02T16:34:13"><th class="nick" style="background: #adad5b">pedroalvarez</th><td class="text" style="color: #adad5b">snap</td><td class="time"><a href="#t2015-12-02T16:34:13" class="time">16:34</a></td></tr>
<tr id="t2015-12-02T16:34:18"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">both NFS and http</td><td class="time"><a href="#t2015-12-02T16:34:18" class="time">16:34</a></td></tr>
<tr id="t2015-12-02T16:34:24"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">NFS for local users.. http for some special cases</td><td class="time"><a href="#t2015-12-02T16:34:24" class="time">16:34</a></td></tr>
<tr id="t2015-12-02T16:34:35"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">(http is MUCH slower, so it really is special cases)</td><td class="time"><a href="#t2015-12-02T16:34:35" class="time">16:34</a></td></tr>
<tr id="t2015-12-02T16:34:47"><th class="nick" style="background: #adad5b">pedroalvarez</th><td class="text" style="color: #adad5b">and does bitbake handles that or engineers have to fetch it themselves?</td><td class="time"><a href="#t2015-12-02T16:34:47" class="time">16:34</a></td></tr>
<tr id="t2015-12-02T16:34:59"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">it's automatic if the engineers has enble it</td><td class="time"><a href="#t2015-12-02T16:34:59" class="time">16:34</a></td></tr>
<tr id="t2015-12-02T16:35:20"><th class="nick" style="background: #adad5b">pedroalvarez</th><td class="text" style="color: #adad5b">oh, that's interesting</td><td class="time"><a href="#t2015-12-02T16:35:20" class="time">16:35</a></td></tr>
<tr id="t2015-12-02T16:35:38"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i think we're mostly using http, but we should switch to nfs</td><td class="time"><a href="#t2015-12-02T16:35:38" class="time">16:35</a></td></tr>
<tr id="t2015-12-02T16:35:48"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">pedroalvarez: just set SSTATE_MIRRORS appropriately</td><td class="time"><a href="#t2015-12-02T16:35:48" class="time">16:35</a></td></tr>
<tr id="t2015-12-02T16:35:49"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">NFS has reliability issues http doesn't</td><td class="time"><a href="#t2015-12-02T16:35:49" class="time">16:35</a></td></tr>
<tr id="t2015-12-02T16:36:03"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">thats why I said "local users"&nbsp;&nbsp;;)</td><td class="time"><a href="#t2015-12-02T16:36:03" class="time">16:36</a></td></tr>
<tr id="t2015-12-02T16:36:18"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">yeah, i wouldn't try using it over our vpn..</td><td class="time"><a href="#t2015-12-02T16:36:18" class="time">16:36</a></td></tr>
<tr id="t2015-12-02T16:36:21"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">:)</td><td class="time"><a href="#t2015-12-02T16:36:21" class="time">16:36</a></td></tr>
<tr id="t2015-12-02T16:36:25"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">Does anybody use distcc for building stuff with bitbake?</td><td class="time"><a href="#t2015-12-02T16:36:25" class="time">16:36</a></td></tr>
<tr id="t2015-12-02T16:36:34"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">people do it, but I always tell them don't..</td><td class="time"><a href="#t2015-12-02T16:36:34" class="time">16:36</a></td></tr>
<tr id="t2015-12-02T16:36:42"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">:-)</td><td class="time"><a href="#t2015-12-02T16:36:42" class="time">16:36</a></td></tr>
<tr id="t2015-12-02T16:36:48"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">often it takes longer time to use distcc then just compile and cache (sstate-cache)</td><td class="time"><a href="#t2015-12-02T16:36:48" class="time">16:36</a></td></tr>
<tr id="t2015-12-02T16:36:54"><th class="nick" style="background: #adad5b">pedroalvarez</th><td class="text" style="color: #adad5b">kergoth: noted, tvm</td><td class="time"><a href="#t2015-12-02T16:36:54" class="time">16:36</a></td></tr>
<tr id="t2015-12-02T16:36:59"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">ccache is another one I caution against..</td><td class="time"><a href="#t2015-12-02T16:36:59" class="time">16:36</a></td></tr>
<tr id="t2015-12-02T16:37:06"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">mario-goulart: i'm not sure you'd get all that much benefit since build paths change, binaries change when they're rebuilt, etc, but i know some folks do use it. same iwth icecc</td><td class="time"><a href="#t2015-12-02T16:37:06" class="time">16:37</a></td></tr>
<tr id="t2015-12-02T16:37:11"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">distcc is really only useful if you have a LOT of really slow computers with a fast network</td><td class="time"><a href="#t2015-12-02T16:37:11" class="time">16:37</a></td></tr>
<tr id="t2015-12-02T16:37:24"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">oh, i thought you said ccache, distcc might be okay, but the overhead is the problem</td><td class="time"><a href="#t2015-12-02T16:37:24" class="time">16:37</a></td></tr>
<tr id="t2015-12-02T16:37:25"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">yeah</td><td class="time"><a href="#t2015-12-02T16:37:25" class="time">16:37</a></td></tr>
<tr id="t2015-12-02T16:37:44"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">I suppose a low-latency network would be required.</td><td class="time"><a href="#t2015-12-02T16:37:44" class="time">16:37</a></td></tr>
<tr id="t2015-12-02T16:37:48"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">it'd be nice if bitbake could offload entire recipe builds, or task execution, rather than distributing at the per-compile/per-link level</td><td class="time"><a href="#t2015-12-02T16:37:48" class="time">16:37</a></td></tr>
<tr id="t2015-12-02T16:38:22"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">fray: man, i remember one time having a corrupt object in my ccache</td><td class="time"><a href="#t2015-12-02T16:38:22" class="time">16:38</a></td></tr>
<tr id="t2015-12-02T16:38:27"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">it was the last freaking place i thought to look</td><td class="time"><a href="#t2015-12-02T16:38:27" class="time">16:38</a></td></tr>
<tr id="t2015-12-02T16:38:29"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">wasted like 2 days</td><td class="time"><a href="#t2015-12-02T16:38:29" class="time">16:38</a></td></tr>
<tr id="t2015-12-02T16:38:46"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">ya, thats the downside of the cache....</td><td class="time"><a href="#t2015-12-02T16:38:46" class="time">16:38</a></td></tr>
<tr id="t2015-12-02T16:39:07"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">I think we're exposed to those problems more then typical developers..</td><td class="time"><a href="#t2015-12-02T16:39:07" class="time">16:39</a></td></tr>
<tr id="t2015-12-02T16:39:21"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">I rarely if ever see them when doing recipe work -- but when hacking ont he build system itself they're a lot more possible</td><td class="time"><a href="#t2015-12-02T16:39:21" class="time">16:39</a></td></tr>
<tr id="t2015-12-02T16:40:08"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">heh, only tangentally related, but i always have to remember to --no-setscene when i'm screwing around with non-checksummed elements of the build. imported python modules, bitbake itself..</td><td class="time"><a href="#t2015-12-02T16:40:08" class="time">16:40</a></td></tr>
<tr id="t2015-12-02T16:40:21"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">always wanted to get those bits checksummed too, but never got around to it</td><td class="time"><a href="#t2015-12-02T16:40:21" class="time">16:40</a></td></tr>
<tr id="t2015-12-02T16:40:29"><td class="part" colspan="2">*** aehs29 &lt;aehs29!~aehernan@134.134.137.71&gt; has left #yocto</td><td><a href="#t2015-12-02T16:40:29" class="time">16:40</a></td></tr>
<tr id="t2015-12-02T16:42:21"><th class="nick" style="background: #adad5b">pedroalvarez</th><td class="text" style="color: #adad5b">do you normally clean the build environment? I noticed that removing *src-build/tmp makes it "build" some things on the next run even if nothing changed</td><td class="time"><a href="#t2015-12-02T16:42:21" class="time">16:42</a></td></tr>
<tr id="t2015-12-02T16:42:46"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">So shared-shared-state :-) is the way to go for multi-seat environments?&nbsp;&nbsp;Here we have this "load distribution" problem.&nbsp;&nbsp;So far we've been investing in build servers, but that doesn't scale very well.</td><td class="time"><a href="#t2015-12-02T16:42:46" class="time">16:42</a></td></tr>
<tr id="t2015-12-02T16:43:18"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">pedroalvarez: that should not be the case. i wipe tmp and let things rebuild from sstate all the time and get full 100% reuse unless i modified something</td><td class="time"><a href="#t2015-12-02T16:43:18" class="time">16:43</a></td></tr>
<tr id="t2015-12-02T16:43:25"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">if your'e getting unexpected rebuilds, there are useful tools to diagnose</td><td class="time"><a href="#t2015-12-02T16:43:25" class="time">16:43</a></td></tr>
<tr id="t2015-12-02T16:43:51"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">bitbake -S printdiff ccore-image-base (or whatever target) is useful</td><td class="time"><a href="#t2015-12-02T16:43:51" class="time">16:43</a></td></tr>
<tr id="t2015-12-02T16:43:54"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">as is bitbake-diffsigs</td><td class="time"><a href="#t2015-12-02T16:43:54" class="time">16:43</a></td></tr>
<tr id="t2015-12-02T16:44:27"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">there's also bitbake-whatchanged, though i'm not sure if that's still working as well as it used to, iirc right now its method (changing STAMPS_DIR) actually changes checksums itself, cluttering up the output</td><td class="time"><a href="#t2015-12-02T16:44:27" class="time">16:44</a></td></tr>
<tr id="t2015-12-02T16:44:49"><th class="nick" style="background: #adad5b">pedroalvarez</th><td class="text" style="color: #adad5b">I quoted "build" because I'm not sure they are builds, and just putting things in place to generate rootfs, and so on</td><td class="time"><a href="#t2015-12-02T16:44:49" class="time">16:44</a></td></tr>
<tr id="t2015-12-02T16:45:13"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i've bee mostly leveraging bitbake -S printdiff occasionally overriding SSTATE_DIR to force it to use STAMPS_DIR sigdata to compare against</td><td class="time"><a href="#t2015-12-02T16:45:13" class="time">16:45</a></td></tr>
<tr id="t2015-12-02T16:45:22"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">pedroalvarez: you can always examine buildstats or tmp/stamps/ to see what tasks ran</td><td class="time"><a href="#t2015-12-02T16:45:22" class="time">16:45</a></td></tr>
<tr id="t2015-12-02T16:45:27"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">the _setscene variants are pulling from sstate</td><td class="time"><a href="#t2015-12-02T16:45:27" class="time">16:45</a></td></tr>
<tr id="t2015-12-02T16:45:36"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">the non-_setscene tasks are non-sstate</td><td class="time"><a href="#t2015-12-02T16:45:36" class="time">16:45</a></td></tr>
<tr id="t2015-12-02T16:46:00"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">I'd recommend adding INHERIT += "buildstats-summary"</td><td class="time"><a href="#t2015-12-02T16:46:00" class="time">16:46</a></td></tr>
<tr id="t2015-12-02T16:46:05"><th class="nick" style="background: #adad5b">pedroalvarez</th><td class="text" style="color: #adad5b">right</td><td class="time"><a href="#t2015-12-02T16:46:05" class="time">16:46</a></td></tr>
<tr id="t2015-12-02T16:46:12"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">which will tell you at the end of hte build how many tasks ran from sstate vs non</td><td class="time"><a href="#t2015-12-02T16:46:12" class="time">16:46</a></td></tr>
<tr id="t2015-12-02T16:46:15"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">really useful</td><td class="time"><a href="#t2015-12-02T16:46:15" class="time">16:46</a></td></tr>
<tr id="t2015-12-02T16:46:44"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">it does require buildstats, but i think thats inherited by default nowadays</td><td class="time"><a href="#t2015-12-02T16:46:44" class="time">16:46</a></td></tr>
<tr id="t2015-12-02T16:48:10"><td class="action" colspan="2">* pedroalvarez saves the conversation</td><td><a href="#t2015-12-02T16:48:10" class="time">16:48</a></td></tr>
<tr id="t2015-12-02T16:48:56"><td class="action" colspan="2">* kergoth wonders if the docs cover the available tools for diagnosing sstate reuse problems</td><td><a href="#t2015-12-02T16:48:56" class="time">16:48</a></td></tr>
<tr id="t2015-12-02T16:57:00"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">when all else fails.. use a bigger mallet..&nbsp;&nbsp;bitbake &lt;recipe&gt; -c cleansstate&nbsp;&nbsp;(and disable sstate cache mirrors)&nbsp;&nbsp;;)</td><td class="time"><a href="#t2015-12-02T16:57:00" class="time">16:57</a></td></tr>
<tr id="t2015-12-02T16:57:55"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">I like -C fetch for that, to avoid having to disable SSTATE_MIRRORS :) of course, then you need to -c clean first, so tradeoffs to both approaches</td><td class="time"><a href="#t2015-12-02T16:57:55" class="time">16:57</a></td></tr>
<tr id="t2015-12-02T16:58:23"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">I'd really like bitbake to know that clean should be done before everything else, so we could do things like bitbake foo:do_cleansstate foo</td><td class="time"><a href="#t2015-12-02T16:58:23" class="time">16:58</a></td></tr>
<tr id="t2015-12-02T17:01:02"><td class="action" colspan="2">* mario-goulart has a "rebake" shell function that does "bitbake -c cleansstate $@ &amp;&amp; bitbake $@"</td><td><a href="#t2015-12-02T17:01:02" class="time">17:01</a></td></tr>
<tr id="t2015-12-02T17:01:27"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">for the moments of despair. :-)</td><td class="time"><a href="#t2015-12-02T17:01:27" class="time">17:01</a></td></tr>
<tr id="t2015-12-02T17:03:57"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">gotta watch out for sstate mirrors, though. cleansstate won't prevent re-fetching it from a mirror and using that instead of building from scratch</td><td class="time"><a href="#t2015-12-02T17:03:57" class="time">17:03</a></td></tr>
<tr id="t2015-12-02T17:04:46"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">bitbake -c clean $@ &amp;&amp; bitbake -C fetch $@ will force the matter by "tainting" fetch, forcing the tasks after it to run regardless of the presence of sstates, mirror or otherwise</td><td class="time"><a href="#t2015-12-02T17:04:46" class="time">17:04</a></td></tr>
<tr id="t2015-12-02T17:05:03"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">of course, the downside to that is the stupid taint sticks around permanently even after the thing has been rebuilt once</td><td class="time"><a href="#t2015-12-02T17:05:03" class="time">17:05</a></td></tr>
<tr id="t2015-12-02T17:05:07"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">there's an open yocto issue for that</td><td class="time"><a href="#t2015-12-02T17:05:07" class="time">17:05</a></td></tr>
<tr id="t2015-12-02T17:05:10"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">Ah, I see.&nbsp;&nbsp;Good point.&nbsp;&nbsp;I only use a local sstate cache though.</td><td class="time"><a href="#t2015-12-02T17:05:10" class="time">17:05</a></td></tr>
<tr id="t2015-12-02T17:05:43"><td class="nickchange" colspan="2">*** georgem is now known as Guest24556</td><td><a href="#t2015-12-02T17:05:43" class="time">17:05</a></td></tr>
<tr id="t2015-12-02T17:05:43"><td class="nickchange" colspan="2">*** Pixionus is now known as Guest71950</td><td><a href="#t2015-12-02T17:05:43" class="time">17:05</a></td></tr>
<tr id="t2015-12-02T17:05:52"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">ah, fair enough</td><td class="time"><a href="#t2015-12-02T17:05:52" class="time">17:05</a></td></tr>
<tr id="t2015-12-02T17:06:22"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i always thought it'd be nice to have cleansstate inject a taint, but then there'd be no way to only clean and refetch an sstate archive :)</td><td class="time"><a href="#t2015-12-02T17:06:22" class="time">17:06</a></td></tr>
<tr id="t2015-12-02T17:06:31"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">so best to keep it explicit as is</td><td class="time"><a href="#t2015-12-02T17:06:31" class="time">17:06</a></td></tr>
<tr id="t2015-12-02T17:08:32"><td class="nickchange" colspan="2">*** Guest24556 is now known as georgem</td><td><a href="#t2015-12-02T17:08:32" class="time">17:08</a></td></tr>
<tr id="t2015-12-02T17:24:29"><td class="nickchange" colspan="2">*** jbrianceau is now known as jbrianceau_away</td><td><a href="#t2015-12-02T17:24:29" class="time">17:24</a></td></tr>
<tr id="t2015-12-02T17:36:22"><th class="nick" style="background: #5fb4b4">Matt____</th><td class="text" style="color: #5fb4b4">hi</td><td class="time"><a href="#t2015-12-02T17:36:22" class="time">17:36</a></td></tr>
<tr id="t2015-12-02T17:42:12"><th class="nick" style="background: #5fb4b4">Matt____</th><td class="text" style="color: #5fb4b4">is there any documentation/tutorial/whatever how to control which packages are included when building a toolchain with yocto? i need python 3.3 in the toolchain, but there is only python 2.7. both versions are included in the image, this part works fine. but the toolchain is a real mystery :(</td><td class="time"><a href="#t2015-12-02T17:42:12" class="time">17:42</a></td></tr>
<tr id="t2015-12-02T17:49:13"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">that depends on what method of building a toolchain you're using. whe using -c populate_sdk, the sdk contents hsould mirror the content of the image, but you can add additional host or target packages with TOOLCHAIN_HOST_TASK and TOOLCHAIN_TARGET_TASK</td><td class="time"><a href="#t2015-12-02T17:49:13" class="time">17:49</a></td></tr>
<tr id="t2015-12-02T17:49:27"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i.e. TOOLCHAIN_TARGET_TASK_append = " python3-dev" or whatever</td><td class="time"><a href="#t2015-12-02T17:49:27" class="time">17:49</a></td></tr>
<tr id="t2015-12-02T17:55:08"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">it would really be nice to automatically handle module imports for inline python</td><td class="time"><a href="#t2015-12-02T17:55:08" class="time">17:55</a></td></tr>
<tr id="t2015-12-02T17:55:19"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">quite often i have to split out a def'd function just so i can import something</td><td class="time"><a href="#t2015-12-02T17:55:19" class="time">17:55</a></td></tr>
<tr id="t2015-12-02T18:02:17"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">kergoth: wrt python, one thing that I was thinking is how to automatically determine runtime dependencies for python packages.&nbsp;&nbsp;I thought about inspecting the bytecode of installed files to find import commands (similarly to ldd for binary files).&nbsp;&nbsp;Do you know if something like that exists?</td><td class="time"><a href="#t2015-12-02T18:02:17" class="time">18:02</a></td></tr>
<tr id="t2015-12-02T18:02:27"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">mario-goulart: yes, and we already have it</td><td class="time"><a href="#t2015-12-02T18:02:27" class="time">18:02</a></td></tr>
<tr id="t2015-12-02T18:02:39"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">recipetool can create recipes, and it supports this python dependency analysis</td><td class="time"><a href="#t2015-12-02T18:02:39" class="time">18:02</a></td></tr>
<tr id="t2015-12-02T18:02:42"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">Oh, really?</td><td class="time"><a href="#t2015-12-02T18:02:42" class="time">18:02</a></td></tr>
<tr id="t2015-12-02T18:02:48"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">recipetool create -o - &lt;url to a tarball or scm&gt;</td><td class="time"><a href="#t2015-12-02T18:02:48" class="time">18:02</a></td></tr>
<tr id="t2015-12-02T18:02:48"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">Awesome.</td><td class="time"><a href="#t2015-12-02T18:02:48" class="time">18:02</a></td></tr>
<tr id="t2015-12-02T18:02:57"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">its useful even for existing recipes to validate our rdeps</td><td class="time"><a href="#t2015-12-02T18:02:57" class="time">18:02</a></td></tr>
<tr id="t2015-12-02T18:03:07"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i have a gist where i did this for all the existing python recipes</td><td class="time"><a href="#t2015-12-02T18:03:07" class="time">18:03</a></td></tr>
<tr id="t2015-12-02T18:03:12"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">the thing is, it always always requires manual review</td><td class="time"><a href="#t2015-12-02T18:03:12" class="time">18:03</a></td></tr>
<tr id="t2015-12-02T18:03:20"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">Excellent.&nbsp;&nbsp;Thanks for the hint.</td><td class="time"><a href="#t2015-12-02T18:03:20" class="time">18:03</a></td></tr>
<tr id="t2015-12-02T18:03:33"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">since its not perfect, it can pick up things which aren't actually right, or e.g. conditional deps aren't entirely handled.</td><td class="time"><a href="#t2015-12-02T18:03:33" class="time">18:03</a></td></tr>
<tr id="t2015-12-02T18:03:39"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i.e. a tree of try/catch ImportError</td><td class="time"><a href="#t2015-12-02T18:03:39" class="time">18:03</a></td></tr>
<tr id="t2015-12-02T18:03:47"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">it doesn't recognize this as a this or that or the other dep</td><td class="time"><a href="#t2015-12-02T18:03:47" class="time">18:03</a></td></tr>
<tr id="t2015-12-02T18:03:55"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">Ah, I see.&nbsp;&nbsp;Good point.</td><td class="time"><a href="#t2015-12-02T18:03:55" class="time">18:03</a></td></tr>
<tr id="t2015-12-02T18:04:05"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657"><a href="https://gist.github.com/kergoth/7ad4b5102b2a5fe3a956" rel="nofollow">https://gist.github.com/kergoth/7ad4b5102b2a5fe3a956</a> has the status of it and future plans</td><td class="time"><a href="#t2015-12-02T18:04:05" class="time">18:04</a></td></tr>
<tr id="t2015-12-02T18:04:33"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">Cool</td><td class="time"><a href="#t2015-12-02T18:04:33" class="time">18:04</a></td></tr>
<tr id="t2015-12-02T18:04:39"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657"><a href="https://gist.github.com/kergoth/7d2e9f6c7d0fd759d7f2" rel="nofollow">https://gist.github.com/kergoth/7d2e9f6c7d0fd759d7f2</a> is a script that uses recipetool create to identify potential missing rdeps in the available python recipes, along with example output from a while back</td><td class="time"><a href="#t2015-12-02T18:04:39" class="time">18:04</a></td></tr>
<tr id="t2015-12-02T18:04:58"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">it both parses setup.py for dep info and scans the code</td><td class="time"><a href="#t2015-12-02T18:04:58" class="time">18:04</a></td></tr>
<tr id="t2015-12-02T18:05:36"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">Very nice.</td><td class="time"><a href="#t2015-12-02T18:05:36" class="time">18:05</a></td></tr>
<tr id="t2015-12-02T18:06:01"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">it uses an external script to scan, btw, see scripts/pythondeps</td><td class="time"><a href="#t2015-12-02T18:06:01" class="time">18:06</a></td></tr>
<tr id="t2015-12-02T18:06:06"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">so it can be run external to oe for testing</td><td class="time"><a href="#t2015-12-02T18:06:06" class="time">18:06</a></td></tr>
<tr id="t2015-12-02T18:06:22"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">s/oe/recipetool/</td><td class="time"><a href="#t2015-12-02T18:06:22" class="time">18:06</a></td></tr>
<tr id="t2015-12-02T18:06:49"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">another thing it tends to pick up that might not be quite right is tests</td><td class="time"><a href="#t2015-12-02T18:06:49" class="time">18:06</a></td></tr>
<tr id="t2015-12-02T18:06:57"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">in some cases it'll scan the unit tests dir</td><td class="time"><a href="#t2015-12-02T18:06:57" class="time">18:06</a></td></tr>
<tr id="t2015-12-02T18:07:08"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">and pick up deps of the tests which of course aren't deps of the module/package itself..</td><td class="time"><a href="#t2015-12-02T18:07:08" class="time">18:07</a></td></tr>
<tr id="t2015-12-02T18:07:11"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">so keep that in mind</td><td class="time"><a href="#t2015-12-02T18:07:11" class="time">18:07</a></td></tr>
<tr id="t2015-12-02T18:07:22"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">i see.</td><td class="time"><a href="#t2015-12-02T18:07:22" class="time">18:07</a></td></tr>
<tr id="t2015-12-02T18:07:36"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">it tries to avoid this by using the specified package_dir from setup.py, but sometimes unit tests are under that</td><td class="time"><a href="#t2015-12-02T18:07:36" class="time">18:07</a></td></tr>
<tr id="t2015-12-02T18:08:05"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">setup.py scanning is limited by the fact that it can only pick up literal values, it can't run functions without worrying about side effects</td><td class="time"><a href="#t2015-12-02T18:08:05" class="time">18:08</a></td></tr>
<tr id="t2015-12-02T18:08:31"><td class="action" colspan="2">* kergoth was neck deep in this for way too long, it's messier than one might expect</td><td><a href="#t2015-12-02T18:08:31" class="time">18:08</a></td></tr>
<tr id="t2015-12-02T18:09:09"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">I see.&nbsp;&nbsp;We use a similar strategy for meta-chicken, but the metadata file for eggs is not "executable".</td><td class="time"><a href="#t2015-12-02T18:09:09" class="time">18:09</a></td></tr>
<tr id="t2015-12-02T18:09:50"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">For meta-chicken, all the recipes (more than 550 at the moment) are automatically generated by a script.</td><td class="time"><a href="#t2015-12-02T18:09:50" class="time">18:09</a></td></tr>
<tr id="t2015-12-02T18:09:58"><td class="nickchange" colspan="2">*** Amynka is now known as Amy_ko</td><td><a href="#t2015-12-02T18:09:58" class="time">18:09</a></td></tr>
<tr id="t2015-12-02T18:10:08"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">oh, that reminds me, it will use EGG-INFO if it exists too</td><td class="time"><a href="#t2015-12-02T18:10:08" class="time">18:10</a></td></tr>
<tr id="t2015-12-02T18:10:15"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">mario-goulart: oh, wow, that's quite interesting</td><td class="time"><a href="#t2015-12-02T18:10:15" class="time">18:10</a></td></tr>
<tr id="t2015-12-02T18:11:06"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657"><a href="https://gist.github.com/kergoth/c6b6e08fd24cdde8adc5" rel="nofollow">https://gist.github.com/kergoth/c6b6e08fd24cdde8adc5</a> might be interesting, it shows how the setup.py ast is transformed to extract all the literals and separate them from the bits we can't process without running it</td><td class="time"><a href="#t2015-12-02T18:11:06" class="time">18:11</a></td></tr>
<tr id="t2015-12-02T18:11:06"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">Yeah, the scriptability is quite handy to manage those recipes.</td><td class="time"><a href="#t2015-12-02T18:11:06" class="time">18:11</a></td></tr>
<tr id="t2015-12-02T18:11:57"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">sounds like it, never considered such an approach</td><td class="time"><a href="#t2015-12-02T18:11:57" class="time">18:11</a></td></tr>
<tr id="t2015-12-02T18:12:04"><th class="nick" style="background: #5fb4b4">Matt____</th><td class="text" style="color: #5fb4b4">kergoth, when i add TOOLCHAIN_HOST_TASK_append = " python3-dev " and TOOLCHAIN_TARGET_TASK_append = " python3-dev ", it fails: "ERROR: python3-dev not found in the base feeds (x86_64-nativesdk noarch any all)."</td><td class="time"><a href="#t2015-12-02T18:12:04" class="time">18:12</a></td></tr>
<tr id="t2015-12-02T18:17:16"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">kergoth: thanks for the gists and hints.&nbsp;&nbsp;Lots of nice ideas.</td><td class="time"><a href="#t2015-12-02T18:17:16" class="time">18:17</a></td></tr>
<tr id="t2015-12-02T18:39:05"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">Matt____: you can't add target packages to HOST_TASK</td><td class="time"><a href="#t2015-12-02T18:39:05" class="time">18:39</a></td></tr>
<tr id="t2015-12-02T18:39:15"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">Matt____: that's for host stuff, stuff that runs on the machine the sdk is installed on.</td><td class="time"><a href="#t2015-12-02T18:39:15" class="time">18:39</a></td></tr>
<tr id="t2015-12-02T18:39:18"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i..e nativesdk stuff</td><td class="time"><a href="#t2015-12-02T18:39:18" class="time">18:39</a></td></tr>
<tr id="t2015-12-02T18:39:30"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">mario-goulart: np. i'll have to take a look at meta-chicken :)</td><td class="time"><a href="#t2015-12-02T18:39:30" class="time">18:39</a></td></tr>
<tr id="t2015-12-02T18:40:27"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">:-)</td><td class="time"><a href="#t2015-12-02T18:40:27" class="time">18:40</a></td></tr>
<tr id="t2015-12-02T18:40:42"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">I really want to add ast pretty printing (ala astpp.py) to pprintpp one of these days</td><td class="time"><a href="#t2015-12-02T18:40:42" class="time">18:40</a></td></tr>
<tr id="t2015-12-02T18:41:06"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">currently you can pretty print ast nodes with that, or anything else with pprint/pprintpp, but nothing will do both at once</td><td class="time"><a href="#t2015-12-02T18:41:06" class="time">18:41</a></td></tr>
<tr id="t2015-12-02T18:51:50"><td class="nickchange" colspan="2">*** tewetwew is now known as Pixionus</td><td><a href="#t2015-12-02T18:51:50" class="time">18:51</a></td></tr>
<tr id="t2015-12-02T19:02:38"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">Hi kergoth, mario-goulart</td><td class="time"><a href="#t2015-12-02T19:02:38" class="time">19:02</a></td></tr>
<tr id="t2015-12-02T19:03:41"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">i've got a builddir now where the problem is happening (I can reproduce it locally). bitbake-layers show-appends tells me my bbappend for paxctl is getting picked-up</td><td class="time"><a href="#t2015-12-02T19:03:41" class="time">19:03</a></td></tr>
<tr id="t2015-12-02T19:08:42"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">I don't have a buildstats-summary.bbclass (b/c of daisy??) so I can't go down that avenue</td><td class="time"><a href="#t2015-12-02T19:08:42" class="time">19:08</a></td></tr>
<tr id="t2015-12-02T19:09:09"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">use bitbake -e paxctl to examine its metadata and make sure it's what you think it is</td><td class="time"><a href="#t2015-12-02T19:09:09" class="time">19:09</a></td></tr>
<tr id="t2015-12-02T19:12:18"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">Hi all, I need to change an existing machine configuration to use a different devicetree. Do I need to make a branch new machine file, or can I use like a bbappends?</td><td class="time"><a href="#t2015-12-02T19:12:18" class="time">19:12</a></td></tr>
<tr id="t2015-12-02T19:13:19"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">see the KERNEL_DEVICETREE variable. if the machine defines it with ?=, you could just set it in local.conf, otherwise you can use KERNEL_DEVICETREE_forcevariable. i think that variable is probably in the yocto reference manual, though haven't checked offhand</td><td class="time"><a href="#t2015-12-02T19:13:19" class="time">19:13</a></td></tr>
<tr id="t2015-12-02T19:13:59"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161"><a href="https://github.com/Xilinx/meta-xilinx/blob/master/conf/machine/zc706-zynq7.conf" rel="nofollow">https://github.com/Xilinx/meta-xilinx/blob/master/conf/machine/zc706-zynq7.conf</a> here's what I want to change.</td><td class="time"><a href="#t2015-12-02T19:13:59" class="time">19:13</a></td></tr>
<tr id="t2015-12-02T19:14:17"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">It's a conf, so I have my own custom layer I'm working on. I would add my devicetree files there and somehow have it point to that, but not sure.</td><td class="time"><a href="#t2015-12-02T19:14:17" class="time">19:14</a></td></tr>
<tr id="t2015-12-02T19:14:54"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">kergoth: yep. the do_install() in the -e output is what I'm expecting</td><td class="time"><a href="#t2015-12-02T19:14:54" class="time">19:14</a></td></tr>
<tr id="t2015-12-02T19:16:13"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">bengardiner: are you not sure it's being run the way you want? add 'exit 1' and bitbake the recipe and make sure it fails.</td><td class="time"><a href="#t2015-12-02T19:16:13" class="time">19:16</a></td></tr>
<tr id="t2015-12-02T19:16:40"><td class="action" colspan="2">* kergoth is unclear on what the problem is you're hitting</td><td><a href="#t2015-12-02T19:16:40" class="time">19:16</a></td></tr>
<tr id="t2015-12-02T19:17:06"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">kergoth: yep good point. all data points to the sstate-cache working properly. So I've gotta look elsewhere :)</td><td class="time"><a href="#t2015-12-02T19:17:06" class="time">19:17</a></td></tr>
<tr id="t2015-12-02T19:18:09"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">kratsg: a layer can't override something a machine is doing, under normal circumstances, it'd violate our orthogonal distro/machine/image axes and layering mechanism. you could add a config file to the layer and instruct the person using it to add the layer and include that config from their local.conf, or you could provide a custom machine that pulls in the other machine and modifies it and instruct users to set MACHINE to that. you can't bbappend a</td><td class="time"><a href="#t2015-12-02T19:18:09" class="time">19:18</a></td></tr>
<tr id="t2015-12-02T19:18:09"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657"> machine, only a recipe. that said, you could bbappend the kernel recipe and modify KERNEL_DEVICETREE there, so maybe that would do what you want</td><td class="time"><a href="#t2015-12-02T19:18:09" class="time">19:18</a></td></tr>
<tr id="t2015-12-02T19:18:14"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">really depends on your goals</td><td class="time"><a href="#t2015-12-02T19:18:14" class="time">19:18</a></td></tr>
<tr id="t2015-12-02T19:26:13"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">kergoth: thanks! So I tried making my own new machine: <a href="https://github.com/kratsg/meta-l1calo/blob/master/conf/machine/preprototype.conf" rel="nofollow">https://github.com/kratsg/meta-l1calo/blob/master/conf/machine/preprototype.conf</a></td><td class="time"><a href="#t2015-12-02T19:26:13" class="time">19:26</a></td></tr>
<tr id="t2015-12-02T19:27:00"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">kratsg: you could just do require conf/machine/zc706-zynq7.conf, and then add your tweaks after that</td><td class="time"><a href="#t2015-12-02T19:27:00" class="time">19:27</a></td></tr>
<tr id="t2015-12-02T19:27:03"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">But I get an error like "Nothing provides 'virtual/zynq7-platform-init'" which I think is because it's not seeing the meta-xilinx layer which has the original machine definition.</td><td class="time"><a href="#t2015-12-02T19:27:03" class="time">19:27</a></td></tr>
<tr id="t2015-12-02T19:27:03"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">instead of copying it</td><td class="time"><a href="#t2015-12-02T19:27:03" class="time">19:27</a></td></tr>
<tr id="t2015-12-02T19:27:13"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">then make your layer depend son meta-xilinx</td><td class="time"><a href="#t2015-12-02T19:27:13" class="time">19:27</a></td></tr>
<tr id="t2015-12-02T19:27:16"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">oh, really?</td><td class="time"><a href="#t2015-12-02T19:27:16" class="time">19:27</a></td></tr>
<tr id="t2015-12-02T19:27:18"><td class="action" colspan="2">* kergoth nods, that sounds accurate</td><td><a href="#t2015-12-02T19:27:18" class="time">19:27</a></td></tr>
<tr id="t2015-12-02T19:27:33"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">yeah, any relative include/require path will be found via BBPATH, which means it searches layers for it</td><td class="time"><a href="#t2015-12-02T19:27:33" class="time">19:27</a></td></tr>
<tr id="t2015-12-02T19:28:19"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">naturally there are other approaches you could take, thats one thing that's both nice and annoying about oe/yocto, always multiple ways to do things :)</td><td class="time"><a href="#t2015-12-02T19:28:19" class="time">19:28</a></td></tr>
<tr id="t2015-12-02T19:28:27"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">flexible, but also potentially confusing figuring out whats best</td><td class="time"><a href="#t2015-12-02T19:28:27" class="time">19:28</a></td></tr>
<tr id="t2015-12-02T19:28:36"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">often have to experiment and see what feels cleanest</td><td class="time"><a href="#t2015-12-02T19:28:36" class="time">19:28</a></td></tr>
<tr id="t2015-12-02T19:28:53"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">at mentor, we've done the new machine that builds on another machine approach a number of times in the past</td><td class="time"><a href="#t2015-12-02T19:28:53" class="time">19:28</a></td></tr>
<tr id="t2015-12-02T19:29:17"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">Ok, it makes more sense for me to do the `include` approach</td><td class="time"><a href="#t2015-12-02T19:29:17" class="time">19:29</a></td></tr>
<tr id="t2015-12-02T19:29:32"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">since I'd rather depend on meta-xilinx directly and only make the changes I need -- such as a custom devicetree</td><td class="time"><a href="#t2015-12-02T19:29:32" class="time">19:29</a></td></tr>
<tr id="t2015-12-02T19:30:09"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">One thing that I can't figure out is how to make sure it finds these things? EG: how do you ask for a list of machines that exist so you know your machine is parsed right?</td><td class="time"><a href="#t2015-12-02T19:30:09" class="time">19:30</a></td></tr>
<tr id="t2015-12-02T19:30:59"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">all thats needed to make a machine exist is create a conf/machine/ file and add that layer to your bblayers</td><td class="time"><a href="#t2015-12-02T19:30:59" class="time">19:30</a></td></tr>
<tr id="t2015-12-02T19:31:09"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">beyond that, set MACHINE=yourmachine and do a build :)</td><td class="time"><a href="#t2015-12-02T19:31:09" class="time">19:31</a></td></tr>
<tr id="t2015-12-02T19:31:18"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">Unfortunately, it's still complaining</td><td class="time"><a href="#t2015-12-02T19:31:18" class="time">19:31</a></td></tr>
<tr id="t2015-12-02T19:31:29"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">hmm</td><td class="time"><a href="#t2015-12-02T19:31:29" class="time">19:31</a></td></tr>
<tr id="t2015-12-02T19:31:32"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">oh, i bet i know what's wrong</td><td class="time"><a href="#t2015-12-02T19:31:32" class="time">19:31</a></td></tr>
<tr id="t2015-12-02T19:31:38"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">Could not find conf/machine/include/zc706-zynq7.conf</td><td class="time"><a href="#t2015-12-02T19:31:38" class="time">19:31</a></td></tr>
<tr id="t2015-12-02T19:31:49"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">it's something with dependency resolution for sure.</td><td class="time"><a href="#t2015-12-02T19:31:49" class="time">19:31</a></td></tr>
<tr id="t2015-12-02T19:32:26"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">add MACHINEOVERRIDES .= ":zc706-zynq7" to your machine config</td><td class="time"><a href="#t2015-12-02T19:32:26" class="time">19:32</a></td></tr>
<tr id="t2015-12-02T19:32:32"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">otherwise those overrides in recipes won't apply</td><td class="time"><a href="#t2015-12-02T19:32:32" class="time">19:32</a></td></tr>
<tr id="t2015-12-02T19:32:35"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">since the machine name is different</td><td class="time"><a href="#t2015-12-02T19:32:35" class="time">19:32</a></td></tr>
<tr id="t2015-12-02T19:32:45"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">forgot about that</td><td class="time"><a href="#t2015-12-02T19:32:45" class="time">19:32</a></td></tr>
<tr id="t2015-12-02T19:33:33"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161"><a href="https://github.com/kratsg/meta-l1calo/blob/master/conf/machine/preprototype.conf" rel="nofollow">https://github.com/kratsg/meta-l1calo/blob/master/conf/machine/preprototype.conf</a></td><td class="time"><a href="#t2015-12-02T19:33:33" class="time">19:33</a></td></tr>
<tr id="t2015-12-02T19:33:36"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">here's what I have so far</td><td class="time"><a href="#t2015-12-02T19:33:36" class="time">19:33</a></td></tr>
<tr id="t2015-12-02T19:34:09"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">"Could not include required file: conf/machine/include/zc706-zynq7.confg"</td><td class="time"><a href="#t2015-12-02T19:34:09" class="time">19:34</a></td></tr>
<tr id="t2015-12-02T19:34:35"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">I have meta-xilinx in my bblayers, and this is my layer.conf: <a href="https://github.com/kratsg/meta-l1calo/blob/master/conf/layer.conf" rel="nofollow">https://github.com/kratsg/meta-l1calo/blob/master/conf/layer.conf</a></td><td class="time"><a href="#t2015-12-02T19:34:35" class="time">19:34</a></td></tr>
<tr id="t2015-12-02T19:35:01"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">typo, confg</td><td class="time"><a href="#t2015-12-02T19:35:01" class="time">19:35</a></td></tr>
<tr id="t2015-12-02T19:35:17"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">Err, that's my typo. Sorry.</td><td class="time"><a href="#t2015-12-02T19:35:17" class="time">19:35</a></td></tr>
<tr id="t2015-12-02T19:35:21"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">It's "zynq7.conf"</td><td class="time"><a href="#t2015-12-02T19:35:21" class="time">19:35</a></td></tr>
<tr id="t2015-12-02T19:35:40"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">(I'm inside a VM so copy/pasting isn't trivial!)</td><td class="time"><a href="#t2015-12-02T19:35:40" class="time">19:35</a></td></tr>
<tr id="t2015-12-02T19:35:46"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">it's probably also not in conf/machine/include/ but conf/machine/</td><td class="time"><a href="#t2015-12-02T19:35:46" class="time">19:35</a></td></tr>
<tr id="t2015-12-02T19:35:50"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">but double check that</td><td class="time"><a href="#t2015-12-02T19:35:50" class="time">19:35</a></td></tr>
<tr id="t2015-12-02T19:35:55"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">the path has to be form the root of the layer</td><td class="time"><a href="#t2015-12-02T19:35:55" class="time">19:35</a></td></tr>
<tr id="t2015-12-02T19:36:45"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">Is meta-xilinx in BBLAYERS?</td><td class="time"><a href="#t2015-12-02T19:36:45" class="time">19:36</a></td></tr>
<tr id="t2015-12-02T19:36:45"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">D'oh. I see.</td><td class="time"><a href="#t2015-12-02T19:36:45" class="time">19:36</a></td></tr>
<tr id="t2015-12-02T19:36:51"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">Yeah, it is mario-goulart</td><td class="time"><a href="#t2015-12-02T19:36:51" class="time">19:36</a></td></tr>
<tr id="t2015-12-02T19:36:56"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">ok</td><td class="time"><a href="#t2015-12-02T19:36:56" class="time">19:36</a></td></tr>
<tr id="t2015-12-02T19:36:56"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">It looks like it parsed it now.</td><td class="time"><a href="#t2015-12-02T19:36:56" class="time">19:36</a></td></tr>
<tr id="t2015-12-02T19:37:18"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">Is there a way to ask for "is &lt;X&gt; an existing machine?"</td><td class="time"><a href="#t2015-12-02T19:37:18" class="time">19:37</a></td></tr>
<tr id="t2015-12-02T19:37:24"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">or list all machines or something?</td><td class="time"><a href="#t2015-12-02T19:37:24" class="time">19:37</a></td></tr>
<tr id="t2015-12-02T19:37:40"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">not really, bitbake doesn't consider machines magic</td><td class="time"><a href="#t2015-12-02T19:37:40" class="time">19:37</a></td></tr>
<tr id="t2015-12-02T19:37:47"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">bitbake.conf has a line: include conf/machine/${MACHINE}.conf</td><td class="time"><a href="#t2015-12-02T19:37:47" class="time">19:37</a></td></tr>
<tr id="t2015-12-02T19:37:53"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">that's what causes it to be pulled in</td><td class="time"><a href="#t2015-12-02T19:37:53" class="time">19:37</a></td></tr>
<tr id="t2015-12-02T19:37:59"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">it has no awareness of machines other than the one that's currently set</td><td class="time"><a href="#t2015-12-02T19:37:59" class="time">19:37</a></td></tr>
<tr id="t2015-12-02T19:38:09"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">you could script it yourself, of course</td><td class="time"><a href="#t2015-12-02T19:38:09" class="time">19:38</a></td></tr>
<tr id="t2015-12-02T19:38:13"><th class="nick" style="background: #5959a9">mario-goulart</th><td class="text" style="color: #5959a9">Usually find -path "*/conf/machine/*.conf" does the trick, assuming conventions.</td><td class="time"><a href="#t2015-12-02T19:38:13" class="time">19:38</a></td></tr>
<tr id="t2015-12-02T19:38:22"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">Oh, I see.</td><td class="time"><a href="#t2015-12-02T19:38:22" class="time">19:38</a></td></tr>
<tr id="t2015-12-02T19:38:47"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">Ok, so it looks like it's recompiling everything for this machine, even though I had already compiled it for zc706.</td><td class="time"><a href="#t2015-12-02T19:38:47" class="time">19:38</a></td></tr>
<tr id="t2015-12-02T19:38:55"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">I guess it's machine-by-machine, so it can't know the difference.</td><td class="time"><a href="#t2015-12-02T19:38:55" class="time">19:38</a></td></tr>
<tr id="t2015-12-02T19:39:02"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">i guess that's totally fine.</td><td class="time"><a href="#t2015-12-02T19:39:02" class="time">19:39</a></td></tr>
<tr id="t2015-12-02T19:39:11"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">some recipes are machine specific, not all are, though</td><td class="time"><a href="#t2015-12-02T19:39:11" class="time">19:39</a></td></tr>
<tr id="t2015-12-02T19:47:05"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">Side note: we noticed if the SD clock was set to &lt; 50 MHz, U-boot doesn't function properly. Is that a known thing?</td><td class="time"><a href="#t2015-12-02T19:47:05" class="time">19:47</a></td></tr>
<tr id="t2015-12-02T19:49:01"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">Oh, hrmm, the dts include failed</td><td class="time"><a href="#t2015-12-02T19:49:01" class="time">19:49</a></td></tr>
<tr id="t2015-12-02T19:49:19"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">Do I need to explicitly add all the dts files in the machine definition, for the dts files to find it?</td><td class="time"><a href="#t2015-12-02T19:49:19" class="time">19:49</a></td></tr>
<tr id="t2015-12-02T19:51:08"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">"Fatal Error: Could not open 'zynq-7000.dtsi': No such file or directory"</td><td class="time"><a href="#t2015-12-02T19:51:08" class="time">19:51</a></td></tr>
<tr id="t2015-12-02T19:51:34"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">i'm presuming it's because the .dts file references it via an include, but I don't have it in the MACHINE_DEVICETREE := list.</td><td class="time"><a href="#t2015-12-02T19:51:34" class="time">19:51</a></td></tr>
<tr id="t2015-12-02T20:03:57"><th class="nick" style="background: #5fb4b4">Matt____</th><td class="text" style="color: #5fb4b4">thank you very much, kergoth! with just TOOLCHAIN_TARGET_TASK_append = " python3-core " it seemed to work :-)</td><td class="time"><a href="#t2015-12-02T20:03:57" class="time">20:03</a></td></tr>
<tr id="t2015-12-02T20:04:03"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">np</td><td class="time"><a href="#t2015-12-02T20:04:03" class="time">20:04</a></td></tr>
<tr id="t2015-12-02T20:04:29"><th class="nick" style="background: #5fb4b4">Matt____</th><td class="text" style="color: #5fb4b4">~/QorIQ-SDK-V1.8-20150619-yocto/build_t4240rdb-64b_release/tmp/deploy/sdk$ find /opt/fsl-networking/QorIQ-SDK-V1.8/ -iname python3 /opt/fsl-networking/QorIQ-SDK-V1.8/sysroots/ppc64e6500-fsl-linux/usr/bin/python3 /opt/fsl-networking/QorIQ-SDK-V1.8/sysroots/ppc64e6500-fsl-linux/usr/src/debug/python3</td><td class="time"><a href="#t2015-12-02T20:04:29" class="time">20:04</a></td></tr>
<tr id="t2015-12-02T20:08:24"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">we're checking things now :) hopefully it should work!</td><td class="time"><a href="#t2015-12-02T20:08:24" class="time">20:08</a></td></tr>
<tr id="t2015-12-02T20:20:42"><td class="nickchange" colspan="2">*** Pixionus is now known as wheresnickheller</td><td><a href="#t2015-12-02T20:20:42" class="time">20:20</a></td></tr>
<tr id="t2015-12-02T20:21:15"><td class="nickchange" colspan="2">*** wheresnickheller is now known as notnotnickheller</td><td><a href="#t2015-12-02T20:21:15" class="time">20:21</a></td></tr>
<tr id="t2015-12-02T20:21:42"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">hi... I believe (now) that the problem is due to the paxctl command getting deployed to native sysroot when built, but not when retrieved from the cache. I must be writing the bbappend wrong</td><td class="time"><a href="#t2015-12-02T20:21:42" class="time">20:21</a></td></tr>
<tr id="t2015-12-02T20:21:58"><td class="nickchange" colspan="2">*** notnotnickheller is now known as realnamehere</td><td><a href="#t2015-12-02T20:21:58" class="time">20:21</a></td></tr>
<tr id="t2015-12-02T20:42:48"><td class="nickchange" colspan="2">*** realnamehere is now known as Pixionus</td><td><a href="#t2015-12-02T20:42:48" class="time">20:42</a></td></tr>
<tr id="t2015-12-02T20:53:43"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">kergoth: I had a missing FILES_${PN} in the bbappend *facepalm* -- so I added it, built. cleaned everything up and tried to rebuild (from sstate). same error again. paxctl-native isn't installing paxctl to the sysroot when coming from sstate</td><td class="time"><a href="#t2015-12-02T20:53:43" class="time">20:53</a></td></tr>
<tr id="t2015-12-02T20:54:32"><th class="nick" style="background: #9b519b">bengardiner</th><td class="text" style="color: #9b519b">I should just double-check my bbappend. Can anyone recommend the right bbappend to look at for adding native support to a recipe?</td><td class="time"><a href="#t2015-12-02T20:54:32" class="time">20:54</a></td></tr>
<tr id="t2015-12-02T21:17:39"><th class="nick" style="background: #b86161">kratsg</th><td class="text" style="color: #b86161">so, we tested everything. Seems like with the custom DTS, the ethernet isn't really working. Still need to figure out where along the line it's broken.</td><td class="time"><a href="#t2015-12-02T21:17:39" class="time">21:17</a></td></tr>
<tr id="t2015-12-02T22:02:14"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">RP: do we have documented the bitbake/oe-core compatibility breaks, so we know what's involved to try to use a newer bitbake with an older oe-core?</td><td class="time"><a href="#t2015-12-02T22:02:14" class="time">22:02</a></td></tr>
<tr id="t2015-12-02T22:02:18"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i'm guessing probably no</td><td class="time"><a href="#t2015-12-02T22:02:18" class="time">22:02</a></td></tr>
<tr id="t2015-12-02T22:17:38"><th class="nick" style="background: #62bb62">moto-timo</th><td class="text" style="color: #62bb62">Crofton|work: I wasn't trying to troll :)</td><td class="time"><a href="#t2015-12-02T22:17:38" class="time">22:17</a></td></tr>
<tr id="t2015-12-02T22:19:45"><th class="nick" style="background: #539e9e">Crofton|work</th><td class="text" style="color: #539e9e">moto-timo, you are fine</td><td class="time"><a href="#t2015-12-02T22:19:45" class="time">22:19</a></td></tr>
<tr id="t2015-12-02T22:26:43"><th class="nick" style="background: #6464bf">JaMa</th><td class="text" style="color: #6464bf">there are shitty days in America? Maybe you just need more guns :)</td><td class="time"><a href="#t2015-12-02T22:26:43" class="time">22:26</a></td></tr>
<tr id="t2015-12-02T22:28:42"><th class="nick" style="background: #6464bf">JaMa</th><td class="text" style="color: #6464bf">except in San Bernandino where they need fewer guns :/</td><td class="time"><a href="#t2015-12-02T22:28:42" class="time">22:28</a></td></tr>
<tr id="t2015-12-02T22:34:51"><th class="nick" style="background: #c3c366">RP</th><td class="text" style="color: #c3c366">kergoth: not officially, no</td><td class="time"><a href="#t2015-12-02T22:34:51" class="time">22:34</a></td></tr>
<tr id="t2015-12-02T22:35:06"><th class="nick" style="background: #62bb62">moto-timo</th><td class="text" style="color: #62bb62">We just need more mental health providers</td><td class="time"><a href="#t2015-12-02T22:35:06" class="time">22:35</a></td></tr>
<tr id="t2015-12-02T22:35:16"><th class="nick" style="background: #c3c366">RP</th><td class="text" style="color: #c3c366">kergoth: only really big one I'm aware of was the data store changes</td><td class="time"><a href="#t2015-12-02T22:35:16" class="time">22:35</a></td></tr>
<tr id="t2015-12-02T22:38:26"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">hmm, right</td><td class="time"><a href="#t2015-12-02T22:38:26" class="time">22:38</a></td></tr>
<tr id="t2015-12-02T22:41:30"><th class="nick" style="background: #539e9e">Crofton|work</th><td class="text" style="color: #539e9e">RP, kergoth I was just dreaming of the day that one version of bitbake worked across more than one release of meta-data</td><td class="time"><a href="#t2015-12-02T22:41:30" class="time">22:41</a></td></tr>
<tr id="t2015-12-02T22:42:10"><th class="nick" style="background: #539e9e">Crofton|work</th><td class="text" style="color: #539e9e">in the good news dept, my first pass at a minfest for people doinf sdr stuff seems to work (jethro based)</td><td class="time"><a href="#t2015-12-02T22:42:10" class="time">22:42</a></td></tr>
<tr id="t2015-12-02T22:42:44"><th class="nick" style="background: #539e9e">Crofton|work</th><td class="text" style="color: #539e9e">also, there is a special place in hell for the person that named a release after someone named close to the community manager</td><td class="time"><a href="#t2015-12-02T22:42:44" class="time">22:42</a></td></tr>
<tr id="t2015-12-02T22:43:22"><td class="action" colspan="2">* armpit got kicked out of hell</td><td><a href="#t2015-12-02T22:43:22" class="time">22:43</a></td></tr>
<tr id="t2015-12-02T22:43:44"><th class="nick" style="background: #539e9e">Crofton|work</th><td class="text" style="color: #539e9e">oops special level of hell</td><td class="time"><a href="#t2015-12-02T22:43:44" class="time">22:43</a></td></tr>
<tr id="t2015-12-02T22:43:51"><th class="nick" style="background: #539e9e">Crofton|work</th><td class="text" style="color: #539e9e"><a href="https://www.youtube.com/watch?v=vVgbX_YeK-s" rel="nofollow">https://www.youtube.com/watch?v=vVgbX_YeK-s</a></td><td class="time"><a href="#t2015-12-02T22:43:51" class="time">22:43</a></td></tr>
<tr id="t2015-12-02T22:43:52"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">lol</td><td class="time"><a href="#t2015-12-02T22:43:52" class="time">22:43</a></td></tr>
<tr id="t2015-12-02T23:11:50"><td class="part" colspan="2">*** aehs29 &lt;aehs29!~aehernan@134.134.139.77&gt; has left #yocto</td><td><a href="#t2015-12-02T23:11:50" class="time">23:11</a></td></tr>
<tr id="t2015-12-02T23:24:25"><td class="action" colspan="2">* moto-timo starts a petition to rename to JEFRO</td><td><a href="#t2015-12-02T23:24:25" class="time">23:24</a></td></tr>
<tr id="t2015-12-02T23:24:53"><th class="nick" style="background: #62bb62">moto-timo</th><td class="text" style="color: #62bb62">too late?</td><td class="time"><a href="#t2015-12-02T23:24:53" class="time">23:24</a></td></tr>
<tr id="t2015-12-02T23:24:55"><th class="nick" style="background: #62bb62">moto-timo</th><td class="text" style="color: #62bb62">lol</td><td class="time"><a href="#t2015-12-02T23:24:55" class="time">23:24</a></td></tr>
<tr id="t2015-12-02T23:26:13"><th class="nick" style="background: #62bb62">moto-timo</th><td class="text" style="color: #62bb62">I suppose it will get just as far as the petition to get Firefly back on the air</td><td class="time"><a href="#t2015-12-02T23:26:13" class="time">23:26</a></td></tr>
<tr id="t2015-12-02T23:26:28"><th class="nick" style="background: #62bb62">moto-timo</th><td class="text" style="color: #62bb62">Perhaps we can make a JEFRO movie</td><td class="time"><a href="#t2015-12-02T23:26:28" class="time">23:26</a></td></tr>
<tr id="t2015-12-02T23:26:38"><th class="nick" style="background: #539e9e">Crofton|work</th><td class="text" style="color: #539e9e">+1</td><td class="time"><a href="#t2015-12-02T23:26:38" class="time">23:26</a></td></tr>
<tr id="t2015-12-02T23:43:32"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">but then it would be spelt wrong to match the scheme</td><td class="time"><a href="#t2015-12-02T23:43:32" class="time">23:43</a></td></tr>
<tr id="t2015-12-02T23:43:41"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">which afaik, nobody has guessed yet</td><td class="time"><a href="#t2015-12-02T23:43:41" class="time">23:43</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2015-12-01.log.html">&#171; Tuesday, 2015-12-01</a> <a href="index.html">Index</a> <a href="%23yocto.2015-12-03.log.html">Thursday, 2015-12-03 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
