<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2015-09-04</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Friday, 2015-09-04</h1>
<div class="navigation"> <a href="%23yocto.2015-09-03.log.html">&#171; Thursday, 2015-09-03</a> <a href="index.html">Index</a> <a href="%23yocto.2015-09-05.log.html">Saturday, 2015-09-05 &#187;</a> </div>
<table class="irclog">
<tr id="t2015-09-04T00:59:56"><th class="nick" style="background: #407a40">aj_c</th><td class="text" style="color: #407a40"> paulg_: also silly me found this at the documentation <a href="http://docs.openembedded.ru/directories_installation.html" rel="nofollow">http://docs.openembedded.ru/directories_installation.html</a></td><td class="time"><a href="#t2015-09-04T00:59:56" class="time">00:59</a></td></tr>
<tr id="t2015-09-04T01:50:32"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">...</td><td class="time"><a href="#t2015-09-04T01:50:32" class="time">01:50</a></td></tr>
<tr id="t2015-09-04T01:50:41"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">So it turns out, I now know why the opkg problem never showed up when I was running my tests.</td><td class="time"><a href="#t2015-09-04T01:50:41" class="time">01:50</a></td></tr>
<tr id="t2015-09-04T01:50:53"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">Because it doesn't show up with opkg 0.2.4, and the uprev of 0.3.0 showed up on September 1st.</td><td class="time"><a href="#t2015-09-04T01:50:53" class="time">01:50</a></td></tr>
<tr id="t2015-09-04T01:51:08"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">Yay, mystery solved.</td><td class="time"><a href="#t2015-09-04T01:51:08" class="time">01:51</a></td></tr>
<tr id="t2015-09-04T03:48:49"><th class="nick" style="background: #818144">nerdboy</th><td class="text" style="color: #818144">seebs: guinness with your cookie?</td><td class="time"><a href="#t2015-09-04T03:48:49" class="time">03:48</a></td></tr>
<tr id="t2015-09-04T03:49:22"><th class="nick" style="background: #818144">nerdboy</th><td class="text" style="color: #818144">seebs: maybe an Airplane! joke is in there somewhere...</td><td class="time"><a href="#t2015-09-04T03:49:22" class="time">03:49</a></td></tr>
<tr id="t2015-09-04T03:50:06"><th class="nick" style="background: #818144">nerdboy</th><td class="text" style="color: #818144">(technically 5 or 6 but who's counting)</td><td class="time"><a href="#t2015-09-04T03:50:06" class="time">03:50</a></td></tr>
<tr id="t2015-09-04T06:59:20"><td class="nickchange" colspan="2">*** jbrianceau_away is now known as jbrianceau</td><td><a href="#t2015-09-04T06:59:20" class="time">06:59</a></td></tr>
<tr id="t2015-09-04T07:39:22"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2015-09-04T07:39:22" class="time">07:39</a></td></tr>
<tr id="t2015-09-04T08:00:31"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2015-09-04T08:00:31" class="time">08:00</a></td></tr>
<tr id="t2015-09-04T08:00:37"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">good morning</td><td class="time"><a href="#t2015-09-04T08:00:37" class="time">08:00</a></td></tr>
<tr id="t2015-09-04T08:04:53"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">morning all</td><td class="time"><a href="#t2015-09-04T08:04:53" class="time">08:04</a></td></tr>
<tr id="t2015-09-04T09:37:36"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">hi guys</td><td class="time"><a href="#t2015-09-04T09:37:36" class="time">09:37</a></td></tr>
<tr id="t2015-09-04T09:48:59"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">hi drou</td><td class="time"><a href="#t2015-09-04T09:48:59" class="time">09:48</a></td></tr>
<tr id="t2015-09-04T10:22:13"><th class="nick" style="background: #4b904b">lpapp</th><td class="text" style="color: #4b904b">good morning</td><td class="time"><a href="#t2015-09-04T10:22:13" class="time">10:22</a></td></tr>
<tr id="t2015-09-04T10:22:23"><th class="nick" style="background: #4b904b">lpapp</th><td class="text" style="color: #4b904b">I can see this in the manual about the post installation scripts: "</td><td class="time"><a href="#t2015-09-04T10:22:23" class="time">10:22</a></td></tr>
<tr id="t2015-09-04T10:22:24"><th class="nick" style="background: #4b904b">lpapp</th><td class="text" style="color: #4b904b">The script defined in the post-installation function is called when the root filesystem is created. If the script succeeds, the package is marked as installed. If the script fails, the package is marked as unpacked and the script is executed when the image boots again. "</td><td class="time"><a href="#t2015-09-04T10:22:24" class="time">10:22</a></td></tr>
<tr id="t2015-09-04T10:22:41"><th class="nick" style="background: #4b904b">lpapp</th><td class="text" style="color: #4b904b">I thought it was running once the package is installed, which can happen later than putting it into the image</td><td class="time"><a href="#t2015-09-04T10:22:41" class="time">10:22</a></td></tr>
<tr id="t2015-09-04T10:23:10"><th class="nick" style="background: #4b904b">lpapp</th><td class="text" style="color: #4b904b">so this description confuses me a bit. Is this bad expectation not to always be like that depending on whether the package is part of the image?</td><td class="time"><a href="#t2015-09-04T10:23:10" class="time">10:23</a></td></tr>
<tr id="t2015-09-04T10:27:10"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">Interesting, so, it sounds like the post install script gets another chance to got do its' work?&nbsp;&nbsp;I wonder why they did it that way, rather than ERROR out the building of the image?</td><td class="time"><a href="#t2015-09-04T10:27:10" class="time">10:27</a></td></tr>
<tr id="t2015-09-04T10:28:32"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">lpapp: very early in the morning for the others to appear on the channel.&nbsp;&nbsp;try asking again in another two hours?</td><td class="time"><a href="#t2015-09-04T10:28:32" class="time">10:28</a></td></tr>
<tr id="t2015-09-04T10:30:11"><th class="nick" style="background: #4b904b">lpapp</th><td class="text" style="color: #4b904b">bluelightning is here, so what can go wrong? ;-)</td><td class="time"><a href="#t2015-09-04T10:30:11" class="time">10:30</a></td></tr>
<tr id="t2015-09-04T10:30:30"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">heh</td><td class="time"><a href="#t2015-09-04T10:30:30" class="time">10:30</a></td></tr>
<tr id="t2015-09-04T10:30:56"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">so he is, maybe still getting coffee?</td><td class="time"><a href="#t2015-09-04T10:30:56" class="time">10:30</a></td></tr>
<tr id="t2015-09-04T10:30:57"><th class="nick" style="background: #4b904b">lpapp</th><td class="text" style="color: #4b904b">but yes, it is almost noon, and still early for me :)</td><td class="time"><a href="#t2015-09-04T10:30:57" class="time">10:30</a></td></tr>
<tr id="t2015-09-04T10:31:21"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">UTC-4</td><td class="time"><a href="#t2015-09-04T10:31:21" class="time">10:31</a></td></tr>
<tr id="t2015-09-04T10:31:55"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">I am here...</td><td class="time"><a href="#t2015-09-04T10:31:55" class="time">10:31</a></td></tr>
<tr id="t2015-09-04T10:32:06"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">bluelightning: really?</td><td class="time"><a href="#t2015-09-04T10:32:06" class="time">10:32</a></td></tr>
<tr id="t2015-09-04T10:32:31"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">T0mW: a while ago we had a large number of scripts that simply would not execute on the host (e.g. ones that require doing something specific to the target arch)</td><td class="time"><a href="#t2015-09-04T10:32:31" class="time">10:32</a></td></tr>
<tr id="t2015-09-04T10:32:44"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">we have mechanisms to handle most of those now though</td><td class="time"><a href="#t2015-09-04T10:32:44" class="time">10:32</a></td></tr>
<tr id="t2015-09-04T10:33:00"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">ah, ok</td><td class="time"><a href="#t2015-09-04T10:33:00" class="time">10:33</a></td></tr>
<tr id="t2015-09-04T10:33:32"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">FWIW if you're building an image with read-only-rootfs in IMAGE_FEATURES it will error out in that case, because there won't be a chance to run it on first boot</td><td class="time"><a href="#t2015-09-04T10:33:32" class="time">10:33</a></td></tr>
<tr id="t2015-09-04T10:33:56"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">bluelightning: like Larry Wall said, when you invent your own language (sic) you can do what you want.</td><td class="time"><a href="#t2015-09-04T10:33:56" class="time">10:33</a></td></tr>
<tr id="t2015-09-04T10:34:22"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">well, I'd like to think we do what makes sense for the majority of use cases ;)</td><td class="time"><a href="#t2015-09-04T10:34:22" class="time">10:34</a></td></tr>
<tr id="t2015-09-04T10:34:40"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">bluelightning: there are always tradeoffs.</td><td class="time"><a href="#t2015-09-04T10:34:40" class="time">10:34</a></td></tr>
<tr id="t2015-09-04T10:34:48"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">postinstall script execution on package install is the package manager's responsibility rather than ours directly</td><td class="time"><a href="#t2015-09-04T10:34:48" class="time">10:34</a></td></tr>
<tr id="t2015-09-04T10:35:18"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">(when building the image / on first boot, we are more directly involved though)</td><td class="time"><a href="#t2015-09-04T10:35:18" class="time">10:35</a></td></tr>
<tr id="t2015-09-04T10:36:00"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">I always check to ensure my recipes / changes are propagated into the image. np</td><td class="time"><a href="#t2015-09-04T10:36:00" class="time">10:36</a></td></tr>
<tr id="t2015-09-04T10:36:23"><th class="nick" style="background: #4b904b">lpapp</th><td class="text" style="color: #4b904b">ok, so it ought to work as per expectation for package installation, too?</td><td class="time"><a href="#t2015-09-04T10:36:23" class="time">10:36</a></td></tr>
<tr id="t2015-09-04T10:36:41"><th class="nick" style="background: #4b904b">lpapp</th><td class="text" style="color: #4b904b">I.e. if I say ls /tmp, it will list the files in that directory when I install the package using pkg list foo?</td><td class="time"><a href="#t2015-09-04T10:36:41" class="time">10:36</a></td></tr>
<tr id="t2015-09-04T10:36:43"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">well, next Friday, I'll be looking for work.&nbsp;&nbsp;getting RIF'ed.</td><td class="time"><a href="#t2015-09-04T10:36:43" class="time">10:36</a></td></tr>
<tr id="t2015-09-04T10:37:17"><th class="nick" style="background: #4b904b">lpapp</th><td class="text" style="color: #4b904b">sorry to hear that.</td><td class="time"><a href="#t2015-09-04T10:37:17" class="time">10:37</a></td></tr>
<tr id="t2015-09-04T10:38:54"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">it was a good job, worked from home on an interesting project, learned lots of new stuff.</td><td class="time"><a href="#t2015-09-04T10:38:54" class="time">10:38</a></td></tr>
<tr id="t2015-09-04T10:40:45"><th class="nick" style="background: #4b904b">lpapp</th><td class="text" style="color: #4b904b">yeah, and new challenges are also cool</td><td class="time"><a href="#t2015-09-04T10:40:45" class="time">10:40</a></td></tr>
<tr id="t2015-09-04T10:42:08"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">T0mW: sorry to hear that, best of luck with finding something new</td><td class="time"><a href="#t2015-09-04T10:42:08" class="time">10:42</a></td></tr>
<tr id="t2015-09-04T10:42:15"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">lpapp: yes</td><td class="time"><a href="#t2015-09-04T10:42:15" class="time">10:42</a></td></tr>
<tr id="t2015-09-04T10:42:37"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">looks like all the Yocto work is on the west coast, but, time for change.</td><td class="time"><a href="#t2015-09-04T10:42:37" class="time">10:42</a></td></tr>
<tr id="t2015-09-04T10:44:10"><th class="nick" style="background: #4b904b">lpapp</th><td class="text" style="color: #4b904b">bluelightning: ah, ok, great.</td><td class="time"><a href="#t2015-09-04T10:44:10" class="time">10:44</a></td></tr>
<tr id="t2015-09-04T10:44:13"><th class="nick" style="background: #4b904b">lpapp</th><td class="text" style="color: #4b904b">bluelightning: thanks.</td><td class="time"><a href="#t2015-09-04T10:44:13" class="time">10:44</a></td></tr>
<tr id="t2015-09-04T10:44:39"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">does anyone know if there is any way to have a splash screen before starting the desktop manager ? to avoid all kernel messages and so on</td><td class="time"><a href="#t2015-09-04T10:44:39" class="time">10:44</a></td></tr>
<tr id="t2015-09-04T10:44:55"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">psplash</td><td class="time"><a href="#t2015-09-04T10:44:55" class="time">10:44</a></td></tr>
<tr id="t2015-09-04T10:46:21"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">drou: iirc, set kernel cmd line to include 'quiet loglevel=3'</td><td class="time"><a href="#t2015-09-04T10:46:21" class="time">10:46</a></td></tr>
<tr id="t2015-09-04T10:47:40"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">you get a small amount of text when the bootloader passes control the kernel, then psplash takes over.</td><td class="time"><a href="#t2015-09-04T10:47:40" class="time">10:47</a></td></tr>
<tr id="t2015-09-04T10:48:29"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">psplash looks good to me.</td><td class="time"><a href="#t2015-09-04T10:48:29" class="time">10:48</a></td></tr>
<tr id="t2015-09-04T10:48:31"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">if you have "splash" in IMAGE_FEATURES that should bring the psplash package in , or you could do it in IMAGE_INSTALL</td><td class="time"><a href="#t2015-09-04T10:48:31" class="time">10:48</a></td></tr>
<tr id="t2015-09-04T10:48:51"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">alright thanks</td><td class="time"><a href="#t2015-09-04T10:48:51" class="time">10:48</a></td></tr>
<tr id="t2015-09-04T10:50:15"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">drou: if you need help customizing the splash image, contact me?</td><td class="time"><a href="#t2015-09-04T10:50:15" class="time">10:50</a></td></tr>
<tr id="t2015-09-04T10:50:39"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">sure, thanks</td><td class="time"><a href="#t2015-09-04T10:50:39" class="time">10:50</a></td></tr>
<tr id="t2015-09-04T10:50:50"><td class="part" colspan="2">*** lpapp &lt;lpapp!~lpapp@kde/lpapp&gt; has left #yocto</td><td><a href="#t2015-09-04T10:50:50" class="time">10:50</a></td></tr>
<tr id="t2015-09-04T11:12:05"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">T0mW: is there a way to add a splash image before the desktop manager is started ? i'm using grub.</td><td class="time"><a href="#t2015-09-04T11:12:05" class="time">11:12</a></td></tr>
<tr id="t2015-09-04T11:12:35"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">after the desktop manager is started, i have a blank screen for about 5 secs</td><td class="time"><a href="#t2015-09-04T11:12:35" class="time">11:12</a></td></tr>
<tr id="t2015-09-04T11:14:09"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">I'm using u-boot and splashing the screen from there on wakeup. then, u-boot passes control the kernel where psplash starts early from init, there is a black screen for about 1..2 seconds while matchbox starts before the desktop appears.</td><td class="time"><a href="#t2015-09-04T11:14:09" class="time">11:14</a></td></tr>
<tr id="t2015-09-04T11:14:33"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">I still get text on reboot / shutdown showing when X terminates though.</td><td class="time"><a href="#t2015-09-04T11:14:33" class="time">11:14</a></td></tr>
<tr id="t2015-09-04T11:14:50"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">well ok, but my first target is x86 tbh</td><td class="time"><a href="#t2015-09-04T11:14:50" class="time">11:14</a></td></tr>
<tr id="t2015-09-04T11:15:02"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">ARM cortex here.</td><td class="time"><a href="#t2015-09-04T11:15:02" class="time">11:15</a></td></tr>
<tr id="t2015-09-04T11:16:04"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">The desktop version of the project is something I was playing with and did not have time to really fine-tune it before I got the word I was being laid off.</td><td class="time"><a href="#t2015-09-04T11:16:04" class="time">11:16</a></td></tr>
<tr id="t2015-09-04T11:16:24"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">it ran a turn-key app.</td><td class="time"><a href="#t2015-09-04T11:16:24" class="time">11:16</a></td></tr>
<tr id="t2015-09-04T11:17:07"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">matchbox ran a the app on starttup without a "desktop"</td><td class="time"><a href="#t2015-09-04T11:17:07" class="time">11:17</a></td></tr>
<tr id="t2015-09-04T11:18:08"><th class="nick" style="background: #97974f">CTtpollard</th><td class="text" style="color: #97974f">can anyone recommend a yocto book?</td><td class="time"><a href="#t2015-09-04T11:18:08" class="time">11:18</a></td></tr>
<tr id="t2015-09-04T11:20:24"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">i'm using openbox. anyways, is there a something that explains the psplash parameters ?</td><td class="time"><a href="#t2015-09-04T11:20:24" class="time">11:20</a></td></tr>
<tr id="t2015-09-04T11:20:30"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">INITSCRIPT_PARAMS = "start 0 S . stop 20 0 1 6 ."</td><td class="time"><a href="#t2015-09-04T11:20:30" class="time">11:20</a></td></tr>
<tr id="t2015-09-04T11:21:59"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">that would be the sysvinit runlevels and ordering.</td><td class="time"><a href="#t2015-09-04T11:21:59" class="time">11:21</a></td></tr>
<tr id="t2015-09-04T11:23:35"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">"start 0 S' would be /etc/rcS.d (startup) S00psplash, so, it runs as the first item in the startup list.</td><td class="time"><a href="#t2015-09-04T11:23:35" class="time">11:23</a></td></tr>
<tr id="t2015-09-04T11:25:42"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">"stop 20 0 1 6" is killed as 20th step when entering runlevels 0 (halt), 1 (single user), or 6 (reboot).</td><td class="time"><a href="#t2015-09-04T11:25:42" class="time">11:25</a></td></tr>
<tr id="t2015-09-04T11:27:21"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">killed is a misnomer, it doesn't kill itself, if you look at the /etc/init.d/psplash script, it only "runs", it doesn't look to see what method to run as (Start / Killed).</td><td class="time"><a href="#t2015-09-04T11:27:21" class="time">11:27</a></td></tr>
<tr id="t2015-09-04T11:31:06"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">what I like about psplash is that it shows some graphic during the boot process and shows the user a boot progress bar that informs them of the booting activity</td><td class="time"><a href="#t2015-09-04T11:31:06" class="time">11:31</a></td></tr>
<tr id="t2015-09-04T11:31:58"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">after all, how many people understand the kernel / sysvinit boot messages? :P</td><td class="time"><a href="#t2015-09-04T11:31:58" class="time">11:31</a></td></tr>
<tr id="t2015-09-04T11:31:59"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">So we can't stop/kill it after n secs or right after something started from systemd?</td><td class="time"><a href="#t2015-09-04T11:31:59" class="time">11:31</a></td></tr>
<tr id="t2015-09-04T11:32:15"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">not me :p</td><td class="time"><a href="#t2015-09-04T11:32:15" class="time">11:32</a></td></tr>
<tr id="t2015-09-04T11:32:26"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">W00T we don't use systemd</td><td class="time"><a href="#t2015-09-04T11:32:26" class="time">11:32</a></td></tr>
<tr id="t2015-09-04T11:33:13"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">I'm not ready to trust using a largely unfinish boot manager on my products. Sysvinit is well proven.</td><td class="time"><a href="#t2015-09-04T11:33:13" class="time">11:33</a></td></tr>
<tr id="t2015-09-04T11:33:25"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">YMMV</td><td class="time"><a href="#t2015-09-04T11:33:25" class="time">11:33</a></td></tr>
<tr id="t2015-09-04T11:35:38"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">I don't see why you cannot do a 'killall psplash', then have the next app take control of the video...</td><td class="time"><a href="#t2015-09-04T11:35:38" class="time">11:35</a></td></tr>
<tr id="t2015-09-04T11:37:35"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">sure, but i asked this because i don't have any psplash process running. i thought there was something like a timeout that kills the psplash binary</td><td class="time"><a href="#t2015-09-04T11:37:35" class="time">11:37</a></td></tr>
<tr id="t2015-09-04T11:37:42"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">If you don't want the progress bar, comment out that section of psplash source.</td><td class="time"><a href="#t2015-09-04T11:37:42" class="time">11:37</a></td></tr>
<tr id="t2015-09-04T11:39:42"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">i didn't have this as well. maybe there is something wrong with my image. actually i only had a white screen</td><td class="time"><a href="#t2015-09-04T11:39:42" class="time">11:39</a></td></tr>
<tr id="t2015-09-04T11:40:42"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">I haven't delved into how psplash follows the boot progress and decides when to terminate. It will terminate after the final step of the desired runlevel is completed.&nbsp;&nbsp;For example, if in runlevel 3 (drop to console), it will allow bash to take over the video when the last 'S99*' step has completed.</td><td class="time"><a href="#t2015-09-04T11:40:42" class="time">11:40</a></td></tr>
<tr id="t2015-09-04T11:41:36"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">again, not sure about systemd, I simply deal with that beast on my suse box but will not use it in my embedded projects.</td><td class="time"><a href="#t2015-09-04T11:41:36" class="time">11:41</a></td></tr>
<tr id="t2015-09-04T11:44:15"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">admittedly, systemd does seem to offer some interesting benefits, like keeping a daemon running if it terminates, but I feel better having total control over my boot process, not have it disrupted by a decision by someone outside of my control and have my product start behaving differently due to a git pull on the Yocto base.</td><td class="time"><a href="#t2015-09-04T11:44:15" class="time">11:44</a></td></tr>
<tr id="t2015-09-04T11:44:39"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">ok, so the best way is to have all my applications started in /etc/rcS.d/ and the splashscreen will disappear at the very last step?</td><td class="time"><a href="#t2015-09-04T11:44:39" class="time">11:44</a></td></tr>
<tr id="t2015-09-04T11:45:30"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">completely agree with you, maybe i can use another supervising system</td><td class="time"><a href="#t2015-09-04T11:45:30" class="time">11:45</a></td></tr>
<tr id="t2015-09-04T11:47:15"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">it will complete after the runlevel is finished (/etc/inittab target level)</td><td class="time"><a href="#t2015-09-04T11:47:15" class="time">11:47</a></td></tr>
<tr id="t2015-09-04T11:48:29"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">you always pass through runlevel rcS.d, but rc[1,3,5].d are the target levels, when the target level completes, psplash will terminate.</td><td class="time"><a href="#t2015-09-04T11:48:29" class="time">11:48</a></td></tr>
<tr id="t2015-09-04T11:50:01"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">ok i got it</td><td class="time"><a href="#t2015-09-04T11:50:01" class="time">11:50</a></td></tr>
<tr id="t2015-09-04T11:51:03"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">If I were writing a splash with progress bar, I would tally up the number of 'Sxx' scripts of the target runlevel, watch stdout for the sysvinit / systemd progress messages to move my bar, then die when the last count is reached.</td><td class="time"><a href="#t2015-09-04T11:51:03" class="time">11:51</a></td></tr>
<tr id="t2015-09-04T11:51:19"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">assuming that is possible, hen</td><td class="time"><a href="#t2015-09-04T11:51:19" class="time">11:51</a></td></tr>
<tr id="t2015-09-04T11:51:21"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">assuming that is possible, heh</td><td class="time"><a href="#t2015-09-04T11:51:21" class="time">11:51</a></td></tr>
<tr id="t2015-09-04T11:52:18"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">I would have to have a very compelling reason to abandon sysvinit, just because systemd is shiny / new is not good-enough.</td><td class="time"><a href="#t2015-09-04T11:52:18" class="time">11:52</a></td></tr>
<tr id="t2015-09-04T11:56:19"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">actually i'm not an expert, i'm just trying things. but in fact, if i find another way to supervise/deamonize my apps, i'll probably drop systemd, i understand that systemd &amp; sysvint are completely asynchronous</td><td class="time"><a href="#t2015-09-04T11:56:19" class="time">11:56</a></td></tr>
<tr id="t2015-09-04T11:59:07"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">no, sysvinit is synchronous, it follows an ordered process that you specify.</td><td class="time"><a href="#t2015-09-04T11:59:07" class="time">11:59</a></td></tr>
<tr id="t2015-09-04T11:59:23"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">it will launch in sequence</td><td class="time"><a href="#t2015-09-04T11:59:23" class="time">11:59</a></td></tr>
<tr id="t2015-09-04T12:01:46"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">having said that, if you start the network (S01networking) your interfaces may not yet be ready to use on the next step (e.g. S02nfsserver).&nbsp;&nbsp;You may have to move nfsserver start to 20 (S20nfsserver) which, effectively, puts a "delay" between the network start and a networking app.</td><td class="time"><a href="#t2015-09-04T12:01:46" class="time">12:01</a></td></tr>
<tr id="t2015-09-04T12:21:02"><td class="part" colspan="2">*** hitlin37 &lt;hitlin37!uid16371@gateway/web/irccloud.com/x-piesicmvigazinow&gt; has left #yocto</td><td><a href="#t2015-09-04T12:21:02" class="time">12:21</a></td></tr>
<tr id="t2015-09-04T12:39:59"><th class="nick" style="background: #8c4a4a">drou</th><td class="text" style="color: #8c4a4a">Yes, i meant both systems in parallel</td><td class="time"><a href="#t2015-09-04T12:39:59" class="time">12:39</a></td></tr>
<tr id="t2015-09-04T12:51:28"><td class="part" colspan="2">*** raykinsella78 &lt;raykinsella78!rkinsell@nat/intel/x-oepwgdiofairfpln&gt; has left #yocto</td><td><a href="#t2015-09-04T12:51:28" class="time">12:51</a></td></tr>
<tr id="t2015-09-04T13:19:44"><th class="nick" style="background: #9b519b">rburton1</th><td class="text" style="color: #9b519b">seebs: there doesn't appear to be a pseudo 1.7.2 tarball up yet</td><td class="time"><a href="#t2015-09-04T13:19:44" class="time">13:19</a></td></tr>
<tr id="t2015-09-04T13:20:39"><td class="nickchange" colspan="2">*** rburton1 is now known as rburton</td><td><a href="#t2015-09-04T13:20:39" class="time">13:20</a></td></tr>
<tr id="t2015-09-04T13:57:38"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2015-09-04T13:57:38" class="time">13:57</a></td></tr>
<tr id="t2015-09-04T14:11:38"><td class="part" colspan="2">*** raykinsella78 &lt;raykinsella78!~rkinsell@192.198.151.44&gt; has left #yocto</td><td><a href="#t2015-09-04T14:11:38" class="time">14:11</a></td></tr>
<tr id="t2015-09-04T16:12:44"><td class="nickchange" colspan="2">*** jbrianceau is now known as jbrianceau_away</td><td><a href="#t2015-09-04T16:12:44" class="time">16:12</a></td></tr>
<tr id="t2015-09-04T16:16:51"><th class="nick" style="background: #539e9e">ebolton</th><td class="text" style="color: #539e9e">hey all, strange issue...I'm trying to install an SDK on a 64-bit Ubuntu machine and getting this error, "Setting it up...ls: cannot access /opt/poky/1.7.2/environment-setup-*: No such file or directory"</td><td class="time"><a href="#t2015-09-04T16:16:51" class="time">16:16</a></td></tr>
<tr id="t2015-09-04T16:17:07"><th class="nick" style="background: #539e9e">ebolton</th><td class="text" style="color: #539e9e">SDk installs fine on the machine it was created on, they're both Ubuntu based</td><td class="time"><a href="#t2015-09-04T16:17:07" class="time">16:17</a></td></tr>
<tr id="t2015-09-04T17:14:12"><td class="part" colspan="2">*** raykinsella78 &lt;raykinsella78!~rkinsell@192.198.151.44&gt; has left #yocto</td><td><a href="#t2015-09-04T17:14:12" class="time">17:14</a></td></tr>
<tr id="t2015-09-04T17:22:48"><th class="nick" style="background: #a25555">RP</th><td class="text" style="color: #a25555">seebs: bad news: <a href="https://autobuilder.yoctoproject.org/main/builders/buildtools/builds/473/steps/BuildImages/logs/stdio" rel="nofollow">https://autobuilder.yoctoproject.org/main/builders/buildtools/builds/473/steps/BuildImages/logs/stdio</a></td><td class="time"><a href="#t2015-09-04T17:22:48" class="time">17:22</a></td></tr>
<tr id="t2015-09-04T17:46:32"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">RP: the postinst_intercept patches were sent as RFC, I've just noticed they were added to master-next</td><td class="time"><a href="#t2015-09-04T17:46:32" class="time">17:46</a></td></tr>
<tr id="t2015-09-04T17:47:01"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">RP: I believe they work OK, but it's possible that I haven't discovered all possible env/intercept combinations</td><td class="time"><a href="#t2015-09-04T17:47:01" class="time">17:47</a></td></tr>
<tr id="t2015-09-04T17:47:12"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">RP: because I was testing mostly the update_font_cache one</td><td class="time"><a href="#t2015-09-04T17:47:12" class="time">17:47</a></td></tr>
<tr id="t2015-09-04T17:52:18"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">hmm</td><td class="time"><a href="#t2015-09-04T17:52:18" class="time">17:52</a></td></tr>
<tr id="t2015-09-04T17:55:37"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">also this snippet:</td><td class="time"><a href="#t2015-09-04T17:55:37" class="time">17:55</a></td></tr>
<tr id="t2015-09-04T17:55:41"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:</td><td class="time"><a href="#t2015-09-04T17:55:41" class="time">17:55</a></td></tr>
<tr id="t2015-09-04T17:55:41"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subprocess.check_output(script_full)</td><td class="time"><a href="#t2015-09-04T17:55:41" class="time">17:55</a></td></tr>
<tr id="t2015-09-04T17:55:41"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except subprocess.CalledProcessError as e:</td><td class="time"><a href="#t2015-09-04T17:55:41" class="time">17:55</a></td></tr>
<tr id="t2015-09-04T17:55:41"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bb.warn("The postinstall intercept hook '%s' failed (exit code: %d)! See log for details!" %</td><td class="time"><a href="#t2015-09-04T17:55:41" class="time">17:55</a></td></tr>
<tr id="t2015-09-04T17:55:43"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(script, e.returncode))</td><td class="time"><a href="#t2015-09-04T17:55:43" class="time">17:55</a></td></tr>
<tr id="t2015-09-04T17:56:02"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">looks a bit strange as there normally isn't any output from intercept hook in the log</td><td class="time"><a href="#t2015-09-04T17:56:02" class="time">17:56</a></td></tr>
<tr id="t2015-09-04T17:56:25"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">any objections to send the output to log.intercept_&lt;script_name&gt; ?</td><td class="time"><a href="#t2015-09-04T17:56:25" class="time">17:56</a></td></tr>
<tr id="t2015-09-04T18:00:05"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">the called process error has a member with the output, but as you say, check_output() suppresses/captures the output by default</td><td class="time"><a href="#t2015-09-04T18:00:05" class="time">18:00</a></td></tr>
<tr id="t2015-09-04T18:00:19"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">either that should be check_call(), or it needs to use the output from the exception</td><td class="time"><a href="#t2015-09-04T18:00:19" class="time">18:00</a></td></tr>
<tr id="t2015-09-04T18:00:21"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">afaik anyway</td><td class="time"><a href="#t2015-09-04T18:00:21" class="time">18:00</a></td></tr>
<tr id="t2015-09-04T18:00:28"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">well spotted there</td><td class="time"><a href="#t2015-09-04T18:00:28" class="time">18:00</a></td></tr>
<tr id="t2015-09-04T18:24:03"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">... Did I do the thing where I forgot to actually send halstead the pseudo 1.7.2 tarball? I bet I did.</td><td class="time"><a href="#t2015-09-04T18:24:03" class="time">18:24</a></td></tr>
<tr id="t2015-09-04T18:25:41"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">Oh, wait. I did, I just sent the patch out before getting an ack.</td><td class="time"><a href="#t2015-09-04T18:25:41" class="time">18:25</a></td></tr>
<tr id="t2015-09-04T18:35:58"><th class="nick" style="background: #adad5b">halstead_</th><td class="text" style="color: #adad5b">seebs: RP put it up 2 hours ago I think.</td><td class="time"><a href="#t2015-09-04T18:35:58" class="time">18:35</a></td></tr>
<tr id="t2015-09-04T18:42:29"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">nooooooo</td><td class="time"><a href="#t2015-09-04T18:42:29" class="time">18:42</a></td></tr>
<tr id="t2015-09-04T18:42:49"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">What the heck.</td><td class="time"><a href="#t2015-09-04T18:42:49" class="time">18:42</a></td></tr>
<tr id="t2015-09-04T18:43:03"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">Is it possible that your systems are hosted in an environment that is haunted by angry ghosts?</td><td class="time"><a href="#t2015-09-04T18:43:03" class="time">18:43</a></td></tr>
<tr id="t2015-09-04T18:44:11"><td class="nickchange" colspan="2">*** munch_ is now known as Guest85508</td><td><a href="#t2015-09-04T18:44:11" class="time">18:44</a></td></tr>
<tr id="t2015-09-04T18:44:36"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">To be fair, buildtools-tarball wasn't a target I was testing, but that looks general.</td><td class="time"><a href="#t2015-09-04T18:44:36" class="time">18:44</a></td></tr>
<tr id="t2015-09-04T18:44:38"><th class="nick" style="background: #adad5b">halstead_</th><td class="text" style="color: #adad5b">seebs: maybe? They are on the third floor of a medical facility. Are you seeing problems now?</td><td class="time"><a href="#t2015-09-04T18:44:38" class="time">18:44</a></td></tr>
<tr id="t2015-09-04T18:44:43"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">But I am pretty sure that I tested with my patches on at least two machines, and did not see that... WTF.</td><td class="time"><a href="#t2015-09-04T18:44:43" class="time">18:44</a></td></tr>
<tr id="t2015-09-04T18:44:57"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">"operation not supported" is a very strange outcome.</td><td class="time"><a href="#t2015-09-04T18:44:57" class="time">18:44</a></td></tr>
<tr id="t2015-09-04T18:59:27"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">okay, I give up, after googling and grep'ing, I cannot figure out how the contents of /etc/version, in the image, is determined.</td><td class="time"><a href="#t2015-09-04T18:59:27" class="time">18:59</a></td></tr>
<tr id="t2015-09-04T19:01:31"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">T0mW: grep -nrI sysconfdir.\*version</td><td class="time"><a href="#t2015-09-04T19:01:31" class="time">19:01</a></td></tr>
<tr id="t2015-09-04T19:01:48"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">looks like: meta/lib/oe/rootfs.py?</td><td class="time"><a href="#t2015-09-04T19:01:48" class="time">19:01</a></td></tr>
<tr id="t2015-09-04T19:01:51"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">yep</td><td class="time"><a href="#t2015-09-04T19:01:51" class="time">19:01</a></td></tr>
<tr id="t2015-09-04T19:02:21"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">See, all I have to do is ask and I'll find myself before anyone anwers, why is that?</td><td class="time"><a href="#t2015-09-04T19:02:21" class="time">19:02</a></td></tr>
<tr id="t2015-09-04T19:02:53"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">BUILDNAME</td><td class="time"><a href="#t2015-09-04T19:02:53" class="time">19:02</a></td></tr>
<tr id="t2015-09-04T19:07:52"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">Yeah.</td><td class="time"><a href="#t2015-09-04T19:07:52" class="time">19:07</a></td></tr>
<tr id="t2015-09-04T19:08:05"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">Now trying to reproduce that failure, no luck yet.</td><td class="time"><a href="#t2015-09-04T19:08:05" class="time">19:08</a></td></tr>
<tr id="t2015-09-04T19:08:28"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">I don't know yet.</td><td class="time"><a href="#t2015-09-04T19:08:28" class="time">19:08</a></td></tr>
<tr id="t2015-09-04T19:08:41"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">I at least figured out why my nearly-but-not-quite perfectly up to date tree didn't reproduce the opkg ones, but the new cross-localedef stuff RP posted, I have no idea.</td><td class="time"><a href="#t2015-09-04T19:08:41" class="time">19:08</a></td></tr>
<tr id="t2015-09-04T19:08:48"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">Yeah, I am not yet reproducing that one.</td><td class="time"><a href="#t2015-09-04T19:08:48" class="time">19:08</a></td></tr>
<tr id="t2015-09-04T19:09:30"><th class="nick" style="background: #4d4d93">T0mW</th><td class="text" style="color: #4d4d93">kergoth: YAY!</td><td class="time"><a href="#t2015-09-04T19:09:30" class="time">19:09</a></td></tr>
<tr id="t2015-09-04T19:13:20"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">Oh, huh. Apparently when I request buildtools-tarball, I don't build glibc-locale? Hmm.</td><td class="time"><a href="#t2015-09-04T19:13:20" class="time">19:13</a></td></tr>
<tr id="t2015-09-04T19:16:15"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">Victory! Manually building glibc-locale produces the failure.</td><td class="time"><a href="#t2015-09-04T19:16:15" class="time">19:16</a></td></tr>
<tr id="t2015-09-04T19:20:53"><td class="part" colspan="2">*** jd1 &lt;jd1!jd1@unaffiliated/jd1&gt; has left #yocto</td><td><a href="#t2015-09-04T19:20:53" class="time">19:20</a></td></tr>
<tr id="t2015-09-04T19:33:10"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">buildtools tarball is almost entirely nativesdk packages built by crosssdk tools, i wouldn't expect it to build target packages like glibc-locale, but *shrug*</td><td class="time"><a href="#t2015-09-04T19:33:10" class="time">19:33</a></td></tr>
<tr id="t2015-09-04T19:35:54"><th class="nick" style="background: #b15db1">malkauns</th><td class="text" style="color: #b15db1">how do i install wireless-regdb in yocto?</td><td class="time"><a href="#t2015-09-04T19:35:54" class="time">19:35</a></td></tr>
<tr id="t2015-09-04T20:03:56"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">okay that's new</td><td class="time"><a href="#t2015-09-04T20:03:56" class="time">20:03</a></td></tr>
<tr id="t2015-09-04T20:03:58"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">it looks like there's an fcntl failing that's causing this error, but I don't know which fcntl op or why.</td><td class="time"><a href="#t2015-09-04T20:03:58" class="time">20:03</a></td></tr>
<tr id="t2015-09-04T20:07:41"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">kergoth: your host contamination patch shows that everyone who uses tar in ptest install functions (common idiom) is broken</td><td class="time"><a href="#t2015-09-04T20:07:41" class="time">20:07</a></td></tr>
<tr id="t2015-09-04T20:16:43"><td class="nickchange" colspan="2">*** sri is now known as Guest45030</td><td><a href="#t2015-09-04T20:16:43" class="time">20:16</a></td></tr>
<tr id="t2015-09-04T20:29:01"><th class="nick" style="background: #818144">nerdboy</th><td class="text" style="color: #818144">seebs: strace?</td><td class="time"><a href="#t2015-09-04T20:29:01" class="time">20:29</a></td></tr>
<tr id="t2015-09-04T20:31:38"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">yeah, probably.</td><td class="time"><a href="#t2015-09-04T20:31:38" class="time">20:31</a></td></tr>
<tr id="t2015-09-04T20:32:13"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">fcntl appears to be a red herring, looks like the actual issue is that mkdir appears to be somehow managing to hand back errno 95 (ENOTSUPP). And I am not at all sure why/how, and I note that the directory does seem to get made, so.</td><td class="time"><a href="#t2015-09-04T20:32:13" class="time">20:32</a></td></tr>
<tr id="t2015-09-04T20:32:50"><th class="nick" style="background: #818144">nerdboy</th><td class="text" style="color: #818144">so was it angry ghosts or just a momentary warpage of the time-space continuum?</td><td class="time"><a href="#t2015-09-04T20:32:50" class="time">20:32</a></td></tr>
<tr id="t2015-09-04T20:32:54"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">But hey, I can reproduce the failure, now.</td><td class="time"><a href="#t2015-09-04T20:32:54" class="time">20:32</a></td></tr>
<tr id="t2015-09-04T20:33:12"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">I am not sure why that build was making glibc-locale and mine wasn't, but I can do it on purpose. Can't reproduce it outside of bitbake yet, but narrowing in.</td><td class="time"><a href="#t2015-09-04T20:33:12" class="time">20:33</a></td></tr>
<tr id="t2015-09-04T20:42:40"><td class="part" colspan="2">*** aj_c &lt;aj_c!~Alex_Joya@134.134.139.74&gt; has left #yocto</td><td><a href="#t2015-09-04T20:42:40" class="time">20:42</a></td></tr>
<tr id="t2015-09-04T21:29:20"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">bwahaha!</td><td class="time"><a href="#t2015-09-04T21:29:20" class="time">21:29</a></td></tr>
<tr id="t2015-09-04T21:29:26"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">I found the bug, and technically it is Not My Fault.</td><td class="time"><a href="#t2015-09-04T21:29:26" class="time">21:29</a></td></tr>
<tr id="t2015-09-04T21:29:39"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">... I think.</td><td class="time"><a href="#t2015-09-04T21:29:39" class="time">21:29</a></td></tr>
<tr id="t2015-09-04T21:29:58"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">I would have to reread the spec, but the problem is that mkdir() is succeeding but setting errno as a side-effect.</td><td class="time"><a href="#t2015-09-04T21:29:58" class="time">21:29</a></td></tr>
<tr id="t2015-09-04T21:30:12"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">And localedef is doing</td><td class="time"><a href="#t2015-09-04T21:30:12" class="time">21:30</a></td></tr>
<tr id="t2015-09-04T21:30:24"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">if (output_path == NULL &amp;&amp; ! no_archive) { print error message }</td><td class="time"><a href="#t2015-09-04T21:30:24" class="time">21:30</a></td></tr>
<tr id="t2015-09-04T21:30:29"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">cannot_write_why = errno;</td><td class="time"><a href="#t2015-09-04T21:30:29" class="time">21:30</a></td></tr>
<tr id="t2015-09-04T21:30:36"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">and then using cannot_write_why as a test for whether something went wrong.</td><td class="time"><a href="#t2015-09-04T21:30:36" class="time">21:30</a></td></tr>
<tr id="t2015-09-04T21:30:50"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">Which is to say, it is assuming that if errno has a value, it means that something went wrong, and this is not correct.</td><td class="time"><a href="#t2015-09-04T21:30:50" class="time">21:30</a></td></tr>
<tr id="t2015-09-04T21:31:10"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">That said, it is probably my fault that mkdir() can now set errno to 95 unexpectedly.</td><td class="time"><a href="#t2015-09-04T21:31:10" class="time">21:31</a></td></tr>
<tr id="t2015-09-04T21:32:29"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">... it is.</td><td class="time"><a href="#t2015-09-04T21:32:29" class="time">21:32</a></td></tr>
<tr id="t2015-09-04T21:32:37"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">because I called fchmodat() with AT_SYMLINK_NOFOLLOW.</td><td class="time"><a href="#t2015-09-04T21:32:37" class="time">21:32</a></td></tr>
<tr id="t2015-09-04T21:40:35"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">RP: Assuming this test passes, 1.7.3 should be out in about half an hour? Also I would like to set glibc's localedef code on fire. For sound technical reasons.</td><td class="time"><a href="#t2015-09-04T21:40:35" class="time">21:40</a></td></tr>
<tr id="t2015-09-04T22:07:58"><th class="nick" style="background: #a25555">RP</th><td class="text" style="color: #a25555">seebs: ok, if it comes out we should have room over the weekend for another build</td><td class="time"><a href="#t2015-09-04T22:07:58" class="time">22:07</a></td></tr>
<tr id="t2015-09-04T22:08:25"><th class="nick" style="background: #a25555">RP</th><td class="text" style="color: #a25555">seebs: It looks like I have other things breaking the build atm too :/ (my own patch for a change)</td><td class="time"><a href="#t2015-09-04T22:08:25" class="time">22:08</a></td></tr>
<tr id="t2015-09-04T22:19:10"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">If you would be so kind, if you encounter more pseudo stuff over the weekend, could you cc my home address? I may forget to check work email over the weekend, things are being unduly busy.</td><td class="time"><a href="#t2015-09-04T22:19:10" class="time">22:19</a></td></tr>
<tr id="t2015-09-04T22:19:25"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">I am really offended by that glibc code, btw. I mean, yes, my bug triggered it, but that code is just plain wrong.</td><td class="time"><a href="#t2015-09-04T22:19:25" class="time">22:19</a></td></tr>
<tr id="t2015-09-04T22:27:29"><td class="nickchange" colspan="2">*** moto_timo is now known as moto-timo</td><td><a href="#t2015-09-04T22:27:29" class="time">22:27</a></td></tr>
<tr id="t2015-09-04T22:27:58"><td class="nickchange" colspan="2">*** moto-timo is now known as Guest44787</td><td><a href="#t2015-09-04T22:27:58" class="time">22:27</a></td></tr>
<tr id="t2015-09-04T23:16:58"><th class="nick" style="background: #5fb4b4">khem`</th><td class="text" style="color: #5fb4b4">seebs: which code</td><td class="time"><a href="#t2015-09-04T23:16:58" class="time">23:16</a></td></tr>
<tr id="t2015-09-04T23:20:02"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">in localedef, the thing causing the "operation not supported" errors.</td><td class="time"><a href="#t2015-09-04T23:20:02" class="time">23:20</a></td></tr>
<tr id="t2015-09-04T23:20:22"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">Which is that after glibc has checked that mkdir succeeded, it unconditionally stashes errno, and later, if errno is non-zero, reports this as a fatal error.</td><td class="time"><a href="#t2015-09-04T23:20:22" class="time">23:20</a></td></tr>
<tr id="t2015-09-04T23:20:28"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">The stashed errno, that is.</td><td class="time"><a href="#t2015-09-04T23:20:28" class="time">23:20</a></td></tr>
<tr id="t2015-09-04T23:20:47"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">So if errno gets set, even though the actual return value indicated success, it's treated as an error anyway, and this is silly.</td><td class="time"><a href="#t2015-09-04T23:20:47" class="time">23:20</a></td></tr>
<tr id="t2015-09-04T23:21:53"><th class="nick" style="background: #b86161">Snert__</th><td class="text" style="color: #b86161">seems like if errno gets set for any reason it should reflect that it's been set.</td><td class="time"><a href="#t2015-09-04T23:21:53" class="time">23:21</a></td></tr>
<tr id="t2015-09-04T23:22:04"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">Not in general.</td><td class="time"><a href="#t2015-09-04T23:22:04" class="time">23:22</a></td></tr>
<tr id="t2015-09-04T23:22:18"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">Lots of things are allowed to set errno when nothing has gone wrong.</td><td class="time"><a href="#t2015-09-04T23:22:18" class="time">23:22</a></td></tr>
<tr id="t2015-09-04T23:22:26"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">The famous example is printf() setting errno to ENOTTY when no error has occurred.</td><td class="time"><a href="#t2015-09-04T23:22:26" class="time">23:22</a></td></tr>
<tr id="t2015-09-04T23:22:55"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">Generally, if something has a return value that indicates success or failure, and it indicates success, it is antiproductive to look at errno.</td><td class="time"><a href="#t2015-09-04T23:22:55" class="time">23:22</a></td></tr>
<tr id="t2015-09-04T23:23:57"><th class="nick" style="background: #b86161">Snert__</th><td class="text" style="color: #b86161">different interpretations of how it shouldbe I guess.</td><td class="time"><a href="#t2015-09-04T23:23:57" class="time">23:23</a></td></tr>
<tr id="t2015-09-04T23:24:19"><th class="nick" style="background: #b86161">Snert__</th><td class="text" style="color: #b86161">but that's open source so gotta love it.</td><td class="time"><a href="#t2015-09-04T23:24:19" class="time">23:24</a></td></tr>
<tr id="t2015-09-04T23:25:46"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">The C/posix specs are pretty clear; do not check errno if you do not have a thing telling you that there was an error.</td><td class="time"><a href="#t2015-09-04T23:25:46" class="time">23:25</a></td></tr>
<tr id="t2015-09-04T23:26:01"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">errno is for telling you *which* error, not whether or not there was an error.</td><td class="time"><a href="#t2015-09-04T23:26:01" class="time">23:26</a></td></tr>
<tr id="t2015-09-04T23:26:12"><th class="nick" style="background: #b86161">Snert__</th><td class="text" style="color: #b86161">but no enforcement.</td><td class="time"><a href="#t2015-09-04T23:26:12" class="time">23:26</a></td></tr>
<tr id="t2015-09-04T23:26:18"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">(I also didn't see anything zeroing errno out, but maybe there was one somewhere.)</td><td class="time"><a href="#t2015-09-04T23:26:18" class="time">23:26</a></td></tr>
<tr id="t2015-09-04T23:26:31"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">Well, the enforcement is that if you do it, you produce random weird error messages that have nothing to do with anything actually going wrong</td><td class="time"><a href="#t2015-09-04T23:26:31" class="time">23:26</a></td></tr>
<tr id="t2015-09-04T23:26:40"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">... which is exactly what happened in this case. :)</td><td class="time"><a href="#t2015-09-04T23:26:40" class="time">23:26</a></td></tr>
<tr id="t2015-09-04T23:26:51"><th class="nick" style="background: #b86161">Snert__</th><td class="text" style="color: #b86161">why allow a check to errno when no error occured?</td><td class="time"><a href="#t2015-09-04T23:26:51" class="time">23:26</a></td></tr>
<tr id="t2015-09-04T23:27:02"><th class="nick" style="background: #b86161">Snert__</th><td class="text" style="color: #b86161">why is it not enforced.</td><td class="time"><a href="#t2015-09-04T23:27:02" class="time">23:27</a></td></tr>
<tr id="t2015-09-04T23:27:19"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">Because C does not in general inforce much of anything.</td><td class="time"><a href="#t2015-09-04T23:27:19" class="time">23:27</a></td></tr>
<tr id="t2015-09-04T23:27:22"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">enforce, even.</td><td class="time"><a href="#t2015-09-04T23:27:22" class="time">23:27</a></td></tr>
<tr id="t2015-09-04T23:27:31"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">It is not in the spirit of C to prevent you from doing silly things.</td><td class="time"><a href="#t2015-09-04T23:27:31" class="time">23:27</a></td></tr>
<tr id="t2015-09-04T23:27:39"><th class="nick" style="background: #b86161">Snert__</th><td class="text" style="color: #b86161">so I've heard.</td><td class="time"><a href="#t2015-09-04T23:27:39" class="time">23:27</a></td></tr>
<tr id="t2015-09-04T23:28:04"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">More generally, I'm not sure how you *could* enforce it. Someone can always write "x = errno;"</td><td class="time"><a href="#t2015-09-04T23:28:04" class="time">23:28</a></td></tr>
<tr id="t2015-09-04T23:37:08"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e">Hmm. Well, they do zero it out, I still think the code is silly.</td><td class="time"><a href="#t2015-09-04T23:37:08" class="time">23:37</a></td></tr>
<tr id="t2015-09-04T23:52:27"><th class="nick" style="background: #b86161">Snert__</th><td class="text" style="color: #b86161">I jsut don't do weird stuff.</td><td class="time"><a href="#t2015-09-04T23:52:27" class="time">23:52</a></td></tr>
<tr id="t2015-09-04T23:52:49"><th class="nick" style="background: #b86161">Snert__</th><td class="text" style="color: #b86161">it would never occur to me to deal with errno if there was no error.</td><td class="time"><a href="#t2015-09-04T23:52:49" class="time">23:52</a></td></tr>
<tr id="t2015-09-04T23:53:13"><th class="nick" style="background: #b86161">Snert__</th><td class="text" style="color: #b86161">but me noob amateur coder.</td><td class="time"><a href="#t2015-09-04T23:53:13" class="time">23:53</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2015-09-03.log.html">&#171; Thursday, 2015-09-03</a> <a href="index.html">Index</a> <a href="%23yocto.2015-09-05.log.html">Saturday, 2015-09-05 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
