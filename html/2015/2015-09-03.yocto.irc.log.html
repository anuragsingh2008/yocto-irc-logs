<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Thursday, 2015-09-03</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Thursday, 2015-09-03</h1>
<div class="navigation"> <a href="%23yocto.2015-09-02.log.html">&#171; Wednesday, 2015-09-02</a> <a href="index.html">Index</a> <a href="%23yocto.2015-09-04.log.html">Friday, 2015-09-04 &#187;</a> </div>
<table class="irclog">
<tr id="t2015-09-03T00:10:50"><td class="other" colspan="2">-64MADQRJX- build #480 of nightly-fsl-arm is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-fsl-arm/builds/480" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-fsl-arm/builds/480</a></td><td><a href="#t2015-09-03T00:10:50" class="time">00:10</a></td></tr>
<tr id="t2015-09-03T01:26:48"><td class="other" colspan="2">-64MADQRJX- build #476 of nightly-qa-skeleton is complete: Failure [failed Running Sanity Tests]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-qa-skeleton/builds/476" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-qa-skeleton/builds/476</a></td><td><a href="#t2015-09-03T01:26:48" class="time">01:26</a></td></tr>
<tr id="t2015-09-03T04:12:16"><td class="other" colspan="2">-64MADQRJX- build #138 of nightly-rpm-non-rpm is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-rpm-non-rpm/builds/138" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-rpm-non-rpm/builds/138</a></td><td><a href="#t2015-09-03T04:12:16" class="time">04:12</a></td></tr>
<tr id="t2015-09-03T06:54:55"><td class="nickchange" colspan="2">*** jbrianceau_away is now known as jbrianceau</td><td><a href="#t2015-09-03T06:54:55" class="time">06:54</a></td></tr>
<tr id="t2015-09-03T07:08:26"><th class="nick" style="background: #407a40">parrot1</th><td class="text" style="color: #407a40">hello, how do I change boot parameters in Gummiboot upon image creation?</td><td class="time"><a href="#t2015-09-03T07:08:26" class="time">07:08</a></td></tr>
<tr id="t2015-09-03T07:12:04"><th class="nick" style="background: #42427e">_4urele_</th><td class="text" style="color: #42427e">hello everyone!</td><td class="time"><a href="#t2015-09-03T07:12:04" class="time">07:12</a></td></tr>
<tr id="t2015-09-03T07:13:28"><th class="nick" style="background: #42427e">_4urele_</th><td class="text" style="color: #42427e">I will make a recipe for a python module called xmltodict (I could not find the recipe...), I would like to share it, how could I share the recipe?</td><td class="time"><a href="#t2015-09-03T07:13:28" class="time">07:13</a></td></tr>
<tr id="t2015-09-03T07:13:42"><th class="nick" style="background: #42427e">_4urele_</th><td class="text" style="color: #42427e">(more where ;o) )</td><td class="time"><a href="#t2015-09-03T07:13:42" class="time">07:13</a></td></tr>
<tr id="t2015-09-03T07:17:43"><td class="part" colspan="2">*** gunnarx &lt;gunnarx!~gan@94.234.170.197&gt; has left #yocto</td><td><a href="#t2015-09-03T07:17:43" class="time">07:17</a></td></tr>
<tr id="t2015-09-03T07:33:06"><th class="nick" style="background: #818144">abelal</th><td class="text" style="color: #818144">morning everyone</td><td class="time"><a href="#t2015-09-03T07:33:06" class="time">07:33</a></td></tr>
<tr id="t2015-09-03T07:49:51"><th class="nick" style="background: #854685">ericbutt1rs</th><td class="text" style="color: #854685">good morning.. if i extract the target root filesystem i need to do this with sudo, but that is a problem when it comes to automated installation. so i am wondering if i can use pseudo for this? i run: "pseudo tar xf the-rootfs.tar.xz" but that breaks with error, i think when creating the device notes, so same like when i do tar without sudo..</td><td class="time"><a href="#t2015-09-03T07:49:51" class="time">07:49</a></td></tr>
<tr id="t2015-09-03T07:57:23"><th class="nick" style="background: #488888">mckoan</th><td class="text" style="color: #488888">good morning</td><td class="time"><a href="#t2015-09-03T07:57:23" class="time">07:57</a></td></tr>
<tr id="t2015-09-03T07:59:51"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2015-09-03T07:59:51" class="time">07:59</a></td></tr>
<tr id="t2015-09-03T08:06:14"><td class="other" colspan="2">-64MADQRJX- build #474 of nightly-qa-systemd is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-qa-systemd/builds/474" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-qa-systemd/builds/474</a></td><td><a href="#t2015-09-03T08:06:14" class="time">08:06</a></td></tr>
<tr id="t2015-09-03T08:19:02"><th class="nick" style="background: #854685">ericbutt1rs</th><td class="text" style="color: #854685">okay, found a way: echo &lt;sudo-password&gt; | sudo -S tar xf the-rootfs.tar.xz</td><td class="time"><a href="#t2015-09-03T08:19:02" class="time">08:19</a></td></tr>
<tr id="t2015-09-03T08:19:18"><th class="nick" style="background: #854685">ericbutt1rs</th><td class="text" style="color: #854685">but maybe anyone here as a nicer solution?</td><td class="time"><a href="#t2015-09-03T08:19:18" class="time">08:19</a></td></tr>
<tr id="t2015-09-03T08:30:38"><td class="other" colspan="2">-64MADQRJX- build #488 of nightly-arm is complete: Failure [failed Running Sanity Tests]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-arm/builds/488" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-arm/builds/488</a></td><td><a href="#t2015-09-03T08:30:38" class="time">08:30</a></td></tr>
<tr id="t2015-09-03T08:43:10"><td class="other" colspan="2">-64MADQRJX- build #470 of nightly-ipk is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-ipk/builds/470" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-ipk/builds/470</a></td><td><a href="#t2015-09-03T08:43:10" class="time">08:43</a></td></tr>
<tr id="t2015-09-03T08:52:55"><td class="nickchange" colspan="2">*** tanuk_ is now known as tanuk</td><td><a href="#t2015-09-03T08:52:55" class="time">08:52</a></td></tr>
<tr id="t2015-09-03T09:27:49"><td class="part" colspan="2">*** lpapp &lt;lpapp!~lpapp@kde/lpapp&gt; has left #yocto</td><td><a href="#t2015-09-03T09:27:49" class="time">09:27</a></td></tr>
<tr id="t2015-09-03T09:37:03"><td class="other" colspan="2">-64MADQRJX- build #131 of nightly-mips64 is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-mips64/builds/131" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-mips64/builds/131</a></td><td><a href="#t2015-09-03T09:37:03" class="time">09:37</a></td></tr>
<tr id="t2015-09-03T09:41:17"><th class="nick" style="background: #8c4a4a">bboozzoo</th><td class="text" style="color: #8c4a4a">ericbutt1rs: if device nodes are indeed a problem can't you just do tar --exclude=/dev/ -xJf the-rootfs.tar.xz ?</td><td class="time"><a href="#t2015-09-03T09:41:17" class="time">09:41</a></td></tr>
<tr id="t2015-09-03T10:01:23"><th class="nick" style="background: #4b904b">bluelightning</th><td class="text" style="color: #4b904b">morning all</td><td class="time"><a href="#t2015-09-03T10:01:23" class="time">10:01</a></td></tr>
<tr id="t2015-09-03T10:08:05"><td class="other" colspan="2">-64MADQRJX- build #132 of nightly-arm64 is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-arm64/builds/132" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-arm64/builds/132</a></td><td><a href="#t2015-09-03T10:08:05" class="time">10:08</a></td></tr>
<tr id="t2015-09-03T11:15:11"><th class="nick" style="background: #4d4d93">milan_</th><td class="text" style="color: #4d4d93">bluelightning: can I get the recipe for open-vm-tools from any of the yoctoproject repos ?</td><td class="time"><a href="#t2015-09-03T11:15:11" class="time">11:15</a></td></tr>
<tr id="t2015-09-03T11:27:08"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">why the hell does ruby need tcl to build</td><td class="time"><a href="#t2015-09-03T11:27:08" class="time">11:27</a></td></tr>
<tr id="t2015-09-03T11:27:27"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">or more accurately why does ruby claim to need tcl, but ruby-native doesn't and it built fine without a host tcl</td><td class="time"><a href="#t2015-09-03T11:27:27" class="time">11:27</a></td></tr>
<tr id="t2015-09-03T11:32:11"><td class="nickchange" colspan="2">*** gunnarx is now known as gunnarx_afk</td><td><a href="#t2015-09-03T11:32:11" class="time">11:32</a></td></tr>
<tr id="t2015-09-03T12:00:17"><th class="nick" style="background: #9b519b">betchou</th><td class="text" style="color: #9b519b">Hi everyone</td><td class="time"><a href="#t2015-09-03T12:00:17" class="time">12:00</a></td></tr>
<tr id="t2015-09-03T12:02:58"><td class="nickchange" colspan="2">*** gunnarx_afk is now known as gunnarx</td><td><a href="#t2015-09-03T12:02:58" class="time">12:02</a></td></tr>
<tr id="t2015-09-03T12:05:11"><th class="nick" style="background: #9b519b">betchou</th><td class="text" style="color: #9b519b">Guys I have a workflow question.</td><td class="time"><a href="#t2015-09-03T12:05:11" class="time">12:05</a></td></tr>
<tr id="t2015-09-03T12:06:27"><th class="nick" style="background: #9b519b">betchou</th><td class="text" style="color: #9b519b">I want to modify the linux kernel. Can I modify directly the sources to try and then generate the recipe?</td><td class="time"><a href="#t2015-09-03T12:06:27" class="time">12:06</a></td></tr>
<tr id="t2015-09-03T12:07:33"><th class="nick" style="background: #9b519b">betchou</th><td class="text" style="color: #9b519b">Should I commit my modification in a my dev branch of the linux kernel and then make the diff once I'm happy with that?</td><td class="time"><a href="#t2015-09-03T12:07:33" class="time">12:07</a></td></tr>
<tr id="t2015-09-03T12:27:02"><td class="other" colspan="2">-64MADQRJX- build #464 of nightly-arm-lsb is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-arm-lsb/builds/464" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-arm-lsb/builds/464</a></td><td><a href="#t2015-09-03T12:27:02" class="time">12:27</a></td></tr>
<tr id="t2015-09-03T13:13:50"><th class="nick" style="background: #9b519b">betchou</th><td class="text" style="color: #9b519b"><a href="https://github.com/meta-qt5/meta-qt5" rel="nofollow">https://github.com/meta-qt5/meta-qt5</a> How can I check the version of Qt they have integrated inside this layer guys?</td><td class="time"><a href="#t2015-09-03T13:13:50" class="time">13:13</a></td></tr>
<tr id="t2015-09-03T13:15:11"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">betchou: <a href="https://github.com/meta-qt5/meta-qt5/tree/master/recipes-qt/qt5" rel="nofollow">https://github.com/meta-qt5/meta-qt5/tree/master/recipes-qt/qt5</a> &lt;— the log says 5.5</td><td class="time"><a href="#t2015-09-03T13:15:11" class="time">13:15</a></td></tr>
<tr id="t2015-09-03T13:16:22"><th class="nick" style="background: #9b519b">betchou</th><td class="text" style="color: #9b519b">rburton: Yep I am asking on the Qt channel the corresponding version of QtQuick modules inside. Thanks!</td><td class="time"><a href="#t2015-09-03T13:16:22" class="time">13:16</a></td></tr>
<tr id="t2015-09-03T13:16:47"><th class="nick" style="background: #9b519b">betchou</th><td class="text" style="color: #9b519b">rburton: Layout.margins got introduced in QtQuick.Layouts 1.2 ...</td><td class="time"><a href="#t2015-09-03T13:16:47" class="time">13:16</a></td></tr>
<tr id="t2015-09-03T13:26:37"><td class="part" colspan="2">*** raykinsella78 &lt;raykinsella78!rkinsell@nat/intel/x-dgobjswnwweiszbs&gt; has left #yocto</td><td><a href="#t2015-09-03T13:26:37" class="time">13:26</a></td></tr>
<tr id="t2015-09-03T14:05:56"><th class="nick" style="background: #854685">ericbutt1rs</th><td class="text" style="color: #854685">where are getting the symlinks created for systemd? i am missing a link to multi-user.target.wants and i need to "debug" this</td><td class="time"><a href="#t2015-09-03T14:05:56" class="time">14:05</a></td></tr>
<tr id="t2015-09-03T14:14:58"><td class="part" colspan="2">*** sujith_h &lt;sujith_h!~sharidas@kde/developers/sujithh&gt; has left #yocto</td><td><a href="#t2015-09-03T14:14:58" class="time">14:14</a></td></tr>
<tr id="t2015-09-03T14:29:17"><td class="part" colspan="2">*** sujith_h &lt;sujith_h!~sharidas@kde/developers/sujithh&gt; has left #yocto</td><td><a href="#t2015-09-03T14:29:17" class="time">14:29</a></td></tr>
<tr id="t2015-09-03T14:47:05"><td class="other" colspan="2">-64MADQRJX- build #174 of nightly-oe-selftest is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-oe-selftest/builds/174" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-oe-selftest/builds/174</a></td><td><a href="#t2015-09-03T14:47:05" class="time">14:47</a></td></tr>
<tr id="t2015-09-03T15:14:35"><td class="part" colspan="2">*** raykinsella78 &lt;raykinsella78!~rkinsell@192.198.151.44&gt; has left #yocto</td><td><a href="#t2015-09-03T15:14:35" class="time">15:14</a></td></tr>
<tr id="t2015-09-03T15:16:38"><td class="part" colspan="2">*** aehs29 &lt;aehs29!aehernan@nat/intel/x-nwppzkzabgyzlecc&gt; has left #yocto</td><td><a href="#t2015-09-03T15:16:38" class="time">15:16</a></td></tr>
<tr id="t2015-09-03T15:19:54"><td class="part" colspan="2">*** sujith_h &lt;sujith_h!~sharidas@kde/developers/sujithh&gt; has left #yocto</td><td><a href="#t2015-09-03T15:19:54" class="time">15:19</a></td></tr>
<tr id="t2015-09-03T15:20:37"><th class="nick" style="background: #539e9e">zenlinux</th><td class="text" style="color: #539e9e">gm fray - looks like enabling neon in rpm still doesn't result in rpm being able to install packages via urls. any other ideas on what I should try enabling?</td><td class="time"><a href="#t2015-09-03T15:20:37" class="time">15:20</a></td></tr>
<tr id="t2015-09-03T15:36:39"><td class="other" colspan="2">-64MADQRJX- build #475 of nightly-ppc-lsb is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-ppc-lsb/builds/475" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-ppc-lsb/builds/475</a></td><td><a href="#t2015-09-03T15:36:39" class="time">15:36</a></td></tr>
<tr id="t2015-09-03T15:39:33"><td class="nickchange" colspan="2">*** jbrianceau is now known as jbrianceau_away</td><td><a href="#t2015-09-03T15:39:33" class="time">15:39</a></td></tr>
<tr id="t2015-09-03T16:02:14"><td class="part" colspan="2">*** aehs29 &lt;aehs29!~aehernan@134.134.137.75&gt; has left #yocto</td><td><a href="#t2015-09-03T16:02:14" class="time">16:02</a></td></tr>
<tr id="t2015-09-03T16:19:16"><td class="part" colspan="2">*** raykinsella78 &lt;raykinsella78!rkinsell@nat/intel/x-oydpuelqfddnhppf&gt; has left #yocto</td><td><a href="#t2015-09-03T16:19:16" class="time">16:19</a></td></tr>
<tr id="t2015-09-03T16:31:03"><td class="nickchange" colspan="2">*** Jefro is now known as Jephro</td><td><a href="#t2015-09-03T16:31:03" class="time">16:31</a></td></tr>
<tr id="t2015-09-03T16:32:13"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2015-09-03T16:32:13" class="time">16:32</a></td></tr>
<tr id="t2015-09-03T16:40:36"><th class="nick" style="background: #a25555">pidge</th><td class="text" style="color: #a25555">joshuagl, rburton, RP, halstead, sgw: We're going to be rebooting the AB cluster once this build is done. Please, no queuing builds until then.</td><td class="time"><a href="#t2015-09-03T16:40:36" class="time">16:40</a></td></tr>
<tr id="t2015-09-03T17:20:46"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">Has anyone written a script to print the status of a push to an upstream layer by checking master, master-next, and possilby also ross/mut or ross/mut2?</td><td class="time"><a href="#t2015-09-03T17:20:46" class="time">17:20</a></td></tr>
<tr id="t2015-09-03T17:24:10"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">Hmm, anyone have any thoughts on sstate-distro-fallback.bbclass? (<a href="https://github.com/MentorEmbedded/meta-mentor/blob/52c5c186cfb4edebe67c4271eafc92d14b2e3cba/meta-mel/classes/sstate-distro-fallback.bbclass" rel="nofollow">https://github.com/MentorEmbedded/meta-mentor/blob/52c5c186cfb4edebe67c4271eafc92d14b2e3cba/meta-mel/classes/sstate-distro-fallback.bbclass</a>). the comment at the top describes the behavior. Does it seem like a sane approach? I should rename it to something related to sstate native distro compatibility rather than fallback, accurate as the latter is, for clarity. lets you set compatible</td><td class="time"><a href="#t2015-09-03T17:24:10" class="time">17:24</a></td></tr>
<tr id="t2015-09-03T17:24:11"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657"> distros, and it'll try to fetch compatible native sstates from your sstate mirrors, not just local. We had a different mechanism, previously, so I'm curious about the new approach, does it seem like a reasonable mechanism?</td><td class="time"><a href="#t2015-09-03T17:24:11" class="time">17:24</a></td></tr>
<tr id="t2015-09-03T17:25:21"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">RP: are you planning on postponing the git shallow mirror tarball support to post-2.0 for risk reasons? that'd be reasonable, if so, I just happened to notice it wasn't in the release status merge list. would it help if i wrote some additional fetch unit tests to cover some of its behaviors?</td><td class="time"><a href="#t2015-09-03T17:25:21" class="time">17:25</a></td></tr>
<tr id="t2015-09-03T17:31:02"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">kergoth: so how will one generate such a sstate</td><td class="time"><a href="#t2015-09-03T17:31:02" class="time">17:31</a></td></tr>
<tr id="t2015-09-03T17:31:55"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">the idea is when you do a build on an older distro, those native sstates can be used on newer distros. so you can do your automated builds on the oldest distro you support, and the distributed sstate will be used on any newer compatible distro by your customers</td><td class="time"><a href="#t2015-09-03T17:31:55" class="time">17:31</a></td></tr>
<tr id="t2015-09-03T17:32:11"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">e.g. we used to do builds on centos6 to ensure the natives oculd be used on any recent distro</td><td class="time"><a href="#t2015-09-03T17:32:11" class="time">17:32</a></td></tr>
<tr id="t2015-09-03T17:32:25"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">currently, a native sstate is only usable on a matching distro</td><td class="time"><a href="#t2015-09-03T17:32:25" class="time">17:32</a></td></tr>
<tr id="t2015-09-03T17:33:25"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">isn't it easier to ship LXC archive together with the release?</td><td class="time"><a href="#t2015-09-03T17:33:25" class="time">17:33</a></td></tr>
<tr id="t2015-09-03T17:33:50"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">yep, that's another option, make your users do their builds in a chroot, container, or vm</td><td class="time"><a href="#t2015-09-03T17:33:50" class="time">17:33</a></td></tr>
<tr id="t2015-09-03T17:34:57"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">kergoth: sounds ok but it needs to be tested on those distros by using them otherwise we are opening a support hell</td><td class="time"><a href="#t2015-09-03T17:34:57" class="time">17:34</a></td></tr>
<tr id="t2015-09-03T17:35:11"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">I think build appliance is the way to go</td><td class="time"><a href="#t2015-09-03T17:35:11" class="time">17:35</a></td></tr>
<tr id="t2015-09-03T17:35:32"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">I was comparing the build time between native and LXC builds and it was identical so in the end I wrote some script for jenkins that the job can select under which LXC container it will be executed</td><td class="time"><a href="#t2015-09-03T17:35:32" class="time">17:35</a></td></tr>
<tr id="t2015-09-03T17:35:47"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">I wouldn't expect to enable use of compatible distros for native sstate by default, i'd just like to provide the class somewhere for the user to use if they choose to go that route</td><td class="time"><a href="#t2015-09-03T17:35:47" class="time">17:35</a></td></tr>
<tr id="t2015-09-03T17:35:53"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">so we can continue to build older releases under older host distributions and newer ones on newer</td><td class="time"><a href="#t2015-09-03T17:35:53" class="time">17:35</a></td></tr>
<tr id="t2015-09-03T17:36:06"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">kergoth: I think its useful</td><td class="time"><a href="#t2015-09-03T17:36:06" class="time">17:36</a></td></tr>
<tr id="t2015-09-03T17:36:28"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">JaMa: do you use lxc or docker or nspawn</td><td class="time"><a href="#t2015-09-03T17:36:28" class="time">17:36</a></td></tr>
<tr id="t2015-09-03T17:36:30"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">yeah, i do all my builds on my machines under a container/chroot, and have for a long time now. formerly schroot, now pflask (which is like systemd-nspawn)</td><td class="time"><a href="#t2015-09-03T17:36:30" class="time">17:36</a></td></tr>
<tr id="t2015-09-03T17:36:37"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">khem`: lxc</td><td class="time"><a href="#t2015-09-03T17:36:37" class="time">17:36</a></td></tr>
<tr id="t2015-09-03T17:36:41"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">I use nspawn quite successfully</td><td class="time"><a href="#t2015-09-03T17:36:41" class="time">17:36</a></td></tr>
<tr id="t2015-09-03T17:37:02"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">reduces build contamination issues too, since while there may be such issues, at least the contamination doesnt' *change* over time</td><td class="time"><a href="#t2015-09-03T17:37:02" class="time">17:37</a></td></tr>
<tr id="t2015-09-03T17:37:05"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">heh</td><td class="time"><a href="#t2015-09-03T17:37:05" class="time">17:37</a></td></tr>
<tr id="t2015-09-03T17:37:18"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">khem`: our servers are on Ubuntu 14.04, LXC is very well supported there and docker feels to application-oriented</td><td class="time"><a href="#t2015-09-03T17:37:18" class="time">17:37</a></td></tr>
<tr id="t2015-09-03T17:37:25"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">nspawn is good, i wish it was packaged separately (course i wish that for half the projects in systemd)</td><td class="time"><a href="#t2015-09-03T17:37:25" class="time">17:37</a></td></tr>
<tr id="t2015-09-03T17:37:43"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">s/to/too/g</td><td class="time"><a href="#t2015-09-03T17:37:43" class="time">17:37</a></td></tr>
<tr id="t2015-09-03T17:38:01"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">kergoth: systemd now has login shell too btw starting 225</td><td class="time"><a href="#t2015-09-03T17:38:01" class="time">17:38</a></td></tr>
<tr id="t2015-09-03T17:38:03"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">agreed, docker and similar things do seem more app container oriented. you can use them for bitbake, but you need to sort out the interactions across the boundary, whereas with chroot or a light container you can make it nearly transparent</td><td class="time"><a href="#t2015-09-03T17:38:03" class="time">17:38</a></td></tr>
<tr id="t2015-09-03T17:38:34"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">yes, I was using plain chroot until recently</td><td class="time"><a href="#t2015-09-03T17:38:34" class="time">17:38</a></td></tr>
<tr id="t2015-09-03T17:38:49"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">LXC is just small step from it to make it easier managable without root/sudo access</td><td class="time"><a href="#t2015-09-03T17:38:49" class="time">17:38</a></td></tr>
<tr id="t2015-09-03T17:38:55"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">khem`: i think systemd is less monolithic than people think, in that its components aren't all tightly bound, but it *does* consume everything into its umbrella / repo / project, which is slightly irritating</td><td class="time"><a href="#t2015-09-03T17:38:55" class="time">17:38</a></td></tr>
<tr id="t2015-09-03T17:39:02"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">JaMa: agreed</td><td class="time"><a href="#t2015-09-03T17:39:02" class="time">17:39</a></td></tr>
<tr id="t2015-09-03T17:39:22"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">good bye "su" :)</td><td class="time"><a href="#t2015-09-03T17:39:22" class="time">17:39</a></td></tr>
<tr id="t2015-09-03T17:39:43"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">what i like about pflask or systemd-nspawn vs some of the alternatives is it's self contained. the command-line includes everything, no config files to set up, etc</td><td class="time"><a href="#t2015-09-03T17:39:43" class="time">17:39</a></td></tr>
<tr id="t2015-09-03T17:39:48"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">not sure if lxc is that way or not, haven't played with it much</td><td class="time"><a href="#t2015-09-03T17:39:48" class="time">17:39</a></td></tr>
<tr id="t2015-09-03T17:40:19"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">there is small config for lxc if you're not completely happy with defaults</td><td class="time"><a href="#t2015-09-03T17:40:19" class="time">17:40</a></td></tr>
<tr id="t2015-09-03T17:40:36"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">but for our build claster use-case, I host whole container including the config on NFS</td><td class="time"><a href="#t2015-09-03T17:40:36" class="time">17:40</a></td></tr>
<tr id="t2015-09-03T17:40:47"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">ah, thats cool</td><td class="time"><a href="#t2015-09-03T17:40:47" class="time">17:40</a></td></tr>
<tr id="t2015-09-03T17:41:40"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">we already run in openstack env</td><td class="time"><a href="#t2015-09-03T17:41:40" class="time">17:41</a></td></tr>
<tr id="t2015-09-03T17:41:49"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">so VM on VM is sort of overkill</td><td class="time"><a href="#t2015-09-03T17:41:49" class="time">17:41</a></td></tr>
<tr id="t2015-09-03T17:42:11"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">its easier to start/stop a new node</td><td class="time"><a href="#t2015-09-03T17:42:11" class="time">17:42</a></td></tr>
<tr id="t2015-09-03T17:43:33"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">JaMa: the thing is, if you're in a situation like an OSV or chip vendor where you ship layers and bitbake to a customer, having them use containers / vms isn't necessarily trivial, because everybody has their own preferences there. unless it's completely transparent, folks will want to use whatever their tool of choice is. i guess as long as you ship the rootfs, you can leave it up to them what to do use to run the thing..</td><td class="time"><a href="#t2015-09-03T17:43:33" class="time">17:43</a></td></tr>
<tr id="t2015-09-03T17:44:19"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">I'm a big fan of transparently offloading bitbake to the container and keeping your development environment outside, as who wants to set up your dev env yet again in the vm?</td><td class="time"><a href="#t2015-09-03T17:44:19" class="time">17:44</a></td></tr>
<tr id="t2015-09-03T17:44:26"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">heh</td><td class="time"><a href="#t2015-09-03T17:44:26" class="time">17:44</a></td></tr>
<tr id="t2015-09-03T17:44:44"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">containers offer both</td><td class="time"><a href="#t2015-09-03T17:44:44" class="time">17:44</a></td></tr>
<tr id="t2015-09-03T17:45:01"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">yeah, precisely. vms are tougher to do that with</td><td class="time"><a href="#t2015-09-03T17:45:01" class="time">17:45</a></td></tr>
<tr id="t2015-09-03T17:45:06"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">doable, but more overhead</td><td class="time"><a href="#t2015-09-03T17:45:06" class="time">17:45</a></td></tr>
<tr id="t2015-09-03T17:45:10"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">I mount the datadisk at same mount points in container and on my host running my favourite distro</td><td class="time"><a href="#t2015-09-03T17:45:10" class="time">17:45</a></td></tr>
<tr id="t2015-09-03T17:45:14"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">works seemlessly</td><td class="time"><a href="#t2015-09-03T17:45:14" class="time">17:45</a></td></tr>
<tr id="t2015-09-03T17:45:18"><td class="action" colspan="2">* kergoth nods</td><td><a href="#t2015-09-03T17:45:18" class="time">17:45</a></td></tr>
<tr id="t2015-09-03T17:45:58"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">I wonder if anyone's written a lightweight wrapper around running something in a container to hide whether it's using lxc, systemd-nspawn, pflask, etc under the hood</td><td class="time"><a href="#t2015-09-03T17:45:58" class="time">17:45</a></td></tr>
<tr id="t2015-09-03T17:48:22"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">kergoth: good question github might have answers</td><td class="time"><a href="#t2015-09-03T17:48:22" class="time">17:48</a></td></tr>
<tr id="t2015-09-03T17:48:30"><td class="action" colspan="2">* kergoth nods</td><td><a href="#t2015-09-03T17:48:30" class="time">17:48</a></td></tr>
<tr id="t2015-09-03T17:48:37"><td class="action" colspan="2">* neverpanic hates that almost none of those container tools get pseudo terminals right :/</td><td><a href="#t2015-09-03T17:48:37" class="time">17:48</a></td></tr>
<tr id="t2015-09-03T17:49:01"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">kergoth: I see, I would ship container as alternative if customer wants reliable, tested environment which will most likely reuse everything from sstate and won't show any new host contamination issues</td><td class="time"><a href="#t2015-09-03T17:49:01" class="time">17:49</a></td></tr>
<tr id="t2015-09-03T17:49:34"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">if they decide against it, then your bbclass will help at least to reuse more sstate :)</td><td class="time"><a href="#t2015-09-03T17:49:34" class="time">17:49</a></td></tr>
<tr id="t2015-09-03T17:49:51"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">may be there should be fido build appliance and so on</td><td class="time"><a href="#t2015-09-03T17:49:51" class="time">17:49</a></td></tr>
<tr id="t2015-09-03T17:50:01"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">with prepopulated sstate</td><td class="time"><a href="#t2015-09-03T17:50:01" class="time">17:50</a></td></tr>
<tr id="t2015-09-03T17:50:57"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">khem`: you seem to believe a lot in prepopulated sstate, are you really seeing so great sstate reuse between different builds?</td><td class="time"><a href="#t2015-09-03T17:50:57" class="time">17:50</a></td></tr>
<tr id="t2015-09-03T17:51:34"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">we're generating around 2TB of sstate per month</td><td class="time"><a href="#t2015-09-03T17:51:34" class="time">17:51</a></td></tr>
<tr id="t2015-09-03T17:51:38"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">no but if build appliance is containersized I expect it to be more</td><td class="time"><a href="#t2015-09-03T17:51:38" class="time">17:51</a></td></tr>
<tr id="t2015-09-03T17:52:03"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">and most our builds are performed on the same host distro, same OE release with only smaller changes in our apps and libs</td><td class="time"><a href="#t2015-09-03T17:52:03" class="time">17:52</a></td></tr>
<tr id="t2015-09-03T17:52:11"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">but it's true we have big images</td><td class="time"><a href="#t2015-09-03T17:52:11" class="time">17:52</a></td></tr>
<tr id="t2015-09-03T17:52:18"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">I still believe that feed based mechanisms are still preferred</td><td class="time"><a href="#t2015-09-03T17:52:18" class="time">17:52</a></td></tr>
<tr id="t2015-09-03T17:52:39"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">the reason why debian became instant hit on rpi and bbb is the proof</td><td class="time"><a href="#t2015-09-03T17:52:39" class="time">17:52</a></td></tr>
<tr id="t2015-09-03T17:53:01"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">angstrom was on same way but debian just is a steam roller</td><td class="time"><a href="#t2015-09-03T17:53:01" class="time">17:53</a></td></tr>
<tr id="t2015-09-03T17:53:03"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">right now I'm debugging some issue in fontconfig cache and every change to fontconfig causes only maybe 20% sstate reuse</td><td class="time"><a href="#t2015-09-03T17:53:03" class="time">17:53</a></td></tr>
<tr id="t2015-09-03T17:53:34"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">JaMa: the problem is fundamental, the devs of components dont use cross build envs</td><td class="time"><a href="#t2015-09-03T17:53:34" class="time">17:53</a></td></tr>
<tr id="t2015-09-03T17:53:45"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">is someone using fontcache.bbclass on read-only file system?</td><td class="time"><a href="#t2015-09-03T17:53:45" class="time">17:53</a></td></tr>
<tr id="t2015-09-03T17:53:46"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">so sstate is totally a foreign thing for them</td><td class="time"><a href="#t2015-09-03T17:53:46" class="time">17:53</a></td></tr>
<tr id="t2015-09-03T17:53:50"><th class="nick" style="background: #b15db1">neverpanic</th><td class="text" style="color: #b15db1">JaMa: Did you ever try building the source with ccache?</td><td class="time"><a href="#t2015-09-03T17:53:50" class="time">17:53</a></td></tr>
<tr id="t2015-09-03T17:54:01"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">so we will always play the catching game</td><td class="time"><a href="#t2015-09-03T17:54:01" class="time">17:54</a></td></tr>
<tr id="t2015-09-03T17:54:30"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">neverpanic: yes with mixed feelings about the outcome</td><td class="time"><a href="#t2015-09-03T17:54:30" class="time">17:54</a></td></tr>
<tr id="t2015-09-03T17:54:47"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">the same does apply for icecc</td><td class="time"><a href="#t2015-09-03T17:54:47" class="time">17:54</a></td></tr>
<tr id="t2015-09-03T17:54:47"><th class="nick" style="background: #b15db1">neverpanic</th><td class="text" style="color: #b15db1">So no significant speedup?</td><td class="time"><a href="#t2015-09-03T17:54:47" class="time">17:54</a></td></tr>
<tr id="t2015-09-03T17:54:52"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">We should pay more attention to binary feeds IMO</td><td class="time"><a href="#t2015-09-03T17:54:52" class="time">17:54</a></td></tr>
<tr id="t2015-09-03T17:55:01"><th class="nick" style="background: #b15db1">neverpanic</th><td class="text" style="color: #b15db1">Yeah, I've had mixed experiences with icecc as well</td><td class="time"><a href="#t2015-09-03T17:55:01" class="time">17:55</a></td></tr>
<tr id="t2015-09-03T17:55:31"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">with SSDs, distributed compilinng is nullified IMO</td><td class="time"><a href="#t2015-09-03T17:55:31" class="time">17:55</a></td></tr>
<tr id="t2015-09-03T17:55:42"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i think shipping sstate mainly gives you a good out of box experience for builds, that initial build is fast, even though they'll shortly be making modifications that'll cause everything to rebuild from scratch</td><td class="time"><a href="#t2015-09-03T17:55:42" class="time">17:55</a></td></tr>
<tr id="t2015-09-03T17:55:53"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">the problem is 30% of time is spend in preprocessing and that still happens on one machine</td><td class="time"><a href="#t2015-09-03T17:55:53" class="time">17:55</a></td></tr>
<tr id="t2015-09-03T17:56:13"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">so icecc and distcc made sense with slow HDs</td><td class="time"><a href="#t2015-09-03T17:56:13" class="time">17:56</a></td></tr>
<tr id="t2015-09-03T17:56:15"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">not now</td><td class="time"><a href="#t2015-09-03T17:56:15" class="time">17:56</a></td></tr>
<tr id="t2015-09-03T17:56:19"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">but out of box experience is important. shrink to the 'time to magic' (<a href="https://medium.com/bolt-blog/min-time-to-magic-c938d9ea3473" rel="nofollow">https://medium.com/bolt-blog/min-time-to-magic-c938d9ea3473</a>)</td><td class="time"><a href="#t2015-09-03T17:56:19" class="time">17:56</a></td></tr>
<tr id="t2015-09-03T17:56:42"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">icecc/distcc always had a certain amount of overhead -- if the compile time is too small, the overhead is more statistically significant..</td><td class="time"><a href="#t2015-09-03T17:56:42" class="time">17:56</a></td></tr>
<tr id="t2015-09-03T17:56:55"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">neverpanic: significant speedup when testing it on rebuilding the same recipe over and over, but for rebuiding big image the speedup was gone (possibly because of ccache size being too small)</td><td class="time"><a href="#t2015-09-03T17:56:55" class="time">17:56</a></td></tr>
<tr id="t2015-09-03T17:57:00"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">khem`: i'd like to see us support non-cross / native builds at some point..</td><td class="time"><a href="#t2015-09-03T17:57:00" class="time">17:57</a></td></tr>
<tr id="t2015-09-03T17:57:26"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">kergoth: we should have paid attention to binary feeds</td><td class="time"><a href="#t2015-09-03T17:57:26" class="time">17:57</a></td></tr>
<tr id="t2015-09-03T17:57:41"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">with OE-Core we never prioritized it</td><td class="time"><a href="#t2015-09-03T17:57:41" class="time">17:57</a></td></tr>
<tr id="t2015-09-03T17:57:45"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">agreed. at least oe-core provides an ability to build images from a feed nowadays</td><td class="time"><a href="#t2015-09-03T17:57:45" class="time">17:57</a></td></tr>
<tr id="t2015-09-03T17:57:50"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">distros like angstrom sufferred</td><td class="time"><a href="#t2015-09-03T17:57:50" class="time">17:57</a></td></tr>
<tr id="t2015-09-03T17:58:11"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">there is one thing to provide knobs, supporting it is another thing</td><td class="time"><a href="#t2015-09-03T17:58:11" class="time">17:58</a></td></tr>
<tr id="t2015-09-03T17:58:13"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">it's unfortunate, you're right about beagle &amp; debian, folks want to be abl eto just apt-ge tinstall their favorite app</td><td class="time"><a href="#t2015-09-03T17:58:13" class="time">17:58</a></td></tr>
<tr id="t2015-09-03T17:58:27"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">would be nice if more yocto-oriented distros provided that capability</td><td class="time"><a href="#t2015-09-03T17:58:27" class="time">17:58</a></td></tr>
<tr id="t2015-09-03T17:58:35"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">and one may say oh those are hacker SBCs</td><td class="time"><a href="#t2015-09-03T17:58:35" class="time">17:58</a></td></tr>
<tr id="t2015-09-03T17:58:40"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">but then you have public-facing servers and load to deal with</td><td class="time"><a href="#t2015-09-03T17:58:40" class="time">17:58</a></td></tr>
<tr id="t2015-09-03T17:58:42"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">but thats what gets a distro in house</td><td class="time"><a href="#t2015-09-03T17:58:42" class="time">17:58</a></td></tr>
<tr id="t2015-09-03T17:58:51"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">kergoth: khem` icecc still looks amazing when you benchmark it on huge icecc cluster by running qtwebengine.do_compile task which can spawn really *a lot* of parallel tasks</td><td class="time"><a href="#t2015-09-03T17:58:51" class="time">17:58</a></td></tr>
<tr id="t2015-09-03T17:58:55"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i guess it depends on who your customers are</td><td class="time"><a href="#t2015-09-03T17:58:55" class="time">17:58</a></td></tr>
<tr id="t2015-09-03T17:59:18"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">but then when you benchmark build of whole image then the difference is far from significant</td><td class="time"><a href="#t2015-09-03T17:59:18" class="time">17:59</a></td></tr>
<tr id="t2015-09-03T17:59:44"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">kergoth: as the smaller systems become capable OE big distros will get into them</td><td class="time"><a href="#t2015-09-03T17:59:44" class="time">17:59</a></td></tr>
<tr id="t2015-09-03T18:00:10"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">people dont want to deal with system builds</td><td class="time"><a href="#t2015-09-03T18:00:10" class="time">18:00</a></td></tr>
<tr id="t2015-09-03T18:00:31"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">let that to small subset of debian or fedora or arch hackers</td><td class="time"><a href="#t2015-09-03T18:00:31" class="time">18:00</a></td></tr>
<tr id="t2015-09-03T18:00:47"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">there still will be place for it</td><td class="time"><a href="#t2015-09-03T18:00:47" class="time">18:00</a></td></tr>
<tr id="t2015-09-03T18:00:48"><td class="action" colspan="2">* zeddii has been working on that model, just to see how well it works.</td><td><a href="#t2015-09-03T18:00:48" class="time">18:00</a></td></tr>
<tr id="t2015-09-03T18:00:53"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">but reduced over time</td><td class="time"><a href="#t2015-09-03T18:00:53" class="time">18:00</a></td></tr>
<tr id="t2015-09-03T18:01:30"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">FWIW: SHR still provides binary feeds :) but I haven't updated the official ones to newer OE releases, because almost nobody is using it now</td><td class="time"><a href="#t2015-09-03T18:01:30" class="time">18:01</a></td></tr>
<tr id="t2015-09-03T18:01:44"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">my concern with binary feeds is always configuration changes that change abi</td><td class="time"><a href="#t2015-09-03T18:01:44" class="time">18:01</a></td></tr>
<tr id="t2015-09-03T18:01:54"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">we had rolling release models way before others</td><td class="time"><a href="#t2015-09-03T18:01:54" class="time">18:01</a></td></tr>
<tr id="t2015-09-03T18:01:54"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">so it shrinked into my personal testing ground</td><td class="time"><a href="#t2015-09-03T18:01:54" class="time">18:01</a></td></tr>
<tr id="t2015-09-03T18:01:55"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">how do you encode that to ensure incompatible feeds aren't used</td><td class="time"><a href="#t2015-09-03T18:01:55" class="time">18:01</a></td></tr>
<tr id="t2015-09-03T18:03:17"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">kergoth: you mean feeds from different builders?</td><td class="time"><a href="#t2015-09-03T18:03:17" class="time">18:03</a></td></tr>
<tr id="t2015-09-03T18:05:10"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">even with feeds from the same builder I rarely do "opkg upgrade" since I started to use PRserv.. upgrading 90% of installed packages takes much longer than reflashing the image</td><td class="time"><a href="#t2015-09-03T18:05:10" class="time">18:05</a></td></tr>
<tr id="t2015-09-03T18:11:35"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">JaMa: yeah, or just different build directories, or tweaks to local.conf that alter overarching policy, like user overrides of distro features</td><td class="time"><a href="#t2015-09-03T18:11:35" class="time">18:11</a></td></tr>
<tr id="t2015-09-03T18:11:46"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">if you have a feed uri configured for hte resulting image, it could point at an incopmatible feed</td><td class="time"><a href="#t2015-09-03T18:11:46" class="time">18:11</a></td></tr>
<tr id="t2015-09-03T18:11:55"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">wonder how angstrom deals with that</td><td class="time"><a href="#t2015-09-03T18:11:55" class="time">18:11</a></td></tr>
<tr id="t2015-09-03T18:12:03"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">or if they only configure it for official builds</td><td class="time"><a href="#t2015-09-03T18:12:03" class="time">18:12</a></td></tr>
<tr id="t2015-09-03T18:13:08"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">I would expect these different build directories to have different binary feed and different feed-urls in images produced by them</td><td class="time"><a href="#t2015-09-03T18:13:08" class="time">18:13</a></td></tr>
<tr id="t2015-09-03T18:13:23"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">that's how we were building different releases on the same server</td><td class="time"><a href="#t2015-09-03T18:13:23" class="time">18:13</a></td></tr>
<tr id="t2015-09-03T18:14:20"><th class="nick" style="background: #adad5b">JaMa</th><td class="text" style="color: #adad5b">people still could switch from unstable to testing on the device, but such upgrade path wasn't supported and in most cases ended with broken image</td><td class="time"><a href="#t2015-09-03T18:14:20" class="time">18:14</a></td></tr>
<tr id="t2015-09-03T18:14:52"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i'm more concerned about user rebuilding things from source, but i guess as long as their custom builds don't include feed configuration, you'd be okay</td><td class="time"><a href="#t2015-09-03T18:14:52" class="time">18:14</a></td></tr>
<tr id="t2015-09-03T18:39:01"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">kergoth: right now the angstrom feeds cater to systems using angstrom default distro policy if thre are changes to that</td><td class="time"><a href="#t2015-09-03T18:39:01" class="time">18:39</a></td></tr>
<tr id="t2015-09-03T18:39:20"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">then I dont think it has any guards for wrong usage of feeds</td><td class="time"><a href="#t2015-09-03T18:39:20" class="time">18:39</a></td></tr>
<tr id="t2015-09-03T18:39:51"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">however the major imcompatibilies like hardfloat and thumb2 etc. should be taken care of</td><td class="time"><a href="#t2015-09-03T18:39:51" class="time">18:39</a></td></tr>
<tr id="t2015-09-03T18:39:59"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">already</td><td class="time"><a href="#t2015-09-03T18:39:59" class="time">18:39</a></td></tr>
<tr id="t2015-09-03T18:40:18"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">but now a days there are so many other knobs to make it incompatible</td><td class="time"><a href="#t2015-09-03T18:40:18" class="time">18:40</a></td></tr>
<tr id="t2015-09-03T18:52:29"><td class="part" colspan="2">*** lamego &lt;lamego!~jose@134.134.139.76&gt; has left #yocto</td><td><a href="#t2015-09-03T18:52:29" class="time">18:52</a></td></tr>
<tr id="t2015-09-03T18:54:26"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">khem: yeah, that's always been my concern, there's no real way to encode the configuration into the packages. which is expected, just troublesome for support without some form of guards for it</td><td class="time"><a href="#t2015-09-03T18:54:26" class="time">18:54</a></td></tr>
<tr id="t2015-09-03T18:55:22"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">yeah</td><td class="time"><a href="#t2015-09-03T18:55:22" class="time">18:55</a></td></tr>
<tr id="t2015-09-03T18:55:46"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">OE is a src based distribution period</td><td class="time"><a href="#t2015-09-03T18:55:46" class="time">18:55</a></td></tr>
<tr id="t2015-09-03T18:55:54"><th class="nick" style="background: #5959a9">khem`</th><td class="text" style="color: #5959a9">I have come to terms with it</td><td class="time"><a href="#t2015-09-03T18:55:54" class="time">18:55</a></td></tr>
<tr id="t2015-09-03T18:57:55"><td class="nickchange" colspan="2">*** AlexV is now known as Guest41318</td><td><a href="#t2015-09-03T18:57:55" class="time">18:57</a></td></tr>
<tr id="t2015-09-03T19:03:58"><td class="part" colspan="2">*** raykinsella78 &lt;raykinsella78!rkinsell@nat/intel/x-dtkyyscsufiqunws&gt; has left #yocto</td><td><a href="#t2015-09-03T19:03:58" class="time">19:03</a></td></tr>
<tr id="t2015-09-03T19:47:53"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">hmmm</td><td class="time"><a href="#t2015-09-03T19:47:53" class="time">19:47</a></td></tr>
<tr id="t2015-09-03T19:48:23"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">archiver.bbclass doesn't grab git mirror tarballs. should add that. i think in most cases it'd be better to pull that than the git2/ subdir</td><td class="time"><a href="#t2015-09-03T19:48:23" class="time">19:48</a></td></tr>
<tr id="t2015-09-03T19:48:29"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">if it exists, at least</td><td class="time"><a href="#t2015-09-03T19:48:29" class="time">19:48</a></td></tr>
<tr id="t2015-09-03T19:57:40"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">kergoth: I am thinking of deferring the shallow clone piece, yes</td><td class="time"><a href="#t2015-09-03T19:57:40" class="time">19:57</a></td></tr>
<tr id="t2015-09-03T19:58:05"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">kergoth: There are just too many other issues atm without a potentially cranky git fetcher :/</td><td class="time"><a href="#t2015-09-03T19:58:05" class="time">19:58</a></td></tr>
<tr id="t2015-09-03T19:58:24"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">kergoth: that stuff tends not to test well on the autobuilder, only in the real world</td><td class="time"><a href="#t2015-09-03T19:58:24" class="time">19:58</a></td></tr>
<tr id="t2015-09-03T20:00:37"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">Yeah, I hear you. fetch is tough since a big part of it is the current state of DL_DIR vs upstream, and it's extremely tough to test every combination of those. automated builds tend to start fresh, or from a known good mirror</td><td class="time"><a href="#t2015-09-03T20:00:37" class="time">20:00</a></td></tr>
<tr id="t2015-09-03T20:01:11"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">we might need to carry a fork of bitbake/poky for the next mel release, though. we distribute sources to the customer, and full kernel tarballs are freaking massive :)</td><td class="time"><a href="#t2015-09-03T20:01:11" class="time">20:01</a></td></tr>
<tr id="t2015-09-03T20:01:38"><th class="nick" style="background: #b86161">onoffon</th><td class="text" style="color: #b86161">how about pseudo upgrade patch ? it makes me nervous too</td><td class="time"><a href="#t2015-09-03T20:01:38" class="time">20:01</a></td></tr>
<tr id="t2015-09-03T20:01:48"><th class="nick" style="background: #b86161">onoffon</th><td class="text" style="color: #b86161">pseudo can bring lot of grief</td><td class="time"><a href="#t2015-09-03T20:01:48" class="time">20:01</a></td></tr>
<tr id="t2015-09-03T20:01:51"><td class="nickchange" colspan="2">*** onoffon is now known as khem`</td><td><a href="#t2015-09-03T20:01:51" class="time">20:01</a></td></tr>
<tr id="t2015-09-03T20:01:55"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">every pseudo change makes me nervous, it's so critical to us</td><td class="time"><a href="#t2015-09-03T20:01:55" class="time">20:01</a></td></tr>
<tr id="t2015-09-03T20:02:01"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">all of us, that is</td><td class="time"><a href="#t2015-09-03T20:02:01" class="time">20:02</a></td></tr>
<tr id="t2015-09-03T20:02:35"><th class="nick" style="background: #b86161">khem`</th><td class="text" style="color: #b86161">and I would like to propose a consistent branching across oe-core and bitbake this time</td><td class="time"><a href="#t2015-09-03T20:02:35" class="time">20:02</a></td></tr>
<tr id="t2015-09-03T20:02:52"><th class="nick" style="background: #b86161">khem`</th><td class="text" style="color: #b86161">its quite confusing to relate 1.26 = fido</td><td class="time"><a href="#t2015-09-03T20:02:52" class="time">20:02</a></td></tr>
<tr id="t2015-09-03T20:03:05"><th class="nick" style="background: #b86161">khem`</th><td class="text" style="color: #b86161">and there are no other consumers of bitbake</td><td class="time"><a href="#t2015-09-03T20:03:05" class="time">20:03</a></td></tr>
<tr id="t2015-09-03T20:03:12"><th class="nick" style="background: #b86161">khem`</th><td class="text" style="color: #b86161">that I know of besides OE</td><td class="time"><a href="#t2015-09-03T20:03:12" class="time">20:03</a></td></tr>
<tr id="t2015-09-03T20:03:26"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">hmm, not sure how i feel about that, bitbake has its own scheme, always has, we aren't going to revamp its versioning scheme anytime soon, i wouldn't think</td><td class="time"><a href="#t2015-09-03T20:03:26" class="time">20:03</a></td></tr>
<tr id="t2015-09-03T20:03:55"><th class="nick" style="background: #b86161">khem`</th><td class="text" style="color: #b86161">kergoth: something to think about though</td><td class="time"><a href="#t2015-09-03T20:03:55" class="time">20:03</a></td></tr>
<tr id="t2015-09-03T20:04:03"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">technically oe-core still leverages part of bitbake, i think, but they probably have their own fork of it</td><td class="time"><a href="#t2015-09-03T20:04:03" class="time">20:04</a></td></tr>
<tr id="t2015-09-03T20:04:06"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">er, oe-lite</td><td class="time"><a href="#t2015-09-03T20:04:06" class="time">20:04</a></td></tr>
<tr id="t2015-09-03T20:04:08"><th class="nick" style="background: #b86161">khem`</th><td class="text" style="color: #b86161">the release could still be 1.xy</td><td class="time"><a href="#t2015-09-03T20:04:08" class="time">20:04</a></td></tr>
<tr id="t2015-09-03T20:04:24"><th class="nick" style="background: #b86161">khem`</th><td class="text" style="color: #b86161">but branch code could be more exotic</td><td class="time"><a href="#t2015-09-03T20:04:24" class="time">20:04</a></td></tr>
<tr id="t2015-09-03T20:04:28"><th class="nick" style="background: #b86161">khem`</th><td class="text" style="color: #b86161">game name</td><td class="time"><a href="#t2015-09-03T20:04:28" class="time">20:04</a></td></tr>
<tr id="t2015-09-03T20:04:46"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">hmm, true. keep 1.xy for the tags</td><td class="time"><a href="#t2015-09-03T20:04:46" class="time">20:04</a></td></tr>
<tr id="t2015-09-03T20:04:48"><td class="action" colspan="2">* kergoth shrugs</td><td><a href="#t2015-09-03T20:04:48" class="time">20:04</a></td></tr>
<tr id="t2015-09-03T20:06:09"><th class="nick" style="background: #b86161">khem`</th><td class="text" style="color: #b86161">I would even propose to not call reference distro as poky</td><td class="time"><a href="#t2015-09-03T20:06:09" class="time">20:06</a></td></tr>
<tr id="t2015-09-03T20:06:29"><th class="nick" style="background: #b86161">khem`</th><td class="text" style="color: #b86161">for YP that is</td><td class="time"><a href="#t2015-09-03T20:06:29" class="time">20:06</a></td></tr>
<tr id="t2015-09-03T20:07:05"><th class="nick" style="background: #b86161">khem`</th><td class="text" style="color: #b86161">and may be reflect YP release and name directly</td><td class="time"><a href="#t2015-09-03T20:07:05" class="time">20:07</a></td></tr>
<tr id="t2015-09-03T20:07:25"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">what bugs me a little is the delta between distroless and poky. if something is good enough for the reference distro, why isn't it default?</td><td class="time"><a href="#t2015-09-03T20:07:25" class="time">20:07</a></td></tr>
<tr id="t2015-09-03T20:13:03"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">kergoth: the delta really isn't that much anymore</td><td class="time"><a href="#t2015-09-03T20:13:03" class="time">20:13</a></td></tr>
<tr id="t2015-09-03T20:13:27"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">kergoth: any particilar variables you're concerned about in particular?</td><td class="time"><a href="#t2015-09-03T20:13:27" class="time">20:13</a></td></tr>
<tr id="t2015-09-03T20:17:35"><th class="nick" style="background: #b86161">khem`</th><td class="text" style="color: #b86161">overriding default TMPDIR</td><td class="time"><a href="#t2015-09-03T20:17:35" class="time">20:17</a></td></tr>
<tr id="t2015-09-03T20:26:55"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">RP, you around? I got your message about the additional breakage, but the link you sent me was to a build report that I am not very familiar with and I am not sure what I am looking for in it.</td><td class="time"><a href="#t2015-09-03T20:26:55" class="time">20:26</a></td></tr>
<tr id="t2015-09-03T20:27:30"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">I am suspecting it will turn out to be another case where something was supposed to get allocated but didn't, but I am not as sure how I would find it or test it.</td><td class="time"><a href="#t2015-09-03T20:27:30" class="time">20:27</a></td></tr>
<tr id="t2015-09-03T20:30:28"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">seebs: I'm here</td><td class="time"><a href="#t2015-09-03T20:30:28" class="time">20:30</a></td></tr>
<tr id="t2015-09-03T20:31:37"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">seebs: the key link from that first page is <a href="https://autobuilder.yoctoproject.org/main/builders/nightly-ipk/builds/469/steps/BuildImages/logs/stdio" rel="nofollow">https://autobuilder.yoctoproject.org/main/builders/nightly-ipk/builds/469/steps/BuildImages/logs/stdio</a></td><td class="time"><a href="#t2015-09-03T20:31:37" class="time">20:31</a></td></tr>
<tr id="t2015-09-03T20:32:11"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">seebs: read that one backwards, at the end it says it attempted five do_rootfs tasks and they all failed</td><td class="time"><a href="#t2015-09-03T20:32:11" class="time">20:32</a></td></tr>
<tr id="t2015-09-03T20:32:31"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">ohhh.</td><td class="time"><a href="#t2015-09-03T20:32:31" class="time">20:32</a></td></tr>
<tr id="t2015-09-03T20:32:34"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">seebs: you then scroll back and see five different rootfs failures, all looking similar where execute permissions disappeared</td><td class="time"><a href="#t2015-09-03T20:32:34" class="time">20:32</a></td></tr>
<tr id="t2015-09-03T20:32:45"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Oh-hoh! I think I may know what's causing that.</td><td class="time"><a href="#t2015-09-03T20:32:45" class="time">20:32</a></td></tr>
<tr id="t2015-09-03T20:32:47"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">seebs: all with opkg</td><td class="time"><a href="#t2015-09-03T20:32:47" class="time">20:32</a></td></tr>
<tr id="t2015-09-03T20:33:51"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Weird, I thought I was building with opkg (before I was building with rpm) and it wasn't doing that to me. But...</td><td class="time"><a href="#t2015-09-03T20:33:51" class="time">20:33</a></td></tr>
<tr id="t2015-09-03T20:35:30"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Is it possible for me to get access to one of the failed build directories to compare with? I am not 100% sure whether it'll reproduce for me yet, even though in theory I assume it should.</td><td class="time"><a href="#t2015-09-03T20:35:30" class="time">20:35</a></td></tr>
<tr id="t2015-09-03T20:36:30"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">There is a thing I think is suspicious, but comparing notes, I'm pretty sure that the behavior shouldn't actually have changed there.</td><td class="time"><a href="#t2015-09-03T20:36:30" class="time">20:36</a></td></tr>
<tr id="t2015-09-03T20:36:40"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">halstead: could we get seebs ssh access to debian8?</td><td class="time"><a href="#t2015-09-03T20:36:40" class="time">20:36</a></td></tr>
<tr id="t2015-09-03T20:36:43"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">If it is, it's probably a result of the umask bug fix.</td><td class="time"><a href="#t2015-09-03T20:36:43" class="time">20:36</a></td></tr>
<tr id="t2015-09-03T20:36:53"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">halstead: my own ssh access doesn't appear to be working :/</td><td class="time"><a href="#t2015-09-03T20:36:53" class="time">20:36</a></td></tr>
<tr id="t2015-09-03T20:37:45"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">seebs: right now the builddir doesn't appear to have been reused</td><td class="time"><a href="#t2015-09-03T20:37:45" class="time">20:37</a></td></tr>
<tr id="t2015-09-03T20:38:06"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">The obvious question would be what the real fs modes are for the affected files.</td><td class="time"><a href="#t2015-09-03T20:38:06" class="time">20:38</a></td></tr>
<tr id="t2015-09-03T20:38:13"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">And I guess what the command is which produced the warning.</td><td class="time"><a href="#t2015-09-03T20:38:13" class="time">20:38</a></td></tr>
<tr id="t2015-09-03T20:38:24"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Like, was it doing 'sh /path/to/script' or something else.</td><td class="time"><a href="#t2015-09-03T20:38:24" class="time">20:38</a></td></tr>
<tr id="t2015-09-03T20:38:40"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">seebs: for the latter, its however opkg runs its postinsts</td><td class="time"><a href="#t2015-09-03T20:38:40" class="time">20:38</a></td></tr>
<tr id="t2015-09-03T20:38:51"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">seebs: the former I can't see as my own access isn't working</td><td class="time"><a href="#t2015-09-03T20:38:51" class="time">20:38</a></td></tr>
<tr id="t2015-09-03T20:38:51"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Huh. I have no idea. I will have to investigate.</td><td class="time"><a href="#t2015-09-03T20:38:51" class="time">20:38</a></td></tr>
<tr id="t2015-09-03T20:39:06"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Well, a build shouldn't take super long, and I have other stuff running too.</td><td class="time"><a href="#t2015-09-03T20:39:06" class="time">20:39</a></td></tr>
<tr id="t2015-09-03T20:39:15"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">There's a umask fix that became necessary because of the xattrdb stuff, but should be more-correct regardless.</td><td class="time"><a href="#t2015-09-03T20:39:15" class="time">20:39</a></td></tr>
<tr id="t2015-09-03T20:39:31"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">seebs: particularly as a core-image-minimal appears to reprocude</td><td class="time"><a href="#t2015-09-03T20:39:31" class="time">20:39</a></td></tr>
<tr id="t2015-09-03T20:39:36"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Neat!</td><td class="time"><a href="#t2015-09-03T20:39:36" class="time">20:39</a></td></tr>
<tr id="t2015-09-03T20:40:16"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">seebs: the multilib builds also failed with this fwiw</td><td class="time"><a href="#t2015-09-03T20:40:16" class="time">20:40</a></td></tr>
<tr id="t2015-09-03T20:40:30"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Basically, if you have umask 777, files really do get created with an underlying mode 0, so I added a thing that chmods them to 0600... aaaand I just thought of a conceptual flaw in that thing.</td><td class="time"><a href="#t2015-09-03T20:40:30" class="time">20:40</a></td></tr>
<tr id="t2015-09-03T20:41:12"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Maybe not. This should only happen if the file did not previously exist, and openat() can't make new files.</td><td class="time"><a href="#t2015-09-03T20:41:12" class="time">20:41</a></td></tr>
<tr id="t2015-09-03T20:42:38"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">... Although looking at it, the code is actually gratuitously complicated, because I'm calling PSEUDO_FS_MODE(0600, 0), which is just 0600.</td><td class="time"><a href="#t2015-09-03T20:42:38" class="time">20:42</a></td></tr>
<tr id="t2015-09-03T20:42:57"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">But a lot of things are now getting chmod'd to 0600 in the underlying filesystem, which weren't previously.</td><td class="time"><a href="#t2015-09-03T20:42:57" class="time">20:42</a></td></tr>
<tr id="t2015-09-03T20:43:12"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">But they should all be plain files. But if something's trying to exec them, that could maybe do it?</td><td class="time"><a href="#t2015-09-03T20:43:12" class="time">20:43</a></td></tr>
<tr id="t2015-09-03T20:43:55"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">I am also a little surprised that my local tests did not run into this, so I am now extra curious.</td><td class="time"><a href="#t2015-09-03T20:43:55" class="time">20:43</a></td></tr>
<tr id="t2015-09-03T20:52:27"><th class="nick" style="background: #6464bf">nerdboy</th><td class="text" style="color: #6464bf">kergoth: should i test something?&nbsp;&nbsp;is this the pseudo patch in the mailing list from the other day?</td><td class="time"><a href="#t2015-09-03T20:52:27" class="time">20:52</a></td></tr>
<tr id="t2015-09-03T21:43:50"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">There's at least one observed problem with 1.7.1, which (oddly enough) did not happen previously when I was testing, but go figure.</td><td class="time"><a href="#t2015-09-03T21:43:50" class="time">21:43</a></td></tr>
<tr id="t2015-09-03T21:43:56"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">I am pretty sure I did a full rebuild without sstate cache after I did my big patch-cleanup-and-rebase, and yet, now things are failing. *sigh*</td><td class="time"><a href="#t2015-09-03T21:43:56" class="time">21:43</a></td></tr>
<tr id="t2015-09-03T21:44:12"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">... oh, lovely. RP, I do not reproduce the failures you had. But! I get coredumps from locale gen. (I was doing -base.)</td><td class="time"><a href="#t2015-09-03T21:44:12" class="time">21:44</a></td></tr>
<tr id="t2015-09-03T21:47:34"><td class="part" colspan="2">*** raykinsella78 &lt;raykinsella78!~rkinsell@192.198.151.43&gt; has left #yocto</td><td><a href="#t2015-09-03T21:47:34" class="time">21:47</a></td></tr>
<tr id="t2015-09-03T21:50:13"><th class="nick" style="background: #6464bf">nerdboy</th><td class="text" style="color: #6464bf">kinda sucks when you can't build your locale...</td><td class="time"><a href="#t2015-09-03T21:50:13" class="time">21:50</a></td></tr>
<tr id="t2015-09-03T21:54:53"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">seebs: hopefully halstead might be able to get you access to the one that failed</td><td class="time"><a href="#t2015-09-03T21:54:53" class="time">21:54</a></td></tr>
<tr id="t2015-09-03T21:55:19"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">(if you need it)</td><td class="time"><a href="#t2015-09-03T21:55:19" class="time">21:55</a></td></tr>
<tr id="t2015-09-03T21:57:06"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">I am annoyed, the locale build won't coredump for me when I run it manually.</td><td class="time"><a href="#t2015-09-03T21:57:06" class="time">21:57</a></td></tr>
<tr id="t2015-09-03T21:57:19"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">But I have a PLAN. Which involves modifying the bbclass to do "valgrind cross-localedef" and hoping this works.</td><td class="time"><a href="#t2015-09-03T21:57:19" class="time">21:57</a></td></tr>
<tr id="t2015-09-03T21:59:55"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">So, I expect to make progress, I do not know how long it will take, but. I can usually eventually track these down.</td><td class="time"><a href="#t2015-09-03T21:59:55" class="time">21:59</a></td></tr>
<tr id="t2015-09-03T22:01:34"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">seebs: fair enough. It is getting late in the release cycle for this though :/</td><td class="time"><a href="#t2015-09-03T22:01:34" class="time">22:01</a></td></tr>
<tr id="t2015-09-03T22:01:47"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Yeah.</td><td class="time"><a href="#t2015-09-03T22:01:47" class="time">22:01</a></td></tr>
<tr id="t2015-09-03T22:02:40"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">It is funny to me that the performance difference from the xattr change (which I expected to be huge) turned out to be about 1/3 the difference from the alloc/free and reduced operation spam changes.</td><td class="time"><a href="#t2015-09-03T22:02:40" class="time">22:02</a></td></tr>
<tr id="t2015-09-03T22:03:31"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">This is why profiling is a big deal.</td><td class="time"><a href="#t2015-09-03T22:03:31" class="time">22:03</a></td></tr>
<tr id="t2015-09-03T22:04:10"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Huh, that's odd. I can indeed finish a build of core-image-minimal on my target system, I believe using opkg. So there may be a host dependency.</td><td class="time"><a href="#t2015-09-03T22:04:10" class="time">22:04</a></td></tr>
<tr id="t2015-09-03T22:04:16"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Well, I can check that, I suppose.</td><td class="time"><a href="#t2015-09-03T22:04:16" class="time">22:04</a></td></tr>
<tr id="t2015-09-03T22:05:08"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">I have an ubuntu-or-so which ought to be more similar to a debian build machine.</td><td class="time"><a href="#t2015-09-03T22:05:08" class="time">22:05</a></td></tr>
<tr id="t2015-09-03T22:09:55"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">seebs: you'd have thought so. You're sure its building the rootfs using opkg?</td><td class="time"><a href="#t2015-09-03T22:09:55" class="time">22:09</a></td></tr>
<tr id="t2015-09-03T22:09:55"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">I'm... pretty sure? I reverted the config change that made it use RPM.</td><td class="time"><a href="#t2015-09-03T22:09:55" class="time">22:09</a></td></tr>
<tr id="t2015-09-03T22:09:55"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">And it's totally possible for there to be strange host dependencies in some of this.</td><td class="time"><a href="#t2015-09-03T22:09:55" class="time">22:09</a></td></tr>
<tr id="t2015-09-03T22:09:56"><th class="nick" style="background: #c3c366">fray</th><td class="text" style="color: #c3c366">based on the stdio log, it looks like it's processing post install scripts..&nbsp;&nbsp;so the more you process the more likely to trigger the fault..</td><td class="time"><a href="#t2015-09-03T22:09:56" class="time">22:09</a></td></tr>
<tr id="t2015-09-03T22:09:56"><th class="nick" style="background: #c3c366">fray</th><td class="text" style="color: #c3c366">you could probably rig up some test recipes/packages.. otherwise core-image-sato is more likely to have them (but will take longer to build)</td><td class="time"><a href="#t2015-09-03T22:09:56" class="time">22:09</a></td></tr>
<tr id="t2015-09-03T22:09:56"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">fray: fwiw all do_rootfs failed on the autobuilder :/</td><td class="time"><a href="#t2015-09-03T22:09:56" class="time">22:09</a></td></tr>
<tr id="t2015-09-03T22:09:57"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">also centos7-a failed with <a href="https://autobuilder.yoctoproject.org/main/builders/nightly-multilib/builds/480" rel="nofollow">https://autobuilder.yoctoproject.org/main/builders/nightly-multilib/builds/480</a> which looks like the same issue</td><td class="time"><a href="#t2015-09-03T22:09:57" class="time">22:09</a></td></tr>
<tr id="t2015-09-03T22:09:57"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">(follow the stdio links)</td><td class="time"><a href="#t2015-09-03T22:09:57" class="time">22:09</a></td></tr>
<tr id="t2015-09-03T22:09:57"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">hmm.</td><td class="time"><a href="#t2015-09-03T22:09:57" class="time">22:09</a></td></tr>
<tr id="t2015-09-03T22:10:03"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">seebs: ipk is default when its listed first in PACKAGES_CLASSES (as package_ipk)</td><td class="time"><a href="#t2015-09-03T22:10:03" class="time">22:10</a></td></tr>
<tr id="t2015-09-03T22:10:20"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">basically the first listed is used for rootfs construction</td><td class="time"><a href="#t2015-09-03T22:10:20" class="time">22:10</a></td></tr>
<tr id="t2015-09-03T22:11:26"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Yeah, it's definitely opkg, so.</td><td class="time"><a href="#t2015-09-03T22:11:26" class="time">22:11</a></td></tr>
<tr id="t2015-09-03T22:11:51"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">More testing to see if I can make it happen. Just in case, I am retesting using the actual tarball I sent you in case I did something really clever like make the tarball with the wrong patches.</td><td class="time"><a href="#t2015-09-03T22:11:51" class="time">22:11</a></td></tr>
<tr id="t2015-09-03T22:15:19"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">seebs: time for me to sleep, 'night!</td><td class="time"><a href="#t2015-09-03T22:15:19" class="time">22:15</a></td></tr>
<tr id="t2015-09-03T22:47:56"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Interestingly, core-image-minimal did trigger it for me with an Ubuntu host. So that's sort of not-encouraging. But I have the failure now!</td><td class="time"><a href="#t2015-09-03T22:47:56" class="time">22:47</a></td></tr>
<tr id="t2015-09-03T22:55:53"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Okay, so apparently the opkg build under some redhat variant did not create as many postinst scripts as the other did, and I am not at all sure why. I may have only partially fixed the config.</td><td class="time"><a href="#t2015-09-03T22:55:53" class="time">22:55</a></td></tr>
<tr id="t2015-09-03T22:56:23"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">And the problem appears to be that opkg is running "sh -c postinst_script", which fails if there's no execute permission.</td><td class="time"><a href="#t2015-09-03T22:56:23" class="time">22:56</a></td></tr>
<tr id="t2015-09-03T23:01:40"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">... Okay, found it. I used to be setting modes to ((given mode) | 0600 | (0100 if isdir)) &amp; ~022 &amp; ~umask</td><td class="time"><a href="#t2015-09-03T23:01:40" class="time">23:01</a></td></tr>
<tr id="t2015-09-03T23:02:15"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">and when I fixed the implications of the ~umask being able to break stuff, in some cases there was no way to check isdir, but I didn't or in the given mode, just the 0600.</td><td class="time"><a href="#t2015-09-03T23:02:15" class="time">23:02</a></td></tr>
<tr id="t2015-09-03T23:12:20"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">... It turns out this was a documented limitation, I found the comment that you can't expect things to work with 0700 umask.</td><td class="time"><a href="#t2015-09-03T23:12:20" class="time">23:12</a></td></tr>
<tr id="t2015-09-03T23:29:26"><th class="nick" style="background: #c668c6">aj_c</th><td class="text" style="color: #c668c6">does it exist a ${etcdir}</td><td class="time"><a href="#t2015-09-03T23:29:26" class="time">23:29</a></td></tr>
<tr id="t2015-09-03T23:51:20"><td class="part" colspan="2">*** raykinsella78 &lt;raykinsella78!rkinsell@nat/intel/x-ogotvzqxyipbceeq&gt; has left #yocto</td><td><a href="#t2015-09-03T23:51:20" class="time">23:51</a></td></tr>
<tr id="t2015-09-03T23:53:20"><th class="nick" style="background: #6acaca">paulg_</th><td class="text" style="color: #6acaca">----------</td><td class="time"><a href="#t2015-09-03T23:53:20" class="time">23:53</a></td></tr>
<tr id="t2015-09-03T23:53:24"><th class="nick" style="background: #6acaca">paulg_</th><td class="text" style="color: #6acaca">poky$git grep -w etcdir</td><td class="time"><a href="#t2015-09-03T23:53:24" class="time">23:53</a></td></tr>
<tr id="t2015-09-03T23:53:24"><th class="nick" style="background: #6acaca">paulg_</th><td class="text" style="color: #6acaca">meta/recipes-bsp/pcmciautils/pcmciautils.inc:export etcdir = "${sysconfdir}"</td><td class="time"><a href="#t2015-09-03T23:53:24" class="time">23:53</a></td></tr>
<tr id="t2015-09-03T23:53:24"><th class="nick" style="background: #6acaca">paulg_</th><td class="text" style="color: #6acaca">meta/recipes-devtools/quilt/quilt/install.patch:-etcdir :=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(subst /usr/etc,/etc,$(prefix)/etc)</td><td class="time"><a href="#t2015-09-03T23:53:24" class="time">23:53</a></td></tr>
<tr id="t2015-09-03T23:53:24"><th class="nick" style="background: #6acaca">paulg_</th><td class="text" style="color: #6acaca">meta/recipes-devtools/quilt/quilt/install.patch:+etcdir :=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@sysconfdir@</td><td class="time"><a href="#t2015-09-03T23:53:24" class="time">23:53</a></td></tr>
<tr id="t2015-09-03T23:53:24"><th class="nick" style="background: #6acaca">paulg_</th><td class="text" style="color: #6acaca">poky$</td><td class="time"><a href="#t2015-09-03T23:53:24" class="time">23:53</a></td></tr>
<tr id="t2015-09-03T23:53:26"><th class="nick" style="background: #6acaca">paulg_</th><td class="text" style="color: #6acaca">--------------</td><td class="time"><a href="#t2015-09-03T23:53:26" class="time">23:53</a></td></tr>
<tr id="t2015-09-03T23:53:47"><th class="nick" style="background: #6acaca">paulg_</th><td class="text" style="color: #6acaca">compare that to the same commands for bindir and you be the judge.&nbsp;&nbsp;:)</td><td class="time"><a href="#t2015-09-03T23:53:47" class="time">23:53</a></td></tr>
<tr id="t2015-09-03T23:54:17"><th class="nick" style="background: #6acaca">paulg_</th><td class="text" style="color: #6acaca">(and hint, the output above shows you what you really want)</td><td class="time"><a href="#t2015-09-03T23:54:17" class="time">23:54</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2015-09-02.log.html">&#171; Wednesday, 2015-09-02</a> <a href="index.html">Index</a> <a href="%23yocto.2015-09-04.log.html">Friday, 2015-09-04 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
