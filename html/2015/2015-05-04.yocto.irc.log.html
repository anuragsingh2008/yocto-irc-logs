<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Monday, 2015-05-04</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Monday, 2015-05-04</h1>
<div class="navigation"> <a href="%23yocto.2015-05-03.log.html">&#171; Sunday, 2015-05-03</a> <a href="index.html">Index</a> <a href="%23yocto.2015-05-05.log.html">Tuesday, 2015-05-05 &#187;</a> </div>
<table class="irclog">
<tr id="t2015-05-04T06:39:25"><td class="nickchange" colspan="2">*** mago|off is now known as mago_</td><td><a href="#t2015-05-04T06:39:25" class="time">06:39</a></td></tr>
<tr id="t2015-05-04T06:49:15"><td class="nickchange" colspan="2">*** jbrianceau_away is now known as jbrianceau</td><td><a href="#t2015-05-04T06:49:15" class="time">06:49</a></td></tr>
<tr id="t2015-05-04T07:02:26"><td class="nickchange" colspan="2">*** mckoan_ is now known as mckoan</td><td><a href="#t2015-05-04T07:02:26" class="time">07:02</a></td></tr>
<tr id="t2015-05-04T07:02:33"><th class="nick" style="background: #407a40">mckoan</th><td class="text" style="color: #407a40">good morning</td><td class="time"><a href="#t2015-05-04T07:02:33" class="time">07:02</a></td></tr>
<tr id="t2015-05-04T07:25:27"><th class="nick" style="background: #42427e">AlexVaduva</th><td class="text" style="color: #42427e">morning all</td><td class="time"><a href="#t2015-05-04T07:25:27" class="time">07:25</a></td></tr>
<tr id="t2015-05-04T08:28:05"><td class="nickchange" colspan="2">*** AlexVaduva is now known as AlexV</td><td><a href="#t2015-05-04T08:28:05" class="time">08:28</a></td></tr>
<tr id="t2015-05-04T08:28:29"><td class="nickchange" colspan="2">*** AlexV is now known as AlexVaduva</td><td><a href="#t2015-05-04T08:28:29" class="time">08:28</a></td></tr>
<tr id="t2015-05-04T09:39:14"><td class="nickchange" colspan="2">*** _dv_ is now known as dv_</td><td><a href="#t2015-05-04T09:39:14" class="time">09:39</a></td></tr>
<tr id="t2015-05-04T10:09:49"><th class="nick" style="background: #818144">jmleo</th><td class="text" style="color: #818144">Hi there !</td><td class="time"><a href="#t2015-05-04T10:09:49" class="time">10:09</a></td></tr>
<tr id="t2015-05-04T10:10:39"><th class="nick" style="background: #818144">jmleo</th><td class="text" style="color: #818144">What is the easiest way to get the size of all the packages installed in an image ? I know bitbake -g &lt;image&gt; but it does not give the size</td><td class="time"><a href="#t2015-05-04T10:10:39" class="time">10:10</a></td></tr>
<tr id="t2015-05-04T10:16:17"><th class="nick" style="background: #818144">jmleo</th><td class="text" style="color: #818144">in the tmp/deply/rpm directory, I have all, but dev and dbg too, I only want those installed</td><td class="time"><a href="#t2015-05-04T10:16:17" class="time">10:16</a></td></tr>
<tr id="t2015-05-04T12:21:30"><th class="nick" style="background: #854685">sm0ketst</th><td class="text" style="color: #854685">hi all</td><td class="time"><a href="#t2015-05-04T12:21:30" class="time">12:21</a></td></tr>
<tr id="t2015-05-04T12:23:58"><th class="nick" style="background: #854685">sm0ketst</th><td class="text" style="color: #854685">I'm using my own defconfig + module selection + machine bsp with the MACHINE_ESSENTIAL_EXTRA_RRECOMMENDS to include the module in the rootfs, but when i do the modprobe for the deployed module i get: "modprobe: no gzip/bzip2/xz magic". Clues? Thanks in advance</td><td class="time"><a href="#t2015-05-04T12:23:58" class="time">12:23</a></td></tr>
<tr id="t2015-05-04T12:47:44"><th class="nick" style="background: #488888">bukington</th><td class="text" style="color: #488888">sm0ketst, I installed kmod to solve this issue, instead of using busybox modprobe</td><td class="time"><a href="#t2015-05-04T12:47:44" class="time">12:47</a></td></tr>
<tr id="t2015-05-04T12:50:36"><th class="nick" style="background: #488888">bukington</th><td class="text" style="color: #488888">just a workaround..</td><td class="time"><a href="#t2015-05-04T12:50:36" class="time">12:50</a></td></tr>
<tr id="t2015-05-04T12:51:14"><th class="nick" style="background: #854685">sm0ketst</th><td class="text" style="color: #854685">bukington: i had the same issue with iproute2 ... i had to check before which is running the modprobe.... Indeed thanks!!!!</td><td class="time"><a href="#t2015-05-04T12:51:14" class="time">12:51</a></td></tr>
<tr id="t2015-05-04T13:12:29"><td class="nickchange" colspan="2">*** AlexV is now known as Guest35165</td><td><a href="#t2015-05-04T13:12:29" class="time">13:12</a></td></tr>
<tr id="t2015-05-04T13:56:24"><th class="nick" style="background: #854685">sm0ketst</th><td class="text" style="color: #854685">bukington: i see busybox is aliasing the modprobe but i also saw libkmod2 and kmod are in the rootfs's manifest. ??</td><td class="time"><a href="#t2015-05-04T13:56:24" class="time">13:56</a></td></tr>
<tr id="t2015-05-04T14:35:56"><th class="nick" style="background: #8c4a4a">JYDawg</th><td class="text" style="color: #8c4a4a">Can/will yocto support package caching?</td><td class="time"><a href="#t2015-05-04T14:35:56" class="time">14:35</a></td></tr>
<tr id="t2015-05-04T14:46:57"><th class="nick" style="background: #854685">sm0ketst</th><td class="text" style="color: #854685">bukington: solved, i've read the core-image-testmaster.bb</td><td class="time"><a href="#t2015-05-04T14:46:57" class="time">14:46</a></td></tr>
<tr id="t2015-05-04T15:00:07"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jmleo: You could try toaster, that can give diagnostic information about builds</td><td class="time"><a href="#t2015-05-04T15:00:07" class="time">15:00</a></td></tr>
<tr id="t2015-05-04T15:04:07"><th class="nick" style="background: #818144">jmleo</th><td class="text" style="color: #818144">RP: thanks, I was looking for a command line tip, but will give it a try ;)</td><td class="time"><a href="#t2015-05-04T15:04:07" class="time">15:04</a></td></tr>
<tr id="t2015-05-04T15:08:30"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">hi.. i need some good input from you guys here :) i got a linux kernel recipe from a vendor. the recipe adds a task do_kernel_defconfig like here: <a href="http://paste.ubuntu.com/10984939/" rel="nofollow">http://paste.ubuntu.com/10984939/</a> -- i wrote a kernel driver and created a patch with git, and also a *.cfg file and added both to my bbappend SRC_URI. after calling -c configure i see my *.cfg changes in the defconfig and the .config files, but not as selected. i think the do_kernel_defconfig is overwriting this</td><td class="time"><a href="#t2015-05-04T15:08:30" class="time">15:08</a></td></tr>
<tr id="t2015-05-04T15:09:53"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">ericbutters. does the vendor's kernel recipe inherit linux-yocto ?</td><td class="time"><a href="#t2015-05-04T15:09:53" class="time">15:09</a></td></tr>
<tr id="t2015-05-04T15:11:50"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">zeddii: no, inherit kernel</td><td class="time"><a href="#t2015-05-04T15:11:50" class="time">15:11</a></td></tr>
<tr id="t2015-05-04T15:12:22"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">and that's why the fragments aren't applied. they need linux-yocto (like the linux-yocto-custom) recipe shows.</td><td class="time"><a href="#t2015-05-04T15:12:22" class="time">15:12</a></td></tr>
<tr id="t2015-05-04T15:12:42"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">FYI: I'm changing things around, so that will no longer be necessary shortly .. but for now, you do need to do that.</td><td class="time"><a href="#t2015-05-04T15:12:42" class="time">15:12</a></td></tr>
<tr id="t2015-05-04T15:13:39"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">you say i need to change the vendor recipe to inherit linux-yocto? or is it possible to do this from my bbappend?</td><td class="time"><a href="#t2015-05-04T15:13:39" class="time">15:13</a></td></tr>
<tr id="t2015-05-04T15:14:59"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">I've done it in a bbappend before. but sometimes it is easier to just create a custom recipe. you just need to add: require recipes-kernel/linux/linux-yocto.inc to the recipe.</td><td class="time"><a href="#t2015-05-04T15:14:59" class="time">15:14</a></td></tr>
<tr id="t2015-05-04T15:15:22"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">but the branch, the SRCREV and some other details needs to be right as well.</td><td class="time"><a href="#t2015-05-04T15:15:22" class="time">15:15</a></td></tr>
<tr id="t2015-05-04T15:15:42"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">I don't suppose any of the parts are public ? I can advise better if I can see the recipe and tree.</td><td class="time"><a href="#t2015-05-04T15:15:42" class="time">15:15</a></td></tr>
<tr id="t2015-05-04T15:29:18"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">zeddii: i have to check if i can provide more detail to you.. but, how to add kernel modules to linux when using this "inherit kernel"? is that possible at all?</td><td class="time"><a href="#t2015-05-04T15:29:18" class="time">15:29</a></td></tr>
<tr id="t2015-05-04T15:29:50"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">you can just extend their defconfig. it really depends on how they are doing the configure phase.</td><td class="time"><a href="#t2015-05-04T15:29:50" class="time">15:29</a></td></tr>
<tr id="t2015-05-04T15:30:25"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">zeddii: the configuration phase i provided in the link?</td><td class="time"><a href="#t2015-05-04T15:30:25" class="time">15:30</a></td></tr>
<tr id="t2015-05-04T15:30:35"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">but a simple way to do it, would be to take a copy of their defconfig, put it in your layer, make changes, and then add it to the SRC_URI. yours will override.</td><td class="time"><a href="#t2015-05-04T15:30:35" class="time">15:30</a></td></tr>
<tr id="t2015-05-04T15:30:38"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">addtask kernel_defconfig before do_configure after do_patch</td><td class="time"><a href="#t2015-05-04T15:30:38" class="time">15:30</a></td></tr>
<tr id="t2015-05-04T15:30:46"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">ah. sec</td><td class="time"><a href="#t2015-05-04T15:30:46" class="time">15:30</a></td></tr>
<tr id="t2015-05-04T15:31:12"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">zeddii: but what if more developers will bring in theri kernel modules?</td><td class="time"><a href="#t2015-05-04T15:31:12" class="time">15:31</a></td></tr>
<tr id="t2015-05-04T15:31:17"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">ouch. *sigh*</td><td class="time"><a href="#t2015-05-04T15:31:17" class="time">15:31</a></td></tr>
<tr id="t2015-05-04T15:32:16"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">that is going to cause you all sorts of pain.</td><td class="time"><a href="#t2015-05-04T15:32:16" class="time">15:32</a></td></tr>
<tr id="t2015-05-04T15:32:51"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">ericbutters: I'm yanking out fragments into a more consumable format, but when there are tasks defined like that, it won't really matter. that is going to clobber everything.</td><td class="time"><a href="#t2015-05-04T15:32:51" class="time">15:32</a></td></tr>
<tr id="t2015-05-04T15:33:23"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">when is that defined to run ? i.e. how is it add_task'd into the build ?</td><td class="time"><a href="#t2015-05-04T15:33:23" class="time">15:33</a></td></tr>
<tr id="t2015-05-04T15:33:25"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">therefore the right way is to use yocto-linux rught?</td><td class="time"><a href="#t2015-05-04T15:33:25" class="time">15:33</a></td></tr>
<tr id="t2015-05-04T15:34:22"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">that is from the original recipe of the vendor. it is in the *.bb file, so tasks will be added when bitbake parses?</td><td class="time"><a href="#t2015-05-04T15:34:22" class="time">15:34</a></td></tr>
<tr id="t2015-05-04T15:35:10"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">to get it right, i have to create a new recipe that does</td><td class="time"><a href="#t2015-05-04T15:35:10" class="time">15:35</a></td></tr>
<tr id="t2015-05-04T15:35:17"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">they have to be added. that defines the task, but somewhere this is a "addtask kernel_defconfig after &lt;foo&gt;"</td><td class="time"><a href="#t2015-05-04T15:35:17" class="time">15:35</a></td></tr>
<tr id="t2015-05-04T15:35:21"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">'inherit yocto-linux'</td><td class="time"><a href="#t2015-05-04T15:35:21" class="time">15:35</a></td></tr>
<tr id="t2015-05-04T15:35:49"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">zeddii: yes, that is also in the recipe from the vendor</td><td class="time"><a href="#t2015-05-04T15:35:49" class="time">15:35</a></td></tr>
<tr id="t2015-05-04T15:35:52"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">ericbutters, it's an include you can add, versus inherit, since the include has the inherit as part of it.</td><td class="time"><a href="#t2015-05-04T15:35:52" class="time">15:35</a></td></tr>
<tr id="t2015-05-04T15:36:05"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">i see</td><td class="time"><a href="#t2015-05-04T15:36:05" class="time">15:36</a></td></tr>
<tr id="t2015-05-04T15:37:50"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">zeddii: <a href="http://paste.ubuntu.com/10985097/" rel="nofollow">http://paste.ubuntu.com/10985097/</a></td><td class="time"><a href="#t2015-05-04T15:37:50" class="time">15:37</a></td></tr>
<tr id="t2015-05-04T15:39:43"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">ericbutters, they even clobbered do_patch.</td><td class="time"><a href="#t2015-05-04T15:39:43" class="time">15:39</a></td></tr>
<tr id="t2015-05-04T15:39:54"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">so if you needed to modify that tree at all .. good luck :)</td><td class="time"><a href="#t2015-05-04T15:39:54" class="time">15:39</a></td></tr>
<tr id="t2015-05-04T15:40:02"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">:)</td><td class="time"><a href="#t2015-05-04T15:40:02" class="time">15:40</a></td></tr>
<tr id="t2015-05-04T15:40:07"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">damn</td><td class="time"><a href="#t2015-05-04T15:40:07" class="time">15:40</a></td></tr>
<tr id="t2015-05-04T15:40:30"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">but yah, this is something you can wrap with linux-yocto-custom. there's a sample in meta-skeleton</td><td class="time"><a href="#t2015-05-04T15:40:30" class="time">15:40</a></td></tr>
<tr id="t2015-05-04T15:40:46"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">i got more developers, each need to integrate kernel modules within yocto recipes</td><td class="time"><a href="#t2015-05-04T15:40:46" class="time">15:40</a></td></tr>
<tr id="t2015-05-04T15:41:03"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">yep. a pretty common workflow.</td><td class="time"><a href="#t2015-05-04T15:41:03" class="time">15:41</a></td></tr>
<tr id="t2015-05-04T15:41:43"><th class="nick" style="background: #97974f">zeddii</th><td class="text" style="color: #97974f">if you give me a few minutes (I have to relocate home), I can mock up a sample linux-yocto-custom on how I'd deal with it (without having their source tree of course).</td><td class="time"><a href="#t2015-05-04T15:41:43" class="time">15:41</a></td></tr>
<tr id="t2015-05-04T15:41:51"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">zeddii: where can i find meta-skeleton and more detail on linux-yocto-custom? thanks!</td><td class="time"><a href="#t2015-05-04T15:41:51" class="time">15:41</a></td></tr>
<tr id="t2015-05-04T15:42:10"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">okay nice!</td><td class="time"><a href="#t2015-05-04T15:42:10" class="time">15:42</a></td></tr>
<tr id="t2015-05-04T15:42:55"><th class="nick" style="background: #4d4d93">ericbutters</th><td class="text" style="color: #4d4d93">i am going to leave my desk here also, so i will come back to you in 1.5h or something, maybe you are ready then also :)</td><td class="time"><a href="#t2015-05-04T15:42:55" class="time">15:42</a></td></tr>
<tr id="t2015-05-04T16:10:21"><td class="part" colspan="2">*** adelcast &lt;adelcast!~adelcast@130.164.62.224&gt; has left #yocto</td><td><a href="#t2015-05-04T16:10:21" class="time">16:10</a></td></tr>
<tr id="t2015-05-04T16:12:48"><th class="nick" style="background: #9b519b">zeddii_home</th><td class="text" style="color: #9b519b">ericbutters: can you repost a link to that recipe ? I don’t have IRC history here :)</td><td class="time"><a href="#t2015-05-04T16:12:48" class="time">16:12</a></td></tr>
<tr id="t2015-05-04T16:14:01"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2015-05-04T16:14:01" class="time">16:14</a></td></tr>
<tr id="t2015-05-04T16:15:12"><th class="nick" style="background: #818144">jmleo</th><td class="text" style="color: #818144">zeddii_home: <a href="http://paste.ubuntu.com/10985097/" rel="nofollow">http://paste.ubuntu.com/10985097/</a></td><td class="time"><a href="#t2015-05-04T16:15:12" class="time">16:15</a></td></tr>
<tr id="t2015-05-04T16:15:24"><th class="nick" style="background: #9b519b">zeddii_home</th><td class="text" style="color: #9b519b">perfect</td><td class="time"><a href="#t2015-05-04T16:15:24" class="time">16:15</a></td></tr>
<tr id="t2015-05-04T16:53:47"><td class="action" colspan="2">* mranostay spots a RP </td><td><a href="#t2015-05-04T16:53:47" class="time">16:53</a></td></tr>
<tr id="t2015-05-04T17:02:00"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">hi mranostay</td><td class="time"><a href="#t2015-05-04T17:02:00" class="time">17:02</a></td></tr>
<tr id="t2015-05-04T17:04:38"><th class="nick" style="background: #539e9e">mranostay</th><td class="text" style="color: #539e9e">RP: so Crofton|work claims that 73 mile bike ride wasn't on a moped :P</td><td class="time"><a href="#t2015-05-04T17:04:38" class="time">17:04</a></td></tr>
<tr id="t2015-05-04T17:05:11"><th class="nick" style="background: #a25555">Crofton|work</th><td class="text" style="color: #a25555">mranostay, you just need to work harder</td><td class="time"><a href="#t2015-05-04T17:05:11" class="time">17:05</a></td></tr>
<tr id="t2015-05-04T17:06:12"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">mranostay: Whilst I may have a set of suitable motorcycles, using those trails with them would get me arrested ;-)</td><td class="time"><a href="#t2015-05-04T17:06:12" class="time">17:06</a></td></tr>
<tr id="t2015-05-04T17:06:57"><th class="nick" style="background: #539e9e">mranostay</th><td class="text" style="color: #539e9e">Crofton|work: having the bar set at 73 miles on a Monday is dishearting :P</td><td class="time"><a href="#t2015-05-04T17:06:57" class="time">17:06</a></td></tr>
<tr id="t2015-05-04T17:07:32"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">mranostay: it wasn't really intentional, I just kind of forgot to turn around (its a holiday here)</td><td class="time"><a href="#t2015-05-04T17:07:32" class="time">17:07</a></td></tr>
<tr id="t2015-05-04T17:07:43"><td class="nickchange" colspan="2">*** jbrianceau is now known as jbrianceau_away</td><td><a href="#t2015-05-04T17:07:43" class="time">17:07</a></td></tr>
<tr id="t2015-05-04T17:08:13"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">The plan was Wylam, then I saw a sign for Corbridge and once I'd gone that far, Hexham was only 4 miles further...</td><td class="time"><a href="#t2015-05-04T17:08:13" class="time">17:08</a></td></tr>
<tr id="t2015-05-04T17:24:24"><th class="nick" style="background: #57a657">psidhu</th><td class="text" style="color: #57a657">Hi, I was wondering if I could get some feedback/commit on this patch, it's been sitting there a little bit now. <a href="http://patches.openembedded.org/patch/92539/" rel="nofollow">http://patches.openembedded.org/patch/92539/</a></td><td class="time"><a href="#t2015-05-04T17:24:24" class="time">17:24</a></td></tr>
<tr id="t2015-05-04T18:48:15"><th class="nick" style="background: #5959a9">fishey1</th><td class="text" style="color: #5959a9">What is the right way to use FOO_append ? Always use `:=`? Or `=`? Or `+=`?</td><td class="time"><a href="#t2015-05-04T18:48:15" class="time">18:48</a></td></tr>
<tr id="t2015-05-04T18:48:45"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">never use _append with +=, it's pointless</td><td class="time"><a href="#t2015-05-04T18:48:45" class="time">18:48</a></td></tr>
<tr id="t2015-05-04T18:49:01"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">:= should only be used when you need the value immediately expanded, and that's true with or without _append</td><td class="time"><a href="#t2015-05-04T18:49:01" class="time">18:49</a></td></tr>
<tr id="t2015-05-04T18:56:15"><th class="nick" style="background: #5959a9">fishey1</th><td class="text" style="color: #5959a9">ok. So multiple uses of FOO_append are fine with `=`?</td><td class="time"><a href="#t2015-05-04T18:56:15" class="time">18:56</a></td></tr>
<tr id="t2015-05-04T18:58:06"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">_append/_prepend are just lazy versions of .= and =., respectively, except that you can combine the former with overrides to do conditional append/prepend</td><td class="time"><a href="#t2015-05-04T18:58:06" class="time">18:58</a></td></tr>
<tr id="t2015-05-04T18:58:19"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">they're cumulative, as they're all concatenation operators</td><td class="time"><a href="#t2015-05-04T18:58:19" class="time">18:58</a></td></tr>
<tr id="t2015-05-04T18:58:26"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">so yes</td><td class="time"><a href="#t2015-05-04T18:58:26" class="time">18:58</a></td></tr>
<tr id="t2015-05-04T19:00:01"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">you should also never use _append or _prepend when .= or =. or += or =+ will do</td><td class="time"><a href="#t2015-05-04T19:00:01" class="time">19:00</a></td></tr>
<tr id="t2015-05-04T19:05:39"><th class="nick" style="background: #5959a9">fishey1</th><td class="text" style="color: #5959a9">Ok, so in .bbappends is it generally ok to use .=/=./+=/=+ instead of _append/_prepend? Or is there some common pitfal that makes the later more preferable there?</td><td class="time"><a href="#t2015-05-04T19:05:39" class="time">19:05</a></td></tr>
<tr id="t2015-05-04T19:05:52"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">bbappend is like concatenating content to the recipe</td><td class="time"><a href="#t2015-05-04T19:05:52" class="time">19:05</a></td></tr>
<tr id="t2015-05-04T19:06:34"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">there's nothing special about what you can put there that's idfferent than what you'd put in the recipe, with the exception of FILESEXTRAPATHS, since that modification is intended to add the location where the bbappend lives to it, and the variable used only has that value while the bbappend is being parsed</td><td class="time"><a href="#t2015-05-04T19:06:34" class="time">19:06</a></td></tr>
<tr id="t2015-05-04T19:06:50"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">which is why we want := there, to force it to use the current value, not expand it later when it's set to the path to the recipe</td><td class="time"><a href="#t2015-05-04T19:06:50" class="time">19:06</a></td></tr>
<tr id="t2015-05-04T19:07:36"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">so again, unless you have a very good reason, avoid both _prepend/_append and :=. in the case of FILESEXTRAPATHS, we have a very good reason for both.</td><td class="time"><a href="#t2015-05-04T19:07:36" class="time">19:07</a></td></tr>
<tr id="t2015-05-04T19:10:00"><th class="nick" style="background: #5959a9">fishey1</th><td class="text" style="color: #5959a9">kergoth: thanks, this has been very helpful.</td><td class="time"><a href="#t2015-05-04T19:10:00" class="time">19:10</a></td></tr>
<tr id="t2015-05-04T19:10:13"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">np</td><td class="time"><a href="#t2015-05-04T19:10:13" class="time">19:10</a></td></tr>
<tr id="t2015-05-04T19:10:37"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">see also the yocto and bitbake manual for info on the file format and how the different operators work, for reference</td><td class="time"><a href="#t2015-05-04T19:10:37" class="time">19:10</a></td></tr>
<tr id="t2015-05-04T19:11:51"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">the thing to remember with _append/_prepend is when they're processed — the end of the recipe parsing. so they can be used to postpone the operation, e.g. to make sure the append takes even if something is parsed after you and sets the variable</td><td class="time"><a href="#t2015-05-04T19:11:51" class="time">19:11</a></td></tr>
<tr id="t2015-05-04T19:11:58"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">lazy rather than immediate</td><td class="time"><a href="#t2015-05-04T19:11:58" class="time">19:11</a></td></tr>
<tr id="t2015-05-04T19:12:47"><th class="nick" style="background: #5959a9">fishey1</th><td class="text" style="color: #5959a9">Which is why I suppose includes &amp; classes end up using _append/_prepend instead of .=/=./+=/=+.</td><td class="time"><a href="#t2015-05-04T19:12:47" class="time">19:12</a></td></tr>
<tr id="t2015-05-04T19:12:53"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">long term, they may end up being applied at expansion time, when the variable's value is obtained, rather than at a specific point in the parsing process, but it'd still be lazy</td><td class="time"><a href="#t2015-05-04T19:12:53" class="time">19:12</a></td></tr>
<tr id="t2015-05-04T19:13:07"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">yeah, exactly, in some cases they want their changes to stick around regardless of where exactly the recipe inherits it</td><td class="time"><a href="#t2015-05-04T19:13:07" class="time">19:13</a></td></tr>
<tr id="t2015-05-04T19:13:27"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">(inherit being an immediate operation as well, like include, so lines after the inherit are parsed after the lines of the file being inherited)</td><td class="time"><a href="#t2015-05-04T19:13:27" class="time">19:13</a></td></tr>
<tr id="t2015-05-04T19:14:37"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">that's why the convention for inherits is to place them after the recipe metadata variables, but before the functions, to ensure that the recipe can override the class tasks, and the class can easily append to the metadata variables if appropriate, but that's just a convention</td><td class="time"><a href="#t2015-05-04T19:14:37" class="time">19:14</a></td></tr>
<tr id="t2015-05-04T19:15:40"><td class="action" colspan="2">* kergoth dislikes the imperative vs declarative confusion in our file format, but we're stuck with it for now</td><td><a href="#t2015-05-04T19:15:40" class="time">19:15</a></td></tr>
<tr id="t2015-05-04T19:31:28"><th class="nick" style="background: #9b519b">zeddii_home</th><td class="text" style="color: #9b519b">ericbutters: around ?</td><td class="time"><a href="#t2015-05-04T19:31:28" class="time">19:31</a></td></tr>
<tr id="t2015-05-04T20:09:48"><td class="part" colspan="2">*** chetco &lt;chetco!~jb@osuosl/staff/brownju&gt; has left #yocto</td><td><a href="#t2015-05-04T20:09:48" class="time">20:09</a></td></tr>
<tr id="t2015-05-04T23:36:07"><th class="nick" style="background: #b15db1">seebs</th><td class="text" style="color: #b15db1">The behavior of OVERRIDES_append = ":foo" is fascinating.</td><td class="time"><a href="#t2015-05-04T23:36:07" class="time">23:36</a></td></tr>
<tr id="t2015-05-04T23:36:46"><th class="nick" style="background: #b15db1">seebs</th><td class="text" style="color: #b15db1">hmm</td><td class="time"><a href="#t2015-05-04T23:36:46" class="time">23:36</a></td></tr>
<tr id="t2015-05-04T23:36:49"><th class="nick" style="background: #b15db1">seebs</th><td class="text" style="color: #b15db1">So people were saying something about seeing that "dir quasi-mismatch" message from pseudo, anyone happen to have a trivial reproducer?</td><td class="time"><a href="#t2015-05-04T23:36:49" class="time">23:36</a></td></tr>
<tr id="t2015-05-04T23:37:08"><th class="nick" style="background: #b15db1">seebs</th><td class="text" style="color: #b15db1">Looking at it, if it's showing up a lot it suggests that I probably have some kind of logic error, but I think it's an error in the error message.</td><td class="time"><a href="#t2015-05-04T23:37:08" class="time">23:37</a></td></tr>
<tr id="t2015-05-04T23:37:23"><th class="nick" style="background: #b15db1">seebs</th><td class="text" style="color: #b15db1">Specifically, I *think* that in the case where a directory is referred to by a path without a trailing slash, I'm generating a diagnostic when I shouldn't be.</td><td class="time"><a href="#t2015-05-04T23:37:23" class="time">23:37</a></td></tr>
<tr id="t2015-05-04T23:38:18"><th class="nick" style="background: #b15db1">seebs</th><td class="text" style="color: #b15db1">yup</td><td class="time"><a href="#t2015-05-04T23:38:18" class="time">23:38</a></td></tr>
<tr id="t2015-05-04T23:38:25"><th class="nick" style="background: #b15db1">seebs</th><td class="text" style="color: #b15db1">Okay, yeah, that would produce a ridiculous volume of false positives</td><td class="time"><a href="#t2015-05-04T23:38:25" class="time">23:38</a></td></tr>
<tr id="t2015-05-04T23:38:39"><th class="nick" style="background: #b15db1">seebs</th><td class="text" style="color: #b15db1">test was (!!S_ISDIR(by_path.mode) != trailing_slash)</td><td class="time"><a href="#t2015-05-04T23:38:39" class="time">23:38</a></td></tr>
<tr id="t2015-05-04T23:38:41"><th class="nick" style="background: #b15db1">seebs</th><td class="text" style="color: #b15db1">should be (trailing_slash &amp;&amp; !S_ISDIR(by_path.mode))</td><td class="time"><a href="#t2015-05-04T23:38:41" class="time">23:38</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2015-05-03.log.html">&#171; Sunday, 2015-05-03</a> <a href="index.html">Index</a> <a href="%23yocto.2015-05-05.log.html">Tuesday, 2015-05-05 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
