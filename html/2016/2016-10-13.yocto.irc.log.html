<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Thursday, 2016-10-13</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Thursday, 2016-10-13</h1>
<div class="navigation"> <a href="%23yocto.2016-10-12.log.html">&#171; Wednesday, 2016-10-12</a> <a href="index.html">Index</a> <a href="%23yocto.2016-10-14.log.html">Friday, 2016-10-14 &#187;</a> </div>
<table class="irclog">
<tr id="t2016-10-13T01:31:38"><td class="nickchange" colspan="2">*** bradleyb is now known as radsquirrel</td><td><a href="#t2016-10-13T01:31:38" class="time">01:31</a></td></tr>
<tr id="t2016-10-13T04:11:14"><td class="part" colspan="2">*** bellma &lt;bellma!~test@24-158-126-68.dhcp.kgpt.tn.charter.com&gt; has left #yocto</td><td><a href="#t2016-10-13T04:11:14" class="time">04:11</a></td></tr>
<tr id="t2016-10-13T06:49:37"><td class="nickchange" colspan="2">*** jbrianceau_away is now known as jbrianceau</td><td><a href="#t2016-10-13T06:49:37" class="time">06:49</a></td></tr>
<tr id="t2016-10-13T10:06:57"><td class="nickchange" colspan="2">*** Tenhi is now known as 7YUAAFB4P</td><td><a href="#t2016-10-13T10:06:57" class="time">10:06</a></td></tr>
<tr id="t2016-10-13T13:37:52"><td class="nickchange" colspan="2">*** ka6sox is now known as zz_ka6sox</td><td><a href="#t2016-10-13T13:37:52" class="time">13:37</a></td></tr>
<tr id="t2016-10-13T14:22:25"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">i'm still struggling with trying to package files made with "make install" as a result of a cmake build.</td><td class="time"><a href="#t2016-10-13T14:22:25" class="time">14:22</a></td></tr>
<tr id="t2016-10-13T14:22:29"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40"><a href="https://gist.github.com/netskink/2cd7f2464a4ccc95fb5c3c771ea0a9d7" rel="nofollow">https://gist.github.com/netskink/2cd7f2464a4ccc95fb5c3c771ea0a9d7</a></td><td class="time"><a href="#t2016-10-13T14:22:29" class="time">14:22</a></td></tr>
<tr id="t2016-10-13T14:22:50"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">I'm specifying the make install location in the recipe shown above</td><td class="time"><a href="#t2016-10-13T14:22:50" class="time">14:22</a></td></tr>
<tr id="t2016-10-13T14:23:14"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">I'm also showing the various attempts at results.</td><td class="time"><a href="#t2016-10-13T14:23:14" class="time">14:23</a></td></tr>
<tr id="t2016-10-13T14:23:36"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">As it is now, my receipe for the package works, but the build of the image fails.</td><td class="time"><a href="#t2016-10-13T14:23:36" class="time">14:23</a></td></tr>
<tr id="t2016-10-13T14:32:54"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">davis: if you have a "make install" that works, and you use cmake, then you don't need to do anything inthe recipe</td><td class="time"><a href="#t2016-10-13T14:32:54" class="time">14:32</a></td></tr>
<tr id="t2016-10-13T14:33:28"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">yes, so in my recipe I do make install and it appears to work</td><td class="time"><a href="#t2016-10-13T14:33:28" class="time">14:33</a></td></tr>
<tr id="t2016-10-13T14:33:42"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">however, when I build my image and boot it</td><td class="time"><a href="#t2016-10-13T14:33:42" class="time">14:33</a></td></tr>
<tr id="t2016-10-13T14:34:03"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">the only thing there is the empty dirs, the actual dirs which have files in them are missing.</td><td class="time"><a href="#t2016-10-13T14:34:03" class="time">14:34</a></td></tr>
<tr id="t2016-10-13T14:34:30"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">so I thought I needed to include the files in the package to get them to the final image.</td><td class="time"><a href="#t2016-10-13T14:34:30" class="time">14:34</a></td></tr>
<tr id="t2016-10-13T14:34:47"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">go into your work directory and verify that its actually installing the files properl</td><td class="time"><a href="#t2016-10-13T14:34:47" class="time">14:34</a></td></tr>
<tr id="t2016-10-13T14:34:48"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">y</td><td class="time"><a href="#t2016-10-13T14:34:48" class="time">14:34</a></td></tr>
<tr id="t2016-10-13T14:34:54"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">ok one sec</td><td class="time"><a href="#t2016-10-13T14:34:54" class="time">14:34</a></td></tr>
<tr id="t2016-10-13T14:35:11"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">the image/ directory is where make install would install into</td><td class="time"><a href="#t2016-10-13T14:35:11" class="time">14:35</a></td></tr>
<tr id="t2016-10-13T14:37:03"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">the image dir as it is now, does not have the dirs with files in them</td><td class="time"><a href="#t2016-10-13T14:37:03" class="time">14:37</a></td></tr>
<tr id="t2016-10-13T14:37:16"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">so we've conclused that your make install logic is broken</td><td class="time"><a href="#t2016-10-13T14:37:16" class="time">14:37</a></td></tr>
<tr id="t2016-10-13T14:37:21"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">fix your cmake files</td><td class="time"><a href="#t2016-10-13T14:37:21" class="time">14:37</a></td></tr>
<tr id="t2016-10-13T14:37:36"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">hmm.</td><td class="time"><a href="#t2016-10-13T14:37:36" class="time">14:37</a></td></tr>
<tr id="t2016-10-13T14:37:46"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">what is odd, if I do this standalone it works</td><td class="time"><a href="#t2016-10-13T14:37:46" class="time">14:37</a></td></tr>
<tr id="t2016-10-13T14:37:53"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">if you have a working "make install" with cmake then you don't need *any* do_install in your recipe</td><td class="time"><a href="#t2016-10-13T14:37:53" class="time">14:37</a></td></tr>
<tr id="t2016-10-13T14:38:10"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">good</td><td class="time"><a href="#t2016-10-13T14:38:10" class="time">14:38</a></td></tr>
<tr id="t2016-10-13T14:38:37"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">its possible that you have broken relocation, i.e. where we do make install DESTDIR=$D</td><td class="time"><a href="#t2016-10-13T14:38:37" class="time">14:38</a></td></tr>
<tr id="t2016-10-13T14:38:48"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">if destdir support is broken, files can go to the wrong place.</td><td class="time"><a href="#t2016-10-13T14:38:48" class="time">14:38</a></td></tr>
<tr id="t2016-10-13T14:40:11"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">in my log.do_package it says for one of tghe files</td><td class="time"><a href="#t2016-10-13T14:40:11" class="time">14:40</a></td></tr>
<tr id="t2016-10-13T14:40:16"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">&nbsp;&nbsp;/home/davis/setup-scripts/build/tmp-glibc/work/corei7-64-oe-linux/pcmx/1.0.0+gitAUTOINC+d3_d3v16_pcmx-r0/image/usr/bin/pcmx/lfo/d3comm.lfo</td><td class="time"><a href="#t2016-10-13T14:40:16" class="time">14:40</a></td></tr>
<tr id="t2016-10-13T14:40:39"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">so there it says image/usr/bin/pcmx/lfo/d3comm.lfo is in the proper place</td><td class="time"><a href="#t2016-10-13T14:40:39" class="time">14:40</a></td></tr>
<tr id="t2016-10-13T14:40:44"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">but when I look in</td><td class="time"><a href="#t2016-10-13T14:40:44" class="time">14:40</a></td></tr>
<tr id="t2016-10-13T14:41:24"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">the dir its specifying, ie. ~/setup-scripts/build/tmp-glibc/work/corei7-64-oe-linux/pcmx/1.0.0+gitAUTOINC+d3_d3v16_pcmx-r0/image</td><td class="time"><a href="#t2016-10-13T14:41:24" class="time">14:41</a></td></tr>
<tr id="t2016-10-13T14:41:31"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">it does not have it</td><td class="time"><a href="#t2016-10-13T14:41:31" class="time">14:41</a></td></tr>
<tr id="t2016-10-13T14:41:53"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">but i see the problem</td><td class="time"><a href="#t2016-10-13T14:41:53" class="time">14:41</a></td></tr>
<tr id="t2016-10-13T14:42:06"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">it has in image, home/davis/setup-scripts/build/tmp-glibc/work/corei7-64-oe-linux/pcmx/1.0.0+gitAUTOINC+d3_d3v16_pcmx-r0/image/usr/bin/pcmx/</td><td class="time"><a href="#t2016-10-13T14:42:06" class="time">14:42</a></td></tr>
<tr id="t2016-10-13T14:42:40"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">this must be wrong</td><td class="time"><a href="#t2016-10-13T14:42:40" class="time">14:42</a></td></tr>
<tr id="t2016-10-13T14:42:53"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">sounds like your cmakelists is buggy</td><td class="time"><a href="#t2016-10-13T14:42:53" class="time">14:42</a></td></tr>
<tr id="t2016-10-13T14:42:56"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">EXTRA_OECMAKE_class-target = " -DBITBAKE_BUILD_MODE=target -DNT_INSTALL_DIR=${D}${bindir}/pcmx/"</td><td class="time"><a href="#t2016-10-13T14:42:56" class="time">14:42</a></td></tr>
<tr id="t2016-10-13T14:43:27"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">dont pass ${D}</td><td class="time"><a href="#t2016-10-13T14:43:27" class="time">14:43</a></td></tr>
<tr id="t2016-10-13T14:43:29"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">if I did -DNT_INSTALL_DIR=${bindir} it was trying to install to /usr/bin on my build box /</td><td class="time"><a href="#t2016-10-13T14:43:29" class="time">14:43</a></td></tr>
<tr id="t2016-10-13T14:43:47"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">that would be because you were not passing DESTDIR=$D in your make install, or your cmakelists is broken</td><td class="time"><a href="#t2016-10-13T14:43:47" class="time">14:43</a></td></tr>
<tr id="t2016-10-13T14:44:24"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">"i'm trying to think but its not working"</td><td class="time"><a href="#t2016-10-13T14:44:24" class="time">14:44</a></td></tr>
<tr id="t2016-10-13T14:45:09"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">the cmake uses that -DNT_INSTALL_DIR to specify where to install</td><td class="time"><a href="#t2016-10-13T14:45:09" class="time">14:45</a></td></tr>
<tr id="t2016-10-13T14:45:29"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">and its a fully qualified path</td><td class="time"><a href="#t2016-10-13T14:45:29" class="time">14:45</a></td></tr>
<tr id="t2016-10-13T14:47:51"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">so the cmake is built during do_configure(), but druing bitbake do_install() it passes in a DESTDIR?</td><td class="time"><a href="#t2016-10-13T14:47:51" class="time">14:47</a></td></tr>
<tr id="t2016-10-13T14:52:23"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">yes, have a look at cmake.bbclass</td><td class="time"><a href="#t2016-10-13T14:52:23" class="time">14:52</a></td></tr>
<tr id="t2016-10-13T14:55:57"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">many thanks, I've got one of the files installing in the right place if I do</td><td class="time"><a href="#t2016-10-13T14:55:57" class="time">14:55</a></td></tr>
<tr id="t2016-10-13T14:56:01"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">make DESTDIR=/tmp/usr/bin install</td><td class="time"><a href="#t2016-10-13T14:56:01" class="time">14:56</a></td></tr>
<tr id="t2016-10-13T14:56:27"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">this means that bitbake is doing this type of mechanism during its make install</td><td class="time"><a href="#t2016-10-13T14:56:27" class="time">14:56</a></td></tr>
<tr id="t2016-10-13T14:56:42"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">i figured it was just doing make install</td><td class="time"><a href="#t2016-10-13T14:56:42" class="time">14:56</a></td></tr>
<tr id="t2016-10-13T14:57:13"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">it is, mostly.&nbsp;&nbsp;DESTDIR is standard "install it here instead as i'm building a package" practise</td><td class="time"><a href="#t2016-10-13T14:57:13" class="time">14:57</a></td></tr>
<tr id="t2016-10-13T14:57:37"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">*everything* using cmake and *everything* using autoconf uses make install DESTDIR=${D}</td><td class="time"><a href="#t2016-10-13T14:57:37" class="time">14:57</a></td></tr>
<tr id="t2016-10-13T15:02:13"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">s/autoconf/automake/, technically</td><td class="time"><a href="#t2016-10-13T15:02:13" class="time">15:02</a></td></tr>
<tr id="t2016-10-13T15:02:25"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">there are autoconf based systems not using automake that don't follow the automake DESTDIR convention</td><td class="time"><a href="#t2016-10-13T15:02:25" class="time">15:02</a></td></tr>
<tr id="t2016-10-13T15:02:29"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">but mostly yes :)</td><td class="time"><a href="#t2016-10-13T15:02:29" class="time">15:02</a></td></tr>
<tr id="t2016-10-13T15:03:46"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">kergoth: yeah, pedantry accepted</td><td class="time"><a href="#t2016-10-13T15:03:46" class="time">15:03</a></td></tr>
<tr id="t2016-10-13T15:03:52"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">hehe</td><td class="time"><a href="#t2016-10-13T15:03:52" class="time">15:03</a></td></tr>
<tr id="t2016-10-13T15:05:58"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">hmm. it never ends.</td><td class="time"><a href="#t2016-10-13T15:05:58" class="time">15:05</a></td></tr>
<tr id="t2016-10-13T15:06:50"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">so removing all instances of the custom install prefix and just relying on make DESTDIR=/tmp/foo install works for all the binaries</td><td class="time"><a href="#t2016-10-13T15:06:50" class="time">15:06</a></td></tr>
<tr id="t2016-10-13T15:07:22"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">that works for all the paths determined when I do the installs of files</td><td class="time"><a href="#t2016-10-13T15:07:22" class="time">15:07</a></td></tr>
<tr id="t2016-10-13T15:08:24"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">but where I need some dirs in place, I was using cmake to figure that out via another mechnism and that is determined when the cmake makes the makefiles and not during the make install</td><td class="time"><a href="#t2016-10-13T15:08:24" class="time">15:08</a></td></tr>
<tr id="t2016-10-13T15:08:32"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">i'll need to figure that out</td><td class="time"><a href="#t2016-10-13T15:08:32" class="time">15:08</a></td></tr>
<tr id="t2016-10-13T15:31:52"><th class="nick" style="background: #854685">Anticom</th><td class="text" style="color: #854685">From what i understand yocto is automatically building a release version and a debug version of my (CMake based) repo. Is there also a log.do_compile_debug etc. log where the output of the debug build is logged?</td><td class="time"><a href="#t2016-10-13T15:31:52" class="time">15:31</a></td></tr>
<tr id="t2016-10-13T15:37:10"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">that's not true</td><td class="time"><a href="#t2016-10-13T15:37:10" class="time">15:37</a></td></tr>
<tr id="t2016-10-13T15:37:44"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">cmake.bbclass doesn't do anything in particular for debug vs release</td><td class="time"><a href="#t2016-10-13T15:37:44" class="time">15:37</a></td></tr>
<tr id="t2016-10-13T15:39:53"><th class="nick" style="background: #854685">Anticom</th><td class="text" style="color: #854685">rburton: But how come i've got a binary in &lt;...&gt;/packages-split/&lt;pkg&gt;-dbg/path/in/rootfs/.debug/&lt;binary&gt; then?</td><td class="time"><a href="#t2016-10-13T15:39:53" class="time">15:39</a></td></tr>
<tr id="t2016-10-13T15:40:06"><th class="nick" style="background: #854685">Anticom</th><td class="text" style="color: #854685">(which is not stripped btw)</td><td class="time"><a href="#t2016-10-13T15:40:06" class="time">15:40</a></td></tr>
<tr id="t2016-10-13T15:40:08"><td class="part" colspan="2">*** csanchezdll &lt;csanchezdll!~user@galileo.kdpof.com&gt; has left #yocto</td><td><a href="#t2016-10-13T15:40:08" class="time">15:40</a></td></tr>
<tr id="t2016-10-13T15:40:35"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">because we take the unstripped binaries that "make install" installs, then extract the debug symbols and put them there</td><td class="time"><a href="#t2016-10-13T15:40:35" class="time">15:40</a></td></tr>
<tr id="t2016-10-13T15:40:55"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">so &lt;pkg&gt; contains stripped binaries, and &lt;pkg&gt;-dbg is the debug info</td><td class="time"><a href="#t2016-10-13T15:40:55" class="time">15:40</a></td></tr>
<tr id="t2016-10-13T15:41:01"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">(as every other linux distro does)</td><td class="time"><a href="#t2016-10-13T15:41:01" class="time">15:41</a></td></tr>
<tr id="t2016-10-13T15:41:46"><th class="nick" style="background: #854685">Anticom</th><td class="text" style="color: #854685">Ah, i thought it was just build with CMAKE_BUILD_TYPE=Debug</td><td class="time"><a href="#t2016-10-13T15:41:46" class="time">15:41</a></td></tr>
<tr id="t2016-10-13T15:47:48"><td class="part" colspan="2">*** vdehors &lt;vdehors!~vdehors@gre92-5-82-237-199-7.fbx.proxad.net&gt; has left #yocto</td><td><a href="#t2016-10-13T15:47:48" class="time">15:47</a></td></tr>
<tr id="t2016-10-13T16:07:08"><th class="nick" style="background: #488888">seebs</th><td class="text" style="color: #488888">pushed minor fix for pseudo's configure to handle cflags that include commas.</td><td class="time"><a href="#t2016-10-13T16:07:08" class="time">16:07</a></td></tr>
<tr id="t2016-10-13T16:08:01"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">seebs: did you close the bug?</td><td class="time"><a href="#t2016-10-13T16:08:01" class="time">16:08</a></td></tr>
<tr id="t2016-10-13T16:10:44"><th class="nick" style="background: #488888">seebs</th><td class="text" style="color: #488888">not yet, I just pushed the fix to pseudo upstream. I haven't got a working yocto tree handy right now.</td><td class="time"><a href="#t2016-10-13T16:10:44" class="time">16:10</a></td></tr>
<tr id="t2016-10-13T16:10:59"><th class="nick" style="background: #488888">seebs</th><td class="text" style="color: #488888">I'm still trying to get to the pseudo bug fixes, but I haven't had as much time for doing yocto patches.</td><td class="time"><a href="#t2016-10-13T16:10:59" class="time">16:10</a></td></tr>
<tr id="t2016-10-13T16:11:30"><th class="nick" style="background: #488888">seebs</th><td class="text" style="color: #488888">I have a couple of moderately large and intrusive changes I want to make at some point, I figured out where at least one possible hole is that could be causing reduced reliability.</td><td class="time"><a href="#t2016-10-13T16:11:30" class="time">16:11</a></td></tr>
<tr id="t2016-10-13T16:13:17"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">well if its filed in pseudo then i'd say you can close the bug</td><td class="time"><a href="#t2016-10-13T16:13:17" class="time">16:13</a></td></tr>
<tr id="t2016-10-13T16:13:43"><th class="nick" style="background: #488888">seebs</th><td class="text" style="color: #488888">Oh, I see. It's not affecting oe-core, it's just affecting pseudo.</td><td class="time"><a href="#t2016-10-13T16:13:43" class="time">16:13</a></td></tr>
<tr id="t2016-10-13T16:19:29"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">now that morty is branched, are patches bound for master/2.3 being queued yet, or are we still focused on predominently on the bugfixing for morty?</td><td class="time"><a href="#t2016-10-13T16:19:29" class="time">16:19</a></td></tr>
<tr id="t2016-10-13T16:20:56"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">kergoth: personally everyone in intel is swearing at morty to get a stable build</td><td class="time"><a href="#t2016-10-13T16:20:56" class="time">16:20</a></td></tr>
<tr id="t2016-10-13T16:21:14"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">hehe, fair enough</td><td class="time"><a href="#t2016-10-13T16:21:14" class="time">16:21</a></td></tr>
<tr id="t2016-10-13T16:21:16"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">i've been tagging patches in my queue for post-morty</td><td class="time"><a href="#t2016-10-13T16:21:16" class="time">16:21</a></td></tr>
<tr id="t2016-10-13T16:46:58"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">so, you can't use an nfsroot with runqemu unless rootfs.pseudo exists, which is only the case if you ran runqemu-extract-sdk to set up the nfsroot</td><td class="time"><a href="#t2016-10-13T16:46:58" class="time">16:46</a></td></tr>
<tr id="t2016-10-13T16:47:07"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">but i'm using runqemu in a normal build context, no sdk involved</td><td class="time"><a href="#t2016-10-13T16:47:07" class="time">16:47</a></td></tr>
<tr id="t2016-10-13T16:47:14"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">if that script is required to extract any rootfs, it should be named that way.</td><td class="time"><a href="#t2016-10-13T16:47:14" class="time">16:47</a></td></tr>
<tr id="t2016-10-13T16:50:23"><td class="nickchange" colspan="2">*** jbrianceau is now known as jbrianceau_away</td><td><a href="#t2016-10-13T16:50:23" class="time">16:50</a></td></tr>
<tr id="t2016-10-13T17:26:33"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">so in cmake, if I don't specify install dirs without a leading / it will add a /usr/local/ prefix</td><td class="time"><a href="#t2016-10-13T17:26:33" class="time">17:26</a></td></tr>
<tr id="t2016-10-13T17:27:12"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">so now when I do this in bitbake, since I'm not specifying a ${D} anywyere, its putting everything in /</td><td class="time"><a href="#t2016-10-13T17:27:12" class="time">17:27</a></td></tr>
<tr id="t2016-10-13T17:44:13"><td class="part" colspan="2">*** maxin &lt;maxin!~maxin@37-219-172-213.nat.bb.dnainternet.fi&gt; has left #yocto</td><td><a href="#t2016-10-13T17:44:13" class="time">17:44</a></td></tr>
<tr id="t2016-10-13T17:49:01"><td class="nickchange" colspan="2">*** psadro1 is now known as psadro</td><td><a href="#t2016-10-13T17:49:01" class="time">17:49</a></td></tr>
<tr id="t2016-10-13T17:58:01"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">rock and roll! finally</td><td class="time"><a href="#t2016-10-13T17:58:01" class="time">17:58</a></td></tr>
<tr id="t2016-10-13T18:08:22"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">davis: that sounds like a bug in the cmakelists (the /usr/local thing)</td><td class="time"><a href="#t2016-10-13T18:08:22" class="time">18:08</a></td></tr>
<tr id="t2016-10-13T18:13:10"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">Hmm</td><td class="time"><a href="#t2016-10-13T18:13:10" class="time">18:13</a></td></tr>
<tr id="t2016-10-13T18:13:22"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">no sigbasedata was written out for my task. what would cause a task to be missing from that..</td><td class="time"><a href="#t2016-10-13T18:13:22" class="time">18:13</a></td></tr>
<tr id="t2016-10-13T18:13:32"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">it wrote it for devshell, etc, but not the task i added in the recipe</td><td class="time"><a href="#t2016-10-13T18:13:32" class="time">18:13</a></td></tr>
<tr id="t2016-10-13T18:13:34"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">weird</td><td class="time"><a href="#t2016-10-13T18:13:34" class="time">18:13</a></td></tr>
<tr id="t2016-10-13T18:14:22"><td class="nickchange" colspan="2">*** Dr-Horrible is now known as vin</td><td><a href="#t2016-10-13T18:14:22" class="time">18:14</a></td></tr>
<tr id="t2016-10-13T18:53:22"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">kergoth: i think if you specify relative destination dirs for install() in cmake, it by default puts them in /usr/local</td><td class="time"><a href="#t2016-10-13T18:53:22" class="time">18:53</a></td></tr>
<tr id="t2016-10-13T18:54:28"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">lol, omg it never ends</td><td class="time"><a href="#t2016-10-13T18:54:28" class="time">18:54</a></td></tr>
<tr id="t2016-10-13T18:54:45"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">so before I had just my dirs which were empty in my /usr/bin/pcmx</td><td class="time"><a href="#t2016-10-13T18:54:45" class="time">18:54</a></td></tr>
<tr id="t2016-10-13T18:55:10"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">lol, now I just have the dirs with files in them. The empty ones are not there. rofl</td><td class="time"><a href="#t2016-10-13T18:55:10" class="time">18:55</a></td></tr>
<tr id="t2016-10-13T18:55:26"><th class="nick" style="background: #8c4a4a">neverpanic</th><td class="text" style="color: #8c4a4a">If you specify relative destination dirs it puts the files in CMAKE_INSTALL_PREFIX, which is correct</td><td class="time"><a href="#t2016-10-13T18:55:26" class="time">18:55</a></td></tr>
<tr id="t2016-10-13T18:56:10"><th class="nick" style="background: #8c4a4a">neverpanic</th><td class="text" style="color: #8c4a4a">So unless you aren't used cmake.bbclass (and thus not passing CMAKE_INSTALL_PREFIX), you should be fine</td><td class="time"><a href="#t2016-10-13T18:56:10" class="time">18:56</a></td></tr>
<tr id="t2016-10-13T18:56:31"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">i got another problem. even though I specify the DBG symbols, and my cmake has a -g entry, I don't get debug symbols.</td><td class="time"><a href="#t2016-10-13T18:56:31" class="time">18:56</a></td></tr>
<tr id="t2016-10-13T18:57:04"><th class="nick" style="background: #8c4a4a">neverpanic</th><td class="text" style="color: #8c4a4a">Debug symbols are automatically separted into a ${PN}-dbg package by Yocto</td><td class="time"><a href="#t2016-10-13T18:57:04" class="time">18:57</a></td></tr>
<tr id="t2016-10-13T18:57:15"><th class="nick" style="background: #8c4a4a">neverpanic</th><td class="text" style="color: #8c4a4a">So this is not a bug, but a feature.</td><td class="time"><a href="#t2016-10-13T18:57:15" class="time">18:57</a></td></tr>
<tr id="t2016-10-13T18:57:28"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">my ...../image dir has the empty dirs</td><td class="time"><a href="#t2016-10-13T18:57:28" class="time">18:57</a></td></tr>
<tr id="t2016-10-13T18:57:42"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">neverpanic: genau</td><td class="time"><a href="#t2016-10-13T18:57:42" class="time">18:57</a></td></tr>
<tr id="t2016-10-13T18:58:05"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">i tried to add them to my pcmx-dbg package, at lest that it was i think i was doing</td><td class="time"><a href="#t2016-10-13T18:58:05" class="time">18:58</a></td></tr>
<tr id="t2016-10-13T18:58:17"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">PACKAGES = "${PN}-dbg ${PN}"</td><td class="time"><a href="#t2016-10-13T18:58:17" class="time">18:58</a></td></tr>
<tr id="t2016-10-13T18:58:23"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">i have that in my recipe</td><td class="time"><a href="#t2016-10-13T18:58:23" class="time">18:58</a></td></tr>
<tr id="t2016-10-13T19:01:26"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">you shouldn't be overriding PACKAGES</td><td class="time"><a href="#t2016-10-13T19:01:26" class="time">19:01</a></td></tr>
<tr id="t2016-10-13T19:01:32"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">let it package it properly automatically</td><td class="time"><a href="#t2016-10-13T19:01:32" class="time">19:01</a></td></tr>
<tr id="t2016-10-13T19:01:40"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">i'm trying something else, when this completes i'll let you know.</td><td class="time"><a href="#t2016-10-13T19:01:40" class="time">19:01</a></td></tr>
<tr id="t2016-10-13T19:13:51"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">hmm. ok so now all my files and directories, even the empty ones are there</td><td class="time"><a href="#t2016-10-13T19:13:51" class="time">19:13</a></td></tr>
<tr id="t2016-10-13T19:14:00"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">but the debug symbols are not</td><td class="time"><a href="#t2016-10-13T19:14:00" class="time">19:14</a></td></tr>
<tr id="t2016-10-13T19:14:21"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">i guess I need to include pcmx-dbg as a layer in my image?</td><td class="time"><a href="#t2016-10-13T19:14:21" class="time">19:14</a></td></tr>
<tr id="t2016-10-13T19:19:03"><th class="nick" style="background: #8c4a4a">neverpanic</th><td class="text" style="color: #8c4a4a">images do not consist of layers</td><td class="time"><a href="#t2016-10-13T19:19:03" class="time">19:19</a></td></tr>
<tr id="t2016-10-13T19:19:11"><th class="nick" style="background: #8c4a4a">neverpanic</th><td class="text" style="color: #8c4a4a">images consist of packages</td><td class="time"><a href="#t2016-10-13T19:19:11" class="time">19:19</a></td></tr>
<tr id="t2016-10-13T19:34:35"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">davis: if you want debug symbols in your image the easy solution is to add dbg-pkgs to IMAGE_FEATURES.&nbsp;&nbsp;that will add all dbg packages, so your code has symbols for stuff it calls into (like libc)</td><td class="time"><a href="#t2016-10-13T19:34:35" class="time">19:34</a></td></tr>
<tr id="t2016-10-13T19:47:08"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">rburton: yes, lol i came here to say i'm very happy i got the symbols in the target</td><td class="time"><a href="#t2016-10-13T19:47:08" class="time">19:47</a></td></tr>
<tr id="t2016-10-13T19:47:23"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">i did exactly that, I put pcmx-dbg in my image recipe</td><td class="time"><a href="#t2016-10-13T19:47:23" class="time">19:47</a></td></tr>
<tr id="t2016-10-13T19:47:31"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">but here is the twist</td><td class="time"><a href="#t2016-10-13T19:47:31" class="time">19:47</a></td></tr>
<tr id="t2016-10-13T19:47:58"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">when I remote gdb, my host box says it cant find the source. Its looking for source in /usr/src/debug/pcmx</td><td class="time"><a href="#t2016-10-13T19:47:58" class="time">19:47</a></td></tr>
<tr id="t2016-10-13T19:48:15"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">the simple answer is just ln -sf mysrc dir to /usr/src/debug/pcmx</td><td class="time"><a href="#t2016-10-13T19:48:15" class="time">19:48</a></td></tr>
<tr id="t2016-10-13T19:48:54"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">if you're using remote gdb then you don't need symbols on the target of course</td><td class="time"><a href="#t2016-10-13T19:48:54" class="time">19:48</a></td></tr>
<tr id="t2016-10-13T19:49:02"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">ineddee</td><td class="time"><a href="#t2016-10-13T19:49:02" class="time">19:49</a></td></tr>
<tr id="t2016-10-13T19:49:05"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">indeed</td><td class="time"><a href="#t2016-10-13T19:49:05" class="time">19:49</a></td></tr>
<tr id="t2016-10-13T19:49:07"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">there's a more comprehensive solution to remote gdb in the documentation</td><td class="time"><a href="#t2016-10-13T19:49:07" class="time">19:49</a></td></tr>
<tr id="t2016-10-13T19:49:16"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">you can build a shadow rootfs that is all debug symbols, and point gdb at that</td><td class="time"><a href="#t2016-10-13T19:49:16" class="time">19:49</a></td></tr>
<tr id="t2016-10-13T19:49:27"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">so you get the right symbols for all your binaries</td><td class="time"><a href="#t2016-10-13T19:49:27" class="time">19:49</a></td></tr>
<tr id="t2016-10-13T19:49:47"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">the newish debug filesystem support would be ideal for that, it does exactly that</td><td class="time"><a href="#t2016-10-13T19:49:47" class="time">19:49</a></td></tr>
<tr id="t2016-10-13T19:49:53"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">debug image, that is</td><td class="time"><a href="#t2016-10-13T19:49:53" class="time">19:49</a></td></tr>
<tr id="t2016-10-13T19:51:00"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">yeah newish</td><td class="time"><a href="#t2016-10-13T19:51:00" class="time">19:51</a></td></tr>
<tr id="t2016-10-13T19:51:07"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">depends how old your system is</td><td class="time"><a href="#t2016-10-13T19:51:07" class="time">19:51</a></td></tr>
<tr id="t2016-10-13T19:51:26"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">IMAGE_GEN_DEBUGFS = "1"</td><td class="time"><a href="#t2016-10-13T19:51:26" class="time">19:51</a></td></tr>
<tr id="t2016-10-13T19:51:36"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">had to grep the docs, couldn't remember the name of the thing</td><td class="time"><a href="#t2016-10-13T19:51:36" class="time">19:51</a></td></tr>
<tr id="t2016-10-13T19:51:38"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">heh</td><td class="time"><a href="#t2016-10-13T19:51:38" class="time">19:51</a></td></tr>
<tr id="t2016-10-13T19:52:25"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e"><a href="http://www.yoctoproject.org/docs/latest/dev-manual/dev-manual.html#platdev-gdb-remotedebug" rel="nofollow">http://www.yoctoproject.org/docs/latest/dev-manual/dev-manual.html#platdev-gdb-remotedebug</a></td><td class="time"><a href="#t2016-10-13T19:52:25" class="time">19:52</a></td></tr>
<tr id="t2016-10-13T19:52:27"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">cool</td><td class="time"><a href="#t2016-10-13T19:52:27" class="time">19:52</a></td></tr>
<tr id="t2016-10-13T19:52:34"><th class="nick" style="background: #407a40">davis</th><td class="text" style="color: #407a40">many thanks</td><td class="time"><a href="#t2016-10-13T19:52:34" class="time">19:52</a></td></tr>
<tr id="t2016-10-13T20:59:18"><td class="part" colspan="2">*** nickpongratz &lt;nickpongratz!~Adium@12.148.210.9&gt; has left #yocto</td><td><a href="#t2016-10-13T20:59:18" class="time">20:59</a></td></tr>
<tr id="t2016-10-13T22:51:53"><td class="other" colspan="2">-7YUAAEYBZ- build #49 of eclipse-plugin-neon is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/eclipse-plugin-neon/builds/49" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/eclipse-plugin-neon/builds/49</a></td><td><a href="#t2016-10-13T22:51:53" class="time">22:51</a></td></tr>
<tr id="t2016-10-13T22:56:24"><td class="other" colspan="2">-7YUAAEYBZ- build #556 of eclipse-plugin-mars is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/eclipse-plugin-mars/builds/556" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/eclipse-plugin-mars/builds/556</a></td><td><a href="#t2016-10-13T22:56:24" class="time">22:56</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2016-10-12.log.html">&#171; Wednesday, 2016-10-12</a> <a href="index.html">Index</a> <a href="%23yocto.2016-10-14.log.html">Friday, 2016-10-14 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
