<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2016-07-29</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Friday, 2016-07-29</h1>
<div class="navigation"> <a href="%23yocto.2016-07-28.log.html">&#171; Thursday, 2016-07-28</a> <a href="index.html">Index</a> <a href="%23yocto.2016-07-30.log.html">Saturday, 2016-07-30 &#187;</a> </div>
<table class="irclog">
<tr id="t2016-07-29T00:09:56"><td class="other" colspan="2">-YoctoAutoBuilder- build #519 of nightly-rpm-non-rpm is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-rpm-non-rpm/builds/519" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-rpm-non-rpm/builds/519</a></td><td><a href="#t2016-07-29T00:09:56" class="time">00:09</a></td></tr>
<tr id="t2016-07-29T01:32:14"><td class="other" colspan="2">-YoctoAutoBuilder- build #891 of nightly-x86-64-lsb is complete: Failure [failed BuildImages Running Sanity Tests BuildImages_1]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64-lsb/builds/891" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64-lsb/builds/891</a></td><td><a href="#t2016-07-29T01:32:14" class="time">01:32</a></td></tr>
<tr id="t2016-07-29T01:44:50"><td class="other" colspan="2">-YoctoAutoBuilder- build #840 of nightly-rpm is complete: Failure [failed Running Sanity Tests]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-rpm/builds/840" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-rpm/builds/840</a></td><td><a href="#t2016-07-29T01:44:50" class="time">01:44</a></td></tr>
<tr id="t2016-07-29T01:45:53"><td class="other" colspan="2">-YoctoAutoBuilder- build #858 of nightly-intel-gpl is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-intel-gpl/builds/858" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-intel-gpl/builds/858</a></td><td><a href="#t2016-07-29T01:45:53" class="time">01:45</a></td></tr>
<tr id="t2016-07-29T01:46:41"><td class="other" colspan="2">-YoctoAutoBuilder- build #883 of nightly-multilib is complete: Failure [failed BuildImages_4]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-multilib/builds/883" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-multilib/builds/883</a></td><td><a href="#t2016-07-29T01:46:41" class="time">01:46</a></td></tr>
<tr id="t2016-07-29T02:19:01"><td class="other" colspan="2">-YoctoAutoBuilder- build #872 of nightly-x86-lsb is complete: Failure [failed BuildImages Running Sanity Tests BuildImages_1]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x86-lsb/builds/872" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x86-lsb/builds/872</a></td><td><a href="#t2016-07-29T02:19:01" class="time">02:19</a></td></tr>
<tr id="t2016-07-29T03:13:55"><td class="other" colspan="2">-YoctoAutoBuilder- build #857 of nightly-ppc-lsb is complete: Failure [failed BuildImages Running Sanity Tests BuildImages_1]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-ppc-lsb/builds/857" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-ppc-lsb/builds/857</a></td><td><a href="#t2016-07-29T03:13:55" class="time">03:13</a></td></tr>
<tr id="t2016-07-29T03:59:10"><td class="other" colspan="2">-YoctoAutoBuilder- build #867 of nightly-qa-systemd is complete: Failure [failed Running Sanity Tests Running Sanity Tests_2]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-qa-systemd/builds/867" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-qa-systemd/builds/867</a></td><td><a href="#t2016-07-29T03:59:10" class="time">03:59</a></td></tr>
<tr id="t2016-07-29T04:28:52"><td class="other" colspan="2">-YoctoAutoBuilder- build #851 of nightly-mips-lsb is complete: Failure [failed BuildImages Running Sanity Tests BuildImages_1]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-mips-lsb/builds/851" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-mips-lsb/builds/851</a></td><td><a href="#t2016-07-29T04:28:52" class="time">04:28</a></td></tr>
<tr id="t2016-07-29T05:13:19"><td class="other" colspan="2">-YoctoAutoBuilder- build #841 of nightly-arm-lsb is complete: Failure [failed BuildImages Running Sanity Tests BuildImages_1]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-arm-lsb/builds/841" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-arm-lsb/builds/841</a></td><td><a href="#t2016-07-29T05:13:19" class="time">05:13</a></td></tr>
<tr id="t2016-07-29T07:23:10"><td class="nickchange" colspan="2">*** jbrianceau_away is now known as jbrianceau</td><td><a href="#t2016-07-29T07:23:10" class="time">07:23</a></td></tr>
<tr id="t2016-07-29T07:30:28"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2016-07-29T07:30:28" class="time">07:30</a></td></tr>
<tr id="t2016-07-29T07:30:33"><th class="nick" style="background: #407a40">mckoan</th><td class="text" style="color: #407a40">good morning</td><td class="time"><a href="#t2016-07-29T07:30:33" class="time">07:30</a></td></tr>
<tr id="t2016-07-29T08:44:27"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">Good Morning. I talked about compiling a new kernel module yesterday. I was able to compile the new kernel module yesterday with the kernel source code (for the header files) of my yocto/open embedded toolchain</td><td class="time"><a href="#t2016-07-29T08:44:27" class="time">08:44</a></td></tr>
<tr id="t2016-07-29T08:44:39"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">Now I wanted to write the recipie.</td><td class="time"><a href="#t2016-07-29T08:44:39" class="time">08:44</a></td></tr>
<tr id="t2016-07-29T08:44:51"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">For that I took a look at this example: <a href="http://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta-skeleton/recipes-kernel/hello-mod/hello-mod_0.1.bb" rel="nofollow">http://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta-skeleton/recipes-kernel/hello-mod/hello-mod_0.1.bb</a></td><td class="time"><a href="#t2016-07-29T08:44:51" class="time">08:44</a></td></tr>
<tr id="t2016-07-29T08:45:46"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">But the question is now: in my case I have a *tar.gz file from the kernel module developer, and to compile the module I have to run: make install_static KDIR=${KERNEL_SRC} ARCH=arm CROSS_COMPILE=arm-angstrom-linux-gnueabi-</td><td class="time"><a href="#t2016-07-29T08:45:46" class="time">08:45</a></td></tr>
<tr id="t2016-07-29T08:45:55"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">How do I have to write this in my recipie</td><td class="time"><a href="#t2016-07-29T08:45:55" class="time">08:45</a></td></tr>
<tr id="t2016-07-29T08:54:41"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">HyP3r: i'm not sure about the details, you can add your .tar.gz in a file:// line, yocto will unpack that for you.</td><td class="time"><a href="#t2016-07-29T08:54:41" class="time">08:54</a></td></tr>
<tr id="t2016-07-29T08:55:11"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">from that point, if your module is compiled "the normal way" yocto should do everything for you... so just try the recipe and see if it works</td><td class="time"><a href="#t2016-07-29T08:55:11" class="time">08:55</a></td></tr>
<tr id="t2016-07-29T08:55:25"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">(i'm not sure, I havn't tweaked kernel recipes so far...)</td><td class="time"><a href="#t2016-07-29T08:55:25" class="time">08:55</a></td></tr>
<tr id="t2016-07-29T08:57:20"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: but how does yocto know how to run the makefile? and in which directory and so on</td><td class="time"><a href="#t2016-07-29T08:57:20" class="time">08:57</a></td></tr>
<tr id="t2016-07-29T08:57:58"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">and the next thing: the kernel module is will lay in a weird folder (csr/os-linux/driver)</td><td class="time"><a href="#t2016-07-29T08:57:58" class="time">08:57</a></td></tr>
<tr id="t2016-07-29T08:58:11"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">how does yocto know that there will be the *.ko file</td><td class="time"><a href="#t2016-07-29T08:58:11" class="time">08:58</a></td></tr>
<tr id="t2016-07-29T09:00:04"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">most kernel module are compiled in the same way, with the same arguments to make. yocto knows that</td><td class="time"><a href="#t2016-07-29T09:00:04" class="time">09:00</a></td></tr>
<tr id="t2016-07-29T09:00:36"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">I read this <a href="https://software.intel.com/sites/default/files/m/4/d/8/5/8/42868-11__Developing_Kernel_Module_on_Yocto.pdf" rel="nofollow">https://software.intel.com/sites/default/files/m/4/d/8/5/8/42868-11__Developing_Kernel_Module_on_Yocto.pdf</a> and this <a href="http://wiki.kaeilos.com/index.php/Howto_build_a_kernel_module_out_of_the_kernel_tree" rel="nofollow">http://wiki.kaeilos.com/index.php/Howto_build_a_kernel_module_out_of_the_kernel_tree</a></td><td class="time"><a href="#t2016-07-29T09:00:36" class="time">09:00</a></td></tr>
<tr id="t2016-07-29T09:00:55"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">They run with $(MAKE) -C $(KERNEL_SRC) M=$(SRC) modules</td><td class="time"><a href="#t2016-07-29T09:00:55" class="time">09:00</a></td></tr>
<tr id="t2016-07-29T09:01:01"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">as for the weird directory, you need to change the S= line to point to the right place. your tar.gz will be unpacked in ${WORKDIR} so you should point it to a subpath of that</td><td class="time"><a href="#t2016-07-29T09:01:01" class="time">09:01</a></td></tr>
<tr id="t2016-07-29T09:01:25"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">okay. But thats all a bit confusing :S</td><td class="time"><a href="#t2016-07-29T09:01:25" class="time">09:01</a></td></tr>
<tr id="t2016-07-29T09:01:47"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">HyP3r: a kernel module is not exactly the simplest recipe to start learning yocto :P</td><td class="time"><a href="#t2016-07-29T09:01:47" class="time">09:01</a></td></tr>
<tr id="t2016-07-29T09:02:35"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">Yep but the only thing what I have to do \o/</td><td class="time"><a href="#t2016-07-29T09:02:35" class="time">09:02</a></td></tr>
<tr id="t2016-07-29T09:03:04"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">hehe</td><td class="time"><a href="#t2016-07-29T09:03:04" class="time">09:03</a></td></tr>
<tr id="t2016-07-29T09:03:38"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">well, let's work step by step. could you pastebin your recipe somewhere so I can look at it/comment it more easily ?</td><td class="time"><a href="#t2016-07-29T09:03:38" class="time">09:03</a></td></tr>
<tr id="t2016-07-29T09:07:31"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: wait, I'll try to write in the best way I can (...) and then I will post it here, now its looks like a car crash</td><td class="time"><a href="#t2016-07-29T09:07:31" class="time">09:07</a></td></tr>
<tr id="t2016-07-29T09:18:20"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">ok, np</td><td class="time"><a href="#t2016-07-29T09:18:20" class="time">09:18</a></td></tr>
<tr id="t2016-07-29T09:34:21"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: folder structure: <a href="http://pastebin.com/EeeQKnN2" rel="nofollow">http://pastebin.com/EeeQKnN2</a> and the recipie: <a href="http://pastebin.com/dSVdXme3" rel="nofollow">http://pastebin.com/dSVdXme3</a></td><td class="time"><a href="#t2016-07-29T09:34:21" class="time">09:34</a></td></tr>
<tr id="t2016-07-29T09:37:00"><td class="part" colspan="2">*** lpapp &lt;lpapp!~lpapp@kde/lpapp&gt; has left #yocto</td><td><a href="#t2016-07-29T09:37:00" class="time">09:37</a></td></tr>
<tr id="t2016-07-29T09:37:55"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">ok, did you run the recipe ? how far did it go ? what errors ?</td><td class="time"><a href="#t2016-07-29T09:37:55" class="time">09:37</a></td></tr>
<tr id="t2016-07-29T09:38:01"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">here are a couple of remarks</td><td class="time"><a href="#t2016-07-29T09:38:01" class="time">09:38</a></td></tr>
<tr id="t2016-07-29T09:38:16"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">no, I didn't run, I'm afaraid and I don't know how to do that sorry</td><td class="time"><a href="#t2016-07-29T09:38:16" class="time">09:38</a></td></tr>
<tr id="t2016-07-29T09:38:39"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">don't "cd" in do_compile. you should set the "S" as I pointed earlier, do_compile will then be run in the proper directory</td><td class="time"><a href="#t2016-07-29T09:38:39" class="time">09:38</a></td></tr>
<tr id="t2016-07-29T09:39:18"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">just "bitbake wf111-driver" should do the trick</td><td class="time"><a href="#t2016-07-29T09:39:18" class="time">09:39</a></td></tr>
<tr id="t2016-07-29T09:43:05"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">hi, is there something like pkg_preinst_${PN}lib which only runs on the target?</td><td class="time"><a href="#t2016-07-29T09:43:05" class="time">09:43</a></td></tr>
<tr id="t2016-07-29T09:43:21"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">install_prepend of some kind?</td><td class="time"><a href="#t2016-07-29T09:43:21" class="time">09:43</a></td></tr>
<tr id="t2016-07-29T09:55:19"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">lpapp: yes, gimme a sec to find my notes</td><td class="time"><a href="#t2016-07-29T09:55:19" class="time">09:55</a></td></tr>
<tr id="t2016-07-29T09:56:16"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: now I did something wrong: while running bitbake I get this: IOError: file conf/bitbake.conf not found in /.../oe-core/build (the first time I run it today it was working, but now this error comes)</td><td class="time"><a href="#t2016-07-29T09:56:16" class="time">09:56</a></td></tr>
<tr id="t2016-07-29T09:56:47"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">I grepped my history (zsh and bash) and I didn't delted this file</td><td class="time"><a href="#t2016-07-29T09:56:47" class="time">09:56</a></td></tr>
<tr id="t2016-07-29T09:56:50"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">we used FILESEXTRAPATHS_prepend, so it is possible that install_prepend would work, too?</td><td class="time"><a href="#t2016-07-29T09:56:50" class="time">09:56</a></td></tr>
<tr id="t2016-07-29T09:56:57"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">lpapp: <a href="http://www.yoctoproject.org/docs/latest/mega-manual/mega-manual.html#new-recipe-post-installation-scripts" rel="nofollow">http://www.yoctoproject.org/docs/latest/mega-manual/mega-manual.html#new-recipe-post-installation-scripts</a></td><td class="time"><a href="#t2016-07-29T09:56:57" class="time">09:56</a></td></tr>
<tr id="t2016-07-29T09:57:52"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">HyP3r: are you running bitbake from your build directory ? did you source oe-init-buildenv ?</td><td class="time"><a href="#t2016-07-29T09:57:52" class="time">09:57</a></td></tr>
<tr id="t2016-07-29T09:58:18"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">your build directory is in the env variable $BUILDDIR. if it's not set, then you probably didn't run the setup script</td><td class="time"><a href="#t2016-07-29T09:58:18" class="time">09:58</a></td></tr>
<tr id="t2016-07-29T09:59:23"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: I started with running ". export" in the directory with this export file</td><td class="time"><a href="#t2016-07-29T09:59:23" class="time">09:59</a></td></tr>
<tr id="t2016-07-29T09:59:27"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">boucman_work: I need preinstallation, not post.</td><td class="time"><a href="#t2016-07-29T09:59:27" class="time">09:59</a></td></tr>
<tr id="t2016-07-29T09:59:52"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">this script is changeing the directory to this build directory and there I was starting the bitbake command</td><td class="time"><a href="#t2016-07-29T09:59:52" class="time">09:59</a></td></tr>
<tr id="t2016-07-29T10:00:30"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">lpapp: no you don't :P</td><td class="time"><a href="#t2016-07-29T10:00:30" class="time">10:00</a></td></tr>
<tr id="t2016-07-29T10:01:01"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">boucman_work: I want to do something before installating things, hence pkg_preinst_${PN}lib</td><td class="time"><a href="#t2016-07-29T10:01:01" class="time">10:01</a></td></tr>
<tr id="t2016-07-29T10:01:12"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">once again, I can check for the existence of certain directories to identify the target.</td><td class="time"><a href="#t2016-07-29T10:01:12" class="time">10:01</a></td></tr>
<tr id="t2016-07-29T10:01:16"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">or do something clever</td><td class="time"><a href="#t2016-07-29T10:01:16" class="time">10:01</a></td></tr>
<tr id="t2016-07-29T10:01:31"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">but I thought there would be something like install_prepend similar to install_append</td><td class="time"><a href="#t2016-07-29T10:01:31" class="time">10:01</a></td></tr>
<tr id="t2016-07-29T10:01:40"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">although install_prepend would probably run in Yocto, too, gosh.</td><td class="time"><a href="#t2016-07-29T10:01:40" class="time">10:01</a></td></tr>
<tr id="t2016-07-29T10:01:43"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">there is _prepend and _append</td><td class="time"><a href="#t2016-07-29T10:01:43" class="time">10:01</a></td></tr>
<tr id="t2016-07-29T10:01:51"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">i'm not sure about the "run on target" part</td><td class="time"><a href="#t2016-07-29T10:01:51" class="time">10:01</a></td></tr>
<tr id="t2016-07-29T10:02:11"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">but you can probably check in a similar way as the postinst doc I pointed above</td><td class="time"><a href="#t2016-07-29T10:02:11" class="time">10:02</a></td></tr>
<tr id="t2016-07-29T10:02:51"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">lpapp: you usually want to make two packages, rather then check what to do at install time, those packages would target different MACHINE</td><td class="time"><a href="#t2016-07-29T10:02:51" class="time">10:02</a></td></tr>
<tr id="t2016-07-29T10:03:20"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">boucman_work: it seems that is related to booting.</td><td class="time"><a href="#t2016-07-29T10:03:20" class="time">10:03</a></td></tr>
<tr id="t2016-07-29T10:03:35"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">my use case is not related to booting, just simply packaging installation without any booting.</td><td class="time"><a href="#t2016-07-29T10:03:35" class="time">10:03</a></td></tr>
<tr id="t2016-07-29T10:03:47"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">I have only one machine.</td><td class="time"><a href="#t2016-07-29T10:03:47" class="time">10:03</a></td></tr>
<tr id="t2016-07-29T10:04:23"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">Also, this is not quite bullet-proof either: if [ x"$D" = "x" ]; then</td><td class="time"><a href="#t2016-07-29T10:04:23" class="time">10:04</a></td></tr>
<tr id="t2016-07-29T10:04:39"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">someone could define the D environment variable on the target, too, to screw it up.</td><td class="time"><a href="#t2016-07-29T10:04:39" class="time">10:04</a></td></tr>
<tr id="t2016-07-29T10:06:08"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">lpapp: that's the recommanded method, so I'd use it</td><td class="time"><a href="#t2016-07-29T10:06:08" class="time">10:06</a></td></tr>
<tr id="t2016-07-29T10:06:33"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">and I don't really understand your use-case at this point. I'm not sure why you think it's related to booting...</td><td class="time"><a href="#t2016-07-29T10:06:33" class="time">10:06</a></td></tr>
<tr id="t2016-07-29T10:06:50"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: even in my old directory this bitbake.conf is not in the conf directory</td><td class="time"><a href="#t2016-07-29T10:06:50" class="time">10:06</a></td></tr>
<tr id="t2016-07-29T10:06:51"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">the section speaks quite a bit about booting, that is why.</td><td class="time"><a href="#t2016-07-29T10:06:51" class="time">10:06</a></td></tr>
<tr id="t2016-07-29T10:06:57"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">Also, I do not like the recommended case.</td><td class="time"><a href="#t2016-07-29T10:06:57" class="time">10:06</a></td></tr>
<tr id="t2016-07-29T10:06:59"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: something cirtical is borken :(</td><td class="time"><a href="#t2016-07-29T10:06:59" class="time">10:06</a></td></tr>
<tr id="t2016-07-29T10:07:07"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">because it is easy to screw up a production system that way.</td><td class="time"><a href="#t2016-07-29T10:07:07" class="time">10:07</a></td></tr>
<tr id="t2016-07-29T10:07:24"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">with my approach of checking opkg's availability in the build environment looks cleaner.</td><td class="time"><a href="#t2016-07-29T10:07:24" class="time">10:07</a></td></tr>
<tr id="t2016-07-29T10:07:34"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">because that gives no room for screwing up a production system</td><td class="time"><a href="#t2016-07-29T10:07:34" class="time">10:07</a></td></tr>
<tr id="t2016-07-29T10:07:45"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">if anything, there could be a problem in the development (Yocto) environment.</td><td class="time"><a href="#t2016-07-29T10:07:45" class="time">10:07</a></td></tr>
<tr id="t2016-07-29T10:07:48"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">lpapp: that command is not run dicrecly, it's run by yocto at image-creation time. yocto is very good at sanitizing the environement</td><td class="time"><a href="#t2016-07-29T10:07:48" class="time">10:07</a></td></tr>
<tr id="t2016-07-29T10:07:55"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">so recommended or not as of the time being, I do not like it for that reason.</td><td class="time"><a href="#t2016-07-29T10:07:55" class="time">10:07</a></td></tr>
<tr id="t2016-07-29T10:08:18"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">again, if you set D, yocto will override it at image-creation time</td><td class="time"><a href="#t2016-07-29T10:08:18" class="time">10:08</a></td></tr>
<tr id="t2016-07-29T10:08:38"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">I do not know how that can even work then to be honest.</td><td class="time"><a href="#t2016-07-29T10:08:38" class="time">10:08</a></td></tr>
<tr id="t2016-07-29T10:08:45"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">and if it's run on the target, it's run by your package manager (opkg, rpm, dpkg) which probably sanitze the env too</td><td class="time"><a href="#t2016-07-29T10:08:45" class="time">10:08</a></td></tr>
<tr id="t2016-07-29T10:08:50"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">because that means it will be always defined.</td><td class="time"><a href="#t2016-07-29T10:08:50" class="time">10:08</a></td></tr>
<tr id="t2016-07-29T10:09:00"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">so it is never going to be empty, so it cannot actually work on the target as desired.</td><td class="time"><a href="#t2016-07-29T10:09:00" class="time">10:09</a></td></tr>
<tr id="t2016-07-29T10:09:27"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">at image-creation time, it's not empty. it's set by yocto</td><td class="time"><a href="#t2016-07-29T10:09:27" class="time">10:09</a></td></tr>
<tr id="t2016-07-29T10:10:08"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">so what makes it empty with 100% certainity at package installation time?</td><td class="time"><a href="#t2016-07-29T10:10:08" class="time">10:10</a></td></tr>
<tr id="t2016-07-29T10:10:43"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">(and now that I think of it, you probably can't run pre-install on the target in a 100% safe fashion...)</td><td class="time"><a href="#t2016-07-29T10:10:43" class="time">10:10</a></td></tr>
<tr id="t2016-07-29T10:11:11"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">lpapp: so. image creation is the time where yocto collects all the package built, and use them to create a rootfs.</td><td class="time"><a href="#t2016-07-29T10:11:11" class="time">10:11</a></td></tr>
<tr id="t2016-07-29T10:11:22"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">this is done on the build-system, not the target.</td><td class="time"><a href="#t2016-07-29T10:11:22" class="time">10:11</a></td></tr>
<tr id="t2016-07-29T10:12:24"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">yes, I know that part.</td><td class="time"><a href="#t2016-07-29T10:12:24" class="time">10:12</a></td></tr>
<tr id="t2016-07-29T10:12:35"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">once a packagee is installed, bitbake will run post-install scripts for that package. bitbake always sanitize the shell-environement before running shell commands and there is a verylimited list of whitelisted env variables that are allowed to carry through</td><td class="time"><a href="#t2016-07-29T10:12:35" class="time">10:12</a></td></tr>
<tr id="t2016-07-29T10:12:54"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">D is not one of them, and D is overridden by bitbake anyway</td><td class="time"><a href="#t2016-07-29T10:12:54" class="time">10:12</a></td></tr>
<tr id="t2016-07-29T10:13:42"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">if the post-install script fails (return 1) then bitbake will save that script on the target and try to run it again at first boot</td><td class="time"><a href="#t2016-07-29T10:13:42" class="time">10:13</a></td></tr>
<tr id="t2016-07-29T10:14:30"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">but I don't think a pre-install script can block the way a post-install does... maybe. you'll have to test it</td><td class="time"><a href="#t2016-07-29T10:14:30" class="time">10:14</a></td></tr>
<tr id="t2016-07-29T10:14:39"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144"></td><td class="time"><a href="#t2016-07-29T10:14:39" class="time">10:14</a></td></tr>
<tr id="t2016-07-29T10:15:35"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">anyway, i'm pretty sure setting D won't carry to post-inst at image-built time. I'm less sure at first-boot time, it might depend on your packaging format, but I would be suprised if package managers didn't have that sort of safety in place</td><td class="time"><a href="#t2016-07-29T10:15:35" class="time">10:15</a></td></tr>
<tr id="t2016-07-29T10:16:27"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">but if you want to be really safe, you can test for being on the target in whatever other way you like... (run uname, check for something you know is only on the target) the important part is returning 1 for post-inst</td><td class="time"><a href="#t2016-07-29T10:16:27" class="time">10:16</a></td></tr>
<tr id="t2016-07-29T10:16:58"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2016-07-29T10:16:58" class="time">10:16</a></td></tr>
<tr id="t2016-07-29T10:17:16"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">unfortunately, boot is absolutely irrelevant for me here.</td><td class="time"><a href="#t2016-07-29T10:17:16" class="time">10:17</a></td></tr>
<tr id="t2016-07-29T10:17:38"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">as packages get installed without booting as mentioned above.</td><td class="time"><a href="#t2016-07-29T10:17:38" class="time">10:17</a></td></tr>
<tr id="t2016-07-29T10:18:08"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">in fact, it is absolutely required in our case not to boot</td><td class="time"><a href="#t2016-07-29T10:18:08" class="time">10:18</a></td></tr>
<tr id="t2016-07-29T10:18:26"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">cause that would mean an undesired outage in the service we provide 7/24.</td><td class="time"><a href="#t2016-07-29T10:18:26" class="time">10:18</a></td></tr>
<tr id="t2016-07-29T10:34:55"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">lpapp: post-install is also run at package install time even if it's not first boot</td><td class="time"><a href="#t2016-07-29T10:34:55" class="time">10:34</a></td></tr>
<tr id="t2016-07-29T10:35:13"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">(and probably pre-install too, but again, you should test)</td><td class="time"><a href="#t2016-07-29T10:35:13" class="time">10:35</a></td></tr>
<tr id="t2016-07-29T10:37:26"><th class="nick" style="background: #854685">lpapp</th><td class="text" style="color: #854685">I got it working my own way, it is ok, thanks.</td><td class="time"><a href="#t2016-07-29T10:37:26" class="time">10:37</a></td></tr>
<tr id="t2016-07-29T10:38:56"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">k</td><td class="time"><a href="#t2016-07-29T10:38:56" class="time">10:38</a></td></tr>
<tr id="t2016-07-29T11:00:32"><td class="other" colspan="2">-YoctoAutoBuilder- build #841 of nightly-rpm is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-rpm/builds/841" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-rpm/builds/841</a></td><td><a href="#t2016-07-29T11:00:32" class="time">11:00</a></td></tr>
<tr id="t2016-07-29T11:57:06"><td class="nickchange" colspan="2">*** lpapp is now known as ukhasnofuture</td><td><a href="#t2016-07-29T11:57:06" class="time">11:57</a></td></tr>
<tr id="t2016-07-29T12:10:30"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: well what I did in my local.conf: I removed all the autogenerated lines from hob</td><td class="time"><a href="#t2016-07-29T12:10:30" class="time">12:10</a></td></tr>
<tr id="t2016-07-29T12:10:47"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">I have creaated a&nbsp;&nbsp;second yocto directory</td><td class="time"><a href="#t2016-07-29T12:10:47" class="time">12:10</a></td></tr>
<tr id="t2016-07-29T12:11:05"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">Now if I compare the old with the new configurations I can see the 'problems'</td><td class="time"><a href="#t2016-07-29T12:11:05" class="time">12:11</a></td></tr>
<tr id="t2016-07-29T12:11:15"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">I hope I can solve that by this way...</td><td class="time"><a href="#t2016-07-29T12:11:15" class="time">12:11</a></td></tr>
<tr id="t2016-07-29T12:15:28"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: ok now everything works again, now I can try to run the recipie</td><td class="time"><a href="#t2016-07-29T12:15:28" class="time">12:15</a></td></tr>
<tr id="t2016-07-29T12:16:27"><td class="part" colspan="2">*** boucman_work &lt;boucman_work!~boucman@229.29.205.77.rev.sfr.net&gt; has left #yocto</td><td><a href="#t2016-07-29T12:16:27" class="time">12:16</a></td></tr>
<tr id="t2016-07-29T12:22:55"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">Its getting even worser, now the configuration files are repaired: <a href="http://pastebin.com/hg3uKYJi" rel="nofollow">http://pastebin.com/hg3uKYJi</a></td><td class="time"><a href="#t2016-07-29T12:22:55" class="time">12:22</a></td></tr>
<tr id="t2016-07-29T12:23:07"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">Now I get even more strange erros</td><td class="time"><a href="#t2016-07-29T12:23:07" class="time">12:23</a></td></tr>
<tr id="t2016-07-29T12:32:56"><td class="part" colspan="2">*** ukhasnofuture &lt;ukhasnofuture!~lpapp@kde/lpapp&gt; has left #yocto</td><td><a href="#t2016-07-29T12:32:56" class="time">12:32</a></td></tr>
<tr id="t2016-07-29T13:08:54"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: now I can compile again! The run.do_compile of my recipie does not set the Variable KERNEL_SRC. Is this Variable allready set when this script is called?</td><td class="time"><a href="#t2016-07-29T13:08:54" class="time">13:08</a></td></tr>
<tr id="t2016-07-29T13:09:03"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">The rest of the script looks good</td><td class="time"><a href="#t2016-07-29T13:09:03" class="time">13:09</a></td></tr>
<tr id="t2016-07-29T13:15:22"><td class="other" colspan="2">-YoctoAutoBuilder- build #873 of nightly-x86-lsb is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x86-lsb/builds/873" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x86-lsb/builds/873</a></td><td><a href="#t2016-07-29T13:15:22" class="time">13:15</a></td></tr>
<tr id="t2016-07-29T13:22:34"><td class="other" colspan="2">-YoctoAutoBuilder- build #885 of nightly-ppc is complete: Failure [failed Running Sanity Tests]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-ppc/builds/885" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-ppc/builds/885</a></td><td><a href="#t2016-07-29T13:22:34" class="time">13:22</a></td></tr>
<tr id="t2016-07-29T13:29:19"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">HyP3r: yes, it's set because you inherit kernel module</td><td class="time"><a href="#t2016-07-29T13:29:19" class="time">13:29</a></td></tr>
<tr id="t2016-07-29T13:37:59"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: yes it was set, I had another problem with my make script, in the source code are some __DATE__ and __TIME__ Macros \o/</td><td class="time"><a href="#t2016-07-29T13:37:59" class="time">13:37</a></td></tr>
<tr id="t2016-07-29T13:41:00"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: I can't set the S variable, or I don't know how</td><td class="time"><a href="#t2016-07-29T13:41:00" class="time">13:41</a></td></tr>
<tr id="t2016-07-29T13:41:28"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">heres the new version <a href="http://pastebin.com/47nbs0gw" rel="nofollow">http://pastebin.com/47nbs0gw</a></td><td class="time"><a href="#t2016-07-29T13:41:28" class="time">13:41</a></td></tr>
<tr id="t2016-07-29T13:41:56"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">S = ${WORKDIR}/wf111-linux-driver_${PV}-${PR}_armv7-a</td><td class="time"><a href="#t2016-07-29T13:41:56" class="time">13:41</a></td></tr>
<tr id="t2016-07-29T13:42:04"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">note : not ${S}</td><td class="time"><a href="#t2016-07-29T13:42:04" class="time">13:42</a></td></tr>
<tr id="t2016-07-29T13:42:26"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">I tried that too wait I'll try it again</td><td class="time"><a href="#t2016-07-29T13:42:26" class="time">13:42</a></td></tr>
<tr id="t2016-07-29T13:42:47"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">you don't need to call patch in do_compile. bitbake will see that the file is named .patch and should apply the patch by itself</td><td class="time"><a href="#t2016-07-29T13:42:47" class="time">13:42</a></td></tr>
<tr id="t2016-07-29T13:42:59"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">ERROR: ParseError at /home/x/Dokumente/x/ToradexVF61_01/oe-core/build/../stuff/meta-racechip/recipes-driver/wf111-driver_5.2.2.bb:20: unparsed line: 'S = ${WORKDIR}/wf111-linux-driver_${PV}-${PR}_armv7-a'</td><td class="time"><a href="#t2016-07-29T13:42:59" class="time">13:42</a></td></tr>
<tr id="t2016-07-29T13:43:17"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">and line 19, the unset LDFLAG seems suspicious. why are you doing that ?</td><td class="time"><a href="#t2016-07-29T13:43:17" class="time">13:43</a></td></tr>
<tr id="t2016-07-29T13:43:39"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: I saw that somewhere don'T know</td><td class="time"><a href="#t2016-07-29T13:43:39" class="time">13:43</a></td></tr>
<tr id="t2016-07-29T13:43:47"><td class="part" colspan="2">*** csanchezdll &lt;csanchezdll!~user@galileo.kdpof.com&gt; has left #yocto</td><td><a href="#t2016-07-29T13:43:47" class="time">13:43</a></td></tr>
<tr id="t2016-07-29T13:43:47"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">you need to also quote the whole thing (my bad, didn't see it at first)</td><td class="time"><a href="#t2016-07-29T13:43:47" class="time">13:43</a></td></tr>
<tr id="t2016-07-29T13:44:01"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: to what file, will bitbake apply the patch</td><td class="time"><a href="#t2016-07-29T13:44:01" class="time">13:44</a></td></tr>
<tr id="t2016-07-29T13:44:24"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">also remove the INSANE_SKIP line. if the problem apears, we will re-add it later</td><td class="time"><a href="#t2016-07-29T13:44:24" class="time">13:44</a></td></tr>
<tr id="t2016-07-29T13:44:27"><td class="other" colspan="2">-YoctoAutoBuilder- build #892 of nightly-x86-64-lsb is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64-lsb/builds/892" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64-lsb/builds/892</a></td><td><a href="#t2016-07-29T13:44:27" class="time">13:44</a></td></tr>
<tr id="t2016-07-29T13:44:35"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: the patch dosn't contain a information to what file it blongs</td><td class="time"><a href="#t2016-07-29T13:44:35" class="time">13:44</a></td></tr>
<tr id="t2016-07-29T13:44:57"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">it will apply it in the S directory. a patch file is supposed to contain it's own path and file name</td><td class="time"><a href="#t2016-07-29T13:44:57" class="time">13:44</a></td></tr>
<tr id="t2016-07-29T13:45:11"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">Oh then I created the patch wrong</td><td class="time"><a href="#t2016-07-29T13:45:11" class="time">13:45</a></td></tr>
<tr id="t2016-07-29T13:45:18"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">(and there is a way to pass -p1 to patch if needed, but that might not be needed</td><td class="time"><a href="#t2016-07-29T13:45:18" class="time">13:45</a></td></tr>
<tr id="t2016-07-29T13:45:25"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">I did this diff -crB Tb01 Tb02 &gt; Tb02.patch</td><td class="time"><a href="#t2016-07-29T13:45:25" class="time">13:45</a></td></tr>
<tr id="t2016-07-29T13:46:22"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">hmm</td><td class="time"><a href="#t2016-07-29T13:46:22" class="time">13:46</a></td></tr>
<tr id="t2016-07-29T13:46:23"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">Oh sorry I did simply "diff ..." without any arguments</td><td class="time"><a href="#t2016-07-29T13:46:23" class="time">13:46</a></td></tr>
<tr id="t2016-07-29T13:46:33"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">But "-crB" is ok?</td><td class="time"><a href="#t2016-07-29T13:46:33" class="time">13:46</a></td></tr>
<tr id="t2016-07-29T13:46:44"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">crB should be ok</td><td class="time"><a href="#t2016-07-29T13:46:44" class="time">13:46</a></td></tr>
<tr id="t2016-07-29T13:47:14"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">could you pastebin the patch itself ?</td><td class="time"><a href="#t2016-07-29T13:47:14" class="time">13:47</a></td></tr>
<tr id="t2016-07-29T13:47:42"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e"><a href="http://pastebin.com/Rb0g2DE3" rel="nofollow">http://pastebin.com/Rb0g2DE3</a> seems strange</td><td class="time"><a href="#t2016-07-29T13:47:42" class="time">13:47</a></td></tr>
<tr id="t2016-07-29T13:48:05"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">I created simply a copy of the makefile, and added there the new lins</td><td class="time"><a href="#t2016-07-29T13:48:05" class="time">13:48</a></td></tr>
<tr id="t2016-07-29T13:48:18"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">But I think that ".bak" should not in the patch</td><td class="time"><a href="#t2016-07-29T13:48:18" class="time">13:48</a></td></tr>
<tr id="t2016-07-29T13:48:53"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">HyP3r: you are used to patches generated with the -u option, this one should work it's just not the format we are used to</td><td class="time"><a href="#t2016-07-29T13:48:53" class="time">13:48</a></td></tr>
<tr id="t2016-07-29T13:49:42"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">the patch seems ok. line 1 and 2 is what yocto use to know what file to apply it to. I assume there is a file called makefile in ${WORKDIR}/wf111-linux-driver_${PV}-${PR}_armv7-a right ?</td><td class="time"><a href="#t2016-07-29T13:49:42" class="time">13:49</a></td></tr>
<tr id="t2016-07-29T13:50:07"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">yes</td><td class="time"><a href="#t2016-07-29T13:50:07" class="time">13:50</a></td></tr>
<tr id="t2016-07-29T13:50:30"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">ok, then the patch should apply automagically</td><td class="time"><a href="#t2016-07-29T13:50:30" class="time">13:50</a></td></tr>
<tr id="t2016-07-29T13:51:00"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">wow, and this '.bak' will be ignored, because there will be no 'bak' file</td><td class="time"><a href="#t2016-07-29T13:51:00" class="time">13:51</a></td></tr>
<tr id="t2016-07-29T13:51:11"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">please run "bitbake -c fetch wf111-linux-driver" to force the whole process and see if it worked</td><td class="time"><a href="#t2016-07-29T13:51:11" class="time">13:51</a></td></tr>
<tr id="t2016-07-29T13:51:18"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">k</td><td class="time"><a href="#t2016-07-29T13:51:18" class="time">13:51</a></td></tr>
<tr id="t2016-07-29T13:51:36"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">not sure... we'll see what error bitbake reporst :P</td><td class="time"><a href="#t2016-07-29T13:51:36" class="time">13:51</a></td></tr>
<tr id="t2016-07-29T13:54:51"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: now bitbake created the bak file, makefile is unchanged</td><td class="time"><a href="#t2016-07-29T13:54:51" class="time">13:54</a></td></tr>
<tr id="t2016-07-29T13:55:48"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: how can I clean up the working directory? It seems like the compile script wasn't updated</td><td class="time"><a href="#t2016-07-29T13:55:48" class="time">13:55</a></td></tr>
<tr id="t2016-07-29T13:56:15"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">bitbake -c cleanall wf111-linux-driver</td><td class="time"><a href="#t2016-07-29T13:56:15" class="time">13:56</a></td></tr>
<tr id="t2016-07-29T13:56:41"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">was the makefile.bak created in the same directory as the makefile is ?</td><td class="time"><a href="#t2016-07-29T13:56:41" class="time">13:56</a></td></tr>
<tr id="t2016-07-29T13:57:13"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e"><a href="http://www.yoctoproject.org/docs/1.8/ref-manual/ref-manual.html#ref-tasks-clean" rel="nofollow">http://www.yoctoproject.org/docs/1.8/ref-manual/ref-manual.html#ref-tasks-clean</a></td><td class="time"><a href="#t2016-07-29T13:57:13" class="time">13:57</a></td></tr>
<tr id="t2016-07-29T13:57:19"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">yes</td><td class="time"><a href="#t2016-07-29T13:57:19" class="time">13:57</a></td></tr>
<tr id="t2016-07-29T13:58:46"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">ok, good</td><td class="time"><a href="#t2016-07-29T13:58:46" class="time">13:58</a></td></tr>
<tr id="t2016-07-29T13:59:11"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">line 2 of your patch, could you change "Makefile.bak" to "Makefile" and see if it works ?</td><td class="time"><a href="#t2016-07-29T13:59:11" class="time">13:59</a></td></tr>
<tr id="t2016-07-29T14:00:16"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">your patch is a bit weird, though, it's as if makefile.bak contained the changes and makefile was the original file...</td><td class="time"><a href="#t2016-07-29T14:00:16" class="time">14:00</a></td></tr>
<tr id="t2016-07-29T14:01:24"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e"><a href="http://pastebin.com/t0gXdmys" rel="nofollow">http://pastebin.com/t0gXdmys</a></td><td class="time"><a href="#t2016-07-29T14:01:24" class="time">14:01</a></td></tr>
<tr id="t2016-07-29T14:01:59"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">Now I think the problem is that the patch file is under the work directory, and the Makefile in the subdirectory, I will apply the patch</td><td class="time"><a href="#t2016-07-29T14:01:59" class="time">14:01</a></td></tr>
<tr id="t2016-07-29T14:02:05"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">I will changes the path</td><td class="time"><a href="#t2016-07-29T14:02:05" class="time">14:02</a></td></tr>
<tr id="t2016-07-29T14:03:41"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: now the recpie works, compiling the kernel</td><td class="time"><a href="#t2016-07-29T14:03:41" class="time">14:03</a></td></tr>
<tr id="t2016-07-29T14:04:08"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: but I bit inconvenient, the patch contains now a satatic path</td><td class="time"><a href="#t2016-07-29T14:04:08" class="time">14:04</a></td></tr>
<tr id="t2016-07-29T14:04:27"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e"><a href="http://pastebin.com/1N4LRNKN" rel="nofollow">http://pastebin.com/1N4LRNKN</a></td><td class="time"><a href="#t2016-07-29T14:04:27" class="time">14:04</a></td></tr>
<tr id="t2016-07-29T14:09:31"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">no, that looks fine,</td><td class="time"><a href="#t2016-07-29T14:09:31" class="time">14:09</a></td></tr>
<tr id="t2016-07-29T14:22:19"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: another thing: theres a kernel-source directory and in the same directory theres a kernel-build-artifacts and inside this directory is the .config file. But the compile runtime of this drivers needs this file inside the kernel-source directory</td><td class="time"><a href="#t2016-07-29T14:22:19" class="time">14:22</a></td></tr>
<tr id="t2016-07-29T14:22:35"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: at the moment it crashes because there is no .config file</td><td class="time"><a href="#t2016-07-29T14:22:35" class="time">14:22</a></td></tr>
<tr id="t2016-07-29T14:22:45"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">boucman_work: is there a way to merge those folders temporary?</td><td class="time"><a href="#t2016-07-29T14:22:45" class="time">14:22</a></td></tr>
<tr id="t2016-07-29T14:25:32"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">no idea</td><td class="time"><a href="#t2016-07-29T14:25:32" class="time">14:25</a></td></tr>
<tr id="t2016-07-29T14:27:55"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">well I could merge them now manual buts thats a really bad (?) hack</td><td class="time"><a href="#t2016-07-29T14:27:55" class="time">14:27</a></td></tr>
<tr id="t2016-07-29T14:33:33"><th class="nick" style="background: #818144">boucman_work</th><td class="text" style="color: #818144">might break stuff... can you tell the driver's build system where to look for .config via its command line ?</td><td class="time"><a href="#t2016-07-29T14:33:33" class="time">14:33</a></td></tr>
<tr id="t2016-07-29T14:52:36"><td class="part" colspan="2">*** benjamirc1 &lt;benjamirc1!~besquive@134.134.139.72&gt; has left #yocto</td><td><a href="#t2016-07-29T14:52:36" class="time">14:52</a></td></tr>
<tr id="t2016-07-29T14:53:30"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">As I started I found this driver script: <a href="https://github.com/engicam-stable/meta-engicam/blob/master/recipes-core/wf111-driver/wf111-driver.bb" rel="nofollow">https://github.com/engicam-stable/meta-engicam/blob/master/recipes-core/wf111-driver/wf111-driver.bb</a></td><td class="time"><a href="#t2016-07-29T14:53:30" class="time">14:53</a></td></tr>
<tr id="t2016-07-29T14:53:54"><th class="nick" style="background: #488888">jmesmon</th><td class="text" style="color: #488888">khem: on daisy (at least the version I'm stuck with) it appears I need to also delete 'tmp' (in addition to 'cache') to force re-caching to occur.</td><td class="time"><a href="#t2016-07-29T14:53:54" class="time">14:53</a></td></tr>
<tr id="t2016-07-29T14:54:05"><th class="nick" style="background: #42427e">HyP3r</th><td class="text" style="color: #42427e">Other kernel module driver use "inherit module"</td><td class="time"><a href="#t2016-07-29T14:54:05" class="time">14:54</a></td></tr>
<tr id="t2016-07-29T15:26:15"><td class="nickchange" colspan="2">*** ndec is now known as ndec|vacations</td><td><a href="#t2016-07-29T15:26:15" class="time">15:26</a></td></tr>
<tr id="t2016-07-29T16:06:09"><td class="other" colspan="2">-YoctoAutoBuilder- build #842 of nightly-arm-lsb is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-arm-lsb/builds/842" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-arm-lsb/builds/842</a></td><td><a href="#t2016-07-29T16:06:09" class="time">16:06</a></td></tr>
<tr id="t2016-07-29T16:17:22"><td class="other" colspan="2">-YoctoAutoBuilder- build #884 of nightly-multilib is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-multilib/builds/884" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-multilib/builds/884</a></td><td><a href="#t2016-07-29T16:17:22" class="time">16:17</a></td></tr>
<tr id="t2016-07-29T16:46:40"><td class="nickchange" colspan="2">*** jbrianceau is now known as jbrianceau_away</td><td><a href="#t2016-07-29T16:46:40" class="time">16:46</a></td></tr>
<tr id="t2016-07-29T16:54:05"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">jmesmon: yes tmp/ should go too</td><td class="time"><a href="#t2016-07-29T16:54:05" class="time">16:54</a></td></tr>
<tr id="t2016-07-29T17:24:41"><td class="part" colspan="2">*** aehs29 &lt;aehs29!~aehernan@134.134.139.76&gt; has left #yocto</td><td><a href="#t2016-07-29T17:24:41" class="time">17:24</a></td></tr>
<tr id="t2016-07-29T17:55:35"><td class="other" colspan="2">-YoctoAutoBuilder- build #852 of nightly-mips-lsb is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-mips-lsb/builds/852" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-mips-lsb/builds/852</a></td><td><a href="#t2016-07-29T17:55:35" class="time">17:55</a></td></tr>
<tr id="t2016-07-29T18:41:08"><th class="nick" style="background: #4b904b">Xz</th><td class="text" style="color: #4b904b">hi guys, is there some directory in poky/ that contains all popular licenses? like GPL/MIT/BSP etc.</td><td class="time"><a href="#t2016-07-29T18:41:08" class="time">18:41</a></td></tr>
<tr id="t2016-07-29T18:41:32"><th class="nick" style="background: #4b904b">Xz</th><td class="text" style="color: #4b904b">I'm preparing a simple recipe containing only udev rule and I need to get license file from somewhere to checksum it</td><td class="time"><a href="#t2016-07-29T18:41:32" class="time">18:41</a></td></tr>
<tr id="t2016-07-29T18:48:13"><th class="nick" style="background: #4b904b">Xz</th><td class="text" style="color: #4b904b">found it! meta/files/common-licenses</td><td class="time"><a href="#t2016-07-29T18:48:13" class="time">18:48</a></td></tr>
<tr id="t2016-07-29T20:26:46"><td class="other" colspan="2">-YoctoAutoBuilder- build #477 of eclipse-plugin-mars is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/eclipse-plugin-mars/builds/477" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/eclipse-plugin-mars/builds/477</a></td><td><a href="#t2016-07-29T20:26:46" class="time">20:26</a></td></tr>
<tr id="t2016-07-29T21:14:12"><td class="part" colspan="2">*** aehs29 &lt;aehs29!~aehernan@134.134.139.76&gt; has left #yocto</td><td><a href="#t2016-07-29T21:14:12" class="time">21:14</a></td></tr>
<tr id="t2016-07-29T21:31:24"><td class="part" colspan="2">*** istarilucky &lt;istarilucky!~rlucca@177.159.144.73&gt; has left #yocto</td><td><a href="#t2016-07-29T21:31:24" class="time">21:31</a></td></tr>
<tr id="t2016-07-29T21:38:56"><td class="part" colspan="2">*** istarilucky &lt;istarilucky!~rlucca@177.159.144.73&gt; has left #yocto</td><td><a href="#t2016-07-29T21:38:56" class="time">21:38</a></td></tr>
<tr id="t2016-07-29T21:41:22"><td class="part" colspan="2">*** justanotherboy &lt;justanotherboy!mlopezva@nat/intel/x-nqepuupunbskylxo&gt; has left #yocto</td><td><a href="#t2016-07-29T21:41:22" class="time">21:41</a></td></tr>
<tr id="t2016-07-29T23:23:33"><td class="part" colspan="2">*** tjamison &lt;tjamison!~tjamison@38.104.105.146&gt; has left #yocto</td><td><a href="#t2016-07-29T23:23:33" class="time">23:23</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2016-07-28.log.html">&#171; Thursday, 2016-07-28</a> <a href="index.html">Index</a> <a href="%23yocto.2016-07-30.log.html">Saturday, 2016-07-30 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
