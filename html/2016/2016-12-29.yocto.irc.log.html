<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Thursday, 2016-12-29</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Thursday, 2016-12-29</h1>
<div class="navigation"> <a href="%23yocto.2016-12-28.log.html">&#171; Wednesday, 2016-12-28</a> <a href="index.html">Index</a> <a href="%23yocto.2016-12-30.log.html">Friday, 2016-12-30 &#187;</a> </div>
<table class="irclog">
<tr id="t2016-12-29T01:07:42"><td class="nickchange" colspan="2">*** tlab_ is now known as tlab</td><td><a href="#t2016-12-29T01:07:42" class="time">01:07</a></td></tr>
<tr id="t2016-12-29T02:12:57"><th class="nick" style="background: #407a40">smak</th><td class="text" style="color: #407a40">Can't find a retailer for the <a href="http://b2b.gigabyte.com/products/product-page.aspx?pid=5145#ov" rel="nofollow">http://b2b.gigabyte.com/products/product-page.aspx?pid=5145#ov</a>&nbsp;&nbsp;Need a dual xeon 2011-v3 with tons of PCIE. Any other options beside the asus z10P boards?</td><td class="time"><a href="#t2016-12-29T02:12:57" class="time">02:12</a></td></tr>
<tr id="t2016-12-29T02:20:10"><td class="nickchange" colspan="2">*** ZeRO___ is now known as Zero__</td><td><a href="#t2016-12-29T02:20:10" class="time">02:20</a></td></tr>
<tr id="t2016-12-29T04:02:30"><td class="nickchange" colspan="2">*** clement_ is now known as clement</td><td><a href="#t2016-12-29T04:02:30" class="time">04:02</a></td></tr>
<tr id="t2016-12-29T04:10:48"><td class="nickchange" colspan="2">*** ayaka- is now known as ayaka</td><td><a href="#t2016-12-29T04:10:48" class="time">04:10</a></td></tr>
<tr id="t2016-12-29T04:27:52"><td class="nickchange" colspan="2">*** clement_ is now known as clement</td><td><a href="#t2016-12-29T04:27:52" class="time">04:27</a></td></tr>
<tr id="t2016-12-29T04:37:26"><td class="nickchange" colspan="2">*** clement_ is now known as clement</td><td><a href="#t2016-12-29T04:37:26" class="time">04:37</a></td></tr>
<tr id="t2016-12-29T05:38:29"><td class="nickchange" colspan="2">*** clement_ is now known as clement</td><td><a href="#t2016-12-29T05:38:29" class="time">05:38</a></td></tr>
<tr id="t2016-12-29T05:44:43"><td class="nickchange" colspan="2">*** clement_ is now known as clement</td><td><a href="#t2016-12-29T05:44:43" class="time">05:44</a></td></tr>
<tr id="t2016-12-29T05:57:55"><td class="nickchange" colspan="2">*** clement_ is now known as clement</td><td><a href="#t2016-12-29T05:57:55" class="time">05:57</a></td></tr>
<tr id="t2016-12-29T06:08:02"><td class="nickchange" colspan="2">*** clement_ is now known as clement</td><td><a href="#t2016-12-29T06:08:02" class="time">06:08</a></td></tr>
<tr id="t2016-12-29T06:23:19"><td class="nickchange" colspan="2">*** clement_ is now known as clement</td><td><a href="#t2016-12-29T06:23:19" class="time">06:23</a></td></tr>
<tr id="t2016-12-29T08:13:42"><td class="nickchange" colspan="2">*** clement_ is now known as clement</td><td><a href="#t2016-12-29T08:13:42" class="time">08:13</a></td></tr>
<tr id="t2016-12-29T08:18:43"><td class="nickchange" colspan="2">*** clement_ is now known as clement</td><td><a href="#t2016-12-29T08:18:43" class="time">08:18</a></td></tr>
<tr id="t2016-12-29T08:40:21"><td class="nickchange" colspan="2">*** jku_ is now known as jku</td><td><a href="#t2016-12-29T08:40:21" class="time">08:40</a></td></tr>
<tr id="t2016-12-29T08:40:35"><td class="part" colspan="2">*** jku &lt;jku!~jku@192.198.151.45&gt; has left #yocto</td><td><a href="#t2016-12-29T08:40:35" class="time">08:40</a></td></tr>
<tr id="t2016-12-29T09:31:43"><td class="nickchange" colspan="2">*** dlan_ is now known as dlan</td><td><a href="#t2016-12-29T09:31:43" class="time">09:31</a></td></tr>
<tr id="t2016-12-29T10:10:13"><td class="nickchange" colspan="2">*** chep` is now known as chep</td><td><a href="#t2016-12-29T10:10:13" class="time">10:10</a></td></tr>
<tr id="t2016-12-29T10:30:59"><td class="nickchange" colspan="2">*** Cwiiis_ is now known as Cwiiis</td><td><a href="#t2016-12-29T10:30:59" class="time">10:30</a></td></tr>
<tr id="t2016-12-29T14:07:08"><th class="nick" style="background: #42427e">kalpu</th><td class="text" style="color: #42427e">Hi, I'm using poky/morty, added my own meta-layer where my machine config resides. Now I would like to create an initramfs. I found "initramfs-boot" and would like to make use of it. How to do that :) ?</td><td class="time"><a href="#t2016-12-29T14:07:08" class="time">14:07</a></td></tr>
<tr id="t2016-12-29T14:12:48"><th class="nick" style="background: #42427e">kalpu</th><td class="text" style="color: #42427e">What I want is an additional initramfs file which gets bundled to the fit-image...</td><td class="time"><a href="#t2016-12-29T14:12:48" class="time">14:12</a></td></tr>
<tr id="t2016-12-29T14:15:59"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">kalpu: initramfs as in a rootfs image that is used to pivot to the full rootfs (after kernel boot) or initramfs as in you just want to package your rootfs as an "initramfs"?</td><td class="time"><a href="#t2016-12-29T14:15:59" class="time">14:15</a></td></tr>
<tr id="t2016-12-29T14:17:49"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">kalpu: also regarding bundling, do you want to bundle the rootfs into the fitimage or into the kernel blob?</td><td class="time"><a href="#t2016-12-29T14:17:49" class="time">14:17</a></td></tr>
<tr id="t2016-12-29T14:19:11"><th class="nick" style="background: #42427e">kalpu</th><td class="text" style="color: #42427e">nrossi: I just want to boot into a pretty small initramfs where I can do maintenance stuff. If I boot into this initramfs, I'll be able to decide by u-boot kernel-cmd-flags.</td><td class="time"><a href="#t2016-12-29T14:19:11" class="time">14:19</a></td></tr>
<tr id="t2016-12-29T14:20:12"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">kalpu: If you have specific requirements for packages/etc. in this maintenance rootfs, then best bet is to make a custom rootfs which packs what your need.</td><td class="time"><a href="#t2016-12-29T14:20:12" class="time">14:20</a></td></tr>
<tr id="t2016-12-29T14:20:35"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">kalpu: because you want to use the same kernel, bundling the initramfs into the fitimage is likely a better option</td><td class="time"><a href="#t2016-12-29T14:20:35" class="time">14:20</a></td></tr>
<tr id="t2016-12-29T14:21:42"><th class="nick" style="background: #42427e">kalpu</th><td class="text" style="color: #42427e">how to make another custom rootfs (as initramfs) and pack it automagically into my current fit image?</td><td class="time"><a href="#t2016-12-29T14:21:42" class="time">14:21</a></td></tr>
<tr id="t2016-12-29T14:22:21"><th class="nick" style="background: #42427e">kalpu</th><td class="text" style="color: #42427e">Oh, busybox and wpa-supplicant would be enough...</td><td class="time"><a href="#t2016-12-29T14:22:21" class="time">14:22</a></td></tr>
<tr id="t2016-12-29T14:22:31"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">kalpu: exactly ;)</td><td class="time"><a href="#t2016-12-29T14:22:31" class="time">14:22</a></td></tr>
<tr id="t2016-12-29T14:22:37"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">kalpu: Getting some links for you :)</td><td class="time"><a href="#t2016-12-29T14:22:37" class="time">14:22</a></td></tr>
<tr id="t2016-12-29T14:22:50"><th class="nick" style="background: #42427e">kalpu</th><td class="text" style="color: #42427e">cool :-)</td><td class="time"><a href="#t2016-12-29T14:22:50" class="time">14:22</a></td></tr>
<tr id="t2016-12-29T14:25:22"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">kalpu: So assuming you are familar with creating a custom image recipe, you need to set INITRAMFS_IMAGE = "&lt;name of image&gt;" (<a href="http://www.yoctoproject.org/docs/2.2/mega-manual/mega-manual.html#var-INITRAMFS_IMAGE" rel="nofollow">http://www.yoctoproject.org/docs/2.2/mega-manual/mega-manual.html#var-INITRAMFS_IMAGE</a>)</td><td class="time"><a href="#t2016-12-29T14:25:22" class="time">14:25</a></td></tr>
<tr id="t2016-12-29T14:26:33"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">kalpu: To generate a fitimage, you will need to set your KERNEL_IMAGETYPE = "fitImage". (<a href="http://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/classes/kernel-fitimage.bbclass" rel="nofollow">http://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/classes/kernel-fitimage.bbclass</a> for more specifics)</td><td class="time"><a href="#t2016-12-29T14:26:33" class="time">14:26</a></td></tr>
<tr id="t2016-12-29T14:28:07"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">also set "KERNEL_CLASSES += "kernel-fitimage" where you are setting the imagetype, so that you bring in the fitimage class.</td><td class="time"><a href="#t2016-12-29T14:28:07" class="time">14:28</a></td></tr>
<tr id="t2016-12-29T14:28:45"><th class="nick" style="background: #42427e">kalpu</th><td class="text" style="color: #42427e">But isn't this a bit redundant, because I already have a setup for my big rootfs. And there is recipie called initramfs-boot which just starts a shell.</td><td class="time"><a href="#t2016-12-29T14:28:45" class="time">14:28</a></td></tr>
<tr id="t2016-12-29T14:28:50"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">kalpu: then "bitbake &lt;normal image&gt; &lt;name of INITRAMFS_IMAGE&gt;" should be sufficent</td><td class="time"><a href="#t2016-12-29T14:28:50" class="time">14:28</a></td></tr>
<tr id="t2016-12-29T14:29:16"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">kalpu: sure you could just use that image (if its an image),</td><td class="time"><a href="#t2016-12-29T14:29:16" class="time">14:29</a></td></tr>
<tr id="t2016-12-29T14:29:31"><th class="nick" style="background: #42427e">kalpu</th><td class="text" style="color: #42427e">ah, okay, so this can reside in the same machine config?</td><td class="time"><a href="#t2016-12-29T14:29:31" class="time">14:29</a></td></tr>
<tr id="t2016-12-29T14:29:51"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">but that recipe is intended to be used in a live-cd boot flow</td><td class="time"><a href="#t2016-12-29T14:29:51" class="time">14:29</a></td></tr>
<tr id="t2016-12-29T14:30:01"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">kalpu: yep same machine config</td><td class="time"><a href="#t2016-12-29T14:30:01" class="time">14:30</a></td></tr>
<tr id="t2016-12-29T14:30:17"><th class="nick" style="background: #42427e">kalpu</th><td class="text" style="color: #42427e">okay, cool :-) I'll try that! THANKS!!!</td><td class="time"><a href="#t2016-12-29T14:30:17" class="time">14:30</a></td></tr>
<tr id="t2016-12-29T14:42:37"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">hya everybody, I am pretty new to BitBake, is there any option which makes bitbake to output the gcc/make output on stdout ?</td><td class="time"><a href="#t2016-12-29T14:42:37" class="time">14:42</a></td></tr>
<tr id="t2016-12-29T14:53:59"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">pedr0_: if your feeling really keen "-v" does output that. But i think what you are probably after is the log.* files in "tmp-glibc/work/&lt;machine\arch&gt;/&lt;package&gt;/&lt;version&gt;/temp/log.*"</td><td class="time"><a href="#t2016-12-29T14:53:59" class="time">14:53</a></td></tr>
<tr id="t2016-12-29T14:55:01"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">I am trying to build a package which uses autotools</td><td class="time"><a href="#t2016-12-29T14:55:01" class="time">14:55</a></td></tr>
<tr id="t2016-12-29T14:55:07"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">-vv tells me :</td><td class="time"><a href="#t2016-12-29T14:55:07" class="time">14:55</a></td></tr>
<tr id="t2016-12-29T14:55:08"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">+ [ -e Makefile -o -e makefile -o -e GNUmakefile ] + bbnote nothing to compile</td><td class="time"><a href="#t2016-12-29T14:55:08" class="time">14:55</a></td></tr>
<tr id="t2016-12-29T14:55:56"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">pedr0_: dive into the work dir manual or via -c devshell and poke around :)</td><td class="time"><a href="#t2016-12-29T14:55:56" class="time">14:55</a></td></tr>
<tr id="t2016-12-29T14:56:09"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">what is -c devshell</td><td class="time"><a href="#t2016-12-29T14:56:09" class="time">14:56</a></td></tr>
<tr id="t2016-12-29T14:56:09"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">?</td><td class="time"><a href="#t2016-12-29T14:56:09" class="time">14:56</a></td></tr>
<tr id="t2016-12-29T14:56:19"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">"bitbake &lt;recipe&gt; -c devshell"</td><td class="time"><a href="#t2016-12-29T14:56:19" class="time">14:56</a></td></tr>
<tr id="t2016-12-29T14:57:16"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">it can't open the display (I am over SSH) is there any option to have it working anyway ? :-)</td><td class="time"><a href="#t2016-12-29T14:57:16" class="time">14:57</a></td></tr>
<tr id="t2016-12-29T14:57:49"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">tmux?</td><td class="time"><a href="#t2016-12-29T14:57:49" class="time">14:57</a></td></tr>
<tr id="t2016-12-29T14:58:05"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">or you can just cd down into the directory</td><td class="time"><a href="#t2016-12-29T14:58:05" class="time">14:58</a></td></tr>
<tr id="t2016-12-29T15:05:57"><th class="nick" style="background: #488888">ayaka</th><td class="text" style="color: #488888">if I want to modify the meta-platform/recipes-kernel/linux/linux_4.7.bb, I should use devtool edit-recipe linux to do that?</td><td class="time"><a href="#t2016-12-29T15:05:57" class="time">15:05</a></td></tr>
<tr id="t2016-12-29T15:08:29"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">I do not have an X11 display as I am connected to SSH, fixed by enabling x11 forwarding .. let us see how difficult it gets now :)</td><td class="time"><a href="#t2016-12-29T15:08:29" class="time">15:08</a></td></tr>
<tr id="t2016-12-29T15:13:11"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">pedr0_: sounds like your S variable isn't set to the correct path for the sources, so no makefile exists. also obviously make sure you inherit autotools</td><td class="time"><a href="#t2016-12-29T15:13:11" class="time">15:13</a></td></tr>
<tr id="t2016-12-29T15:16:15"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">but does it sound right to you that I have to set S=${WORKDIR}/namefolder where namefolder is the folder's name of the unpacket tar.gz ?</td><td class="time"><a href="#t2016-12-29T15:16:15" class="time">15:16</a></td></tr>
<tr id="t2016-12-29T15:19:37"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">I am in the front of the devshell ... but I can't fathom how to use it</td><td class="time"><a href="#t2016-12-29T15:19:37" class="time">15:19</a></td></tr>
<tr id="t2016-12-29T15:20:19"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">it's not that complicated. devshell opens a shell inside S. that's it</td><td class="time"><a href="#t2016-12-29T15:20:19" class="time">15:20</a></td></tr>
<tr id="t2016-12-29T15:20:26"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">it isn't magic. ls to see what files are in the source tree</td><td class="time"><a href="#t2016-12-29T15:20:26" class="time">15:20</a></td></tr>
<tr id="t2016-12-29T15:20:39"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">wow, there are none</td><td class="time"><a href="#t2016-12-29T15:20:39" class="time">15:20</a></td></tr>
<tr id="t2016-12-29T15:20:47"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">that sounds like a problem</td><td class="time"><a href="#t2016-12-29T15:20:47" class="time">15:20</a></td></tr>
<tr id="t2016-12-29T15:20:50"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">so ls .., to see what's in WORKDIR instead of S</td><td class="time"><a href="#t2016-12-29T15:20:50" class="time">15:20</a></td></tr>
<tr id="t2016-12-29T15:20:57"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">as nrossi said, look around</td><td class="time"><a href="#t2016-12-29T15:20:57" class="time">15:20</a></td></tr>
<tr id="t2016-12-29T15:21:06"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">do I need to build BEFORE running devshell</td><td class="time"><a href="#t2016-12-29T15:21:06" class="time">15:21</a></td></tr>
<tr id="t2016-12-29T15:21:08"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">?</td><td class="time"><a href="#t2016-12-29T15:21:08" class="time">15:21</a></td></tr>
<tr id="t2016-12-29T15:21:19"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">devshell runs after fetch, unpack, and patch</td><td class="time"><a href="#t2016-12-29T15:21:19" class="time">15:21</a></td></tr>
<tr id="t2016-12-29T15:22:02"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">oks, I've definitely discovered a problem, there is nothing in there</td><td class="time"><a href="#t2016-12-29T15:22:02" class="time">15:22</a></td></tr>
<tr id="t2016-12-29T15:22:05"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">thanks</td><td class="time"><a href="#t2016-12-29T15:22:05" class="time">15:22</a></td></tr>
<tr id="t2016-12-29T15:22:32"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">make sure the tarball has what you expect, make sure the tarball url/path is correct in SRC_URI, etc.</td><td class="time"><a href="#t2016-12-29T15:22:32" class="time">15:22</a></td></tr>
<tr id="t2016-12-29T15:22:33"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">np</td><td class="time"><a href="#t2016-12-29T15:22:33" class="time">15:22</a></td></tr>
<tr id="t2016-12-29T15:23:24"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">it is a local one (SRC_URI = "file://ooc-1.3b.tar.gz)</td><td class="time"><a href="#t2016-12-29T15:23:24" class="time">15:23</a></td></tr>
<tr id="t2016-12-29T15:27:06"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">hi everyone. i'm trying out yocto for the first time and following the beginners guide, but when i run bitbake, it gets stuck on parsing recipes (at 51%) - well at least i'm assuming it got stuck, unless this should take an eternity^^</td><td class="time"><a href="#t2016-12-29T15:27:06" class="time">15:27</a></td></tr>
<tr id="t2016-12-29T15:27:45"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">i'm using a vagrant vm as a build system (on macosx), with the build dir on the host system via nfs, and the tmp dir in tmpfs</td><td class="time"><a href="#t2016-12-29T15:27:45" class="time">15:27</a></td></tr>
<tr id="t2016-12-29T15:30:05"><th class="nick" style="background: #4d4d93">boucman_work</th><td class="text" style="color: #4d4d93">peacememories: i don't know if thhat's your problem, but build dir over nfs is going to be..... veeeeeery painfull</td><td class="time"><a href="#t2016-12-29T15:30:05" class="time">15:30</a></td></tr>
<tr id="t2016-12-29T15:30:32"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">I had the same problem ... but I do not remember what the solution was .. at least exactly</td><td class="time"><a href="#t2016-12-29T15:30:32" class="time">15:30</a></td></tr>
<tr id="t2016-12-29T15:31:13"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">does it output anything at all ?</td><td class="time"><a href="#t2016-12-29T15:31:13" class="time">15:31</a></td></tr>
<tr id="t2016-12-29T15:33:53"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">no, it just shows the progress bar</td><td class="time"><a href="#t2016-12-29T15:33:53" class="time">15:33</a></td></tr>
<tr id="t2016-12-29T15:33:58"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">any logs i can check?</td><td class="time"><a href="#t2016-12-29T15:33:58" class="time">15:33</a></td></tr>
<tr id="t2016-12-29T15:34:12"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">(just a sec, switching to an actual irc client^^)</td><td class="time"><a href="#t2016-12-29T15:34:12" class="time">15:34</a></td></tr>
<tr id="t2016-12-29T15:35:33"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">well no then, I apologize I had a different problem as in my case it did not print anything on the screen altogether</td><td class="time"><a href="#t2016-12-29T15:35:33" class="time">15:35</a></td></tr>
<tr id="t2016-12-29T15:35:46"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">thanks anyways :)</td><td class="time"><a href="#t2016-12-29T15:35:46" class="time">15:35</a></td></tr>
<tr id="t2016-12-29T15:38:10"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">there's apparently lo logs created</td><td class="time"><a href="#t2016-12-29T15:38:10" class="time">15:38</a></td></tr>
<tr id="t2016-12-29T15:40:41"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">peacememories: use ps or top, see if the bitbake or it's worker processes are alive and or doing something.</td><td class="time"><a href="#t2016-12-29T15:40:41" class="time">15:40</a></td></tr>
<tr id="t2016-12-29T15:41:28"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">bitbake is still running, but using next to no cpu time</td><td class="time"><a href="#t2016-12-29T15:41:28" class="time">15:41</a></td></tr>
<tr id="t2016-12-29T15:41:54"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">cooker's using a lot of memory, but not much else</td><td class="time"><a href="#t2016-12-29T15:41:54" class="time">15:41</a></td></tr>
<tr id="t2016-12-29T15:42:03"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">well "a lot of"</td><td class="time"><a href="#t2016-12-29T15:42:03" class="time">15:42</a></td></tr>
<tr id="t2016-12-29T15:42:13"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">well you could try to strace it to see what it is up to</td><td class="time"><a href="#t2016-12-29T15:42:13" class="time">15:42</a></td></tr>
<tr id="t2016-12-29T15:42:43"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">or use a python debugger ....</td><td class="time"><a href="#t2016-12-29T15:42:43" class="time">15:42</a></td></tr>
<tr id="t2016-12-29T15:43:37"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">there is the option -DDD - that would generate an awful lot of info but it might give you an hint of where it is</td><td class="time"><a href="#t2016-12-29T15:43:37" class="time">15:43</a></td></tr>
<tr id="t2016-12-29T15:43:45"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">bitbake -DDD &lt;..&gt;</td><td class="time"><a href="#t2016-12-29T15:43:45" class="time">15:43</a></td></tr>
<tr id="t2016-12-29T15:43:55"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">peacememories: oh just a quick check your tmpfs, how big is it set to be and how full is it?</td><td class="time"><a href="#t2016-12-29T15:43:55" class="time">15:43</a></td></tr>
<tr id="t2016-12-29T15:45:08"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">the tmp dir is 40kb big at the moment. also, i was wrong before, it's not on a tmpfs, but on the vm disk, which is 40gb in size</td><td class="time"><a href="#t2016-12-29T15:45:08" class="time">15:45</a></td></tr>
<tr id="t2016-12-29T15:45:37"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">(i keep mixing up which linux distros use tmpfs for /tmp and which don't^^)</td><td class="time"><a href="#t2016-12-29T15:45:37" class="time">15:45</a></td></tr>
<tr id="t2016-12-29T15:46:10"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">peacememories: /tmp is normally not a tmpfs on desktop distros</td><td class="time"><a href="#t2016-12-29T15:46:10" class="time">15:46</a></td></tr>
<tr id="t2016-12-29T15:46:34"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">used arch for a long while^^</td><td class="time"><a href="#t2016-12-29T15:46:34" class="time">15:46</a></td></tr>
<tr id="t2016-12-29T15:46:44"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">peacememories: I would recommend just trying to build using only the local VM disk. If that works then NFS is the issue</td><td class="time"><a href="#t2016-12-29T15:46:44" class="time">15:46</a></td></tr>
<tr id="t2016-12-29T15:47:07"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">i can try that too. will need more than about 40gb of space though, right?</td><td class="time"><a href="#t2016-12-29T15:47:07" class="time">15:47</a></td></tr>
<tr id="t2016-12-29T15:47:35"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">interesting too: sending sigint doesn't cleanly shut down bitbake</td><td class="time"><a href="#t2016-12-29T15:47:35" class="time">15:47</a></td></tr>
<tr id="t2016-12-29T15:47:50"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">`timeout while attempting to communicate with bitbake server`</td><td class="time"><a href="#t2016-12-29T15:47:50" class="time">15:47</a></td></tr>
<tr id="t2016-12-29T15:48:06"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">peacememories: You can use rm_work to avoid needing large amounts of space</td><td class="time"><a href="#t2016-12-29T15:48:06" class="time">15:48</a></td></tr>
<tr id="t2016-12-29T15:48:38"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">rm_work?</td><td class="time"><a href="#t2016-12-29T15:48:38" class="time">15:48</a></td></tr>
<tr id="t2016-12-29T15:49:21"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">add&nbsp;&nbsp;&nbsp;&nbsp; INHERIT += "rm_work"</td><td class="time"><a href="#t2016-12-29T15:49:21" class="time">15:49</a></td></tr>
<tr id="t2016-12-29T15:49:35"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">to your build/conf/local.conf</td><td class="time"><a href="#t2016-12-29T15:49:35" class="time">15:49</a></td></tr>
<tr id="t2016-12-29T15:49:51"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">look for rm_work here : <a href="https://www.yoctoproject.org/docs/1.8/yocto-project-qs/yocto-project-qs.html" rel="nofollow">https://www.yoctoproject.org/docs/1.8/yocto-project-qs/yocto-project-qs.html</a></td><td class="time"><a href="#t2016-12-29T15:49:51" class="time">15:49</a></td></tr>
<tr id="t2016-12-29T15:50:47"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">40GB it is not a lot though - it really depends what you are doing, I am experimenting with a pocky and my df tells :</td><td class="time"><a href="#t2016-12-29T15:50:47" class="time">15:50</a></td></tr>
<tr id="t2016-12-29T15:51:01"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">&nbsp;&nbsp;/dev/sda1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 226G&nbsp;&nbsp;134G&nbsp;&nbsp; 82G&nbsp;&nbsp;63% /</td><td class="time"><a href="#t2016-12-29T15:51:01" class="time">15:51</a></td></tr>
<tr id="t2016-12-29T15:51:19"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">that is a container where I am just doing the Yocto stuff</td><td class="time"><a href="#t2016-12-29T15:51:19" class="time">15:51</a></td></tr>
<tr id="t2016-12-29T15:51:47"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">(134G it's what is used)</td><td class="time"><a href="#t2016-12-29T15:51:47" class="time">15:51</a></td></tr>
<tr id="t2016-12-29T15:53:25"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">I am debugging my autotools issue - I have made some progress as the bb tool now find the tarball, extracts it fine and moves on in building it</td><td class="time"><a href="#t2016-12-29T15:53:25" class="time">15:53</a></td></tr>
<tr id="t2016-12-29T15:53:40"><th class="nick" style="background: #42427e">kalpu</th><td class="text" style="color: #42427e">What to do to add a custom initramfs to a fitimage?</td><td class="time"><a href="#t2016-12-29T15:53:40" class="time">15:53</a></td></tr>
<tr id="t2016-12-29T15:54:00"><th class="nick" style="background: #42427e">kalpu</th><td class="text" style="color: #42427e">I already create the fitimage in a machine-config</td><td class="time"><a href="#t2016-12-29T15:54:00" class="time">15:54</a></td></tr>
<tr id="t2016-12-29T15:54:37"><th class="nick" style="background: #42427e">kalpu</th><td class="text" style="color: #42427e">Let me rephrase my question: What to do to add a custom initramfs to a already existant fitImage that gets created in a machine-config-file?</td><td class="time"><a href="#t2016-12-29T15:54:37" class="time">15:54</a></td></tr>
<tr id="t2016-12-29T15:56:31"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">I can see the content of my tarball with ls in the devshell (no path change needed) - it fails to compile though as it jumps in a directory named "build" inside my recipe's folder&nbsp;&nbsp;&lt;..&gt;/build/tmp/work/i586-poky-linux/ooc/1.0-r0/build - such folder looks different from the original tarball</td><td class="time"><a href="#t2016-12-29T15:56:31" class="time">15:56</a></td></tr>
<tr id="t2016-12-29T15:56:57"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">by default autotools will use a separate source vs build directory</td><td class="time"><a href="#t2016-12-29T15:56:57" class="time">15:56</a></td></tr>
<tr id="t2016-12-29T15:57:06"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">if your project doesn't support that, you can inherit autotools-brokensep</td><td class="time"><a href="#t2016-12-29T15:57:06" class="time">15:57</a></td></tr>
<tr id="t2016-12-29T15:57:12"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">though better yet would be to fix it to support it instead</td><td class="time"><a href="#t2016-12-29T15:57:12" class="time">15:57</a></td></tr>
<tr id="t2016-12-29T15:57:39"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">yeah, but I do not own this code, let me try with yout fix first</td><td class="time"><a href="#t2016-12-29T15:57:39" class="time">15:57</a></td></tr>
<tr id="t2016-12-29T15:58:00"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">kalpu: If you set INITRAMFS_IMAGE, you should get two fitimage files in your images dir, one with the initramfs and one without</td><td class="time"><a href="#t2016-12-29T15:58:00" class="time">15:58</a></td></tr>
<tr id="t2016-12-29T15:59:09"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">it works now, thanks a LOT</td><td class="time"><a href="#t2016-12-29T15:59:09" class="time">15:59</a></td></tr>
<tr id="t2016-12-29T16:00:13"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">such recipe generates a library (static) to be used by another tool,&nbsp;&nbsp;would you know a recipe example that tries to do the same ?</td><td class="time"><a href="#t2016-12-29T16:00:13" class="time">16:00</a></td></tr>
<tr id="t2016-12-29T16:00:24"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">hmm, building directly in the vm still hangs</td><td class="time"><a href="#t2016-12-29T16:00:24" class="time">16:00</a></td></tr>
<tr id="t2016-12-29T16:00:53"><th class="nick" style="background: #42427e">kalpu</th><td class="text" style="color: #42427e">nrossi: So I get a fitImage which consist of Kernel+DeviceTree+InitramFS ?</td><td class="time"><a href="#t2016-12-29T16:00:53" class="time">16:00</a></td></tr>
<tr id="t2016-12-29T16:01:21"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">kalpu: yep, but also one which is just kernel+devicetree</td><td class="time"><a href="#t2016-12-29T16:01:21" class="time">16:01</a></td></tr>
<tr id="t2016-12-29T16:01:29"><th class="nick" style="background: #42427e">kalpu</th><td class="text" style="color: #42427e">ah, okay, cool</td><td class="time"><a href="#t2016-12-29T16:01:29" class="time">16:01</a></td></tr>
<tr id="t2016-12-29T16:01:45"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">kalpu: The one with the initramfs will have the value of "INITRAMFS_IMAGE" in its name</td><td class="time"><a href="#t2016-12-29T16:01:45" class="time">16:01</a></td></tr>
<tr id="t2016-12-29T16:05:31"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">sorry:uch recipe generates a library (static) to be used by another RECIPE, is there any example I can follow ? I basically need to use the .a file generated from my recipe for another C program I wrote, which is under another recipe</td><td class="time"><a href="#t2016-12-29T16:05:31" class="time">16:05</a></td></tr>
<tr id="t2016-12-29T16:06:39"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">install it where you'd normally install such a library (${libdir} under ${D}) and reference it with -l as usual</td><td class="time"><a href="#t2016-12-29T16:06:39" class="time">16:06</a></td></tr>
<tr id="t2016-12-29T16:06:47"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">and of course make the second recipe DEPENDS on the first</td><td class="time"><a href="#t2016-12-29T16:06:47" class="time">16:06</a></td></tr>
<tr id="t2016-12-29T16:06:56"><td class="nickchange" colspan="2">*** mckoan_ is now known as mckoan</td><td><a href="#t2016-12-29T16:06:56" class="time">16:06</a></td></tr>
<tr id="t2016-12-29T16:07:34"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">okay, reading the manual thoroughly definitely helps^^ i had to switch the package manager to deb-based, now i'm at least on 53%^^</td><td class="time"><a href="#t2016-12-29T16:07:34" class="time">16:07</a></td></tr>
<tr id="t2016-12-29T16:08:33"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">would that result in the static library being part of the final generated image ? I guess not</td><td class="time"><a href="#t2016-12-29T16:08:33" class="time">16:08</a></td></tr>
<tr id="t2016-12-29T16:08:49"><th class="nick" style="background: #4d4d93">boucman_work</th><td class="text" style="color: #4d4d93">kergoth: do you know if there is a particular reason for deactivating do_fetch &amp; co in image.bbclass ? downloading a file to override in the rootfs sounds like a common usage pattern to me...</td><td class="time"><a href="#t2016-12-29T16:08:49" class="time">16:08</a></td></tr>
<tr id="t2016-12-29T16:08:51"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">pedr0_: no, not unless you add the -staticdev package of the first recipe to your image manually</td><td class="time"><a href="#t2016-12-29T16:08:51" class="time">16:08</a></td></tr>
<tr id="t2016-12-29T16:08:53"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">I do not want the image to contain the static library</td><td class="time"><a href="#t2016-12-29T16:08:53" class="time">16:08</a></td></tr>
<tr id="t2016-12-29T16:08:57"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">oks</td><td class="time"><a href="#t2016-12-29T16:08:57" class="time">16:08</a></td></tr>
<tr id="t2016-12-29T16:09:00"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">cheers</td><td class="time"><a href="#t2016-12-29T16:09:00" class="time">16:09</a></td></tr>
<tr id="t2016-12-29T16:09:22"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">boucman_work: I think I've had to do it once or twice in the past 10 years :) but yeah, it's certainly a valid thing to do. you could certainly drop the noexecs in the recipe</td><td class="time"><a href="#t2016-12-29T16:09:22" class="time">16:09</a></td></tr>
<tr id="t2016-12-29T16:09:40"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">peacememories: fair warning, the deb/dpkg support doesn't get near the attention and testing that opkg &amp; rpm get</td><td class="time"><a href="#t2016-12-29T16:09:40" class="time">16:09</a></td></tr>
<tr id="t2016-12-29T16:09:51"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">should still work, just keep it in mind</td><td class="time"><a href="#t2016-12-29T16:09:51" class="time">16:09</a></td></tr>
<tr id="t2016-12-29T16:10:25"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">kergoth thanks for the warning :) i could switch to a fedora vm or something i guess. right now i'm stuck on 53% though^^'</td><td class="time"><a href="#t2016-12-29T16:10:25" class="time">16:10</a></td></tr>
<tr id="t2016-12-29T16:10:27"><th class="nick" style="background: #4d4d93">boucman_work</th><td class="text" style="color: #4d4d93">kergoth: ok, someone will probably submit a patch soon (not me, i'm training someone on "how to contribute" :P )</td><td class="time"><a href="#t2016-12-29T16:10:27" class="time">16:10</a></td></tr>
<tr id="t2016-12-29T16:11:03"><th class="nick" style="background: #4d4d93">boucman_work</th><td class="text" style="color: #4d4d93">kergoth: I have a lot of "no user" use-cases : nobody to tweak config files after the fact, everything needs to be done at image-build time</td><td class="time"><a href="#t2016-12-29T16:11:03" class="time">16:11</a></td></tr>
<tr id="t2016-12-29T16:11:03"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">boucman_work: you should be able to undo it in the image itself if need be, on a per-image basis, no?</td><td class="time"><a href="#t2016-12-29T16:11:03" class="time">16:11</a></td></tr>
<tr id="t2016-12-29T16:11:14"><td class="action" colspan="2">* kergoth nods</td><td><a href="#t2016-12-29T16:11:14" class="time">16:11</a></td></tr>
<tr id="t2016-12-29T16:11:19"><th class="nick" style="background: #4d4d93">boucman_work</th><td class="text" style="color: #4d4d93">and since there are some per-images variants, I can't do that in packages</td><td class="time"><a href="#t2016-12-29T16:11:19" class="time">16:11</a></td></tr>
<tr id="t2016-12-29T16:11:28"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">peacememories: ah, you meant the host. that shouldn't be too relevant</td><td class="time"><a href="#t2016-12-29T16:11:28" class="time">16:11</a></td></tr>
<tr id="t2016-12-29T16:11:31"><td class="action" colspan="2">* kergoth nods</td><td><a href="#t2016-12-29T16:11:31" class="time">16:11</a></td></tr>
<tr id="t2016-12-29T16:12:03"><th class="nick" style="background: #4d4d93">boucman_work</th><td class="text" style="color: #4d4d93">kergoth: yes, but that sounds like a generic enough use-case that I think it should be activated by default (I don't really understand why it was deactivated in the first place)</td><td class="time"><a href="#t2016-12-29T16:12:03" class="time">16:12</a></td></tr>
<tr id="t2016-12-29T16:12:58"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">probably just an optimization, no point running tasks that do nothing, i.e. configure/compile were noexec'd too, but this does sound like a use case we should support, particularly if the reasoning was just an optimization</td><td class="time"><a href="#t2016-12-29T16:12:58" class="time">16:12</a></td></tr>
<tr id="t2016-12-29T16:13:39"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">how do I concatenate two variables in bb ? Z="${A}""${B}" &lt;- does it look correct ?</td><td class="time"><a href="#t2016-12-29T16:13:39" class="time">16:13</a></td></tr>
<tr id="t2016-12-29T16:13:58"><th class="nick" style="background: #97974f">geek</th><td class="text" style="color: #97974f">morning</td><td class="time"><a href="#t2016-12-29T16:13:58" class="time">16:13</a></td></tr>
<tr id="t2016-12-29T16:14:01"><td class="nickchange" colspan="2">*** geek is now known as Guest26769</td><td><a href="#t2016-12-29T16:14:01" class="time">16:14</a></td></tr>
<tr id="t2016-12-29T16:14:06"><th class="nick" style="background: #4d4d93">boucman_work</th><td class="text" style="color: #4d4d93">kergoth: a follow up patch would be a way to easily provide an overlay-type source and automatically apply it to the image, but that one would have to be explicitely enabled.</td><td class="time"><a href="#t2016-12-29T16:14:06" class="time">16:14</a></td></tr>
<tr id="t2016-12-29T16:14:12"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">pedr0_: no</td><td class="time"><a href="#t2016-12-29T16:14:12" class="time">16:14</a></td></tr>
<tr id="t2016-12-29T16:14:17"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">pedr0_: "${A}${B}"</td><td class="time"><a href="#t2016-12-29T16:14:17" class="time">16:14</a></td></tr>
<tr id="t2016-12-29T16:14:18"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">done</td><td class="time"><a href="#t2016-12-29T16:14:18" class="time">16:14</a></td></tr>
<tr id="t2016-12-29T16:14:22"><td class="other" colspan="2">-YoctoAutoBuilder- build #781 of nightly-oe-selftest is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-oe-selftest/builds/781" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-oe-selftest/builds/781</a></td><td><a href="#t2016-12-29T16:14:22" class="time">16:14</a></td></tr>
<tr id="t2016-12-29T16:14:27"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">bitbake doesn't care how many variables you reference</td><td class="time"><a href="#t2016-12-29T16:14:27" class="time">16:14</a></td></tr>
<tr id="t2016-12-29T16:14:38"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">the quoting is for Z, not for A and B</td><td class="time"><a href="#t2016-12-29T16:14:38" class="time">16:14</a></td></tr>
<tr id="t2016-12-29T16:14:51"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">to put it another way, you don't quote references, but variable definitions</td><td class="time"><a href="#t2016-12-29T16:14:51" class="time">16:14</a></td></tr>
<tr id="t2016-12-29T16:14:56"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">Z = "${A}${B}" is fine</td><td class="time"><a href="#t2016-12-29T16:14:56" class="time">16:14</a></td></tr>
<tr id="t2016-12-29T16:15:15"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">see also the bitbake manual, it covers the syntax</td><td class="time"><a href="#t2016-12-29T16:15:15" class="time">16:15</a></td></tr>
<tr id="t2016-12-29T16:16:10"><th class="nick" style="background: #97974f">Guest26769</th><td class="text" style="color: #97974f">it looks like nano moved to a git server and now I'm having problems building</td><td class="time"><a href="#t2016-12-29T16:16:10" class="time">16:16</a></td></tr>
<tr id="t2016-12-29T16:19:55"><th class="nick" style="background: #97974f">Guest26769</th><td class="text" style="color: #97974f">I tried to modify the nano.inc file to reflect the changes but I'm still new to Yocto so it would failed on do_configure</td><td class="time"><a href="#t2016-12-29T16:19:55" class="time">16:19</a></td></tr>
<tr id="t2016-12-29T16:20:37"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">we'd need more info to assist, can you put the do_configure log on a pastebin?</td><td class="time"><a href="#t2016-12-29T16:20:37" class="time">16:20</a></td></tr>
<tr id="t2016-12-29T16:21:50"><th class="nick" style="background: #97974f">Guest26769</th><td class="text" style="color: #97974f">I just flushed everything to start all over so the log file is gone</td><td class="time"><a href="#t2016-12-29T16:21:50" class="time">16:21</a></td></tr>
<tr id="t2016-12-29T16:22:26"><th class="nick" style="background: #97974f">Guest26769</th><td class="text" style="color: #97974f">the build worked a few days ago, then it seems nano moved it's repo to git</td><td class="time"><a href="#t2016-12-29T16:22:26" class="time">16:22</a></td></tr>
<tr id="t2016-12-29T16:22:31"><th class="nick" style="background: #97974f">Guest26769</th><td class="text" style="color: #97974f">from ftp</td><td class="time"><a href="#t2016-12-29T16:22:31" class="time">16:22</a></td></tr>
<tr id="t2016-12-29T16:22:56"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">sorry to keep bothering - I am doing okay with the static lib (${D}/{libdir}) what's the right place for the header files ?</td><td class="time"><a href="#t2016-12-29T16:22:56" class="time">16:22</a></td></tr>
<tr id="t2016-12-29T16:25:05"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">... I wonder .. in my desktop system I haven't done anything more than typing 'make install', is it possible to achieve the same effect ? I am a bit worried that doing it by hand (coping files on the {libdir} etc etc would cause some mistake as I am could forget to copy sth</td><td class="time"><a href="#t2016-12-29T16:25:05" class="time">16:25</a></td></tr>
<tr id="t2016-12-29T16:26:36"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">it already does that by default</td><td class="time"><a href="#t2016-12-29T16:26:36" class="time">16:26</a></td></tr>
<tr id="t2016-12-29T16:26:46"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">autotools.bbclass defines a do_install that runs make install with DESTDIR set to ${D}</td><td class="time"><a href="#t2016-12-29T16:26:46" class="time">16:26</a></td></tr>
<tr id="t2016-12-29T16:29:16"><th class="nick" style="background: #97974f">Guest26769</th><td class="text" style="color: #97974f">I was following these directions <a href="https://boundarydevices.com/morty-yocto-release/" rel="nofollow">https://boundarydevices.com/morty-yocto-release/</a></td><td class="time"><a href="#t2016-12-29T16:29:16" class="time">16:29</a></td></tr>
<tr id="t2016-12-29T16:30:32"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">again, that doesn't really tell us a whole lot. when you have a problem, people need exact error messages and logs, not summaries</td><td class="time"><a href="#t2016-12-29T16:30:32" class="time">16:30</a></td></tr>
<tr id="t2016-12-29T16:32:27"><th class="nick" style="background: #97974f">Guest26769</th><td class="text" style="color: #97974f">I'm rebuilding now to get that to you. BUT the recipe in morty/sources/meta-openembedded/meta-oe/recipes-support/nano looks for and FTP site that does not exist anymore</td><td class="time"><a href="#t2016-12-29T16:32:27" class="time">16:32</a></td></tr>
<tr id="t2016-12-29T16:33:48"><th class="nick" style="background: #97974f">Guest26769</th><td class="text" style="color: #97974f">it moved to git <a href="https://www.nano-editor.org/git.php" rel="nofollow">https://www.nano-editor.org/git.php</a></td><td class="time"><a href="#t2016-12-29T16:33:48" class="time">16:33</a></td></tr>
<tr id="t2016-12-29T16:34:39"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">yes, you've said that repeatedly. i don't really see the problem. yocto provides mirrors to pull from the tarball from, and i'm sure master will move to git if it hasn't already</td><td class="time"><a href="#t2016-12-29T16:34:39" class="time">16:34</a></td></tr>
<tr id="t2016-12-29T16:34:51"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">okay, i fixed the problem with parsing (it was too little ram)</td><td class="time"><a href="#t2016-12-29T16:34:51" class="time">16:34</a></td></tr>
<tr id="t2016-12-29T16:34:59"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2016-12-29T16:34:59" class="time">16:34</a></td></tr>
<tr id="t2016-12-29T16:35:02"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">peacememories: ah! interesting</td><td class="time"><a href="#t2016-12-29T16:35:02" class="time">16:35</a></td></tr>
<tr id="t2016-12-29T16:35:13"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">buut i've go different problems now^^</td><td class="time"><a href="#t2016-12-29T16:35:13" class="time">16:35</a></td></tr>
<tr id="t2016-12-29T16:35:47"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">bitbake complains about `free inode is running low`</td><td class="time"><a href="#t2016-12-29T16:35:47" class="time">16:35</a></td></tr>
<tr id="t2016-12-29T16:37:00"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">okay, that's apparently because the shared virtualbox fs doesn't have enough inodes</td><td class="time"><a href="#t2016-12-29T16:37:00" class="time">16:37</a></td></tr>
<tr id="t2016-12-29T16:48:20"><th class="nick" style="background: #97974f">Guest26769</th><td class="text" style="color: #97974f">this could be somewhat self inflicted. open embedded was down for over a day so the mirror would have been down too</td><td class="time"><a href="#t2016-12-29T16:48:20" class="time">16:48</a></td></tr>
<tr id="t2016-12-29T16:55:54"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">can i somehow turn the inode check off?</td><td class="time"><a href="#t2016-12-29T16:55:54" class="time">16:55</a></td></tr>
<tr id="t2016-12-29T16:59:41"><td class="part" colspan="2">*** deva &lt;deva!~deva@aasimon.org&gt; has left #yocto</td><td><a href="#t2016-12-29T16:59:41" class="time">16:59</a></td></tr>
<tr id="t2016-12-29T17:00:44"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">peacememories: quick google.. says no. you would need to recompile the kernel module.</td><td class="time"><a href="#t2016-12-29T17:00:44" class="time">17:00</a></td></tr>
<tr id="t2016-12-29T17:01:01"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">okay, thanks</td><td class="time"><a href="#t2016-12-29T17:01:01" class="time">17:01</a></td></tr>
<tr id="t2016-12-29T17:01:15"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">most likely that check is from bitbake, in which case yes, i't sjust a variable.</td><td class="time"><a href="#t2016-12-29T17:01:15" class="time">17:01</a></td></tr>
<tr id="t2016-12-29T17:02:36"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">search the bitbake manual for BB_DISKMON_DIRS for reference, or just look in conf/local.conf, as most likely your distro's local.conf.sample is what's setting it in the first place</td><td class="time"><a href="#t2016-12-29T17:02:36" class="time">17:02</a></td></tr>
<tr id="t2016-12-29T17:02:52"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">so I shouldn't need to manually copy the static library by&nbsp;&nbsp;hand using&nbsp;&nbsp;install -m 0755 ${S}/libs/libooc.a ${D}${libdir}/</td><td class="time"><a href="#t2016-12-29T17:02:52" class="time">17:02</a></td></tr>
<tr id="t2016-12-29T17:02:56"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">in my do_install</td><td class="time"><a href="#t2016-12-29T17:02:56" class="time">17:02</a></td></tr>
<tr id="t2016-12-29T17:02:57"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">i.e. BB_DISKMON_DIRS = "STOPTASKS,${TMPDIR},1G,100K WARN,${SSTATE_DIR},1G,100K" that 100K is inodes, the 1G is free space</td><td class="time"><a href="#t2016-12-29T17:02:57" class="time">17:02</a></td></tr>
<tr id="t2016-12-29T17:03:04"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">pedr0_: assuming it's an automake based project, no</td><td class="time"><a href="#t2016-12-29T17:03:04" class="time">17:03</a></td></tr>
<tr id="t2016-12-29T17:04:09"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">peacememories: kergoth: looks like there is a stackoverflow about this exact issue : <a href="http://superuser.com/questions/999830/virtualbox-shared-folder-has-insufficient-inodes" rel="nofollow">http://superuser.com/questions/999830/virtualbox-shared-folder-has-insufficient-inodes</a></td><td class="time"><a href="#t2016-12-29T17:04:09" class="time">17:04</a></td></tr>
<tr id="t2016-12-29T17:04:50"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">nrossi: yes, if you read the entirety of the question: Modifying the config file to change the panic thresholds seems to have worked. There are actually two levels of checking. A "STOP" level and an "ABORT" level. By default "STOP" is set to 100,000 inodes. Changing both STOP and ABORT to 999 inodes allows the build to proceed, but I'm not sure if it will cause other problems down the road.</td><td class="time"><a href="#t2016-12-29T17:04:50" class="time">17:04</a></td></tr>
<tr id="t2016-12-29T17:04:54"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">which references what i just said</td><td class="time"><a href="#t2016-12-29T17:04:54" class="time">17:04</a></td></tr>
<tr id="t2016-12-29T17:05:00"><td class="action" colspan="2">* kergoth shrugs</td><td><a href="#t2016-12-29T17:05:00" class="time">17:05</a></td></tr>
<tr id="t2016-12-29T17:05:24"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">afk</td><td class="time"><a href="#t2016-12-29T17:05:24" class="time">17:05</a></td></tr>
<tr id="t2016-12-29T17:06:28"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">oks, the makefile I have defined uses LDFLAGS, but I can't find it in the compiler command</td><td class="time"><a href="#t2016-12-29T17:06:28" class="time">17:06</a></td></tr>
<tr id="t2016-12-29T17:06:32"><th class="nick" style="background: #818144">nrossi</th><td class="text" style="color: #818144">I read your reply and saw the note you mention, but just incase i posted that link. Sorry if i confused anyone :|</td><td class="time"><a href="#t2016-12-29T17:06:32" class="time">17:06</a></td></tr>
<tr id="t2016-12-29T17:06:54"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">I meant : makefile says LDFLAGS += -looc [..] $(CC) -o $@ $^ -g $(LDFLAGS)</td><td class="time"><a href="#t2016-12-29T17:06:54" class="time">17:06</a></td></tr>
<tr id="t2016-12-29T17:07:03"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">but I do not see the -looc in the command line output</td><td class="time"><a href="#t2016-12-29T17:07:03" class="time">17:07</a></td></tr>
<tr id="t2016-12-29T17:07:09"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">and in fact it fails to link</td><td class="time"><a href="#t2016-12-29T17:07:09" class="time">17:07</a></td></tr>
<tr id="t2016-12-29T17:07:33"><th class="nick" style="background: #854685">pedr0_</th><td class="text" style="color: #854685">is there anything I need to pass to the oe_runmake command in my recipe ?</td><td class="time"><a href="#t2016-12-29T17:07:33" class="time">17:07</a></td></tr>
<tr id="t2016-12-29T17:11:31"><th class="nick" style="background: #4b904b">peacememories</th><td class="text" style="color: #4b904b">okay, it's not aborting now. thanks a lot :)</td><td class="time"><a href="#t2016-12-29T17:11:31" class="time">17:11</a></td></tr>
<tr id="t2016-12-29T18:02:31"><td class="nickchange" colspan="2">*** nslu2-log_ is now known as nslu2-log</td><td><a href="#t2016-12-29T18:02:31" class="time">18:02</a></td></tr>
<tr id="t2016-12-29T18:11:29"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">Question: if I'm following <a href="https://wiki.yoctoproject.org/wiki/How_do_I#Q:_How_do_I_create_my_own_source_download_mirror_.3F," rel="nofollow">https://wiki.yoctoproject.org/wiki/How_do_I#Q:_How_do_I_create_my_own_source_download_mirror_.3F,</a> what can I do for my custom recipes that fetch their code from git repos on bitbucket or github?</td><td class="time"><a href="#t2016-12-29T18:11:29" class="time">18:11</a></td></tr>
<tr id="t2016-12-29T18:11:55"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">I've got checkout directories in the downloads dir already, but I don't understand how to get the build process to use the local mirror instead of trying to clone across the network.</td><td class="time"><a href="#t2016-12-29T18:11:55" class="time">18:11</a></td></tr>
<tr id="t2016-12-29T18:13:59"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">the clones have to be in the correct location in downloads with the correct names, and the repos have to be bare</td><td class="time"><a href="#t2016-12-29T18:13:59" class="time">18:13</a></td></tr>
<tr id="t2016-12-29T18:14:09"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">if you want to use a local checkout/clone, see the documentation on the externalsrc class</td><td class="time"><a href="#t2016-12-29T18:14:09" class="time">18:14</a></td></tr>
<tr id="t2016-12-29T18:16:43"><th class="nick" style="background: #539e9e">jstashluk</th><td class="text" style="color: #539e9e">exit</td><td class="time"><a href="#t2016-12-29T18:16:43" class="time">18:16</a></td></tr>
<tr id="t2016-12-29T18:16:47"><td class="part" colspan="2">*** jstashluk &lt;jstashluk!~StashlukJ@50-255-154-65-static.hfc.comcastbusiness.net&gt; has left #yocto</td><td><a href="#t2016-12-29T18:16:47" class="time">18:16</a></td></tr>
<tr id="t2016-12-29T18:20:10"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">bare repos?</td><td class="time"><a href="#t2016-12-29T18:20:10" class="time">18:20</a></td></tr>
<tr id="t2016-12-29T18:20:16"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">Ah, meaning with no .git in them.</td><td class="time"><a href="#t2016-12-29T18:20:16" class="time">18:20</a></td></tr>
<tr id="t2016-12-29T18:20:21"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">I'll look at that documentation.</td><td class="time"><a href="#t2016-12-29T18:20:21" class="time">18:20</a></td></tr>
<tr id="t2016-12-29T18:21:05"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">the downloads dir used as DL_DIR by bitbake has a specific format.</td><td class="time"><a href="#t2016-12-29T18:21:05" class="time">18:21</a></td></tr>
<tr id="t2016-12-29T18:21:12"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">particularly for SCM repositories</td><td class="time"><a href="#t2016-12-29T18:21:12" class="time">18:21</a></td></tr>
<tr id="t2016-12-29T18:21:20"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">adding stuff there manually is unlikely to do what you want</td><td class="time"><a href="#t2016-12-29T18:21:20" class="time">18:21</a></td></tr>
<tr id="t2016-12-29T19:32:02"><td class="part" colspan="2">*** kalpu &lt;kalpu!~kalpu@HSI-KBW-109-193-021-110.hsi7.kabel-badenwuerttemberg.de&gt; has left #yocto</td><td><a href="#t2016-12-29T19:32:02" class="time">19:32</a></td></tr>
<tr id="t2016-12-29T19:48:37"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">kergoth: so to be clear, if I want to use cached clones of git repos for recipes, I have to rewrite the recipes to treat the clones as external source rather than using bitbake's normal build process (via cmake, as I actually do)?</td><td class="time"><a href="#t2016-12-29T19:48:37" class="time">19:48</a></td></tr>
<tr id="t2016-12-29T19:51:38"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">your best bet is to populate your local mirror using the contents of an existing bitbake DL_DIR. don't try to clone it yourself externally</td><td class="time"><a href="#t2016-12-29T19:51:38" class="time">19:51</a></td></tr>
<tr id="t2016-12-29T19:51:54"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">if you do, you have to do so with —bare and make sure the name and path are correct</td><td class="time"><a href="#t2016-12-29T19:51:54" class="time">19:51</a></td></tr>
<tr id="t2016-12-29T19:52:05"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">but it really depends on your requirements</td><td class="time"><a href="#t2016-12-29T19:52:05" class="time">19:52</a></td></tr>
<tr id="t2016-12-29T19:54:33"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">that said, there's no need to rewrite anything, you can use a bbappend to do it, in your own local layer, if you do want to use externalsrc. that's how 'devtool modify' works</td><td class="time"><a href="#t2016-12-29T19:54:33" class="time">19:54</a></td></tr>
<tr id="t2016-12-29T19:54:48"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">but again, depends on the use case. are you doing active development, populating a mirror site, or..?</td><td class="time"><a href="#t2016-12-29T19:54:48" class="time">19:54</a></td></tr>
<tr id="t2016-12-29T20:17:42"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">Any meta-intel folk around?</td><td class="time"><a href="#t2016-12-29T20:17:42" class="time">20:17</a></td></tr>
<tr id="t2016-12-29T20:18:49"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">Basically, I've got some projects that our client develops, and which they're having us integrate into a Yocto build for them.</td><td class="time"><a href="#t2016-12-29T20:18:49" class="time">20:18</a></td></tr>
<tr id="t2016-12-29T20:19:03"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">They want to be able to mirror everything on a machine and build from there, without the network.</td><td class="time"><a href="#t2016-12-29T20:19:03" class="time">20:19</a></td></tr>
<tr id="t2016-12-29T20:19:23"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">They also keep their own sources for these projects on a git repo.</td><td class="time"><a href="#t2016-12-29T20:19:23" class="time">20:19</a></td></tr>
<tr id="t2016-12-29T20:19:30"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">I've written Yocto recipes that integrate them.</td><td class="time"><a href="#t2016-12-29T20:19:30" class="time">20:19</a></td></tr>
<tr id="t2016-12-29T20:20:40"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">could you not just use PREMIRRORS to fetch from those git uris, rather than trying to mess with the contents of DL_DIR?</td><td class="time"><a href="#t2016-12-29T20:20:40" class="time">20:20</a></td></tr>
<tr id="t2016-12-29T20:25:05"><td class="part" colspan="2">*** deepwater &lt;deepwater!~aboseley@101.165.216.251&gt; has left #yocto</td><td><a href="#t2016-12-29T20:25:05" class="time">20:25</a></td></tr>
<tr id="t2016-12-29T20:39:30"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">oh, that looks like exactly what I need!</td><td class="time"><a href="#t2016-12-29T20:39:30" class="time">20:39</a></td></tr>
<tr id="t2016-12-29T20:39:32"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">let me try that out.</td><td class="time"><a href="#t2016-12-29T20:39:32" class="time">20:39</a></td></tr>
<tr id="t2016-12-29T21:05:58"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">Hmmm.&nbsp;&nbsp;I tried setting BB_FETCH_PREMIRRORONLY="1" in conf/local.conf, and I also set up the PREMIRRORS_prepend with the file:// URI to my local clone.&nbsp;&nbsp;I get the same complaint about network access being disabled as I did before when I actually build, though.</td><td class="time"><a href="#t2016-12-29T21:05:58" class="time">21:05</a></td></tr>
<tr id="t2016-12-29T21:06:30"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">check the do_fetch log</td><td class="time"><a href="#t2016-12-29T21:06:30" class="time">21:06</a></td></tr>
<tr id="t2016-12-29T21:06:41"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">and make sure the PREMIRRORS syntax is correct</td><td class="time"><a href="#t2016-12-29T21:06:41" class="time">21:06</a></td></tr>
<tr id="t2016-12-29T21:06:46"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">for example, using file:// is wrong</td><td class="time"><a href="#t2016-12-29T21:06:46" class="time">21:06</a></td></tr>
<tr id="t2016-12-29T21:06:56"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">that will result in using cp or wget, not git</td><td class="time"><a href="#t2016-12-29T21:06:56" class="time">21:06</a></td></tr>
<tr id="t2016-12-29T21:07:14"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">instead,k you should use git:// with ;protocol=file, which will pass the file:// uri to git, but use bitbake's git fetcher rather than the file fetcher</td><td class="time"><a href="#t2016-12-29T21:07:14" class="time">21:07</a></td></tr>
<tr id="t2016-12-29T21:07:18"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">give that a try, if you would</td><td class="time"><a href="#t2016-12-29T21:07:18" class="time">21:07</a></td></tr>
<tr id="t2016-12-29T21:07:38"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">but should still verify the mirror is being applied correctly by examining the urls checked in do_fetch</td><td class="time"><a href="#t2016-12-29T21:07:38" class="time">21:07</a></td></tr>
<tr id="t2016-12-29T21:12:29"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">hmmm, I *was* doing that wrong, but let's see if it helps.</td><td class="time"><a href="#t2016-12-29T21:12:29" class="time">21:12</a></td></tr>
<tr id="t2016-12-29T21:12:46"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">no, the git commands composed by do_fetch still seem to refer to the original git server.</td><td class="time"><a href="#t2016-12-29T21:12:46" class="time">21:12</a></td></tr>
<tr id="t2016-12-29T21:13:03"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">ssh://git@bitbucket.org/$CLIENT/$PROJECT.git</td><td class="time"><a href="#t2016-12-29T21:13:03" class="time">21:13</a></td></tr>
<tr id="t2016-12-29T21:21:49"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">kergoth, rather than quizzing you, let me google for a bit.</td><td class="time"><a href="#t2016-12-29T21:21:49" class="time">21:21</a></td></tr>
<tr id="t2016-12-29T21:25:23"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">PREMIRRORS and MIRRORS aren't a single regex, they're a url constructed of multiple regexes</td><td class="time"><a href="#t2016-12-29T21:25:23" class="time">21:25</a></td></tr>
<tr id="t2016-12-29T21:25:45"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">that is, the url is first split into its components, and then it does the search/replace on each component that exists, individually</td><td class="time"><a href="#t2016-12-29T21:25:45" class="time">21:25</a></td></tr>
<tr id="t2016-12-29T22:09:02"><td class="part" colspan="2">*** gtristan &lt;gtristan!~tristanva@mtlxpqak-1176251595.sdsl.bell.ca&gt; has left #yocto</td><td><a href="#t2016-12-29T22:09:02" class="time">22:09</a></td></tr>
<tr id="t2016-12-29T22:09:51"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">right, I have 'PREMIRRORS = "git://.*/.* git:///home/esennesh/$CLIENT/repos;protocol=file \n "'</td><td class="time"><a href="#t2016-12-29T22:09:51" class="time">22:09</a></td></tr>
<tr id="t2016-12-29T22:10:07"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">Which should catch git urls, correct?</td><td class="time"><a href="#t2016-12-29T22:10:07" class="time">22:10</a></td></tr>
<tr id="t2016-12-29T22:12:01"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">$CLIENT is unlikely to do anything at all.</td><td class="time"><a href="#t2016-12-29T22:12:01" class="time">22:12</a></td></tr>
<tr id="t2016-12-29T22:12:05"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">that's a shell variable reference, not a bitbake one</td><td class="time"><a href="#t2016-12-29T22:12:05" class="time">22:12</a></td></tr>
<tr id="t2016-12-29T22:17:10"><th class="nick" style="background: #9b519b">esennesh</th><td class="text" style="color: #9b519b">nono, that's actually metasyntactic, to refer to me blanking out the name of our client for this conversation.</td><td class="time"><a href="#t2016-12-29T22:17:10" class="time">22:17</a></td></tr>
<tr id="t2016-12-29T22:30:28"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">ahh, right :)</td><td class="time"><a href="#t2016-12-29T22:30:28" class="time">22:30</a></td></tr>
<tr id="t2016-12-29T22:31:18"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">i worry that might actually replace the entirety of the path, including the name of the repository. you might have to adjust the search/replace to grab the last part and replace it back with \1, or replace with PATH (special replacement keyword that includes the path component</td><td class="time"><a href="#t2016-12-29T22:31:18" class="time">22:31</a></td></tr>
<tr id="t2016-12-29T22:31:27"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">you should be able to see exactly what was returned from the search/replace in the do_fetch log, though</td><td class="time"><a href="#t2016-12-29T22:31:27" class="time">22:31</a></td></tr>
<tr id="t2016-12-29T22:31:29"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">which should be informative</td><td class="time"><a href="#t2016-12-29T22:31:29" class="time">22:31</a></td></tr>
<tr id="t2016-12-29T22:31:34"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">see the 'returning' lines</td><td class="time"><a href="#t2016-12-29T22:31:34" class="time">22:31</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2016-12-28.log.html">&#171; Wednesday, 2016-12-28</a> <a href="index.html">Index</a> <a href="%23yocto.2016-12-30.log.html">Friday, 2016-12-30 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
