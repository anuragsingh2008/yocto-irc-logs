<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2016-09-30</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Friday, 2016-09-30</h1>
<div class="navigation"> <a href="%23yocto.2016-09-29.log.html">&#171; Thursday, 2016-09-29</a> <a href="index.html">Index</a> <a href="%23yocto.2016-10-01.log.html">Saturday, 2016-10-01 &#187;</a> </div>
<table class="irclog">
<tr id="t2016-09-30T01:12:30"><td class="nickchange" colspan="2">*** khem` is now known as khem</td><td><a href="#t2016-09-30T01:12:30" class="time">01:12</a></td></tr>
<tr id="t2016-09-30T05:21:30"><td class="nickchange" colspan="2">*** Dev51329 is now known as kiwiheretic</td><td><a href="#t2016-09-30T05:21:30" class="time">05:21</a></td></tr>
<tr id="t2016-09-30T06:42:09"><td class="nickchange" colspan="2">*** jbrianceau_away is now known as jbrianceau</td><td><a href="#t2016-09-30T06:42:09" class="time">06:42</a></td></tr>
<tr id="t2016-09-30T08:27:42"><td class="nickchange" colspan="2">*** ka6sox-moose is now known as ka6sox</td><td><a href="#t2016-09-30T08:27:42" class="time">08:27</a></td></tr>
<tr id="t2016-09-30T11:14:52"><th class="nick" style="background: #407a40">yann</th><td class="text" style="color: #407a40">when a change in the sysroot causes that "bitbake -c unpack -f foo; bitbake foo" creates a different .ipk (as seen through its deps in deploy/ipk), what will cause the old foo.ipk (with the old deps) to get back into deploy/ipk ?</td><td class="time"><a href="#t2016-09-30T11:14:52" class="time">11:14</a></td></tr>
<tr id="t2016-09-30T11:15:17"><th class="nick" style="background: #407a40">yann</th><td class="text" style="color: #407a40">(working around that by bumping PR, but I'd like to understand)</td><td class="time"><a href="#t2016-09-30T11:15:17" class="time">11:15</a></td></tr>
<tr id="t2016-09-30T11:18:26"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">sounds like foo has non-deterministic dependencies and is finding more pieces it can link against in the sysroot</td><td class="time"><a href="#t2016-09-30T11:18:26" class="time">11:18</a></td></tr>
<tr id="t2016-09-30T12:52:30"><td class="nickchange" colspan="2">*** nodens is now known as joeythesaint</td><td><a href="#t2016-09-30T12:52:30" class="time">12:52</a></td></tr>
<tr id="t2016-09-30T12:54:23"><th class="nick" style="background: #818144">newguy10</th><td class="text" style="color: #818144">Hi All. I am running an qemux86-64 image . I want to enable it&nbsp;&nbsp;for connection to internet. How can I do that?</td><td class="time"><a href="#t2016-09-30T12:54:23" class="time">12:54</a></td></tr>
<tr id="t2016-09-30T12:56:06"><th class="nick" style="background: #854685">CTtpollard</th><td class="text" style="color: #854685">newguy10: you might have to be a bit more specific than that? Are you asking about passing network connect to it from your host machine?</td><td class="time"><a href="#t2016-09-30T12:56:06" class="time">12:56</a></td></tr>
<tr id="t2016-09-30T13:03:19"><th class="nick" style="background: #818144">newguy10</th><td class="text" style="color: #818144">CTpollard: I have installed docker in qemux86-64 using smart. So inorder to get docker images I want qemux86-64 , connect to the net. Can you tell me how&nbsp;&nbsp;it is possible for it(qemu) to connect to net through host machine?</td><td class="time"><a href="#t2016-09-30T13:03:19" class="time">13:03</a></td></tr>
<tr id="t2016-09-30T13:08:30"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">newguy10: <a href="http://wiki.qemu.org/Documentation/Networking" rel="nofollow">http://wiki.qemu.org/Documentation/Networking</a></td><td class="time"><a href="#t2016-09-30T13:08:30" class="time">13:08</a></td></tr>
<tr id="t2016-09-30T13:08:44"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">runqemu uses tap by default</td><td class="time"><a href="#t2016-09-30T13:08:44" class="time">13:08</a></td></tr>
<tr id="t2016-09-30T13:09:00"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">so you likely just need to set a DNS in /etc/resolv.conf</td><td class="time"><a href="#t2016-09-30T13:09:00" class="time">13:09</a></td></tr>
<tr id="t2016-09-30T13:11:53"><th class="nick" style="background: #818144">newguy10</th><td class="text" style="color: #818144">rburton:Thanks. I will look into that.</td><td class="time"><a href="#t2016-09-30T13:11:53" class="time">13:11</a></td></tr>
<tr id="t2016-09-30T13:40:16"><th class="nick" style="background: #488888">eduardas_m</th><td class="text" style="color: #488888">Hello. It seems POCO library bitbake recipie was not present in FSL community BSP Fido release. I was wondering how can one conveniently find out when a certain recipie was added to Yocto? I can not see such info on the OE layers page.</td><td class="time"><a href="#t2016-09-30T13:40:16" class="time">13:40</a></td></tr>
<tr id="t2016-09-30T13:40:51"><th class="nick" style="background: #488888">eduardas_m</th><td class="text" style="color: #488888">i.e. I want to find out into which yocto release the POCO libraries were included for the first time</td><td class="time"><a href="#t2016-09-30T13:40:51" class="time">13:40</a></td></tr>
<tr id="t2016-09-30T13:42:32"><th class="nick" style="background: #488888">eduardas_m</th><td class="text" style="color: #488888"><a href="https://layers.openembedded.org/layerindex/recipe/45079/" rel="nofollow">https://layers.openembedded.org/layerindex/recipe/45079/</a></td><td class="time"><a href="#t2016-09-30T13:42:32" class="time">13:42</a></td></tr>
<tr id="t2016-09-30T13:42:37"><th class="nick" style="background: #8c4a4a">fishey1</th><td class="text" style="color: #8c4a4a">for nativesdk packages, are they supposed to be able to depend on native (not sdk) packages? If so, what is the right way to get LDFLAGS set properly? Just append -L${STAGING_LIBDIR_NATIVE} ?</td><td class="time"><a href="#t2016-09-30T13:42:37" class="time">13:42</a></td></tr>
<tr id="t2016-09-30T13:43:32"><th class="nick" style="background: #488888">eduardas_m</th><td class="text" style="color: #488888">the page I showed does not say: is POCO included since Jethro or Krogoth? how can I easily tell?</td><td class="time"><a href="#t2016-09-30T13:43:32" class="time">13:43</a></td></tr>
<tr id="t2016-09-30T15:14:21"><th class="nick" style="background: #8c4a4a">fishey1</th><td class="text" style="color: #8c4a4a">It seems like just adding the `-L` to link in libs from a native package isn't quite right: bitbake complains about the generated binaries lacking providers for those libraries (file-rdeps)</td><td class="time"><a href="#t2016-09-30T15:14:21" class="time">15:14</a></td></tr>
<tr id="t2016-09-30T15:14:39"><th class="nick" style="background: #8c4a4a">fishey1</th><td class="text" style="color: #8c4a4a">Seems like nativesdk packages should only depend on other nativesdk packages?</td><td class="time"><a href="#t2016-09-30T15:14:39" class="time">15:14</a></td></tr>
<tr id="t2016-09-30T15:17:31"><th class="nick" style="background: #8c4a4a">fishey1</th><td class="text" style="color: #8c4a4a">If it helps, the background here is that I'm trying to get nativesdk-qt4-tools (from meta-qt4) to build</td><td class="time"><a href="#t2016-09-30T15:17:31" class="time">15:17</a></td></tr>
<tr id="t2016-09-30T15:24:06"><th class="nick" style="background: #8c4a4a">fishey1</th><td class="text" style="color: #8c4a4a">Hmm... if the -native package is using STAGING_LIBDIR_NATIVE and STAGING_INCDIR_NATIVE (to search for libs &amp; includes), what would be appropriate for a nativesdk package?</td><td class="time"><a href="#t2016-09-30T15:24:06" class="time">15:24</a></td></tr>
<tr id="t2016-09-30T15:25:49"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">yes, nativesdk can only depend on other nativesdk packages, and you don't need to add any -I/-L, we pass â€”sysroot= to the compiler and linker for you</td><td class="time"><a href="#t2016-09-30T15:25:49" class="time">15:25</a></td></tr>
<tr id="t2016-09-30T15:26:02"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">as long as you're obeying our CC/LD variables and whatnot, you're fine</td><td class="time"><a href="#t2016-09-30T15:26:02" class="time">15:26</a></td></tr>
<tr id="t2016-09-30T15:30:40"><th class="nick" style="background: #4d4d93">Ox4</th><td class="text" style="color: #4d4d93">Good evening :)</td><td class="time"><a href="#t2016-09-30T15:30:40" class="time">15:30</a></td></tr>
<tr id="t2016-09-30T15:30:58"><th class="nick" style="background: #4d4d93">Ox4</th><td class="text" style="color: #4d4d93">is it possible to inherit my new layer from existed one?</td><td class="time"><a href="#t2016-09-30T15:30:58" class="time">15:30</a></td></tr>
<tr id="t2016-09-30T15:31:11"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">that doesn't really make sense.</td><td class="time"><a href="#t2016-09-30T15:31:11" class="time">15:31</a></td></tr>
<tr id="t2016-09-30T15:31:22"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">you can create a new layer that depends on another layer. is that not good enough?</td><td class="time"><a href="#t2016-09-30T15:31:22" class="time">15:31</a></td></tr>
<tr id="t2016-09-30T15:32:58"><th class="nick" style="background: #4d4d93">Ox4</th><td class="text" style="color: #4d4d93">yes, it is</td><td class="time"><a href="#t2016-09-30T15:32:58" class="time">15:32</a></td></tr>
<tr id="t2016-09-30T15:33:01"><th class="nick" style="background: #4d4d93">Ox4</th><td class="text" style="color: #4d4d93">thank you</td><td class="time"><a href="#t2016-09-30T15:33:01" class="time">15:33</a></td></tr>
<tr id="t2016-09-30T15:33:20"><th class="nick" style="background: #4d4d93">Ox4</th><td class="text" style="color: #4d4d93">where can I read about dependencies?</td><td class="time"><a href="#t2016-09-30T15:33:20" class="time">15:33</a></td></tr>
<tr id="t2016-09-30T15:33:34"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">i'm guessing you can search either the mega manual or bitbake manual for LAYERDEPENDS</td><td class="time"><a href="#t2016-09-30T15:33:34" class="time">15:33</a></td></tr>
<tr id="t2016-09-30T15:33:51"><th class="nick" style="background: #4d4d93">Ox4</th><td class="text" style="color: #4d4d93">great, thank you kergoth</td><td class="time"><a href="#t2016-09-30T15:33:51" class="time">15:33</a></td></tr>
<tr id="t2016-09-30T15:34:00"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">but you just set LAYERDEPENDS_yourlayername = "anotherlayername asecondlayername", where the names are what goes into BBFILE_COLLECTIONS in the different layer.conf files</td><td class="time"><a href="#t2016-09-30T15:34:00" class="time">15:34</a></td></tr>
<tr id="t2016-09-30T15:34:05"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">np</td><td class="time"><a href="#t2016-09-30T15:34:05" class="time">15:34</a></td></tr>
<tr id="t2016-09-30T15:51:29"><td class="nickchange" colspan="2">*** paulg is now known as paulg_</td><td><a href="#t2016-09-30T15:51:29" class="time">15:51</a></td></tr>
<tr id="t2016-09-30T15:58:41"><th class="nick" style="background: #97974f">seebs</th><td class="text" style="color: #97974f">Someone identified a bug in pseudo and submitted a patch to poky@. The bug, and patch, are both correct and it's merged in master.</td><td class="time"><a href="#t2016-09-30T15:58:41" class="time">15:58</a></td></tr>
<tr id="t2016-09-30T15:59:03"><th class="nick" style="background: #97974f">seebs</th><td class="text" style="color: #97974f">So there was a hilariously stupid bug in rename(), and I never fixed it in renameat(), which no one noticed because who would use renameat()?</td><td class="time"><a href="#t2016-09-30T15:59:03" class="time">15:59</a></td></tr>
<tr id="t2016-09-30T15:59:16"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">ha</td><td class="time"><a href="#t2016-09-30T15:59:16" class="time">15:59</a></td></tr>
<tr id="t2016-09-30T16:00:40"><th class="nick" style="background: #97974f">seebs</th><td class="text" style="color: #97974f">For some reason, long ago, probably 2012-2013 or earlier, I concluded that tests for "existing file with the name rename wants to rename to" and "existing database entry for the file being renamed" were logically equivalent.</td><td class="time"><a href="#t2016-09-30T16:00:40" class="time">16:00</a></td></tr>
<tr id="t2016-09-30T16:00:47"><th class="nick" style="background: #97974f">seebs</th><td class="text" style="color: #97974f">I can't really explain how I could have reached such a conclusion.</td><td class="time"><a href="#t2016-09-30T16:00:47" class="time">16:00</a></td></tr>
<tr id="t2016-09-30T16:18:32"><td class="nickchange" colspan="2">*** jbrianceau is now known as jbrianceau_away</td><td><a href="#t2016-09-30T16:18:32" class="time">16:18</a></td></tr>
<tr id="t2016-09-30T16:50:08"><th class="nick" style="background: #9b519b">neverpanic</th><td class="text" style="color: #9b519b">seebs: out of curiosity, which tool did actually use openat() and uncovered tis?</td><td class="time"><a href="#t2016-09-30T16:50:08" class="time">16:50</a></td></tr>
<tr id="t2016-09-30T16:50:16"><th class="nick" style="background: #9b519b">neverpanic</th><td class="text" style="color: #9b519b">Because I've never seen openat(2) in the wild</td><td class="time"><a href="#t2016-09-30T16:50:16" class="time">16:50</a></td></tr>
<tr id="t2016-09-30T17:35:32"><th class="nick" style="background: #97974f">seebs</th><td class="text" style="color: #97974f">not openat, renameat. And I don't know.</td><td class="time"><a href="#t2016-09-30T17:35:32" class="time">17:35</a></td></tr>
<tr id="t2016-09-30T17:35:43"><th class="nick" style="background: #97974f">seebs</th><td class="text" style="color: #97974f">I know I had renameat() dummied out to abort if called for a couple of years.</td><td class="time"><a href="#t2016-09-30T17:35:43" class="time">17:35</a></td></tr>
<tr id="t2016-09-30T17:36:14"><th class="nick" style="background: #97974f">seebs</th><td class="text" style="color: #97974f">But we did finally hit it sometime before 2013.</td><td class="time"><a href="#t2016-09-30T17:36:14" class="time">17:36</a></td></tr>
<tr id="t2016-09-30T17:39:29"><th class="nick" style="background: #539e9e">mrk377</th><td class="text" style="color: #539e9e">Quick question:&nbsp;&nbsp;It trying to save disk space during compiles, are there flags or options to reduce build artifacts (*.o, *.so, unnecessary images)?&nbsp;&nbsp;All I need is the *.direct images.&nbsp;&nbsp;Ideas?</td><td class="time"><a href="#t2016-09-30T17:39:29" class="time">17:39</a></td></tr>
<tr id="t2016-09-30T17:39:36"><th class="nick" style="background: #539e9e">mrk377</th><td class="text" style="color: #539e9e">I'm</td><td class="time"><a href="#t2016-09-30T17:39:36" class="time">17:39</a></td></tr>
<tr id="t2016-09-30T17:40:45"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">rm_work is the first step, otherwise the unpacked source trees, etc hang out during and after the build, which takes up way m ore space than a duplicated image</td><td class="time"><a href="#t2016-09-30T17:40:45" class="time">17:40</a></td></tr>
<tr id="t2016-09-30T17:42:19"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">RP: wondering if the task elapsed time should be suffixed with ' elapsed'. when you're seeing the first ton of tasks going 0s/1s, it's not entirely clear what it's talking about</td><td class="time"><a href="#t2016-09-30T17:42:19" class="time">17:42</a></td></tr>
<tr id="t2016-09-30T17:44:38"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">RP: uh, is it expected that there aren't task progress bars anymore? I'm no longer seeing a linux-yocto do_fetch progress bar, only an elapsed time. haven't seen a single task progress bar since is tarted this build..</td><td class="time"><a href="#t2016-09-30T17:44:38" class="time">17:44</a></td></tr>
<tr id="t2016-09-30T17:44:51"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">hmm</td><td class="time"><a href="#t2016-09-30T17:44:51" class="time">17:44</a></td></tr>
<tr id="t2016-09-30T17:50:14"><td class="part" colspan="2">*** aehs29 &lt;aehs29!~aehernan@134.134.139.78&gt; has left #yocto</td><td><a href="#t2016-09-30T17:50:14" class="time">17:50</a></td></tr>
<tr id="t2016-09-30T18:20:45"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">Hmm, best way to debug a taskhash mismatch after the fact? there's no sigdata for both of them, just one</td><td class="time"><a href="#t2016-09-30T18:20:45" class="time">18:20</a></td></tr>
<tr id="t2016-09-30T18:31:19"><th class="nick" style="background: #539e9e">mrk377</th><td class="text" style="color: #539e9e">kergoth: We use a gitlab runner (*.yml file) that caches (stores) the following directories (build/cache, build/downloads, build/sstate-cache) to save time for each yocto build.&nbsp;&nbsp;Could these directories be pruned further to save space/time while recreating environment each time or would setting up a local repository prove faster?&nbsp;&nbsp;Just wondering what other project do.&nbsp;&nbsp;Thx</td><td class="time"><a href="#t2016-09-30T18:31:19" class="time">18:31</a></td></tr>
<tr id="t2016-09-30T18:32:55"><th class="nick" style="background: #9b519b">neverpanic</th><td class="text" style="color: #9b519b">mrk377: sstate-cache and downloads available via network and configure them as sstate mirror and premirror; bitbake will only fetch what it needs</td><td class="time"><a href="#t2016-09-30T18:32:55" class="time">18:32</a></td></tr>
<tr id="t2016-09-30T18:33:17"><th class="nick" style="background: #9b519b">neverpanic</th><td class="text" style="color: #9b519b">mrk377: add a "make " in front to make the sentence parse</td><td class="time"><a href="#t2016-09-30T18:33:17" class="time">18:33</a></td></tr>
<tr id="t2016-09-30T18:38:56"><th class="nick" style="background: #539e9e">mrk377</th><td class="text" style="color: #539e9e">panic:&nbsp;&nbsp;Thx.&nbsp;&nbsp;looking at that now.</td><td class="time"><a href="#t2016-09-30T18:38:56" class="time">18:38</a></td></tr>
<tr id="t2016-09-30T18:52:08"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">how does the cache/ thingy work anyway? does it hash the text in the file, reparsing it if it changes?</td><td class="time"><a href="#t2016-09-30T18:52:08" class="time">18:52</a></td></tr>
<tr id="t2016-09-30T18:52:55"><th class="nick" style="background: #57a657">mario-goulart</th><td class="text" style="color: #57a657">mrk377: don't forget to set BB_GENERATE_MIRROR_TARBALLS (useful for git repositories)</td><td class="time"><a href="#t2016-09-30T18:52:55" class="time">18:52</a></td></tr>
<tr id="t2016-09-30T18:54:03"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">looks like that might be it. adding a single character to a comment gives</td><td class="time"><a href="#t2016-09-30T18:54:03" class="time">18:54</a></td></tr>
<tr id="t2016-09-30T18:54:07"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">Parsing of 867 .bb files complete (866 cached, 1 parsed). 1318 targets, 50 skipped, 0 masked, 0 errors.</td><td class="time"><a href="#t2016-09-30T18:54:07" class="time">18:54</a></td></tr>
<tr id="t2016-09-30T18:56:20"><th class="nick" style="background: #539e9e">mrk377</th><td class="text" style="color: #539e9e">mario: if you set BB_GENERATE_MIRROR_TARBALLS = "1", then will every downloaded source code package create a tar.gz that can be stored in a local repo?&nbsp;&nbsp;Just checkin'</td><td class="time"><a href="#t2016-09-30T18:56:20" class="time">18:56</a></td></tr>
<tr id="t2016-09-30T18:57:27"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">mrk377: looks like it's just for git repositories</td><td class="time"><a href="#t2016-09-30T18:57:27" class="time">18:57</a></td></tr>
<tr id="t2016-09-30T18:57:52"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">so that people can fetch them from the download cache instead of cloning them</td><td class="time"><a href="#t2016-09-30T18:57:52" class="time">18:57</a></td></tr>
<tr id="t2016-09-30T18:59:15"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">svn repositories are cached in the download directory in other, trickier ways</td><td class="time"><a href="#t2016-09-30T18:59:15" class="time">18:59</a></td></tr>
<tr id="t2016-09-30T19:00:05"><th class="nick" style="background: #57a657">mario-goulart</th><td class="text" style="color: #57a657">Actually, bitbake implicitly creates tarballs for svn repos</td><td class="time"><a href="#t2016-09-30T19:00:05" class="time">19:00</a></td></tr>
<tr id="t2016-09-30T19:00:20"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">ah, yeah, had forgotten it did that too</td><td class="time"><a href="#t2016-09-30T19:00:20" class="time">19:00</a></td></tr>
<tr id="t2016-09-30T19:00:30"><th class="nick" style="background: #57a657">mario-goulart</th><td class="text" style="color: #57a657">Or at least it used to do that.&nbsp;&nbsp;Don't know about the current version.</td><td class="time"><a href="#t2016-09-30T19:00:30" class="time">19:00</a></td></tr>
<tr id="t2016-09-30T19:01:03"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">it also stores a checkout of the repo in the download dir to help generate the tarballs</td><td class="time"><a href="#t2016-09-30T19:01:03" class="time">19:01</a></td></tr>
<tr id="t2016-09-30T19:01:07"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">but i'm a bit murky on the details</td><td class="time"><a href="#t2016-09-30T19:01:07" class="time">19:01</a></td></tr>
<tr id="t2016-09-30T19:06:23"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">bluelightning: do you know if it's correct that the metadata cache/ simply stores a hash of raw file contents and reparses files when it changes?</td><td class="time"><a href="#t2016-09-30T19:06:23" class="time">19:06</a></td></tr>
<tr id="t2016-09-30T19:06:52"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">seems to work that way from some quick experimentation, but thought i'd confirm. made it seem a lot less magical to me, so i could submit a small doc. patch.</td><td class="time"><a href="#t2016-09-30T19:06:52" class="time">19:06</a></td></tr>
<tr id="t2016-09-30T19:06:56"><th class="nick" style="background: #5959a9">bluelightning</th><td class="text" style="color: #5959a9">Ulfalizer: there are several things in cache/, one of which is the recipe cache</td><td class="time"><a href="#t2016-09-30T19:06:56" class="time">19:06</a></td></tr>
<tr id="t2016-09-30T19:07:26"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">yeah, saw some "dependency cache" in the bitbake output too</td><td class="time"><a href="#t2016-09-30T19:07:26" class="time">19:07</a></td></tr>
<tr id="t2016-09-30T19:07:38"><th class="nick" style="background: #8c4a4a">fishey1</th><td class="text" style="color: #8c4a4a">I'm seeing `ERROR: local variable 'value' referenced before assignment` on my automated build machine, with only the task (openjdk-8-native_102b14.bb:do_fetch) given on the next error line. Is there a way to get more information on the source of the error?</td><td class="time"><a href="#t2016-09-30T19:07:38" class="time">19:07</a></td></tr>
<tr id="t2016-09-30T19:07:56"><th class="nick" style="background: #5959a9">bluelightning</th><td class="text" style="color: #5959a9">well, AFAIK the dependency cache and the recipe cache would be the same thing</td><td class="time"><a href="#t2016-09-30T19:07:56" class="time">19:07</a></td></tr>
<tr id="t2016-09-30T19:08:27"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">alright... maybe i could keep it vagueish and only mention the recipe reparsing bit</td><td class="time"><a href="#t2016-09-30T19:08:27" class="time">19:08</a></td></tr>
<tr id="t2016-09-30T19:08:45"><th class="nick" style="background: #8c4a4a">fishey1</th><td class="text" style="color: #8c4a4a">like, say, a line number for something?</td><td class="time"><a href="#t2016-09-30T19:08:45" class="time">19:08</a></td></tr>
<tr id="t2016-09-30T19:09:49"><th class="nick" style="background: #5959a9">bluelightning</th><td class="text" style="color: #5959a9">fishey1: which version of the build system are you using? are you using poky or separate bitbake + oe-core?</td><td class="time"><a href="#t2016-09-30T19:09:49" class="time">19:09</a></td></tr>
<tr id="t2016-09-30T19:10:04"><th class="nick" style="background: #8c4a4a">fishey1</th><td class="text" style="color: #8c4a4a">bluelightning: poky. latest master.</td><td class="time"><a href="#t2016-09-30T19:10:04" class="time">19:10</a></td></tr>
<tr id="t2016-09-30T19:10:42"><th class="nick" style="background: #5959a9">bluelightning</th><td class="text" style="color: #5959a9">hmm... someone else reported this but I was unable to track down what was causing it there either</td><td class="time"><a href="#t2016-09-30T19:10:42" class="time">19:10</a></td></tr>
<tr id="t2016-09-30T19:10:45"><th class="nick" style="background: #8c4a4a">fishey1</th><td class="text" style="color: #8c4a4a">well, latest from 6 hours ago</td><td class="time"><a href="#t2016-09-30T19:10:45" class="time">19:10</a></td></tr>
<tr id="t2016-09-30T19:11:20"><th class="nick" style="background: #5959a9">bluelightning</th><td class="text" style="color: #5959a9">I couldn't find *any* code where we refer to a variable "value" without first assigning it</td><td class="time"><a href="#t2016-09-30T19:11:20" class="time">19:11</a></td></tr>
<tr id="t2016-09-30T19:11:32"><th class="nick" style="background: #5959a9">bluelightning</th><td class="text" style="color: #5959a9">of course it must be there somewhere...</td><td class="time"><a href="#t2016-09-30T19:11:32" class="time">19:11</a></td></tr>
<tr id="t2016-09-30T19:14:23"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">fishey1: one thing you could try is 'bitbake -e openjdk-8-native' and searching for 'value' in the output. all the function bodies are listed near the end.</td><td class="time"><a href="#t2016-09-30T19:14:23" class="time">19:14</a></td></tr>
<tr id="t2016-09-30T19:14:32"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">that might find it if it's from the metadata</td><td class="time"><a href="#t2016-09-30T19:14:32" class="time">19:14</a></td></tr>
<tr id="t2016-09-30T19:14:50"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">maybe \&lt;value\&gt; can be used to search for it as a word</td><td class="time"><a href="#t2016-09-30T19:14:50" class="time">19:14</a></td></tr>
<tr id="t2016-09-30T19:15:03"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">or save it and do grep -w</td><td class="time"><a href="#t2016-09-30T19:15:03" class="time">19:15</a></td></tr>
<tr id="t2016-09-30T19:15:08"><th class="nick" style="background: #8c4a4a">fishey1</th><td class="text" style="color: #8c4a4a">Ulfalizer: ok, I'll try that out.</td><td class="time"><a href="#t2016-09-30T19:15:08" class="time">19:15</a></td></tr>
<tr id="t2016-09-30T19:15:40"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">could start tracing from the body of do_fetch</td><td class="time"><a href="#t2016-09-30T19:15:40" class="time">19:15</a></td></tr>
<tr id="t2016-09-30T19:16:25"><td class="action" colspan="2">* Ulfalizer just added some docs to the reference manual to mention that bitbake -e includes the function bodies</td><td><a href="#t2016-09-30T19:16:25" class="time">19:16</a></td></tr>
<tr id="t2016-09-30T19:16:30"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">that's pretty handy to know</td><td class="time"><a href="#t2016-09-30T19:16:30" class="time">19:16</a></td></tr>
<tr id="t2016-09-30T19:50:40"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">hmz... i wonder if the cache just looks at the access time or something like that</td><td class="time"><a href="#t2016-09-30T19:50:40" class="time">19:50</a></td></tr>
<tr id="t2016-09-30T19:50:57"><td class="action" colspan="2">* Ulfalizer vagueifies some more</td><td><a href="#t2016-09-30T19:50:57" class="time">19:50</a></td></tr>
<tr id="t2016-09-30T19:56:14"><td class="other" colspan="2">-YoctoAutoBuilder- build #910 of nightly-arm-lsb is complete: Failure [failed BuildImages Running Sanity Tests BuildImages_1 Publishing Artifacts]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-arm-lsb/builds/910" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-arm-lsb/builds/910</a></td><td><a href="#t2016-09-30T19:56:14" class="time">19:56</a></td></tr>
<tr id="t2016-09-30T19:58:00"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">looks like it checks mtime and file checksums</td><td class="time"><a href="#t2016-09-30T19:58:00" class="time">19:58</a></td></tr>
<tr id="t2016-09-30T20:37:51"><td class="other" colspan="2">-YoctoAutoBuilder- build #968 of nightly-arm is complete: Failure [failed BuildImages Running Sanity Tests Building Toolchain Images BuildImages_1 Building Toolchain Images_1 BuildImages_2 Building Toolchain Images_2 Running SDK Sanity Tests Building Toolchain Images_3 BuildImages_3 Running ESDK Sanity Tests Publishing Artifacts]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-arm/builds/968" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-arm/builds/968</a></td><td><a href="#t2016-09-30T20:37:51" class="time">20:37</a></td></tr>
<tr id="t2016-09-30T20:47:12"><td class="other" colspan="2">-YoctoAutoBuilder- build #936 of nightly-x32 is complete: Failure [failed BuildImages Running Sanity Tests Running Sanity Tests_1]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x32/builds/936" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x32/builds/936</a></td><td><a href="#t2016-09-30T20:47:12" class="time">20:47</a></td></tr>
<tr id="t2016-09-30T21:12:32"><td class="nickchange" colspan="2">*** stryx`_ is now known as stryx`</td><td><a href="#t2016-09-30T21:12:32" class="time">21:12</a></td></tr>
<tr id="t2016-09-30T21:16:58"><td class="other" colspan="2">-YoctoAutoBuilder- build #909 of nightly-rpm is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-rpm/builds/909" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-rpm/builds/909</a></td><td><a href="#t2016-09-30T21:16:58" class="time">21:16</a></td></tr>
<tr id="t2016-09-30T22:40:57"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">in what cases would 'raise bb.build.FuncFailed("msg")' be preferred over bb.fatal("msg")?</td><td class="time"><a href="#t2016-09-30T22:40:57" class="time">22:40</a></td></tr>
<tr id="t2016-09-30T22:41:32"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">looks like the argument to FuncFailed() was originally meant to be the name of the function, only no one uses it like that. still called 'name'. :S</td><td class="time"><a href="#t2016-09-30T22:41:32" class="time">22:41</a></td></tr>
<tr id="t2016-09-30T22:42:00"><th class="nick" style="background: #9b519b">neverpanic</th><td class="text" style="color: #9b519b">Doesn't bb.fatal internally throw an exception? Is that FuncFailed or a different one?</td><td class="time"><a href="#t2016-09-30T22:42:00" class="time">22:42</a></td></tr>
<tr id="t2016-09-30T22:42:45"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">it's BBHandledException(), which seems to mean "we've already shown the user the information they need, so don't show them any more"</td><td class="time"><a href="#t2016-09-30T22:42:45" class="time">22:42</a></td></tr>
<tr id="t2016-09-30T22:43:37"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">maybe FuncFailed() is for functions in [pre/postfuncs] and similar, when you don't want the entire task to fail, if bb.fatal() would do that</td><td class="time"><a href="#t2016-09-30T22:43:37" class="time">22:43</a></td></tr>
<tr id="t2016-09-30T22:43:43"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">that seems weird though...</td><td class="time"><a href="#t2016-09-30T22:43:43" class="time">22:43</a></td></tr>
<tr id="t2016-09-30T22:55:49"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">looks like something somewhere might throw a FuncFailed when you use bb.fatal() too, because you get "Function failed:" in the output, and that's what FuncFailed adds too.</td><td class="time"><a href="#t2016-09-30T22:55:49" class="time">22:55</a></td></tr>
<tr id="t2016-09-30T22:56:24"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">the *original* intent was for the function/task to error via whatever appropriate means, bb.fatal, whatever, and funcfailed was what you'd catch if you were calling exec_func/exec_task. that is, it's what those functions raise, not what metadata functions should be raising</td><td class="time"><a href="#t2016-09-30T22:56:24" class="time">22:56</a></td></tr>
<tr id="t2016-09-30T22:56:28"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">it didn't end up being used that way</td><td class="time"><a href="#t2016-09-30T22:56:28" class="time">22:56</a></td></tr>
<tr id="t2016-09-30T22:56:35"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">but there's really never a reason to raise it yourself</td><td class="time"><a href="#t2016-09-30T22:56:35" class="time">22:56</a></td></tr>
<tr id="t2016-09-30T23:03:42"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">ok, thanks for the clarification</td><td class="time"><a href="#t2016-09-30T23:03:42" class="time">23:03</a></td></tr>
<tr id="t2016-09-30T23:04:41"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">kergoth: mind if i quote that on the OE-core mailing list?</td><td class="time"><a href="#t2016-09-30T23:04:41" class="time">23:04</a></td></tr>
<tr id="t2016-09-30T23:05:05"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">fine with me</td><td class="time"><a href="#t2016-09-30T23:05:05" class="time">23:05</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2016-09-29.log.html">&#171; Thursday, 2016-09-29</a> <a href="index.html">Index</a> <a href="%23yocto.2016-10-01.log.html">Saturday, 2016-10-01 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
