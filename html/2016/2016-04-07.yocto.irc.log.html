<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Thursday, 2016-04-07</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Thursday, 2016-04-07</h1>
<div class="navigation"> <a href="%23yocto.2016-04-06.log.html">&#171; Wednesday, 2016-04-06</a> <a href="index.html">Index</a> <a href="%23yocto.2016-04-08.log.html">Friday, 2016-04-08 &#187;</a> </div>
<table class="irclog">
<tr id="t2016-04-07T05:10:50"><td class="nickchange" colspan="2">*** zz_ka6sox is now known as ka6sox</td><td><a href="#t2016-04-07T05:10:50" class="time">05:10</a></td></tr>
<tr id="t2016-04-07T06:50:57"><td class="nickchange" colspan="2">*** jbrianceau_away is now known as jbrianceau</td><td><a href="#t2016-04-07T06:50:57" class="time">06:50</a></td></tr>
<tr id="t2016-04-07T07:16:20"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2016-04-07T07:16:20" class="time">07:16</a></td></tr>
<tr id="t2016-04-07T07:26:36"><th class="nick" style="background: #407a40">malinus</th><td class="text" style="color: #407a40">It seems Yocto/raspberry-pi-bsp/rpi-basic-image doesn't produce a finished (partitioned etc.) image as an result but "just" the rootFS (and the boot files etc.). Am I missing something?</td><td class="time"><a href="#t2016-04-07T07:26:36" class="time">07:26</a></td></tr>
<tr id="t2016-04-07T07:27:56"><th class="nick" style="background: #42427e">mckoan</th><td class="text" style="color: #42427e">good morning</td><td class="time"><a href="#t2016-04-07T07:27:56" class="time">07:27</a></td></tr>
<tr id="t2016-04-07T07:28:28"><th class="nick" style="background: #42427e">mckoan</th><td class="text" style="color: #42427e">malinus: it is normal</td><td class="time"><a href="#t2016-04-07T07:28:28" class="time">07:28</a></td></tr>
<tr id="t2016-04-07T07:29:57"><th class="nick" style="background: #407a40">malinus</th><td class="text" style="color: #407a40">mckoan: Okay, I see. I guess I was tricked by the naming, since it has "image" in it, which made me expect an image. Is this the case for all "image recipes"?</td><td class="time"><a href="#t2016-04-07T07:29:57" class="time">07:29</a></td></tr>
<tr id="t2016-04-07T07:30:05"><th class="nick" style="background: #407a40">malinus</th><td class="text" style="color: #407a40">Also, good morning to you too.</td><td class="time"><a href="#t2016-04-07T07:30:05" class="time">07:30</a></td></tr>
<tr id="t2016-04-07T07:34:20"><th class="nick" style="background: #407a40">malinus</th><td class="text" style="color: #407a40">Am I misunderstanding something? Does a compressed file system in one file, and a bunch of boot/dts/config files specify as an "image"?</td><td class="time"><a href="#t2016-04-07T07:34:20" class="time">07:34</a></td></tr>
<tr id="t2016-04-07T07:40:14"><th class="nick" style="background: #42427e">mckoan</th><td class="text" style="color: #42427e">malinus: depends on the MACHINE and its recipes</td><td class="time"><a href="#t2016-04-07T07:40:14" class="time">07:40</a></td></tr>
<tr id="t2016-04-07T07:43:01"><th class="nick" style="background: #407a40">malinus</th><td class="text" style="color: #407a40">Oh okay. Thanks.</td><td class="time"><a href="#t2016-04-07T07:43:01" class="time">07:43</a></td></tr>
<tr id="t2016-04-07T09:19:27"><td class="part" colspan="2">*** raykinsella78 &lt;raykinsella78!rkinsell@nat/intel/x-uuightjpapmlswtv&gt; has left #yocto</td><td><a href="#t2016-04-07T09:19:27" class="time">09:19</a></td></tr>
<tr id="t2016-04-07T10:22:04"><td class="nickchange" colspan="2">*** Guest70903 is now known as fledermaus</td><td><a href="#t2016-04-07T10:22:04" class="time">10:22</a></td></tr>
<tr id="t2016-04-07T10:52:56"><td class="nickchange" colspan="2">*** otay is now known as Guest43746</td><td><a href="#t2016-04-07T10:52:56" class="time">10:52</a></td></tr>
<tr id="t2016-04-07T11:56:36"><td class="part" colspan="2">*** raykinsella78 &lt;raykinsella78!rkinsell@nat/intel/x-ttdvqizvxvuhoubw&gt; has left #yocto</td><td><a href="#t2016-04-07T11:56:36" class="time">11:56</a></td></tr>
<tr id="t2016-04-07T12:10:34"><td class="nickchange" colspan="2">*** betchou is now known as present</td><td><a href="#t2016-04-07T12:10:34" class="time">12:10</a></td></tr>
<tr id="t2016-04-07T13:33:23"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">hi, I've been trying to follow some examples of kernel modules that are built out of tree with autotools wondered if anyone here had some experience with that?</td><td class="time"><a href="#t2016-04-07T13:33:23" class="time">13:33</a></td></tr>
<tr id="t2016-04-07T13:33:56"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">my module builds, however its using the installed system kernel sources rather than the one built for my image</td><td class="time"><a href="#t2016-04-07T13:33:56" class="time">13:33</a></td></tr>
<tr id="t2016-04-07T13:34:30"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">I tried running configure `--with-linux=${KERNEL_STAGING_DIR}` per an example I found, however when I use the devshell that's not exported (despite inherting from `module` in my recipe)</td><td class="time"><a href="#t2016-04-07T13:34:30" class="time">13:34</a></td></tr>
<tr id="t2016-04-07T13:40:09"><td class="action" colspan="2">* tmcguire wonders what the difference between meta-freescale and meta-fsl-arm is, on <a href="https://github.com/Freescale/" rel="nofollow">https://github.com/Freescale/</a> - both seem to contain the Vivante GPU drivers, for example.</td><td><a href="#t2016-04-07T13:40:09" class="time">13:40</a></td></tr>
<tr id="t2016-04-07T13:41:50"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">neither KERNEL_PATH nor KERNEL_SRC seem to be populated either, which the manual indicates should be the case</td><td class="time"><a href="#t2016-04-07T13:41:50" class="time">13:41</a></td></tr>
<tr id="t2016-04-07T13:43:23"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">is it possible that inheriting autotools is clearing those variables out?</td><td class="time"><a href="#t2016-04-07T13:43:23" class="time">13:43</a></td></tr>
<tr id="t2016-04-07T13:53:16"><td class="nickchange" colspan="2">*** ka6sox is now known as zz_ka6sox</td><td><a href="#t2016-04-07T13:53:16" class="time">13:53</a></td></tr>
<tr id="t2016-04-07T14:19:29"><th class="nick" style="background: #854685">CTtpollard</th><td class="text" style="color: #854685">it it possible to use BB_DANGLINGAPPENDS_WARNONLY inside a specific bb append, to tell local.conf to only consider it for that given append?</td><td class="time"><a href="#t2016-04-07T14:19:29" class="time">14:19</a></td></tr>
<tr id="t2016-04-07T14:24:56"><td class="nickchange" colspan="2">*** zz_ka6sox is now known as ka6sox</td><td><a href="#t2016-04-07T14:24:56" class="time">14:24</a></td></tr>
<tr id="t2016-04-07T14:35:46"><th class="nick" style="background: #854685">CTtpollard</th><td class="text" style="color: #854685">i.e I don't want all non match appends errors to be ignored, only a specific known one</td><td class="time"><a href="#t2016-04-07T14:35:46" class="time">14:35</a></td></tr>
<tr id="t2016-04-07T14:49:18"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">CTtpollard: nope, it's a global setting</td><td class="time"><a href="#t2016-04-07T14:49:18" class="time">14:49</a></td></tr>
<tr id="t2016-04-07T14:49:38"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">CTtpollard: but if your'e hittinga n issue where an append is erroring because the layer with the recipe isn't enabled, that's easy to work around</td><td class="time"><a href="#t2016-04-07T14:49:38" class="time">14:49</a></td></tr>
<tr id="t2016-04-07T14:50:02"><th class="nick" style="background: #854685">CTtpollard</th><td class="text" style="color: #854685">we've got an append for linux*</td><td class="time"><a href="#t2016-04-07T14:50:02" class="time">14:50</a></td></tr>
<tr id="t2016-04-07T14:50:13"><th class="nick" style="background: #854685">CTtpollard</th><td class="text" style="color: #854685">with we apply different patches depending on the machine</td><td class="time"><a href="#t2016-04-07T14:50:13" class="time">14:50</a></td></tr>
<tr id="t2016-04-07T14:50:27"><th class="nick" style="background: #854685">CTtpollard</th><td class="text" style="color: #854685">the problem is the wildcard is also hitting the linux headers recipes</td><td class="time"><a href="#t2016-04-07T14:50:27" class="time">14:50</a></td></tr>
<tr id="t2016-04-07T14:50:32"><th class="nick" style="background: #854685">CTtpollard</th><td class="text" style="color: #854685">which we want to avoid</td><td class="time"><a href="#t2016-04-07T14:50:32" class="time">14:50</a></td></tr>
<tr id="t2016-04-07T14:50:46"><th class="nick" style="background: #854685">CTtpollard</th><td class="text" style="color: #854685">without resorting to specific masks in local conf etc</td><td class="time"><a href="#t2016-04-07T14:50:46" class="time">14:50</a></td></tr>
<tr id="t2016-04-07T14:50:59"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">linux* isn't a good idea, you'd be better off using specific wildcards for each bsp kernel recipe</td><td class="time"><a href="#t2016-04-07T14:50:59" class="time">14:50</a></td></tr>
<tr id="t2016-04-07T14:51:19"><th class="nick" style="background: #854685">CTtpollard</th><td class="text" style="color: #854685">which gives us another problem</td><td class="time"><a href="#t2016-04-07T14:51:19" class="time">14:51</a></td></tr>
<tr id="t2016-04-07T14:51:47"><th class="nick" style="background: #854685">CTtpollard</th><td class="text" style="color: #854685">we have multiple boards, which meta bsp layer won't always be present</td><td class="time"><a href="#t2016-04-07T14:51:47" class="time">14:51</a></td></tr>
<tr id="t2016-04-07T14:51:54"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888"><a href="https://github.com/MentorEmbedded/meta-mentor/blob/master/meta-mel/conf/layer.conf#L5-L8" rel="nofollow">https://github.com/MentorEmbedded/meta-mentor/blob/master/meta-mel/conf/layer.conf#L5-L8</a></td><td class="time"><a href="#t2016-04-07T14:51:54" class="time">14:51</a></td></tr>
<tr id="t2016-04-07T14:52:00"><th class="nick" style="background: #854685">CTtpollard</th><td class="text" style="color: #854685">at which point bitbake obviously complains it can't find it</td><td class="time"><a href="#t2016-04-07T14:52:00" class="time">14:52</a></td></tr>
<tr id="t2016-04-07T14:52:06"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">add that, then put the appends in layer-name specific areas of the repo</td><td class="time"><a href="#t2016-04-07T14:52:06" class="time">14:52</a></td></tr>
<tr id="t2016-04-07T14:52:13"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">i.e. <a href="https://github.com/MentorEmbedded/meta-mentor/tree/master/meta-mel/fsl-arm" rel="nofollow">https://github.com/MentorEmbedded/meta-mentor/tree/master/meta-mel/fsl-arm</a></td><td class="time"><a href="#t2016-04-07T14:52:13" class="time">14:52</a></td></tr>
<tr id="t2016-04-07T14:52:53"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">then those are only applied when that layer is enabled</td><td class="time"><a href="#t2016-04-07T14:52:53" class="time">14:52</a></td></tr>
<tr id="t2016-04-07T14:53:02"><th class="nick" style="background: #854685">CTtpollard</th><td class="text" style="color: #854685">we've been using board specific dirs, and then only passing them where needed in layers cong</td><td class="time"><a href="#t2016-04-07T14:53:02" class="time">14:53</a></td></tr>
<tr id="t2016-04-07T14:53:14"><th class="nick" style="background: #854685">CTtpollard</th><td class="text" style="color: #854685">but this append should really be global</td><td class="time"><a href="#t2016-04-07T14:53:14" class="time">14:53</a></td></tr>
<tr id="t2016-04-07T14:55:55"><th class="nick" style="background: #407a40">malinus</th><td class="text" style="color: #407a40">Welp, I'm stuck on this error: <a href="http://paste.ubuntu.com/15670964/" rel="nofollow">http://paste.ubuntu.com/15670964/</a> , I've previously got a path error, which I thought I fixed, but I have no idea how to handle this one, or what even causes it: <a href="http://paste.ubuntu.com/15670964/" rel="nofollow">http://paste.ubuntu.com/15670964/</a></td><td class="time"><a href="#t2016-04-07T14:55:55" class="time">14:55</a></td></tr>
<tr id="t2016-04-07T14:56:08"><th class="nick" style="background: #407a40">malinus</th><td class="text" style="color: #407a40">accidently pasted it twice, sorry.</td><td class="time"><a href="#t2016-04-07T14:56:08" class="time">14:56</a></td></tr>
<tr id="t2016-04-07T14:56:43"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2016-04-07T14:56:43" class="time">14:56</a></td></tr>
<tr id="t2016-04-07T14:56:58"><th class="nick" style="background: #854685">CTtpollard</th><td class="text" style="color: #854685">kergoth: we're managing to only apply the patches if a variable has been set, do you know if it's possible to have two conditionals, using and?</td><td class="time"><a href="#t2016-04-07T14:56:58" class="time">14:56</a></td></tr>
<tr id="t2016-04-07T14:57:22"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">it's just python, of course</td><td class="time"><a href="#t2016-04-07T14:57:22" class="time">14:57</a></td></tr>
<tr id="t2016-04-07T14:57:38"><th class="nick" style="background: #854685">CTtpollard</th><td class="text" style="color: #854685">heh that's what I thought</td><td class="time"><a href="#t2016-04-07T14:57:38" class="time">14:57</a></td></tr>
<tr id="t2016-04-07T14:58:08"><th class="nick" style="background: #854685">CTtpollard</th><td class="text" style="color: #854685">so we check if a variable is set to 1, and we also want it check that bpn is == a given value</td><td class="time"><a href="#t2016-04-07T14:58:08" class="time">14:58</a></td></tr>
<tr id="t2016-04-07T14:58:10"><th class="nick" style="background: #407a40">malinus</th><td class="text" style="color: #407a40">Maybe I should just contact the mainatiner of the particular layer that fails?</td><td class="time"><a href="#t2016-04-07T14:58:10" class="time">14:58</a></td></tr>
<tr id="t2016-04-07T14:58:13"><th class="nick" style="background: #854685">CTtpollard</th><td class="text" style="color: #854685">however it seems to ignore it</td><td class="time"><a href="#t2016-04-07T14:58:13" class="time">14:58</a></td></tr>
<tr id="t2016-04-07T15:00:23"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">malinus: that's probably a good idea</td><td class="time"><a href="#t2016-04-07T15:00:23" class="time">15:00</a></td></tr>
<tr id="t2016-04-07T15:30:12"><th class="nick" style="background: #854685">CTtpollard</th><td class="text" style="color: #854685">kergoth: this feels dirty, but could you have linux-${MACHINE}.bbappend?</td><td class="time"><a href="#t2016-04-07T15:30:12" class="time">15:30</a></td></tr>
<tr id="t2016-04-07T15:32:22"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">hey so this autotools recipe is installing a number of files I want to include in the `-dev` package to paths like: /usr/src/spl-0.6.5.6/include/sys/fs</td><td class="time"><a href="#t2016-04-07T15:32:22" class="time">15:32</a></td></tr>
<tr id="t2016-04-07T15:32:58"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">should I refernce that path completely in the FILES section? it doesn't appear to be the ${libdir}, but I'm not sure what the value of that is</td><td class="time"><a href="#t2016-04-07T15:32:58" class="time">15:32</a></td></tr>
<tr id="t2016-04-07T15:33:45"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">for instance adding this to the recipe doesn't seem to work: FILES_${PN}-dev = "${includedir}/linux/sys/*"</td><td class="time"><a href="#t2016-04-07T15:33:45" class="time">15:33</a></td></tr>
<tr id="t2016-04-07T15:33:56"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">(excuse me I said libdir above but meant includedir)</td><td class="time"><a href="#t2016-04-07T15:33:56" class="time">15:33</a></td></tr>
<tr id="t2016-04-07T15:34:18"><th class="nick" style="background: #8c4a4a">neverpanic</th><td class="text" style="color: #8c4a4a">/usr/src isn't ${includedir}</td><td class="time"><a href="#t2016-04-07T15:34:18" class="time">15:34</a></td></tr>
<tr id="t2016-04-07T15:35:10"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">neverpanic: is there a way to identify what ${includedir} is? I assume I just need to tweak the configure line to install there</td><td class="time"><a href="#t2016-04-07T15:35:10" class="time">15:35</a></td></tr>
<tr id="t2016-04-07T15:35:31"><th class="nick" style="background: #8c4a4a">neverpanic</th><td class="text" style="color: #8c4a4a">see poky/meta/conf/bitbake.conf for the list of path variables. There doesn't seem to be one for /usr/src, so I guess FILES_${PN}-dev += "${prefix}/src" might be the way to go?</td><td class="time"><a href="#t2016-04-07T15:35:31" class="time">15:35</a></td></tr>
<tr id="t2016-04-07T15:35:42"><td class="nickchange" colspan="2">*** ka6sox is now known as zz_ka6sox</td><td><a href="#t2016-04-07T15:35:42" class="time">15:35</a></td></tr>
<tr id="t2016-04-07T15:35:44"><th class="nick" style="background: #8c4a4a">neverpanic</th><td class="text" style="color: #8c4a4a">bitbake -e recipename contains the values of all variables</td><td class="time"><a href="#t2016-04-07T15:35:44" class="time">15:35</a></td></tr>
<tr id="t2016-04-07T15:36:02"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">though I thought the autotools bbclass would handle setting up these variables for me</td><td class="time"><a href="#t2016-04-07T15:36:02" class="time">15:36</a></td></tr>
<tr id="t2016-04-07T15:36:21"><th class="nick" style="background: #4b904b">rburton1</th><td class="text" style="color: #4b904b">bitbake.conf lists the default path assignments, which are generally not changed</td><td class="time"><a href="#t2016-04-07T15:36:21" class="time">15:36</a></td></tr>
<tr id="t2016-04-07T15:36:33"><td class="nickchange" colspan="2">*** rburton1 is now known as rburton</td><td><a href="#t2016-04-07T15:36:33" class="time">15:36</a></td></tr>
<tr id="t2016-04-07T15:39:19"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">hm so /usr/src is likely the srcdir I guess</td><td class="time"><a href="#t2016-04-07T15:39:19" class="time">15:39</a></td></tr>
<tr id="t2016-04-07T15:44:13"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">CTtpollard: bbappends are named based on the filename of the recipe. no recipes are named that, even if bitbake expanded filenames, which it doesn't</td><td class="time"><a href="#t2016-04-07T15:44:13" class="time">15:44</a></td></tr>
<tr id="t2016-04-07T15:47:39"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">rburton, neverpanic: might either of you be able to point to an example of an out of tree module that also provides additional headers?</td><td class="time"><a href="#t2016-04-07T15:47:39" class="time">15:47</a></td></tr>
<tr id="t2016-04-07T15:48:05"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">in order to build the zfs kernel module I need to use spl headers which are artifacts of building the spl kernel module</td><td class="time"><a href="#t2016-04-07T15:48:05" class="time">15:48</a></td></tr>
<tr id="t2016-04-07T15:48:28"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">is spl also out of tree?</td><td class="time"><a href="#t2016-04-07T15:48:28" class="time">15:48</a></td></tr>
<tr id="t2016-04-07T15:48:36"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">I thought maybe I'd just wrap those up into the `dev` package for spl, but I'm not sure what the "yocto way" is here</td><td class="time"><a href="#t2016-04-07T15:48:36" class="time">15:48</a></td></tr>
<tr id="t2016-04-07T15:48:39"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">yes</td><td class="time"><a href="#t2016-04-07T15:48:39" class="time">15:48</a></td></tr>
<tr id="t2016-04-07T15:48:45"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">in fact right now I'm only focusing on the spl recipe</td><td class="time"><a href="#t2016-04-07T15:48:45" class="time">15:48</a></td></tr>
<tr id="t2016-04-07T15:49:10"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">i guess you'll need custom staging logic to write them to the same place as the kernel headers</td><td class="time"><a href="#t2016-04-07T15:49:10" class="time">15:49</a></td></tr>
<tr id="t2016-04-07T15:49:14"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">so the kernel module builds fine, and bitbake complains that a number of files are not packaged (the aforementioned headers)</td><td class="time"><a href="#t2016-04-07T15:49:14" class="time">15:49</a></td></tr>
<tr id="t2016-04-07T15:49:33"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">putting them in the -dev will be a good start</td><td class="time"><a href="#t2016-04-07T15:49:33" class="time">15:49</a></td></tr>
<tr id="t2016-04-07T15:49:52"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">ok great, but that leads to the next question</td><td class="time"><a href="#t2016-04-07T15:49:52" class="time">15:49</a></td></tr>
<tr id="t2016-04-07T15:50:11"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">obviously the paths are incorrect there, so what path transformations need to occur when putting them in the dev package?</td><td class="time"><a href="#t2016-04-07T15:50:11" class="time">15:50</a></td></tr>
<tr id="t2016-04-07T16:09:55"><td class="part" colspan="2">*** raykinsella78 &lt;raykinsella78!~rkinsell@192.198.151.44&gt; has left #yocto</td><td><a href="#t2016-04-07T16:09:55" class="time">16:09</a></td></tr>
<tr id="t2016-04-07T16:11:41"><th class="nick" style="background: #4d4d93">sa2ajj</th><td class="text" style="color: #4d4d93">hi. can somebody point me to an example where perforce is used for fetching sources?</td><td class="time"><a href="#t2016-04-07T16:11:41" class="time">16:11</a></td></tr>
<tr id="t2016-04-07T16:13:00"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">purgatory?</td><td class="time"><a href="#t2016-04-07T16:13:00" class="time">16:13</a></td></tr>
<tr id="t2016-04-07T16:20:15"><td class="nickchange" colspan="2">*** zz_ka6sox is now known as ka6sox</td><td><a href="#t2016-04-07T16:20:15" class="time">16:20</a></td></tr>
<tr id="t2016-04-07T16:20:59"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">git-imerge is so awesome for long-lived branches</td><td class="time"><a href="#t2016-04-07T16:20:59" class="time">16:20</a></td></tr>
<tr id="t2016-04-07T16:21:25"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">failed dismally last time i tried it, should try it again</td><td class="time"><a href="#t2016-04-07T16:21:25" class="time">16:21</a></td></tr>
<tr id="t2016-04-07T16:21:35"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">i've a branch that hasn't been rebased for about six months…</td><td class="time"><a href="#t2016-04-07T16:21:35" class="time">16:21</a></td></tr>
<tr id="t2016-04-07T16:22:45"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">rburton: for instance, would it be wise to patch the makefile.am for those installed kernel headers to instead change the install paths to reference like ${STAGING_KERNEL_DIR} or is that begging for trouble</td><td class="time"><a href="#t2016-04-07T16:22:45" class="time">16:22</a></td></tr>
<tr id="t2016-04-07T16:28:15"><th class="nick" style="background: #4d4d93">sa2ajj</th><td class="text" style="color: #4d4d93">rburton: i'm sorry, was that the answer?</td><td class="time"><a href="#t2016-04-07T16:28:15" class="time">16:28</a></td></tr>
<tr id="t2016-04-07T16:36:31"><th class="nick" style="background: #97974f">joshuagl</th><td class="text" style="color: #97974f">I'd be surprised if there were any examples of use of the p4 fetcher as I don't think there are any open source projects using p4</td><td class="time"><a href="#t2016-04-07T16:36:31" class="time">16:36</a></td></tr>
<tr id="t2016-04-07T16:38:50"><th class="nick" style="background: #4d4d93">sa2ajj</th><td class="text" style="color: #4d4d93">joshuagl: thanks :)</td><td class="time"><a href="#t2016-04-07T16:38:50" class="time">16:38</a></td></tr>
<tr id="t2016-04-07T16:39:34"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">I guess I'm just not sure how best to get these header files into the staging kernel dir for the subsequent module build, any ideas?</td><td class="time"><a href="#t2016-04-07T16:39:34" class="time">16:39</a></td></tr>
<tr id="t2016-04-07T16:40:21"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">alternatively, the configure process for the zfs kmod allows you specify a path to the spl sources</td><td class="time"><a href="#t2016-04-07T16:40:21" class="time">16:40</a></td></tr>
<tr id="t2016-04-07T16:40:54"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">so maybe there's an example somewhere of having multiple SRC_URI's in a single recipe, such that I can reference the spl source from within the zfs recipe</td><td class="time"><a href="#t2016-04-07T16:40:54" class="time">16:40</a></td></tr>
<tr id="t2016-04-07T16:58:49"><th class="nick" style="background: #8c4a4a">neverpanic</th><td class="text" style="color: #8c4a4a">mbroadst: multiple SRC_URIs are pretty easy; there are probably plenty of examples.</td><td class="time"><a href="#t2016-04-07T16:58:49" class="time">16:58</a></td></tr>
<tr id="t2016-04-07T16:59:22"><th class="nick" style="background: #8c4a4a">neverpanic</th><td class="text" style="color: #8c4a4a">you could also install the headers, which will put them into the sysroot, where you can look them up for later builds</td><td class="time"><a href="#t2016-04-07T16:59:22" class="time">16:59</a></td></tr>
<tr id="t2016-04-07T16:59:23"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">neverpanic: upon further reflection it seems I need generated objects and headers from the spl build for zfs</td><td class="time"><a href="#t2016-04-07T16:59:23" class="time">16:59</a></td></tr>
<tr id="t2016-04-07T16:59:39"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">I'm trying to parse 3 different mailing list threads for the proper staging methods</td><td class="time"><a href="#t2016-04-07T16:59:39" class="time">16:59</a></td></tr>
<tr id="t2016-04-07T17:00:21"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">neverpanic: I'm a little confused about installation in this context, iiuc FILES_whatever will install these headers to a package of my choice but not necessarily to the sysroot right?</td><td class="time"><a href="#t2016-04-07T17:00:21" class="time">17:00</a></td></tr>
<tr id="t2016-04-07T17:00:36"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">do you mean just adding a post install step to directly call install on the files?</td><td class="time"><a href="#t2016-04-07T17:00:36" class="time">17:00</a></td></tr>
<tr id="t2016-04-07T17:00:55"><th class="nick" style="background: #8c4a4a">neverpanic</th><td class="text" style="color: #8c4a4a">the whole contents of ${WORKDIR}/image usually also go into the sysroot</td><td class="time"><a href="#t2016-04-07T17:00:55" class="time">17:00</a></td></tr>
<tr id="t2016-04-07T17:01:13"><th class="nick" style="background: #8c4a4a">neverpanic</th><td class="text" style="color: #8c4a4a">and FILES_* matches files from ${WORKDIR}/image</td><td class="time"><a href="#t2016-04-07T17:01:13" class="time">17:01</a></td></tr>
<tr id="t2016-04-07T17:01:26"><th class="nick" style="background: #8c4a4a">neverpanic</th><td class="text" style="color: #8c4a4a">so everything that you package will also be part of the sysroot</td><td class="time"><a href="#t2016-04-07T17:01:26" class="time">17:01</a></td></tr>
<tr id="t2016-04-07T17:02:55"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">so I was playing around with that. Added all of the files to a test package (with the /usr/share/${PV} prefix intact, nothing changed there)</td><td class="time"><a href="#t2016-04-07T17:02:55" class="time">17:02</a></td></tr>
<tr id="t2016-04-07T17:03:08"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">er, /usr/src/${PV}</td><td class="time"><a href="#t2016-04-07T17:03:08" class="time">17:03</a></td></tr>
<tr id="t2016-04-07T17:03:18"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">but /usr/src doesn't exist in any of my sysroots</td><td class="time"><a href="#t2016-04-07T17:03:18" class="time">17:03</a></td></tr>
<tr id="t2016-04-07T17:03:46"><th class="nick" style="background: #8c4a4a">neverpanic</th><td class="text" style="color: #8c4a4a">But the files were installed by whatever your recipe's do_install() does, right?</td><td class="time"><a href="#t2016-04-07T17:03:46" class="time">17:03</a></td></tr>
<tr id="t2016-04-07T17:04:29"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">well do_install is handled automagically by the autotools bbclass, but yes I believe they have been installed (as indicated by the QA warning before I added them to FILES)</td><td class="time"><a href="#t2016-04-07T17:04:29" class="time">17:04</a></td></tr>
<tr id="t2016-04-07T17:04:56"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888"> /usr/src isn't staged to the sysroot, only specific paths are, unless you override that by appending to sysroot_stage_all</td><td class="time"><a href="#t2016-04-07T17:04:56" class="time">17:04</a></td></tr>
<tr id="t2016-04-07T17:06:31"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">I see, so indeed the path forward should just to be to create an appended do_install that manually installs those files to the STAGING_KERNEL_DIR</td><td class="time"><a href="#t2016-04-07T17:06:31" class="time">17:06</a></td></tr>
<tr id="t2016-04-07T17:07:11"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">(although I see comments from Bruce Ashfield on the ML about not touching that directly, and rather using a custom path for additional headers)</td><td class="time"><a href="#t2016-04-07T17:07:11" class="time">17:07</a></td></tr>
<tr id="t2016-04-07T17:07:58"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">yes, you should never touch the sysroot directly in do_install</td><td class="time"><a href="#t2016-04-07T17:07:58" class="time">17:07</a></td></tr>
<tr id="t2016-04-07T17:08:35"><th class="nick" style="background: #8c4a4a">neverpanic</th><td class="text" style="color: #8c4a4a">Yes, as soon as your recipe starts using sstate cache those files will be missing otherwise.</td><td class="time"><a href="#t2016-04-07T17:08:35" class="time">17:08</a></td></tr>
<tr id="t2016-04-07T17:10:04"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">can either of you think of an existing recipe pair that does something like this then? specifically: one recipe builds a kernel module and provides extra kernel headers, and the second module needs to reference the previous modules objects and headers</td><td class="time"><a href="#t2016-04-07T17:10:04" class="time">17:10</a></td></tr>
<tr id="t2016-04-07T17:10:22"><td class="nickchange" colspan="2">*** jbrianceau is now known as jbrianceau_away</td><td><a href="#t2016-04-07T17:10:22" class="time">17:10</a></td></tr>
<tr id="t2016-04-07T17:10:50"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">I just ask for the sake of not bothering you anymore :)</td><td class="time"><a href="#t2016-04-07T17:10:50" class="time">17:10</a></td></tr>
<tr id="t2016-04-07T17:12:26"><td class="action" colspan="2">* mranostay bothers kergoth</td><td><a href="#t2016-04-07T17:12:26" class="time">17:12</a></td></tr>
<tr id="t2016-04-07T17:13:58"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">personally I'd just put them in their own isolated area in ${D} in do_install and use a sysroot_stage_all_append() to get that into the sysroot, then look there from the other recipe. basically what bruce said</td><td class="time"><a href="#t2016-04-07T17:13:58" class="time">17:13</a></td></tr>
<tr id="t2016-04-07T17:14:58"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">grep around for examples. i.e. meta/recipes-core/meta/signing-keys.bb stages /etc/pki into the sysroot, which normally wouldn't be included</td><td class="time"><a href="#t2016-04-07T17:14:58" class="time">17:14</a></td></tr>
<tr id="t2016-04-07T17:15:21"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">okay and then in the subsequent recipe just reference a magic path</td><td class="time"><a href="#t2016-04-07T17:15:21" class="time">17:15</a></td></tr>
<tr id="t2016-04-07T17:16:28"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">i.e. install to ${D}${includedir}/foobar/, add that in sysroot_stage_all_append, then -I${STAGING_INCDIR}/foobar</td><td class="time"><a href="#t2016-04-07T17:16:28" class="time">17:16</a></td></tr>
<tr id="t2016-04-07T17:16:56"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">gotcha, thanks to you both I really appreciate the advice</td><td class="time"><a href="#t2016-04-07T17:16:56" class="time">17:16</a></td></tr>
<tr id="t2016-04-07T17:17:04"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">or, if it only adds extra files and doesn't conflict with anything else, just install them to standard locations and they'd be found by default</td><td class="time"><a href="#t2016-04-07T17:17:04" class="time">17:17</a></td></tr>
<tr id="t2016-04-07T17:17:32"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">well for whatever reason in its Makefile its installing it to /usr/src/${PN}/include</td><td class="time"><a href="#t2016-04-07T17:17:32" class="time">17:17</a></td></tr>
<tr id="t2016-04-07T17:18:04"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">afaict the makefile.am is using like ${top_src_dir}, so that could probably be patched</td><td class="time"><a href="#t2016-04-07T17:18:04" class="time">17:18</a></td></tr>
<tr id="t2016-04-07T17:18:05"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">that's one of the common places where kernel headers would go, yes</td><td class="time"><a href="#t2016-04-07T17:18:05" class="time">17:18</a></td></tr>
<tr id="t2016-04-07T17:18:23"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">it is?</td><td class="time"><a href="#t2016-04-07T17:18:23" class="time">17:18</a></td></tr>
<tr id="t2016-04-07T17:18:36"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888"> /usr/include/linxu and /usr/include/asm arent' kernel headers anymore, they're the sanitized-for-userland headers used by the c library and installed for use by userland</td><td class="time"><a href="#t2016-04-07T17:18:36" class="time">17:18</a></td></tr>
<tr id="t2016-04-07T17:19:10"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">kernel stuff doesn't include those, it needs the headers from the actual kernel source, which is either specified manually, or i.e. follows the symlink from /lib/modules/&lt;foo&gt;/build/</td><td class="time"><a href="#t2016-04-07T17:19:10" class="time">17:19</a></td></tr>
<tr id="t2016-04-07T17:19:18"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">which in some distros points to a kernel source dir in /usr/src</td><td class="time"><a href="#t2016-04-07T17:19:18" class="time">17:19</a></td></tr>
<tr id="t2016-04-07T17:19:40"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">arg sorry</td><td class="time"><a href="#t2016-04-07T17:19:40" class="time">17:19</a></td></tr>
<tr id="t2016-04-07T17:20:00"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">kergoth: so, this recipe in particular is installing to e.g. /usr/src/spl-0.6.5.6/include/sys/*</td><td class="time"><a href="#t2016-04-07T17:20:00" class="time">17:20</a></td></tr>
<tr id="t2016-04-07T17:20:15"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">that's expected?</td><td class="time"><a href="#t2016-04-07T17:20:15" class="time">17:20</a></td></tr>
<tr id="t2016-04-07T17:20:43"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">ah, no, that doesn't seem standard, but there really is no standard for injecting extra kernel headers, so..</td><td class="time"><a href="#t2016-04-07T17:20:43" class="time">17:20</a></td></tr>
<tr id="t2016-04-07T17:21:38"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">right, so what I was originally doing was just adding those to the dev package, but they aren't available</td><td class="time"><a href="#t2016-04-07T17:21:38" class="time">17:21</a></td></tr>
<tr id="t2016-04-07T17:21:42"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">regardless, pick a path, or let it use the one it's already using, append to sysroot_stage_all to get that non-standard path staged, then point to that path from the other recipe. what that path is probably doesn't matter</td><td class="time"><a href="#t2016-04-07T17:21:42" class="time">17:21</a></td></tr>
<tr id="t2016-04-07T17:21:51"><td class="action" colspan="2">* kergoth nods</td><td><a href="#t2016-04-07T17:21:51" class="time">17:21</a></td></tr>
<tr id="t2016-04-07T17:21:52"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">so I guess I'll try that sysroot_stage_all_append</td><td class="time"><a href="#t2016-04-07T17:21:52" class="time">17:21</a></td></tr>
<tr id="t2016-04-07T17:22:19"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">both ssysroot population and packaging use the files from $D} from do_install, but they use two different mechanisms and functions to do so</td><td class="time"><a href="#t2016-04-07T17:22:19" class="time">17:22</a></td></tr>
<tr id="t2016-04-07T17:23:06"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">i expect you can just copy the bits from meta/recipes-core/meta/signing-keys.bb and change ${sysconfdir}/pki to ${prefix}/src</td><td class="time"><a href="#t2016-04-07T17:23:06" class="time">17:23</a></td></tr>
<tr id="t2016-04-07T17:23:28"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">but the fact that it's including the version in the /usr/src path would be problematic since you won't know the version from teh other recipe, so you might also want to change that path</td><td class="time"><a href="#t2016-04-07T17:23:28" class="time">17:23</a></td></tr>
<tr id="t2016-04-07T17:23:30"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">move it in do_install</td><td class="time"><a href="#t2016-04-07T17:23:30" class="time">17:23</a></td></tr>
<tr id="t2016-04-07T17:25:52"><td class="nickchange" colspan="2">*** psidhu` is now known as psidhu</td><td><a href="#t2016-04-07T17:25:52" class="time">17:25</a></td></tr>
<tr id="t2016-04-07T17:27:04"><td class="nickchange" colspan="2">*** ka6sox is now known as zz_ka6sox</td><td><a href="#t2016-04-07T17:27:04" class="time">17:27</a></td></tr>
<tr id="t2016-04-07T17:28:26"><td class="part" colspan="2">*** dcobbley1 &lt;dcobbley1!~dcobbley@134.134.139.74&gt; has left #yocto</td><td><a href="#t2016-04-07T17:28:26" class="time">17:28</a></td></tr>
<tr id="t2016-04-07T17:38:05"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">kergoth: well conveniently the two modules come in synced releases</td><td class="time"><a href="#t2016-04-07T17:38:05" class="time">17:38</a></td></tr>
<tr id="t2016-04-07T17:38:30"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">ah, that makes it easier</td><td class="time"><a href="#t2016-04-07T17:38:30" class="time">17:38</a></td></tr>
<tr id="t2016-04-07T17:38:41"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">so ${PV} should be all thats needed, but I think maybe bruce in those emails was just saying make a parallel tree, like /usr-blah/src/include</td><td class="time"><a href="#t2016-04-07T17:38:41" class="time">17:38</a></td></tr>
<tr id="t2016-04-07T17:39:13"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">I could just patch the Makefile.am for those headers to use `/usr-blah/src` instead of `${top_src_dir}` I guess</td><td class="time"><a href="#t2016-04-07T17:39:13" class="time">17:39</a></td></tr>
<tr id="t2016-04-07T17:50:12"><td class="nickchange" colspan="2">*** zz_ka6sox is now known as ka6sox</td><td><a href="#t2016-04-07T17:50:12" class="time">17:50</a></td></tr>
<tr id="t2016-04-07T18:25:31"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">RP: if you're around, could use another set of eyes on something real quick. very short diffs. <a href="https://github.com/kergoth/poky/commit/14d521b" rel="nofollow">https://github.com/kergoth/poky/commit/14d521b</a> vs <a href="https://github.com/kergoth/poky/commit/d24c6d5" rel="nofollow">https://github.com/kergoth/poky/commit/d24c6d5</a></td><td class="time"><a href="#t2016-04-07T18:25:31" class="time">18:25</a></td></tr>
<tr id="t2016-04-07T18:26:08"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">or anyone else, really</td><td class="time"><a href="#t2016-04-07T18:26:08" class="time">18:26</a></td></tr>
<tr id="t2016-04-07T18:47:12"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">I dislike how implicit the latter implementation is, but getting all the layer maintainers to modify their layer.conf seems like a losing proposition, so I'm inclined to say we should go with the latter</td><td class="time"><a href="#t2016-04-07T18:47:12" class="time">18:47</a></td></tr>
<tr id="t2016-04-07T19:18:25"><th class="nick" style="background: #9b519b">otavio</th><td class="text" style="color: #9b519b">How can I force BitBake data smart to be updated?</td><td class="time"><a href="#t2016-04-07T19:18:25" class="time">19:18</a></td></tr>
<tr id="t2016-04-07T19:26:56"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">kergoth: now I'm reading this, thinking I should just do a do_install_append and install everything directly to $STAGING_KERNEL_DIR: <a href="https://github.com/openembedded/openembedded-core/blob/master/meta/recipes-kernel/linux-libc-headers/linux-libc-headers.inc#L5" rel="nofollow">https://github.com/openembedded/openembedded-core/blob/master/meta/recipes-kernel/linux-libc-headers/linux-libc-headers.inc#L5</a></td><td class="time"><a href="#t2016-04-07T19:26:56" class="time">19:26</a></td></tr>
<tr id="t2016-04-07T19:29:09"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">and it looks like this is doing something close to what I want maybe: <a href="https://github.com/open-switch/ops-build/blob/master/yocto/poky/meta/recipes-kernel/cryptodev/cryptodev-linux_1.7.bb" rel="nofollow">https://github.com/open-switch/ops-build/blob/master/yocto/poky/meta/recipes-kernel/cryptodev/cryptodev-linux_1.7.bb</a></td><td class="time"><a href="#t2016-04-07T19:29:09" class="time">19:29</a></td></tr>
<tr id="t2016-04-07T19:29:50"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">linux-libc-headers is special, you should not use it as a basis of anything. it installs files specifically for use by the C library, not kernel stuff</td><td class="time"><a href="#t2016-04-07T19:29:50" class="time">19:29</a></td></tr>
<tr id="t2016-04-07T19:30:45"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">yeah, I see that in the note, but the note continues to mention that if you want to install a kernel header you should just directly install to the staging dir</td><td class="time"><a href="#t2016-04-07T19:30:45" class="time">19:30</a></td></tr>
<tr id="t2016-04-07T19:31:14"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">the second recipe I just posted seems to be the latter of your suggestions above, just install the files directly to ${D} and hope they don't clobber anything</td><td class="time"><a href="#t2016-04-07T19:31:14" class="time">19:31</a></td></tr>
<tr id="t2016-04-07T19:37:58"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">oh but thats for eventual use in the image, not to build another recipe</td><td class="time"><a href="#t2016-04-07T19:37:58" class="time">19:37</a></td></tr>
<tr id="t2016-04-07T19:53:22"><th class="nick" style="background: #539e9e">RP</th><td class="text" style="color: #539e9e">kergoth: hmm, that is a really tricky one. I do prefer the former, the latter does seem a bit too magic :/</td><td class="time"><a href="#t2016-04-07T19:53:22" class="time">19:53</a></td></tr>
<tr id="t2016-04-07T19:55:36"><th class="nick" style="background: #539e9e">RP</th><td class="text" style="color: #539e9e">kergoth: Since we'll have to live with this for a long time, which would we ideally prefer? I'd then suggest we go with that...</td><td class="time"><a href="#t2016-04-07T19:55:36" class="time">19:55</a></td></tr>
<tr id="t2016-04-07T19:56:22"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">Yeah, I prefer the former as well. but for a layer to support both older and newer bitbakes they'd need LAYERDIR_RE ?= "${LAYERDIR}" too :\</td><td class="time"><a href="#t2016-04-07T19:56:22" class="time">19:56</a></td></tr>
<tr id="t2016-04-07T19:56:46"><td class="action" colspan="2">* kergoth shrugs</td><td><a href="#t2016-04-07T19:56:46" class="time">19:56</a></td></tr>
<tr id="t2016-04-07T19:58:46"><th class="nick" style="background: #539e9e">RP</th><td class="text" style="color: #539e9e">kergoth: still tempted by the former...</td><td class="time"><a href="#t2016-04-07T19:58:46" class="time">19:58</a></td></tr>
<tr id="t2016-04-07T19:59:00"><th class="nick" style="background: #539e9e">RP</th><td class="text" style="color: #539e9e">kergoth: I've been burnt by too many nasty things we've had to live with</td><td class="time"><a href="#t2016-04-07T19:59:00" class="time">19:59</a></td></tr>
<tr id="t2016-04-07T19:59:19"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">Yeah, I hear you. magic tends to break, or at the best we end up stuck maintaining it indefinitely</td><td class="time"><a href="#t2016-04-07T19:59:19" class="time">19:59</a></td></tr>
<tr id="t2016-04-07T19:59:41"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">K, the former it is, I'll submit it for 2.2</td><td class="time"><a href="#t2016-04-07T19:59:41" class="time">19:59</a></td></tr>
<tr id="t2016-04-07T20:04:14"><td class="nickchange" colspan="2">*** wto_ is now known as wto</td><td><a href="#t2016-04-07T20:04:14" class="time">20:04</a></td></tr>
<tr id="t2016-04-07T20:12:39"><th class="nick" style="background: #818144">mbroadst</th><td class="text" style="color: #818144">kergoth: rad, got it working :) thanks for the guidance</td><td class="time"><a href="#t2016-04-07T20:12:39" class="time">20:12</a></td></tr>
<tr id="t2016-04-07T20:12:44"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">np</td><td class="time"><a href="#t2016-04-07T20:12:44" class="time">20:12</a></td></tr>
<tr id="t2016-04-07T20:15:07"><th class="nick" style="background: #539e9e">RP</th><td class="text" style="color: #539e9e">kergoth: sounds good thanks</td><td class="time"><a href="#t2016-04-07T20:15:07" class="time">20:15</a></td></tr>
<tr id="t2016-04-07T20:15:22"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">np, thanks for the help/input</td><td class="time"><a href="#t2016-04-07T20:15:22" class="time">20:15</a></td></tr>
<tr id="t2016-04-07T20:24:42"><th class="nick" style="background: #8c4a4a">neverpanic</th><td class="text" style="color: #8c4a4a">kergoth: maybe I'm misunderstanding things, but couldn't layers that want to support older and newer bitbake versions do LAYERDIR_RE ?= "${@re.escape(d.getVar('LAYER', True))}"?</td><td class="time"><a href="#t2016-04-07T20:24:42" class="time">20:24</a></td></tr>
<tr id="t2016-04-07T20:28:47"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">neverpanic: nope, re isn't imported</td><td class="time"><a href="#t2016-04-07T20:28:47" class="time">20:28</a></td></tr>
<tr id="t2016-04-07T20:28:55"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">you'd ahve to split off a .inc, create a def'd function, and import re</td><td class="time"><a href="#t2016-04-07T20:28:55" class="time">20:28</a></td></tr>
<tr id="t2016-04-07T20:29:07"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">that's why it had to be implemented in bitbake rather than just doing it in the metadsata in the first place</td><td class="time"><a href="#t2016-04-07T20:29:07" class="time">20:29</a></td></tr>
<tr id="t2016-04-07T20:32:35"><th class="nick" style="background: #8c4a4a">neverpanic</th><td class="text" style="color: #8c4a4a">kergoth: ${@__import__('re').escape(d.getVar('LAYER', True))}</td><td class="time"><a href="#t2016-04-07T20:32:35" class="time">20:32</a></td></tr>
<tr id="t2016-04-07T21:10:38"><td class="nickchange" colspan="2">*** chep` is now known as chep</td><td><a href="#t2016-04-07T21:10:38" class="time">21:10</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2016-04-06.log.html">&#171; Wednesday, 2016-04-06</a> <a href="index.html">Index</a> <a href="%23yocto.2016-04-08.log.html">Friday, 2016-04-08 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
