<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Thursday, 2016-10-20</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Thursday, 2016-10-20</h1>
<div class="navigation"> <a href="%23yocto.2016-10-19.log.html">&#171; Wednesday, 2016-10-19</a> <a href="index.html">Index</a> <a href="%23yocto.2016-10-21.log.html">Friday, 2016-10-21 &#187;</a> </div>
<table class="irclog">
<tr id="t2016-10-20T00:59:30"><th class="nick" style="background: #407a40">ulf^</th><td class="text" style="color: #407a40">Hi</td><td class="time"><a href="#t2016-10-20T00:59:30" class="time">00:59</a></td></tr>
<tr id="t2016-10-20T02:28:57"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">neverpanic: some projects have been using clang for more eg. webkit</td><td class="time"><a href="#t2016-10-20T02:28:57" class="time">02:28</a></td></tr>
<tr id="t2016-10-20T05:43:17"><th class="nick" style="background: #818144">awaisb</th><td class="text" style="color: #818144">morning guys</td><td class="time"><a href="#t2016-10-20T05:43:17" class="time">05:43</a></td></tr>
<tr id="t2016-10-20T05:43:49"><th class="nick" style="background: #818144">awaisb</th><td class="text" style="color: #818144">with <a href="http://cgit.openembedded.org/openembedded-core/commit/meta/recipes-connectivity/ppp?h=morty&amp;id=68e917aa778742da104c038a6e1ffa789fe95410" rel="nofollow">http://cgit.openembedded.org/openembedded-core/commit/meta/recipes-connectivity/ppp?h=morty&amp;id=68e917aa778742da104c038a6e1ffa789fe95410</a> I am seeing broken builds for linux-yocto 4.4</td><td class="time"><a href="#t2016-10-20T05:43:49" class="time">05:43</a></td></tr>
<tr id="t2016-10-20T05:44:06"><th class="nick" style="background: #818144">awaisb</th><td class="text" style="color: #818144">can anyone else comment on this?</td><td class="time"><a href="#t2016-10-20T05:44:06" class="time">05:44</a></td></tr>
<tr id="t2016-10-20T06:56:51"><td class="nickchange" colspan="2">*** jbrianceau_away is now known as jbrianceau</td><td><a href="#t2016-10-20T06:56:51" class="time">06:56</a></td></tr>
<tr id="t2016-10-20T07:11:43"><th class="nick" style="background: #854685">kalyan__</th><td class="text" style="color: #854685">hi everyone</td><td class="time"><a href="#t2016-10-20T07:11:43" class="time">07:11</a></td></tr>
<tr id="t2016-10-20T07:11:59"><th class="nick" style="background: #854685">kalyan__</th><td class="text" style="color: #854685">i am getting following while using bitbake</td><td class="time"><a href="#t2016-10-20T07:11:59" class="time">07:11</a></td></tr>
<tr id="t2016-10-20T07:12:00"><th class="nick" style="background: #854685">kalyan__</th><td class="text" style="color: #854685"><a href="http://pastebin.com/4d0QfJMk" rel="nofollow">http://pastebin.com/4d0QfJMk</a></td><td class="time"><a href="#t2016-10-20T07:12:00" class="time">07:12</a></td></tr>
<tr id="t2016-10-20T07:13:01"><th class="nick" style="background: #488888">fl0v0</th><td class="text" style="color: #488888">ERROR: Unable to parse $~/BBB/poky-krogoth/meta/conf/layer.conf:</td><td class="time"><a href="#t2016-10-20T07:13:01" class="time">07:13</a></td></tr>
<tr id="t2016-10-20T07:14:09"><th class="nick" style="background: #854685">kalyan__</th><td class="text" style="color: #854685">i am new to yocto can you suggest me what action i have to take</td><td class="time"><a href="#t2016-10-20T07:14:09" class="time">07:14</a></td></tr>
<tr id="t2016-10-20T07:14:21"><th class="nick" style="background: #488888">fl0v0</th><td class="text" style="color: #488888">why is there a $ in front of the path? Don't know if thats the problem, but bitbake can't find the file</td><td class="time"><a href="#t2016-10-20T07:14:21" class="time">07:14</a></td></tr>
<tr id="t2016-10-20T07:19:30"><th class="nick" style="background: #854685">kalyan__</th><td class="text" style="color: #854685">Thanks fl0v0</td><td class="time"><a href="#t2016-10-20T07:19:30" class="time">07:19</a></td></tr>
<tr id="t2016-10-20T07:31:10"><td class="nickchange" colspan="2">*** jku_ is now known as jku</td><td><a href="#t2016-10-20T07:31:10" class="time">07:31</a></td></tr>
<tr id="t2016-10-20T07:46:27"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2016-10-20T07:46:27" class="time">07:46</a></td></tr>
<tr id="t2016-10-20T07:46:36"><td class="part" colspan="2">*** jku &lt;jku!~jku@2001:998:22:0:4e8d:79ff:fef2:49ba&gt; has left #yocto</td><td><a href="#t2016-10-20T07:46:36" class="time">07:46</a></td></tr>
<tr id="t2016-10-20T08:42:15"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2016-10-20T08:42:15" class="time">08:42</a></td></tr>
<tr id="t2016-10-20T09:10:31"><th class="nick" style="background: #8c4a4a">g0hl1n</th><td class="text" style="color: #8c4a4a">hi everybody, I'm currently facing a problem with buildhistory in YP jethro. If "buildhistory" is disabled the rootfs build works fine. As soon as I activate buildhistory (start toaster in my case) do_rootfs fails with the error shown at <a href="https://gist.github.com/rleitner/d9b752e7bd89b03cf56d9566555faef3" rel="nofollow">https://gist.github.com/rleitner/d9b752e7bd89b03cf56d9566555faef3</a> . Any kind of help is much appreciated :-) Thanks!</td><td class="time"><a href="#t2016-10-20T09:10:31" class="time">09:10</a></td></tr>
<tr id="t2016-10-20T09:17:48"><th class="nick" style="background: #4b904b">lpapp</th><td class="text" style="color: #4b904b">hi, Yocto somehow managed to generate inconsistent LD and LDFLAGS for my SDK. 1) Why is it so? 2) How can I fix it?</td><td class="time"><a href="#t2016-10-20T09:17:48" class="time">09:17</a></td></tr>
<tr id="t2016-10-20T09:18:02"><th class="nick" style="background: #4b904b">lpapp</th><td class="text" style="color: #4b904b">export LD="arm-polatis-linux-gnueabi-ld&nbsp;&nbsp;--sysroot=$SDKTARGETSYSROOT"</td><td class="time"><a href="#t2016-10-20T09:18:02" class="time">09:18</a></td></tr>
<tr id="t2016-10-20T09:18:09"><th class="nick" style="background: #4b904b">lpapp</th><td class="text" style="color: #4b904b">export LDFLAGS="-Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed"</td><td class="time"><a href="#t2016-10-20T09:18:09" class="time">09:18</a></td></tr>
<tr id="t2016-10-20T09:18:35"><th class="nick" style="background: #4b904b">lpapp</th><td class="text" style="color: #4b904b">arm-polatis-linux-gnueabi-ld --help does not show that it has flags like -Wl,-O1. That looks like a gcc linker flag to me rather than ld.</td><td class="time"><a href="#t2016-10-20T09:18:35" class="time">09:18</a></td></tr>
<tr id="t2016-10-20T09:18:50"><th class="nick" style="background: #4b904b">lpapp</th><td class="text" style="color: #4b904b">this makes it difficult using our SDK, so we would need to fix it ASAP... I am using daisy.</td><td class="time"><a href="#t2016-10-20T09:18:50" class="time">09:18</a></td></tr>
<tr id="t2016-10-20T10:50:38"><th class="nick" style="background: #4d4d93">reibax</th><td class="text" style="color: #4d4d93">Hello everyone</td><td class="time"><a href="#t2016-10-20T10:50:38" class="time">10:50</a></td></tr>
<tr id="t2016-10-20T10:50:59"><th class="nick" style="background: #4d4d93">reibax</th><td class="text" style="color: #4d4d93">I am new to yocto, and I am learning a lot from its documentation</td><td class="time"><a href="#t2016-10-20T10:50:59" class="time">10:50</a></td></tr>
<tr id="t2016-10-20T10:51:33"><th class="nick" style="background: #4d4d93">reibax</th><td class="text" style="color: #4d4d93">I am working on a new recipe, and looking at different examples in order to learn how to propperly do it</td><td class="time"><a href="#t2016-10-20T10:51:33" class="time">10:51</a></td></tr>
<tr id="t2016-10-20T10:52:00"><th class="nick" style="background: #4d4d93">reibax</th><td class="text" style="color: #4d4d93">sadly, as much as I have tried to look for an explanation about the purpose of SSTATE_SCAN_FILES</td><td class="time"><a href="#t2016-10-20T10:52:00" class="time">10:52</a></td></tr>
<tr id="t2016-10-20T10:52:03"><th class="nick" style="background: #97974f">jku_</th><td class="text" style="color: #97974f">g0hl1n: how old is your yocto? that code doesn't seem to be in the two last releases</td><td class="time"><a href="#t2016-10-20T10:52:03" class="time">10:52</a></td></tr>
<tr id="t2016-10-20T10:52:27"><th class="nick" style="background: #4d4d93">reibax</th><td class="text" style="color: #4d4d93">I have been unable to find any information about that variable</td><td class="time"><a href="#t2016-10-20T10:52:27" class="time">10:52</a></td></tr>
<tr id="t2016-10-20T10:52:37"><th class="nick" style="background: #4d4d93">reibax</th><td class="text" style="color: #4d4d93">can anyone help me understand what it is for?</td><td class="time"><a href="#t2016-10-20T10:52:37" class="time">10:52</a></td></tr>
<tr id="t2016-10-20T10:54:30"><th class="nick" style="background: #8c4a4a">g0hl1n</th><td class="text" style="color: #8c4a4a">jku_: as mentioned, I'm using jethro (current branch).</td><td class="time"><a href="#t2016-10-20T10:54:30" class="time">10:54</a></td></tr>
<tr id="t2016-10-20T10:54:55"><th class="nick" style="background: #97974f">jku_</th><td class="text" style="color: #97974f">ah sorry, my bad</td><td class="time"><a href="#t2016-10-20T10:54:55" class="time">10:54</a></td></tr>
<tr id="t2016-10-20T11:06:42"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">g0hl1n: see sstate.bbclass, its used to find files that need paths replaced in them</td><td class="time"><a href="#t2016-10-20T11:06:42" class="time">11:06</a></td></tr>
<tr id="t2016-10-20T11:07:03"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">in the general case this is magic you don't need to care about.</td><td class="time"><a href="#t2016-10-20T11:07:03" class="time">11:07</a></td></tr>
<tr id="t2016-10-20T11:52:38"><th class="nick" style="background: #539e9e">arkver</th><td class="text" style="color: #539e9e">Hi. Can you have a machine specific do_install_append in a bbappend? E.g. do_install_append-mx6 ?</td><td class="time"><a href="#t2016-10-20T11:52:38" class="time">11:52</a></td></tr>
<tr id="t2016-10-20T11:54:20"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">arkver: sure, but you have to make it&nbsp;&nbsp;do_install_append_mx6&nbsp;&nbsp;or the like. see <a href="http://www.yoctoproject.org/docs/2.2/ref-manual/ref-manual.html#var-OVERRIDES." rel="nofollow">http://www.yoctoproject.org/docs/2.2/ref-manual/ref-manual.html#var-OVERRIDES.</a></td><td class="time"><a href="#t2016-10-20T11:54:20" class="time">11:54</a></td></tr>
<tr id="t2016-10-20T11:55:18"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">that glossary entry (and the ones for CLASSOVERRIDE, MACHINEOVERRIDES, and DISTROOVERIDES) were fleshed out recently</td><td class="time"><a href="#t2016-10-20T11:55:18" class="time">11:55</a></td></tr>
<tr id="t2016-10-20T11:55:28"><th class="nick" style="background: #539e9e">arkver</th><td class="text" style="color: #539e9e">Thanks. Also for the link. Should have rtfm'd first. :)</td><td class="time"><a href="#t2016-10-20T11:55:28" class="time">11:55</a></td></tr>
<tr id="t2016-10-20T11:56:13"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">it's worth looking at the 2.2 manuals if you're reading an earlier version btw</td><td class="time"><a href="#t2016-10-20T11:56:13" class="time">11:56</a></td></tr>
<tr id="t2016-10-20T12:00:20"><th class="nick" style="background: #539e9e">arkver</th><td class="text" style="color: #539e9e">Bookmarked the 2.2 version last time you pointed me at it. :)</td><td class="time"><a href="#t2016-10-20T12:00:20" class="time">12:00</a></td></tr>
<tr id="t2016-10-20T12:00:51"><th class="nick" style="background: #a25555">Ulfalizer</th><td class="text" style="color: #a25555">hehe... didn't remember</td><td class="time"><a href="#t2016-10-20T12:00:51" class="time">12:00</a></td></tr>
<tr id="t2016-10-20T12:02:37"><th class="nick" style="background: #4d4d93">reibax</th><td class="text" style="color: #4d4d93">What is the purpose of SSTATE_SCAN_FILES ?</td><td class="time"><a href="#t2016-10-20T12:02:37" class="time">12:02</a></td></tr>
<tr id="t2016-10-20T12:09:42"><th class="nick" style="background: #57a657">hunk</th><td class="text" style="color: #57a657">Hello, i builing a really small package witch only copy&nbsp;&nbsp;a script to the target</td><td class="time"><a href="#t2016-10-20T12:09:42" class="time">12:09</a></td></tr>
<tr id="t2016-10-20T12:09:50"><th class="nick" style="background: #57a657">hunk</th><td class="text" style="color: #57a657">but i have problems with my LIC_FILES_CHKSUM</td><td class="time"><a href="#t2016-10-20T12:09:50" class="time">12:09</a></td></tr>
<tr id="t2016-10-20T12:09:57"><th class="nick" style="background: #57a657">hunk</th><td class="text" style="color: #57a657">where i have to place this file</td><td class="time"><a href="#t2016-10-20T12:09:57" class="time">12:09</a></td></tr>
<tr id="t2016-10-20T12:10:05"><th class="nick" style="background: #57a657">hunk</th><td class="text" style="color: #57a657">do i really need one?</td><td class="time"><a href="#t2016-10-20T12:10:05" class="time">12:10</a></td></tr>
<tr id="t2016-10-20T12:10:26"><th class="nick" style="background: #4d4d93">reibax</th><td class="text" style="color: #4d4d93">No</td><td class="time"><a href="#t2016-10-20T12:10:26" class="time">12:10</a></td></tr>
<tr id="t2016-10-20T12:10:42"><th class="nick" style="background: #4d4d93">reibax</th><td class="text" style="color: #4d4d93">you can skip the checking if you set</td><td class="time"><a href="#t2016-10-20T12:10:42" class="time">12:10</a></td></tr>
<tr id="t2016-10-20T12:10:48"><th class="nick" style="background: #57a657">hunk</th><td class="text" style="color: #57a657">how</td><td class="time"><a href="#t2016-10-20T12:10:48" class="time">12:10</a></td></tr>
<tr id="t2016-10-20T12:11:13"><th class="nick" style="background: #4d4d93">reibax</th><td class="text" style="color: #4d4d93">LICENSE = "CLOSED"</td><td class="time"><a href="#t2016-10-20T12:11:13" class="time">12:11</a></td></tr>
<tr id="t2016-10-20T12:11:51"><th class="nick" style="background: #4d4d93">reibax</th><td class="text" style="color: #4d4d93">But it is good practise to get your licenses right</td><td class="time"><a href="#t2016-10-20T12:11:51" class="time">12:11</a></td></tr>
<tr id="t2016-10-20T12:13:27"><th class="nick" style="background: #57a657">hunk</th><td class="text" style="color: #57a657">ok</td><td class="time"><a href="#t2016-10-20T12:13:27" class="time">12:13</a></td></tr>
<tr id="t2016-10-20T12:13:34"><th class="nick" style="background: #57a657">hunk</th><td class="text" style="color: #57a657">and when i define my own license ?</td><td class="time"><a href="#t2016-10-20T12:13:34" class="time">12:13</a></td></tr>
<tr id="t2016-10-20T12:16:27"><th class="nick" style="background: #4d4d93">reibax</th><td class="text" style="color: #4d4d93">when? As soon as possible. I'd say before starting working on the software, but definitetly before releasing it to the user.</td><td class="time"><a href="#t2016-10-20T12:16:27" class="time">12:16</a></td></tr>
<tr id="t2016-10-20T12:25:41"><th class="nick" style="background: #539e9e">arkver</th><td class="text" style="color: #539e9e">reibax: There's a hint in the original commit (<a href="https://patchwork.openembedded.org/patch/16959" rel="nofollow">https://patchwork.openembedded.org/patch/16959</a>) and an example of it's use for apache2 (<a href="https://patchwork.openembedded.org/patch/57723/" rel="nofollow">https://patchwork.openembedded.org/patch/57723/</a>), but as rburton says it's not something the new Yocto user would normally need to be concerned about.</td><td class="time"><a href="#t2016-10-20T12:25:41" class="time">12:25</a></td></tr>
<tr id="t2016-10-20T12:34:09"><th class="nick" style="background: #4d4d93">reibax</th><td class="text" style="color: #4d4d93">Thank you very much arkver, and rburton!</td><td class="time"><a href="#t2016-10-20T12:34:09" class="time">12:34</a></td></tr>
<tr id="t2016-10-20T12:37:02"><th class="nick" style="background: #539e9e">arkver</th><td class="text" style="color: #539e9e">btw, I think if you set your license to CLOSED you need to whitelist it in the local conf's LICENSE_FLAGS_WHITELIST = "CLOSED_pn"</td><td class="time"><a href="#t2016-10-20T12:37:02" class="time">12:37</a></td></tr>
<tr id="t2016-10-20T12:39:24"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">you don't need to whitelist closed</td><td class="time"><a href="#t2016-10-20T12:39:24" class="time">12:39</a></td></tr>
<tr id="t2016-10-20T12:40:52"><th class="nick" style="background: #539e9e">arkver</th><td class="text" style="color: #539e9e">ok, odd. I'll retry my build.</td><td class="time"><a href="#t2016-10-20T12:40:52" class="time">12:40</a></td></tr>
<tr id="t2016-10-20T12:43:43"><th class="nick" style="background: #539e9e">arkver</th><td class="text" style="color: #539e9e">right enough. Wonder why I ended up with a whitelist in my conf. Can't remember.</td><td class="time"><a href="#t2016-10-20T12:43:43" class="time">12:43</a></td></tr>
<tr id="t2016-10-20T13:04:04"><td class="part" colspan="2">*** jku_ &lt;jku_!jku@nat/intel/x-umvcwiownaxvlvdc&gt; has left #yocto</td><td><a href="#t2016-10-20T13:04:04" class="time">13:04</a></td></tr>
<tr id="t2016-10-20T13:06:17"><th class="nick" style="background: #5959a9">Kukos</th><td class="text" style="color: #5959a9">Hi, I have a little problem with adding user to image. In image.bb I add EXTRA_USERS_PARAMS&nbsp;&nbsp;= "useradd --password `openssl passwd my_password` --non-unique --uid my_UID --gid my_GUI ftp;" because I need another user for ftp, but Sometimes I have error that during adduser ftp user exists. How to fix it ?</td><td class="time"><a href="#t2016-10-20T13:06:17" class="time">13:06</a></td></tr>
<tr id="t2016-10-20T13:31:51"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">Is @base_contains('PACKAGECONFIG'... the only way to add to RDEPENDS?</td><td class="time"><a href="#t2016-10-20T13:31:51" class="time">13:31</a></td></tr>
<tr id="t2016-10-20T13:42:36"><th class="nick" style="background: #b15db1">simonl</th><td class="text" style="color: #b15db1">can a postinst script define a function? I've tried but it seems bitbake interprets the ending } as the end of the postinst script instead of the end of the function definition. Is there some trick to it?</td><td class="time"><a href="#t2016-10-20T13:42:36" class="time">13:42</a></td></tr>
<tr id="t2016-10-20T13:43:17"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">sveinse: the forth argument of the packageconfig flag is something to add to RDEPENDS_${PN}.&nbsp;&nbsp;you only need to do base_contains() if you want to add rdepends to other packages.</td><td class="time"><a href="#t2016-10-20T13:43:17" class="time">13:43</a></td></tr>
<tr id="t2016-10-20T13:45:10"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">rburton: yes, but I belive it does not aid if there are multiple PACKAGES, right?</td><td class="time"><a href="#t2016-10-20T13:45:10" class="time">13:45</a></td></tr>
<tr id="t2016-10-20T13:46:11"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">...which is what you're saying essentially. thanks.</td><td class="time"><a href="#t2016-10-20T13:46:11" class="time">13:46</a></td></tr>
<tr id="t2016-10-20T13:48:13"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">there is almost always multiple packages but you *need* to say what package rdepends are for, so packageconfig assumes PN</td><td class="time"><a href="#t2016-10-20T13:48:13" class="time">13:48</a></td></tr>
<tr id="t2016-10-20T13:48:32"><th class="nick" style="background: #5959a9">Kukos</th><td class="text" style="color: #5959a9">Can I add any flag to useradd that if user exist function do nothing and exit with 0 ?</td><td class="time"><a href="#t2016-10-20T13:48:32" class="time">13:48</a></td></tr>
<tr id="t2016-10-20T14:06:27"><th class="nick" style="background: #b15db1">simonl</th><td class="text" style="color: #b15db1">Example of what I would like to do:</td><td class="time"><a href="#t2016-10-20T14:06:27" class="time">14:06</a></td></tr>
<tr id="t2016-10-20T14:07:15"><th class="nick" style="background: #b15db1">simonl</th><td class="text" style="color: #b15db1"><a href="https://www.irccloud.com/pastebin/awhowbLp/" rel="nofollow">https://www.irccloud.com/pastebin/awhowbLp/</a></td><td class="time"><a href="#t2016-10-20T14:07:15" class="time">14:07</a></td></tr>
<tr id="t2016-10-20T14:08:12"><th class="nick" style="background: #b15db1">simonl</th><td class="text" style="color: #b15db1">but bitbake errors out: ERROR: ParseError at /.../package.bb:76: unparsed line: 'somecommand || die "failed to do something"'</td><td class="time"><a href="#t2016-10-20T14:08:12" class="time">14:08</a></td></tr>
<tr id="t2016-10-20T14:10:13"><th class="nick" style="background: #b15db1">simonl</th><td class="text" style="color: #b15db1">real script is a bit more complicated of course, which is why die() would be useful. Any hints? Maybe I have to install an actual script and run that?</td><td class="time"><a href="#t2016-10-20T14:10:13" class="time">14:10</a></td></tr>
<tr id="t2016-10-20T14:13:04"><th class="nick" style="background: #539e9e">arkver</th><td class="text" style="color: #539e9e">Use a python def die : maybe?</td><td class="time"><a href="#t2016-10-20T14:13:04" class="time">14:13</a></td></tr>
<tr id="t2016-10-20T14:21:10"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">simonl: i'd file a bug for bitbake but i wouldn't be surprised if using \{ worked for the function definition</td><td class="time"><a href="#t2016-10-20T14:21:10" class="time">14:21</a></td></tr>
<tr id="t2016-10-20T14:25:30"><th class="nick" style="background: #539e9e">arkver</th><td class="text" style="color: #539e9e">simonl: This (<a href="http://docs.openembedded.org/usermanual/usermanual.html#recipes_syntax" rel="nofollow">http://docs.openembedded.org/usermanual/usermanual.html#recipes_syntax</a>) seems to imply you can define your new die function outside the other function and just call it as needed.</td><td class="time"><a href="#t2016-10-20T14:25:30" class="time">14:25</a></td></tr>
<tr id="t2016-10-20T14:26:41"><th class="nick" style="background: #b15db1">simonl</th><td class="text" style="color: #b15db1">arkver: I had to read up on python functions and then I stumbled on that myself. Trying it out now. I didn't expect bitbake to be that sophisticated (assuming it works)</td><td class="time"><a href="#t2016-10-20T14:26:41" class="time">14:26</a></td></tr>
<tr id="t2016-10-20T14:32:06"><th class="nick" style="background: #b15db1">simonl</th><td class="text" style="color: #b15db1">arkver: hmm it doesn't magically include the definition in the script... I guess for scripts that run during the build process it will be available in the environment, maybe?</td><td class="time"><a href="#t2016-10-20T14:32:06" class="time">14:32</a></td></tr>
<tr id="t2016-10-20T14:32:51"><th class="nick" style="background: #b15db1">simonl</th><td class="text" style="color: #b15db1">rburton: \} and \{ in the definition of die() both result in errors still...</td><td class="time"><a href="#t2016-10-20T14:32:51" class="time">14:32</a></td></tr>
<tr id="t2016-10-20T15:02:51"><th class="nick" style="background: #539e9e">arkver</th><td class="text" style="color: #539e9e"><a href="http://pastebin.com/TbVgtc2t" rel="nofollow">http://pastebin.com/TbVgtc2t</a></td><td class="time"><a href="#t2016-10-20T15:02:51" class="time">15:02</a></td></tr>
<tr id="t2016-10-20T15:02:56"><th class="nick" style="background: #539e9e">arkver</th><td class="text" style="color: #539e9e">Works for me?</td><td class="time"><a href="#t2016-10-20T15:02:56" class="time">15:02</a></td></tr>
<tr id="t2016-10-20T15:04:12"><th class="nick" style="background: #539e9e">arkver</th><td class="text" style="color: #539e9e">Maybe I'm misunderstanding what you're trying to do. :)</td><td class="time"><a href="#t2016-10-20T15:04:12" class="time">15:04</a></td></tr>
<tr id="t2016-10-20T15:06:30"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">arkver: doesn't work like that for postinsts though</td><td class="time"><a href="#t2016-10-20T15:06:30" class="time">15:06</a></td></tr>
<tr id="t2016-10-20T15:06:44"><th class="nick" style="background: #539e9e">arkver</th><td class="text" style="color: #539e9e">ok</td><td class="time"><a href="#t2016-10-20T15:06:44" class="time">15:06</a></td></tr>
<tr id="t2016-10-20T15:07:11"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">(as they just take the pkg_postinst value and put it in the package, no following of functional dependencies afaik)</td><td class="time"><a href="#t2016-10-20T15:07:11" class="time">15:07</a></td></tr>
<tr id="t2016-10-20T15:08:17"><th class="nick" style="background: #539e9e">arkver</th><td class="text" style="color: #539e9e">ok, I misunderstood what he was trying to do.</td><td class="time"><a href="#t2016-10-20T15:08:17" class="time">15:08</a></td></tr>
<tr id="t2016-10-20T15:10:35"><th class="nick" style="background: #539e9e">arkver</th><td class="text" style="color: #539e9e">So a python func def won't help as this is a shell script and it's (as you say) BB's script parser not handling escaped {} that needs fixed.</td><td class="time"><a href="#t2016-10-20T15:10:35" class="time">15:10</a></td></tr>
<tr id="t2016-10-20T15:11:35"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">bitbake will only pick up a } if it's on its own at the beginning of a line. anything not indented at all will be a syntax error, a bitbake function's contents must be indented</td><td class="time"><a href="#t2016-10-20T15:11:35" class="time">15:11</a></td></tr>
<tr id="t2016-10-20T15:11:42"><td class="action" colspan="2">* kergoth yawns</td><td><a href="#t2016-10-20T15:11:42" class="time">15:11</a></td></tr>
<tr id="t2016-10-20T15:20:25"><td class="action" colspan="2">* armpit sees "yawns" are trending</td><td><a href="#t2016-10-20T15:20:25" class="time">15:20</a></td></tr>
<tr id="t2016-10-20T15:37:07"><td class="part" colspan="2">*** maxin &lt;maxin!~maxin@37-219-15-138.nat.bb.dnainternet.fi&gt; has left #yocto</td><td><a href="#t2016-10-20T15:37:07" class="time">15:37</a></td></tr>
<tr id="t2016-10-20T15:52:52"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">How can I fetch from a hg SRC_URI that requires authentication? mercurial stops at "http authorization required but program used in non-interactive mode"</td><td class="time"><a href="#t2016-10-20T15:52:52" class="time">15:52</a></td></tr>
<tr id="t2016-10-20T15:53:05"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">any ideas?</td><td class="time"><a href="#t2016-10-20T15:53:05" class="time">15:53</a></td></tr>
<tr id="t2016-10-20T15:55:03"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">apparently the yocto/bb env overrides the user's env, and as such any hg settings does not seem to apply, such as auth settings</td><td class="time"><a href="#t2016-10-20T15:55:03" class="time">15:55</a></td></tr>
<tr id="t2016-10-20T15:55:21"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">How is this managed with git?</td><td class="time"><a href="#t2016-10-20T15:55:21" class="time">15:55</a></td></tr>
<tr id="t2016-10-20T15:57:18"><th class="nick" style="background: #b86161">moto-timo</th><td class="text" style="color: #b86161">sveinse: <a href="https://lists.yoctoproject.org/pipermail/yocto/2014-April/019136.html" rel="nofollow">https://lists.yoctoproject.org/pipermail/yocto/2014-April/019136.html</a></td><td class="time"><a href="#t2016-10-20T15:57:18" class="time">15:57</a></td></tr>
<tr id="t2016-10-20T15:58:44"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">moto-timo: thanks. yet, I don't really want to hardcode any username. this is up to the user running the build, not the recipe</td><td class="time"><a href="#t2016-10-20T15:58:44" class="time">15:58</a></td></tr>
<tr id="t2016-10-20T16:02:31"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2016-10-20T16:02:31" class="time">16:02</a></td></tr>
<tr id="t2016-10-20T16:03:46"><th class="nick" style="background: #b86161">moto-timo</th><td class="text" style="color: #b86161">sveninse: set an environment variable that can be passed in on the command line?</td><td class="time"><a href="#t2016-10-20T16:03:46" class="time">16:03</a></td></tr>
<tr id="t2016-10-20T16:04:35"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">embed username/password in SRC_URI as variables that your user has to set in local.conf?</td><td class="time"><a href="#t2016-10-20T16:04:35" class="time">16:04</a></td></tr>
<tr id="t2016-10-20T16:04:54"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">ie ${CORPORATE_USERNAME} etc</td><td class="time"><a href="#t2016-10-20T16:04:54" class="time">16:04</a></td></tr>
<tr id="t2016-10-20T16:05:50"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">and SRC_URI=hg://${CORPORATE_USERNAME}:${CORPORATE_PASSWORD}…. might work</td><td class="time"><a href="#t2016-10-20T16:05:50" class="time">16:05</a></td></tr>
<tr id="t2016-10-20T16:06:08"><th class="nick" style="background: #b86161">moto-timo</th><td class="text" style="color: #b86161">rburton: even better :)</td><td class="time"><a href="#t2016-10-20T16:06:08" class="time">16:06</a></td></tr>
<tr id="t2016-10-20T16:08:07"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">yes, probably. but *gross*, this has horrible security</td><td class="time"><a href="#t2016-10-20T16:08:07" class="time">16:08</a></td></tr>
<tr id="t2016-10-20T16:11:07"><th class="nick" style="background: #b86161">moto-timo</th><td class="text" style="color: #b86161">then use kerberos or ssh keys that operate outside of OE</td><td class="time"><a href="#t2016-10-20T16:11:07" class="time">16:11</a></td></tr>
<tr id="t2016-10-20T16:11:52"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">sveinse: so write a function to extract the password from a secure keystore and store it in secure memory (not the bitbake data store) until the fetch happens and then somehow pass it to the fetcher without it appearing in ps or hg's memory</td><td class="time"><a href="#t2016-10-20T16:11:52" class="time">16:11</a></td></tr>
<tr id="t2016-10-20T16:12:41"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">we've got a method that works with the GIT_ASKPASS, I don't know if hg does that or not..</td><td class="time"><a href="#t2016-10-20T16:12:41" class="time">16:12</a></td></tr>
<tr id="t2016-10-20T16:13:01"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">basically the easy fix is to make it not bitbake's problem - kerberos / askpass / ssh / etc</td><td class="time"><a href="#t2016-10-20T16:13:01" class="time">16:13</a></td></tr>
<tr id="t2016-10-20T16:13:06"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">I've been working to get that support open sourced.. somewhat for more eyes to review it, but cause I think it would be generally useful..</td><td class="time"><a href="#t2016-10-20T16:13:06" class="time">16:13</a></td></tr>
<tr id="t2016-10-20T16:13:13"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">ASKPASS really is the right approach from what ic an see here..</td><td class="time"><a href="#t2016-10-20T16:13:13" class="time">16:13</a></td></tr>
<tr id="t2016-10-20T16:13:24"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">wget was enhanced to support askpass as well..</td><td class="time"><a href="#t2016-10-20T16:13:24" class="time">16:13</a></td></tr>
<tr id="t2016-10-20T16:13:35"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">(not sure if that version of wget is in YP 2.2 though, but it is upstream)</td><td class="time"><a href="#t2016-10-20T16:13:35" class="time">16:13</a></td></tr>
<tr id="t2016-10-20T16:15:24"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">actually it looks like we have already open sourced the code..</td><td class="time"><a href="#t2016-10-20T16:15:24" class="time">16:15</a></td></tr>
<tr id="t2016-10-20T16:15:35"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62"><a href="https://github.com/WindRiver-OpenSourceLabs/anspass" rel="nofollow">https://github.com/WindRiver-OpenSourceLabs/anspass</a></td><td class="time"><a href="#t2016-10-20T16:15:35" class="time">16:15</a></td></tr>
<tr id="t2016-10-20T16:15:59"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">program uses the ASKPASS mechanism and a key/value store to handle things..</td><td class="time"><a href="#t2016-10-20T16:15:59" class="time">16:15</a></td></tr>
<tr id="t2016-10-20T16:16:21"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">it has a master password for the store (optional) to assist in securing things, but nothing is left in plain text (say like a .netrc would be)</td><td class="time"><a href="#t2016-10-20T16:16:21" class="time">16:16</a></td></tr>
<tr id="t2016-10-20T16:16:48"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">hg is normally (via ~/.hgrc) to use mercurial-keyring, a gnome-keyring-ish thing. And the repo I'm trying to access from my recipe, has already been put into the keyring. So the problem is that hg is invoked in an environment not being able to use to or access the user's setting or auth</td><td class="time"><a href="#t2016-10-20T16:16:48" class="time">16:16</a></td></tr>
<tr id="t2016-10-20T16:17:19"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">then you may hvae to change the setting for hg in the bitbake.conf file (or add one) so the right environment is present</td><td class="time"><a href="#t2016-10-20T16:17:19" class="time">16:17</a></td></tr>
<tr id="t2016-10-20T16:17:56"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">I dont really see the different from hg's keyring and askpass. They both need interactivity for asking for password and/or some user environment to store their previous approved auths.</td><td class="time"><a href="#t2016-10-20T16:17:56" class="time">16:17</a></td></tr>
<tr id="t2016-10-20T16:18:24"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">anspass asks for an unlock password -before- you run bitbake.. and then you use the replied token to set an environment variable for everything to talk..</td><td class="time"><a href="#t2016-10-20T16:18:24" class="time">16:18</a></td></tr>
<tr id="t2016-10-20T16:18:35"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">anspass does require wget, git, and other things to pass that specific token in the environment</td><td class="time"><a href="#t2016-10-20T16:18:35" class="time">16:18</a></td></tr>
<tr id="t2016-10-20T16:18:55"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">keyring can do the same thing, afaik. the python keyring module is quite capable, and can interact with any number of password stores / keyrings</td><td class="time"><a href="#t2016-10-20T16:18:55" class="time">16:18</a></td></tr>
<tr id="t2016-10-20T16:19:02"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">for 'hg', there is probably little to no difference in behavior.. but it become specific to that one item</td><td class="time"><a href="#t2016-10-20T16:19:02" class="time">16:19</a></td></tr>
<tr id="t2016-10-20T16:19:04"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">right, so that is how it is done for git auth in yocto?</td><td class="time"><a href="#t2016-10-20T16:19:04" class="time">16:19</a></td></tr>
<tr id="t2016-10-20T16:19:05"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4"><a href="https://pypi.python.org/pypi/keyring" rel="nofollow">https://pypi.python.org/pypi/keyring</a></td><td class="time"><a href="#t2016-10-20T16:19:05" class="time">16:19</a></td></tr>
<tr id="t2016-10-20T16:19:28"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">anspass uses the ASKPASS API, which works with wget, curl, git, and other common systems.. so it's more then just one particular use</td><td class="time"><a href="#t2016-10-20T16:19:28" class="time">16:19</a></td></tr>
<tr id="t2016-10-20T16:19:43"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">YP does not do anything specific for git authentication</td><td class="time"><a href="#t2016-10-20T16:19:43" class="time">16:19</a></td></tr>
<tr id="t2016-10-20T16:20:01"><td class="part" colspan="2">*** muppe &lt;muppe!~Marko@ip050-115.seclan.com&gt; has left #yocto</td><td><a href="#t2016-10-20T16:20:01" class="time">16:20</a></td></tr>
<tr id="t2016-10-20T16:20:16"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">sveinse: if hg's keyring thingy needs magic env vars add their name to BB_ENV_EXTRAWHITE in your environment so they get preserved</td><td class="time"><a href="#t2016-10-20T16:20:16" class="time">16:20</a></td></tr>
<tr id="t2016-10-20T16:20:42"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">sveinse: (see scripts/oe-buildenv-internal which already preserves the ssh agent vars)</td><td class="time"><a href="#t2016-10-20T16:20:42" class="time">16:20</a></td></tr>
<tr id="t2016-10-20T16:22:56"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">rburton: I'll have to check how hg handles auth, but I'll look into it. Don't know if its env (doubt it) or via some python.... ahh, yocto builds its own mercurial client. Thus it needs the keyring extension installed to be able to handle pre-recorded auth. I'll follow this lead...</td><td class="time"><a href="#t2016-10-20T16:22:56" class="time">16:22</a></td></tr>
<tr id="t2016-10-20T16:23:43"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">you can prevent YP from building it's own hg client by doing an assumed_provided</td><td class="time"><a href="#t2016-10-20T16:23:43" class="time">16:23</a></td></tr>
<tr id="t2016-10-20T16:23:56"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">it builds it because we have found a lot of hosts do not have hg clients by default</td><td class="time"><a href="#t2016-10-20T16:23:56" class="time">16:23</a></td></tr>
<tr id="t2016-10-20T16:23:56"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">sveinse: i'd be surprised if you couldn't add mercurial-native to ASSUME_PROVIDED to make it use the host one</td><td class="time"><a href="#t2016-10-20T16:23:56" class="time">16:23</a></td></tr>
<tr id="t2016-10-20T16:24:15"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">(just remember to wipe the sysroot once you do that so it doesn't continue to use the one in there)</td><td class="time"><a href="#t2016-10-20T16:24:15" class="time">16:24</a></td></tr>
<tr id="t2016-10-20T16:24:35"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">ASSUME_PROVIDED+="mercurial-native" in local.conf, right?</td><td class="time"><a href="#t2016-10-20T16:24:35" class="time">16:24</a></td></tr>
<tr id="t2016-10-20T16:24:47"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">yeah</td><td class="time"><a href="#t2016-10-20T16:24:47" class="time">16:24</a></td></tr>
<tr id="t2016-10-20T16:24:53"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">thanks guys!</td><td class="time"><a href="#t2016-10-20T16:24:53" class="time">16:24</a></td></tr>
<tr id="t2016-10-20T16:30:40"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">so i was thinking about creating a Planet Yocto or similar, if anyone actively blogs about relevant stuff feel free to ping me your URL</td><td class="time"><a href="#t2016-10-20T16:30:40" class="time">16:30</a></td></tr>
<tr id="t2016-10-20T16:31:15"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">i really should start blogging about relevant stuff, but don't yet :)</td><td class="time"><a href="#t2016-10-20T16:31:15" class="time">16:31</a></td></tr>
<tr id="t2016-10-20T16:31:18"><td class="action" colspan="2">* kergoth ponders</td><td><a href="#t2016-10-20T16:31:18" class="time">16:31</a></td></tr>
<tr id="t2016-10-20T16:31:29"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">yeah same here</td><td class="time"><a href="#t2016-10-20T16:31:29" class="time">16:31</a></td></tr>
<tr id="t2016-10-20T16:33:11"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">basically rebirthing planet linuxtogo but with people actually still here</td><td class="time"><a href="#t2016-10-20T16:33:11" class="time">16:33</a></td></tr>
<tr id="t2016-10-20T16:33:31"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">sveinse: suppose you could probably also add python-keyring-native as a dep of mercurial-native to ensure it's in the native python sysroot for it to use</td><td class="time"><a href="#t2016-10-20T16:33:31" class="time">16:33</a></td></tr>
<tr id="t2016-10-20T16:34:46"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">additionally, mercurial must also access ~/.hgrc to be able to read identity settings</td><td class="time"><a href="#t2016-10-20T16:34:46" class="time">16:34</a></td></tr>
<tr id="t2016-10-20T16:41:06"><td class="nickchange" colspan="2">*** jbrianceau is now known as jbrianceau_away</td><td><a href="#t2016-10-20T16:41:06" class="time">16:41</a></td></tr>
<tr id="t2016-10-20T16:44:35"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">update: the yocto mercurial client /does/ indeed read ~/.hgrc, as the env HOME is defined prior to running hg clone. And it seems to not protest at the enabling of the mercurialkeyring setting, which in the hgrc file. So next step is to figure what mercurial keyring indeed needs</td><td class="time"><a href="#t2016-10-20T16:44:35" class="time">16:44</a></td></tr>
<tr id="t2016-10-20T16:45:12"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">must have some magic env var</td><td class="time"><a href="#t2016-10-20T16:45:12" class="time">16:45</a></td></tr>
<tr id="t2016-10-20T18:57:23"><th class="nick" style="background: #6464bf">nikodem</th><td class="text" style="color: #6464bf">Hello! Why there is no support for using built-in Buildbot steps in buildset-config file? (ex. ShellCommand). This would give us the full power of Buildbot and Autobuilder's elegance making the latter powerful general purpose build system.</td><td class="time"><a href="#t2016-10-20T18:57:23" class="time">18:57</a></td></tr>
<tr id="t2016-10-20T18:57:24"><th class="nick" style="background: #6464bf">nikodem</th><td class="text" style="color: #6464bf">Hello! Why there is no support for using built-in Buildbot steps in buildset-config file? (ex. ShellCommand). This would give us the full power of Buildbot and Autobuilder's elegance making the latter powerful general purpose build system.</td><td class="time"><a href="#t2016-10-20T18:57:24" class="time">18:57</a></td></tr>
<tr id="t2016-10-20T18:57:46"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">I have no clue what you're even talking about</td><td class="time"><a href="#t2016-10-20T18:57:46" class="time">18:57</a></td></tr>
<tr id="t2016-10-20T18:57:52"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">maybe someone else does</td><td class="time"><a href="#t2016-10-20T18:57:52" class="time">18:57</a></td></tr>
<tr id="t2016-10-20T18:58:37"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">yocto's buildsystem uses bitbake, which is a tool. how you happen to run it from your autobuilder of choice is on you</td><td class="time"><a href="#t2016-10-20T18:58:37" class="time">18:58</a></td></tr>
<tr id="t2016-10-20T19:02:14"><th class="nick" style="background: #6464bf">nikodem</th><td class="text" style="color: #6464bf">I'm talking about yocto-autobuilder which uses Buildbot under the hood, but doesn't support Buildbot's built-in classes inside its scripts</td><td class="time"><a href="#t2016-10-20T19:02:14" class="time">19:02</a></td></tr>
<tr id="t2016-10-20T19:04:24"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">if you're reporting an issue with a project, i.e. yocto-autobuilder, it helps to actually mention it :)</td><td class="time"><a href="#t2016-10-20T19:04:24" class="time">19:04</a></td></tr>
<tr id="t2016-10-20T19:04:31"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">i'll let the autobuilder folks respond</td><td class="time"><a href="#t2016-10-20T19:04:31" class="time">19:04</a></td></tr>
<tr id="t2016-10-20T19:23:24"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">I think I found it. hg needs the env var DBUS_SESSION_BUS_ADDRESS to be able to get to the proper keyring. I've found hg.py in the sources, but from what file is this called? I want to see if there are any vars that I can configure env not to erase, or as a last resort, modify the actual env command.</td><td class="time"><a href="#t2016-10-20T19:23:24" class="time">19:23</a></td></tr>
<tr id="t2016-10-20T19:43:24"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">sveinse: see runfetchcmd() in fetch2/__init__.py</td><td class="time"><a href="#t2016-10-20T19:43:24" class="time">19:43</a></td></tr>
<tr id="t2016-10-20T20:15:29"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">Can I get a variable from env and set as a variable in local.conf?</td><td class="time"><a href="#t2016-10-20T20:15:29" class="time">20:15</a></td></tr>
<tr id="t2016-10-20T20:18:36"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">runfetchcmd() has a exportvars list which is seems to be what I need. However this list fetches its contents from d.getVar(), which is not the environment. So what would be the best way to copy env var DBUS_SESSION_BUS_ADDRESS into a bb variable?</td><td class="time"><a href="#t2016-10-20T20:18:36" class="time">20:18</a></td></tr>
<tr id="t2016-10-20T20:18:49"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">^ kergoth</td><td class="time"><a href="#t2016-10-20T20:18:49" class="time">20:18</a></td></tr>
<tr id="t2016-10-20T20:24:32"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">sveinse: cherry-pick the commit from bitbake master that adds DBUS_SESSION_BUS_ADDRESS? :)</td><td class="time"><a href="#t2016-10-20T20:24:32" class="time">20:24</a></td></tr>
<tr id="t2016-10-20T20:25:12"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">whoever wrote 20ad1ea87712d042bd5d89ce1957793f7ff71da0 was clearly awesome</td><td class="time"><a href="#t2016-10-20T20:25:12" class="time">20:25</a></td></tr>
<tr id="t2016-10-20T20:34:09"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">rburton: I wonder who that is....</td><td class="time"><a href="#t2016-10-20T20:34:09" class="time">20:34</a></td></tr>
<tr id="t2016-10-20T20:35:02"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">rburton: I actually made exactly the same patch, just missing the "or d.getVar("BB_ORIGENV", False).getVar(var, True)" statement :D</td><td class="time"><a href="#t2016-10-20T20:35:02" class="time">20:35</a></td></tr>
<tr id="t2016-10-20T20:35:04"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">thanks!</td><td class="time"><a href="#t2016-10-20T20:35:04" class="time">20:35</a></td></tr>
<tr id="t2016-10-20T20:51:17"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">sveinse: you'll need that bit</td><td class="time"><a href="#t2016-10-20T20:51:17" class="time">20:51</a></td></tr>
<tr id="t2016-10-20T20:54:08"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">rburton: and now it works!</td><td class="time"><a href="#t2016-10-20T20:54:08" class="time">20:54</a></td></tr>
<tr id="t2016-10-20T20:54:16"><td class="action" colspan="2">* sveinse very happy</td><td><a href="#t2016-10-20T20:54:16" class="time">20:54</a></td></tr>
<tr id="t2016-10-20T20:54:48"><th class="nick" style="background: #adad5b">sveinse</th><td class="text" style="color: #adad5b">(this is now you leave for the evening, NOT saying to yourself "oh, by the way, let me test one more thing")</td><td class="time"><a href="#t2016-10-20T20:54:48" class="time">20:54</a></td></tr>
<tr id="t2016-10-20T22:59:21"><td class="other" colspan="2">-YoctoAutoBuilder- build #74 of nightly-no-x11 is complete: Failure [failed BuildImages]  Build details are at <a href="http://localhost:8010/builders/nightly-no-x11/builds/74" rel="nofollow">http://localhost:8010/builders/nightly-no-x11/builds/74</a></td><td><a href="#t2016-10-20T22:59:21" class="time">22:59</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2016-10-19.log.html">&#171; Wednesday, 2016-10-19</a> <a href="index.html">Index</a> <a href="%23yocto.2016-10-21.log.html">Friday, 2016-10-21 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
