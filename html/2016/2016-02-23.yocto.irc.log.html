<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Tuesday, 2016-02-23</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Tuesday, 2016-02-23</h1>
<div class="navigation"> <a href="%23yocto.2016-02-22.log.html">&#171; Monday, 2016-02-22</a> <a href="index.html">Index</a> <a href="%23yocto.2016-02-24.log.html">Wednesday, 2016-02-24 &#187;</a> </div>
<table class="irclog">
<tr id="t2016-02-23T00:16:54"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">seebs, fray: in which case I'll retry my logging but tweaked to hopefully provide better data this time</td><td class="time"><a href="#t2016-02-23T00:16:54" class="time">00:16</a></td></tr>
<tr id="t2016-02-23T00:23:33"><td class="other" colspan="2">-YoctoAutoBuilder- build #645 of nightly-fsl-ppc is complete: Failure [failed BuildImages]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-fsl-ppc/builds/645" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-fsl-ppc/builds/645</a></td><td><a href="#t2016-02-23T00:23:33" class="time">00:23</a></td></tr>
<tr id="t2016-02-23T05:17:58"><td class="nickchange" colspan="2">*** Marius is now known as Guest80178</td><td><a href="#t2016-02-23T05:17:58" class="time">05:17</a></td></tr>
<tr id="t2016-02-23T05:32:59"><td class="other" colspan="2">-YoctoAutoBuilder- build #677 of nightly-x86-64 is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64/builds/677" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64/builds/677</a></td><td><a href="#t2016-02-23T05:32:59" class="time">05:32</a></td></tr>
<tr id="t2016-02-23T06:26:04"><td class="other" colspan="2">-YoctoAutoBuilder- build #656 of nightly-qa-systemd is complete: Failure [failed Running Sanity Tests Running Sanity Tests_2]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-qa-systemd/builds/656" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-qa-systemd/builds/656</a></td><td><a href="#t2016-02-23T06:26:04" class="time">06:26</a></td></tr>
<tr id="t2016-02-23T07:39:37"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">Hi everyone. I have followe step by step what to do to compile dey-image-graphical but as soon as I start I get an error : OE-core's config sanity checker detected a potential misconfiguration,,,,</td><td class="time"><a href="#t2016-02-23T07:39:37" class="time">07:39</a></td></tr>
<tr id="t2016-02-23T07:39:47"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">Its the third time I tried this</td><td class="time"><a href="#t2016-02-23T07:39:47" class="time">07:39</a></td></tr>
<tr id="t2016-02-23T07:40:57"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">ive added this to conf/local.conf</td><td class="time"><a href="#t2016-02-23T07:40:57" class="time">07:40</a></td></tr>
<tr id="t2016-02-23T07:40:58"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">CONNECTIVITY_CHECK_URIS = ""</td><td class="time"><a href="#t2016-02-23T07:40:58" class="time">07:40</a></td></tr>
<tr id="t2016-02-23T07:47:37"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">cart_man: care to point us at the guide to revisit it?</td><td class="time"><a href="#t2016-02-23T07:47:37" class="time">07:47</a></td></tr>
<tr id="t2016-02-23T07:49:06"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">LetoThe2nd: Its a guide from Digi ... its on PDF form but I will try and get a link somewhere in it</td><td class="time"><a href="#t2016-02-23T07:49:06" class="time">07:49</a></td></tr>
<tr id="t2016-02-23T07:50:46"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">LetoThe2nd: Which Linux distro was the most thoroughly tested to build Yocto on?</td><td class="time"><a href="#t2016-02-23T07:50:46" class="time">07:50</a></td></tr>
<tr id="t2016-02-23T07:51:19"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">cart_man: probably ubuntu or something red hat</td><td class="time"><a href="#t2016-02-23T07:51:19" class="time">07:51</a></td></tr>
<tr id="t2016-02-23T07:51:51"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">LetoThe2nd: I am building Ubuntu and I get warnings that its not well tested</td><td class="time"><a href="#t2016-02-23T07:51:51" class="time">07:51</a></td></tr>
<tr id="t2016-02-23T07:51:56"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">cart_man: but i doubt its the host platform, it sounds more like some whacked custom layer.</td><td class="time"><a href="#t2016-02-23T07:51:56" class="time">07:51</a></td></tr>
<tr id="t2016-02-23T07:52:16"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">cart_man: the warnings show if you are using a release that is not officially validated.</td><td class="time"><a href="#t2016-02-23T07:52:16" class="time">07:52</a></td></tr>
<tr id="t2016-02-23T07:52:18"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">Well its for the ConnectCore 6 IMX board. They do have a layer yes</td><td class="time"><a href="#t2016-02-23T07:52:18" class="time">07:52</a></td></tr>
<tr id="t2016-02-23T07:53:42"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">LetoThe2nd:&nbsp;&nbsp;Repo - &gt;&nbsp;&nbsp;repo init -u <a href="https://github.com/digidotcom/dey-manifest.git" rel="nofollow">https://github.com/digidotcom/dey-manifest.git</a> -b refs/tags/1.6.5</td><td class="time"><a href="#t2016-02-23T07:53:42" class="time">07:53</a></td></tr>
<tr id="t2016-02-23T07:54:05"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">cart_man: just show me the guide, please.</td><td class="time"><a href="#t2016-02-23T07:54:05" class="time">07:54</a></td></tr>
<tr id="t2016-02-23T07:54:53"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">cart_man: another option would be to properly pastebin the full error message, not just "detected a potential misconfiguration,,,,"</td><td class="time"><a href="#t2016-02-23T07:54:53" class="time">07:54</a></td></tr>
<tr id="t2016-02-23T07:55:00"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">usually OE is quite verbose there.</td><td class="time"><a href="#t2016-02-23T07:55:00" class="time">07:55</a></td></tr>
<tr id="t2016-02-23T07:57:02"><td class="other" colspan="2">-YoctoAutoBuilder- build #646 of nightly-fsl-ppc is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-fsl-ppc/builds/646" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-fsl-ppc/builds/646</a></td><td><a href="#t2016-02-23T07:57:02" class="time">07:57</a></td></tr>
<tr id="t2016-02-23T07:57:08"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">LetoThe2nd: Ok I will do that... thing is its PDF form so I can either give you a dropbox link or email</td><td class="time"><a href="#t2016-02-23T07:57:08" class="time">07:57</a></td></tr>
<tr id="t2016-02-23T07:57:41"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">cart_man: why can't you just drop it onto a free host? or copy the contents out?</td><td class="time"><a href="#t2016-02-23T07:57:41" class="time">07:57</a></td></tr>
<tr id="t2016-02-23T07:58:11"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">cart_man: or if that is all too complicated, just pastebin the full error log so people can see what failures you are facing?</td><td class="time"><a href="#t2016-02-23T07:58:11" class="time">07:58</a></td></tr>
<tr id="t2016-02-23T07:58:58"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e"><a href="http://pastebin.com/FQYbQWby" rel="nofollow">http://pastebin.com/FQYbQWby</a></td><td class="time"><a href="#t2016-02-23T07:58:58" class="time">07:58</a></td></tr>
<tr id="t2016-02-23T07:59:48"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">cart_man: well so whats the problem? read the error message, and find: "Please install the following missing utilities: makeinfo"</td><td class="time"><a href="#t2016-02-23T07:59:48" class="time">07:59</a></td></tr>
<tr id="t2016-02-23T07:59:53"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">LetoThe2nd: Take note that makeinfo and libsdl-native is installed</td><td class="time"><a href="#t2016-02-23T07:59:53" class="time">07:59</a></td></tr>
<tr id="t2016-02-23T08:00:01"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">No it is installed</td><td class="time"><a href="#t2016-02-23T08:00:01" class="time">08:00</a></td></tr>
<tr id="t2016-02-23T08:00:34"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">cart_man: and this is a vanilla 15.10, or whacked into some kind of container, weirdo environment or such?</td><td class="time"><a href="#t2016-02-23T08:00:34" class="time">08:00</a></td></tr>
<tr id="t2016-02-23T08:01:01"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">LetoThe2nd: Yip Ubuntu that I have installed in a VM just for Yocto Builds</td><td class="time"><a href="#t2016-02-23T08:01:01" class="time">08:01</a></td></tr>
<tr id="t2016-02-23T08:01:28"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">cart_man: OTOH its of course possible that 15.10 broke something. I'd give it a spin on 14.04, which is probably one of the most used host platforms.</td><td class="time"><a href="#t2016-02-23T08:01:28" class="time">08:01</a></td></tr>
<tr id="t2016-02-23T08:01:45"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">I however had to install libsdl1.2-dev instead of libsdl-native since it just did not find the package</td><td class="time"><a href="#t2016-02-23T08:01:45" class="time">08:01</a></td></tr>
<tr id="t2016-02-23T08:01:51"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">LetoThe2nd: Hmm ok cool will do that then</td><td class="time"><a href="#t2016-02-23T08:01:51" class="time">08:01</a></td></tr>
<tr id="t2016-02-23T08:02:30"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">mabye 15.10 tinkered with some paths or stuff, not impossible.</td><td class="time"><a href="#t2016-02-23T08:02:30" class="time">08:02</a></td></tr>
<tr id="t2016-02-23T08:02:40"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">care to report back after giving 14.04 a try?</td><td class="time"><a href="#t2016-02-23T08:02:40" class="time">08:02</a></td></tr>
<tr id="t2016-02-23T08:06:42"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">LetoThe2nd: No problem will do ! I have successfully compiled a Yocto version for a Beaglebone soo I know it works</td><td class="time"><a href="#t2016-02-23T08:06:42" class="time">08:06</a></td></tr>
<tr id="t2016-02-23T08:06:59"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">Just have to do it for the IMX board. WIll keep you updated</td><td class="time"><a href="#t2016-02-23T08:06:59" class="time">08:06</a></td></tr>
<tr id="t2016-02-23T08:07:25"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">thanks. its just that when we see that error again, we can maybe realte it to 15.10</td><td class="time"><a href="#t2016-02-23T08:07:25" class="time">08:07</a></td></tr>
<tr id="t2016-02-23T08:18:40"><td class="nickchange" colspan="2">*** jbrianceau_away is now known as jbrianceau</td><td><a href="#t2016-02-23T08:18:40" class="time">08:18</a></td></tr>
<tr id="t2016-02-23T09:23:27"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2016-02-23T09:23:27" class="time">09:23</a></td></tr>
<tr id="t2016-02-23T09:23:47"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">good morning</td><td class="time"><a href="#t2016-02-23T09:23:47" class="time">09:23</a></td></tr>
<tr id="t2016-02-23T09:37:09"><td class="other" colspan="2">-YoctoAutoBuilder- build #676 of nightly-x86-64-lsb is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64-lsb/builds/676" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64-lsb/builds/676</a></td><td><a href="#t2016-02-23T09:37:09" class="time">09:37</a></td></tr>
<tr id="t2016-02-23T10:10:19"><th class="nick" style="background: #488888">Jeena</th><td class="text" style="color: #488888">So we moved to Jethro and have massive problems while building on our build server which has 32 cores and runs 64 threeads in parallell. This did work without problems in fido, but now we only get a full build if we throttle it to 20 threads in the local.conf is this something known?</td><td class="time"><a href="#t2016-02-23T10:10:19" class="time">10:10</a></td></tr>
<tr id="t2016-02-23T10:39:53"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">Jeena, what are the exact messages you get?</td><td class="time"><a href="#t2016-02-23T10:39:53" class="time">10:39</a></td></tr>
<tr id="t2016-02-23T10:45:54"><th class="nick" style="background: #4b904b">Nilesh</th><td class="text" style="color: #4b904b">Hi , I got do_preconfigure) failed error, can some one help as to where i'm going wrong <a href="http://pastebin.com/XBGrqccp" rel="nofollow">http://pastebin.com/XBGrqccp</a></td><td class="time"><a href="#t2016-02-23T10:45:54" class="time">10:45</a></td></tr>
<tr id="t2016-02-23T10:46:29"><th class="nick" style="background: #4b904b">Nilesh</th><td class="text" style="color: #4b904b">its for /recipes-devtools/gcc/gcc-source_4.9.bb:</td><td class="time"><a href="#t2016-02-23T10:46:29" class="time">10:46</a></td></tr>
<tr id="t2016-02-23T11:08:54"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">LetoThe2nd: Ok so 14 gave no problems soo far... exact same steps followed . Only one failed Fetch attempt so far.</td><td class="time"><a href="#t2016-02-23T11:08:54" class="time">11:08</a></td></tr>
<tr id="t2016-02-23T11:09:34"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">cart_man: ah great, thanks! probably something in 15.10 pacakging changed, then.</td><td class="time"><a href="#t2016-02-23T11:09:34" class="time">11:09</a></td></tr>
<tr id="t2016-02-23T11:34:09"><th class="nick" style="background: #488888">Jeena</th><td class="text" style="color: #488888">Crofton, it breaks at different things every time we run it. We also kind of suspect that 32G of RAM could be not enough</td><td class="time"><a href="#t2016-02-23T11:34:09" class="time">11:34</a></td></tr>
<tr id="t2016-02-23T12:57:33"><td class="part" colspan="2">*** raykinsella78 &lt;raykinsella78!rkinsell@nat/intel/x-gpbwsmbvprudbknd&gt; has left #yocto</td><td><a href="#t2016-02-23T12:57:33" class="time">12:57</a></td></tr>
<tr id="t2016-02-23T13:31:23"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">Does the Yocto PCI driver work? Is there something I Should add to the build to enable it to work? What about USB3 ?</td><td class="time"><a href="#t2016-02-23T13:31:23" class="time">13:31</a></td></tr>
<tr id="t2016-02-23T13:32:10"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">LetoThe2nd: ^^</td><td class="time"><a href="#t2016-02-23T13:32:10" class="time">13:32</a></td></tr>
<tr id="t2016-02-23T13:40:17"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">Jeena, check the logs and see if you trip the OOM killer maybe</td><td class="time"><a href="#t2016-02-23T13:40:17" class="time">13:40</a></td></tr>
<tr id="t2016-02-23T13:40:36"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">Crofton|work: Me?</td><td class="time"><a href="#t2016-02-23T13:40:36" class="time">13:40</a></td></tr>
<tr id="t2016-02-23T13:40:40"><th class="nick" style="background: #42427e">cart_man</th><td class="text" style="color: #42427e">Oh nvm</td><td class="time"><a href="#t2016-02-23T13:40:40" class="time">13:40</a></td></tr>
<tr id="t2016-02-23T13:48:01"><th class="nick" style="background: #4d4d93">Anticom</th><td class="text" style="color: #4d4d93">Hi all. I'm fairly new to yocto and i was wondering, how to actually properly develop packages in a yocto based project. Can i just directly edit the sources in the yocto working tree once they're actually cloned from a git repo?</td><td class="time"><a href="#t2016-02-23T13:48:01" class="time">13:48</a></td></tr>
<tr id="t2016-02-23T13:48:33"><th class="nick" style="background: #4d4d93">Anticom</th><td class="text" style="color: #4d4d93">Or is it more common to actually checkout the repo to some other directory, edit it there and let yocto it fetch and build again?</td><td class="time"><a href="#t2016-02-23T13:48:33" class="time">13:48</a></td></tr>
<tr id="t2016-02-23T13:48:42"><th class="nick" style="background: #4d4d93">Anticom</th><td class="text" style="color: #4d4d93">fetch it*</td><td class="time"><a href="#t2016-02-23T13:48:42" class="time">13:48</a></td></tr>
<tr id="t2016-02-23T13:50:21"><th class="nick" style="background: #97974f">Ulfalizer</th><td class="text" style="color: #97974f">does yocto do something that disables the package repository (~/.cmake/packages/*) for cmake projects?</td><td class="time"><a href="#t2016-02-23T13:50:21" class="time">13:50</a></td></tr>
<tr id="t2016-02-23T13:50:54"><th class="nick" style="background: #97974f">Ulfalizer</th><td class="text" style="color: #97974f">find_package() doesn't seem to find packages from there</td><td class="time"><a href="#t2016-02-23T13:50:54" class="time">13:50</a></td></tr>
<tr id="t2016-02-23T13:51:21"><th class="nick" style="background: #97974f">Ulfalizer</th><td class="text" style="color: #97974f">and yeah, it's a bad idea to store stuff in ~ anyway</td><td class="time"><a href="#t2016-02-23T13:51:21" class="time">13:51</a></td></tr>
<tr id="t2016-02-23T13:51:31"><th class="nick" style="background: #97974f">Ulfalizer</th><td class="text" style="color: #97974f">i just want to understand the root cause of a failure i'm seeing</td><td class="time"><a href="#t2016-02-23T13:51:31" class="time">13:51</a></td></tr>
<tr id="t2016-02-23T13:51:56"><th class="nick" style="background: #488888">Jeena</th><td class="text" style="color: #488888">Crofton, yes it seems we really do, we don't have swap on this machine either</td><td class="time"><a href="#t2016-02-23T13:51:56" class="time">13:51</a></td></tr>
<tr id="t2016-02-23T13:52:18"><th class="nick" style="background: #9b519b">Ox4</th><td class="text" style="color: #9b519b">hello internet</td><td class="time"><a href="#t2016-02-23T13:52:18" class="time">13:52</a></td></tr>
<tr id="t2016-02-23T13:52:40"><th class="nick" style="background: #488888">Jeena</th><td class="text" style="color: #488888">I guess the easiest way to fix it is to order more ram, like 128G instead of just 32G</td><td class="time"><a href="#t2016-02-23T13:52:40" class="time">13:52</a></td></tr>
<tr id="t2016-02-23T13:52:54"><th class="nick" style="background: #9b519b">Ox4</th><td class="text" style="color: #9b519b">how to display target image in the bitbake help message?</td><td class="time"><a href="#t2016-02-23T13:52:54" class="time">13:52</a></td></tr>
<tr id="t2016-02-23T14:13:47"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">Jeena, or add swap. May only be peak times that need it. of course more RAM is always good, especially for hi thread counts</td><td class="time"><a href="#t2016-02-23T14:13:47" class="time">14:13</a></td></tr>
<tr id="t2016-02-23T14:26:34"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">Ulfalizer: yes, yocto does its very best not to find stuff in ~ or /usr</td><td class="time"><a href="#t2016-02-23T14:26:34" class="time">14:26</a></td></tr>
<tr id="t2016-02-23T14:26:46"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">(native stuff can link to /usr obviously)</td><td class="time"><a href="#t2016-02-23T14:26:46" class="time">14:26</a></td></tr>
<tr id="t2016-02-23T14:35:58"><th class="nick" style="background: #97974f">Ulfalizer</th><td class="text" style="color: #97974f">yeah, guessed that was the case, though i can't find the exact thing that disables it</td><td class="time"><a href="#t2016-02-23T14:35:58" class="time">14:35</a></td></tr>
<tr id="t2016-02-23T14:37:01"><th class="nick" style="background: #97974f">Ulfalizer</th><td class="text" style="color: #97974f">CMAKE_FIND_ROOT_PATH(_MODE_PACKAGE_ONLY) maybe...</td><td class="time"><a href="#t2016-02-23T14:37:01" class="time">14:37</a></td></tr>
<tr id="t2016-02-23T14:52:38"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">Crofton|work: i don't suppose you remember why you had to sed libtool in a484b35b?</td><td class="time"><a href="#t2016-02-23T14:52:38" class="time">14:52</a></td></tr>
<tr id="t2016-02-23T15:01:01"><td class="nickchange" colspan="2">*** sledges is now known as sledge_mwc</td><td><a href="#t2016-02-23T15:01:01" class="time">15:01</a></td></tr>
<tr id="t2016-02-23T15:23:25"><th class="nick" style="background: #a25555">mrk377</th><td class="text" style="color: #a25555">Good morning gents!&nbsp;&nbsp;I have a directdisk.wks to append/modify part and bootloader options.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;What option do I need to get PROMPT 1?&nbsp;&nbsp;It defaults to PROMPT 0 and therefore I can't hit esc to get boot: ??</td><td class="time"><a href="#t2016-02-23T15:23:25" class="time">15:23</a></td></tr>
<tr id="t2016-02-23T15:38:10"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">khem`: is argp-standalone needed for uclibc?</td><td class="time"><a href="#t2016-02-23T15:38:10" class="time">15:38</a></td></tr>
<tr id="t2016-02-23T15:54:43"><td class="nickchange" colspan="2">*** morphis_ is now known as morphis</td><td><a href="#t2016-02-23T15:54:43" class="time">15:54</a></td></tr>
<tr id="t2016-02-23T15:55:41"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">rburton, I'll bet you have an rpath qa issue without the sed</td><td class="time"><a href="#t2016-02-23T15:55:41" class="time">15:55</a></td></tr>
<tr id="t2016-02-23T15:55:42"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">maybe</td><td class="time"><a href="#t2016-02-23T15:55:42" class="time">15:55</a></td></tr>
<tr id="t2016-02-23T15:58:39"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">Crofton|work: no warnings at al</td><td class="time"><a href="#t2016-02-23T15:58:39" class="time">15:58</a></td></tr>
<tr id="t2016-02-23T15:58:45"><td class="nickchange" colspan="2">*** tom__ is now known as CTtpollard</td><td><a href="#t2016-02-23T15:58:45" class="time">15:58</a></td></tr>
<tr id="t2016-02-23T16:00:06"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">did you try removing it?</td><td class="time"><a href="#t2016-02-23T16:00:06" class="time">16:00</a></td></tr>
<tr id="t2016-02-23T16:01:25"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">yes, done already</td><td class="time"><a href="#t2016-02-23T16:01:25" class="time">16:01</a></td></tr>
<tr id="t2016-02-23T16:01:49"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">hmmm</td><td class="time"><a href="#t2016-02-23T16:01:49" class="time">16:01</a></td></tr>
<tr id="t2016-02-23T16:02:24"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">did you look at th elibtool to see what it does?</td><td class="time"><a href="#t2016-02-23T16:02:24" class="time">16:02</a></td></tr>
<tr id="t2016-02-23T16:03:05"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">seems liek the problem is we needed the c++&nbsp;&nbsp;version of db, but if we left it i nthe main db package, peopl eusing db had stdc++ lib added to images</td><td class="time"><a href="#t2016-02-23T16:03:05" class="time">16:03</a></td></tr>
<tr id="t2016-02-23T16:05:51"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">hmm, I am getting db6 in builds now also</td><td class="time"><a href="#t2016-02-23T16:05:51" class="time">16:05</a></td></tr>
<tr id="t2016-02-23T16:05:53"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">not 5</td><td class="time"><a href="#t2016-02-23T16:05:53" class="time">16:05</a></td></tr>
<tr id="t2016-02-23T16:24:06"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">yeah that makes sense</td><td class="time"><a href="#t2016-02-23T16:24:06" class="time">16:24</a></td></tr>
<tr id="t2016-02-23T16:24:15"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">(the package split)</td><td class="time"><a href="#t2016-02-23T16:24:15" class="time">16:24</a></td></tr>
<tr id="t2016-02-23T16:28:09"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">this was 2 years ago :)</td><td class="time"><a href="#t2016-02-23T16:28:09" class="time">16:28</a></td></tr>
<tr id="t2016-02-23T16:28:47"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">pah</td><td class="time"><a href="#t2016-02-23T16:28:47" class="time">16:28</a></td></tr>
<tr id="t2016-02-23T16:30:28"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">man bitbake needs a way to inject -x into shell scripts without tainting hashes</td><td class="time"><a href="#t2016-02-23T16:30:28" class="time">16:30</a></td></tr>
<tr id="t2016-02-23T16:31:49"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">patch bb.build to obey a new flag to to do it?</td><td class="time"><a href="#t2016-02-23T16:31:49" class="time">16:31</a></td></tr>
<tr id="t2016-02-23T16:32:35"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">yeah</td><td class="time"><a href="#t2016-02-23T16:32:35" class="time">16:32</a></td></tr>
<tr id="t2016-02-23T16:33:55"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">course i could see having a variable as well to set the default</td><td class="time"><a href="#t2016-02-23T16:33:55" class="time">16:33</a></td></tr>
<tr id="t2016-02-23T16:35:17"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">oh look</td><td class="time"><a href="#t2016-02-23T16:35:17" class="time">16:35</a></td></tr>
<tr id="t2016-02-23T16:35:32"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">it can do it already :)</td><td class="time"><a href="#t2016-02-23T16:35:32" class="time">16:35</a></td></tr>
<tr id="t2016-02-23T16:35:39"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">heh, nice</td><td class="time"><a href="#t2016-02-23T16:35:39" class="time">16:35</a></td></tr>
<tr id="t2016-02-23T16:35:41"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">enable loggerVerboseLogs</td><td class="time"><a href="#t2016-02-23T16:35:41" class="time">16:35</a></td></tr>
<tr id="t2016-02-23T16:36:16"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">BB_VERBOSE_LOGS=1 by the look of it</td><td class="time"><a href="#t2016-02-23T16:36:16" class="time">16:36</a></td></tr>
<tr id="t2016-02-23T16:36:47"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">that totally needs to be a command line option so its even a bit discoverable</td><td class="time"><a href="#t2016-02-23T16:36:47" class="time">16:36</a></td></tr>
<tr id="t2016-02-23T16:37:03"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">agreed</td><td class="time"><a href="#t2016-02-23T16:37:03" class="time">16:37</a></td></tr>
<tr id="t2016-02-23T16:37:46"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">huh. apparently i knew about it at some point, because i already had 'ag loggerverboselogs' in my shell history</td><td class="time"><a href="#t2016-02-23T16:37:46" class="time">16:37</a></td></tr>
<tr id="t2016-02-23T16:37:48"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">weird</td><td class="time"><a href="#t2016-02-23T16:37:48" class="time">16:37</a></td></tr>
<tr id="t2016-02-23T16:38:09"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">heh</td><td class="time"><a href="#t2016-02-23T16:38:09" class="time">16:38</a></td></tr>
<tr id="t2016-02-23T16:39:13"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i'm always finding things i forgot about. dig through my dotfiles and find long forgotten aliases and vim tidbits</td><td class="time"><a href="#t2016-02-23T16:39:13" class="time">16:39</a></td></tr>
<tr id="t2016-02-23T16:39:14"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">heh</td><td class="time"><a href="#t2016-02-23T16:39:14" class="time">16:39</a></td></tr>
<tr id="t2016-02-23T16:45:12"><th class="nick" style="background: #97974f">Ulfalizer</th><td class="text" style="color: #97974f">is there some nicer way to get a list of layers from the command line than parsing the output of bitbake -e?</td><td class="time"><a href="#t2016-02-23T16:45:12" class="time">16:45</a></td></tr>
<tr id="t2016-02-23T16:45:25"><td class="part" colspan="2">*** Nilesh &lt;Nilesh!~nilesh@49.200.79.85&gt; has left #yocto</td><td><a href="#t2016-02-23T16:45:25" class="time">16:45</a></td></tr>
<tr id="t2016-02-23T16:45:37"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">bitbake-layers is probably a good start</td><td class="time"><a href="#t2016-02-23T16:45:37" class="time">16:45</a></td></tr>
<tr id="t2016-02-23T16:46:06"><th class="nick" style="background: #97974f">Ulfalizer</th><td class="text" style="color: #97974f">heh, should've checked what options it has :)</td><td class="time"><a href="#t2016-02-23T16:46:06" class="time">16:46</a></td></tr>
<tr id="t2016-02-23T16:46:12"><td class="action" colspan="2">* Ulfalizer checks</td><td><a href="#t2016-02-23T16:46:12" class="time">16:46</a></td></tr>
<tr id="t2016-02-23T16:47:43"><th class="nick" style="background: #97974f">Ulfalizer</th><td class="text" style="color: #97974f">too bad it doesn't seem to have a simple format with e.g. one layer name per line :/</td><td class="time"><a href="#t2016-02-23T16:47:43" class="time">16:47</a></td></tr>
<tr id="t2016-02-23T16:47:53"><th class="nick" style="background: #97974f">Ulfalizer</th><td class="text" style="color: #97974f">'bitbake-layers show-layers' that is</td><td class="time"><a href="#t2016-02-23T16:47:53" class="time">16:47</a></td></tr>
<tr id="t2016-02-23T16:49:18"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">heh, yeah, it should probably have a format that's easier to script</td><td class="time"><a href="#t2016-02-23T16:49:18" class="time">16:49</a></td></tr>
<tr id="t2016-02-23T16:50:12"><th class="nick" style="background: #97974f">Ulfalizer</th><td class="text" style="color: #97974f">bitbake -e | sed -n 's/^BBLAYERS="\(.*\)"/\1/p' | tr ' ' '\n' | grep -v '^$'&nbsp;&nbsp; is what i have so far to get one layer name per line :)</td><td class="time"><a href="#t2016-02-23T16:50:12" class="time">16:50</a></td></tr>
<tr id="t2016-02-23T16:50:51"><th class="nick" style="background: #97974f">Ulfalizer</th><td class="text" style="color: #97974f">it's for a testing thingy that verifies naming conventions</td><td class="time"><a href="#t2016-02-23T16:50:51" class="time">16:50</a></td></tr>
<tr id="t2016-02-23T16:51:03"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">layer name and layer path are two differentn things, keep that in mind</td><td class="time"><a href="#t2016-02-23T16:51:03" class="time">16:51</a></td></tr>
<tr id="t2016-02-23T16:52:05"><th class="nick" style="background: #97974f">Ulfalizer</th><td class="text" style="color: #97974f">hrm, yeah, i should probably keep just the name</td><td class="time"><a href="#t2016-02-23T16:52:05" class="time">16:52</a></td></tr>
<tr id="t2016-02-23T16:52:33"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i.e the name in BBFILE_COLLECTIONS is used in LAYERDEPENDS, but is sometimes different than the path on disk</td><td class="time"><a href="#t2016-02-23T16:52:33" class="time">16:52</a></td></tr>
<tr id="t2016-02-23T16:52:42"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">openembedded-layer is meta-oe, for example</td><td class="time"><a href="#t2016-02-23T16:52:42" class="time">16:52</a></td></tr>
<tr id="t2016-02-23T16:52:46"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">really depends on what your goals are</td><td class="time"><a href="#t2016-02-23T16:52:46" class="time">16:52</a></td></tr>
<tr id="t2016-02-23T16:53:17"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i have a sed snippet to grab bblayers from bblayers.conf, but it assumes it's one block.. i also have a little python script that given a layer path will dump the info from layer.conf, name, priority, deps</td><td class="time"><a href="#t2016-02-23T16:53:17" class="time">16:53</a></td></tr>
<tr id="t2016-02-23T16:53:37"><th class="nick" style="background: #97974f">Ulfalizer</th><td class="text" style="color: #97974f">mostly refactoring some existing tests atm. they seem to look at BBLAYERS only.</td><td class="time"><a href="#t2016-02-23T16:53:37" class="time">16:53</a></td></tr>
<tr id="t2016-02-23T16:54:26"><td class="part" colspan="2">*** csanchezdll &lt;csanchezdll!~user@galileo.kdpof.com&gt; has left #yocto</td><td><a href="#t2016-02-23T16:54:26" class="time">16:54</a></td></tr>
<tr id="t2016-02-23T16:54:34"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">cool, that's easier. parsing bitbake -e seems like a resasonable way to go in that case</td><td class="time"><a href="#t2016-02-23T16:54:34" class="time">16:54</a></td></tr>
<tr id="t2016-02-23T16:55:33"><th class="nick" style="background: #97974f">Ulfalizer</th><td class="text" style="color: #97974f">had forgotten that layers names could be different from directory names too</td><td class="time"><a href="#t2016-02-23T16:55:33" class="time">16:55</a></td></tr>
<tr id="t2016-02-23T16:55:38"><th class="nick" style="background: #97974f">Ulfalizer</th><td class="text" style="color: #97974f">*layer</td><td class="time"><a href="#t2016-02-23T16:55:38" class="time">16:55</a></td></tr>
<tr id="t2016-02-23T16:56:06"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">probably doesnt' matter if all it goes by is BBLAYERS, but yeah, still goodt o keep in mind for future reference</td><td class="time"><a href="#t2016-02-23T16:56:06" class="time">16:56</a></td></tr>
<tr id="t2016-02-23T17:09:15"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2016-02-23T17:09:15" class="time">17:09</a></td></tr>
<tr id="t2016-02-23T17:23:28"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">does anyone actually use udev-cache?</td><td class="time"><a href="#t2016-02-23T17:23:28" class="time">17:23</a></td></tr>
<tr id="t2016-02-23T17:30:03"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">Hm, anyone gotten nativesdk-ncurses building for mingw?</td><td class="time"><a href="#t2016-02-23T17:30:03" class="time">17:30</a></td></tr>
<tr id="t2016-02-23T17:37:51"><th class="nick" style="background: #5959a9">bluelightning</th><td class="text" style="color: #5959a9">rburton: judging by the patches, NI are using it or wanted to...</td><td class="time"><a href="#t2016-02-23T17:37:51" class="time">17:37</a></td></tr>
<tr id="t2016-02-23T17:38:19"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">yeah remembered that</td><td class="time"><a href="#t2016-02-23T17:38:19" class="time">17:38</a></td></tr>
<tr id="t2016-02-23T17:38:38"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">rburton: it does make a difference</td><td class="time"><a href="#t2016-02-23T17:38:38" class="time">17:38</a></td></tr>
<tr id="t2016-02-23T17:46:47"><td class="part" colspan="2">*** scottrif &lt;scottrif!~scottrif@68-186-122-205.dhcp.knwc.wa.charter.com&gt; has left #yocto</td><td><a href="#t2016-02-23T17:46:47" class="time">17:46</a></td></tr>
<tr id="t2016-02-23T17:46:52"><td class="part" colspan="2">*** dlerner &lt;dlerner!~dlerner@50-198-55-145-static.hfc.comcastbusiness.net&gt; has left #yocto</td><td><a href="#t2016-02-23T17:46:52" class="time">17:46</a></td></tr>
<tr id="t2016-02-23T17:52:54"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">hmm, wonder if we should add SDK_OS to the PN of the crosssdk recipes, to let you switch SDKMACHINE between linux and mingw without sysroot conflicts. at least i'm assumign thats why there's the SDK_ARCH suffix, for the same reason</td><td class="time"><a href="#t2016-02-23T17:52:54" class="time">17:52</a></td></tr>
<tr id="t2016-02-23T17:53:05"><td class="action" colspan="2">* kergoth tests</td><td><a href="#t2016-02-23T17:53:05" class="time">17:53</a></td></tr>
<tr id="t2016-02-23T18:05:30"><td class="nickchange" colspan="2">*** jbrianceau is now known as jbrianceau_away</td><td><a href="#t2016-02-23T18:05:30" class="time">18:05</a></td></tr>
<tr id="t2016-02-23T18:32:47"><th class="nick" style="background: #5959a9">bluelightning</th><td class="text" style="color: #5959a9">kergoth: SDK_SYS even?</td><td class="time"><a href="#t2016-02-23T18:32:47" class="time">18:32</a></td></tr>
<tr id="t2016-02-23T18:33:00"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">yeah, it has arch now</td><td class="time"><a href="#t2016-02-23T18:33:00" class="time">18:33</a></td></tr>
<tr id="t2016-02-23T18:33:12"><th class="nick" style="background: #5959a9">bluelightning</th><td class="text" style="color: #5959a9">right</td><td class="time"><a href="#t2016-02-23T18:33:12" class="time">18:33</a></td></tr>
<tr id="t2016-02-23T18:47:23"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">So, I've been staring at the pseudo startup code, and the pseudo client spawn-server code, and I have concluded that they are probably broken, and I am going to go duct tape something over my keyboard to prevent me from producing code, and stare blankly into space for a while, and see if I can figure this out.</td><td class="time"><a href="#t2016-02-23T18:47:23" class="time">18:47</a></td></tr>
<tr id="t2016-02-23T18:47:41"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">But I think that, if I really want this fixed properly, I should almost certainly rewrite that code.</td><td class="time"><a href="#t2016-02-23T18:47:41" class="time">18:47</a></td></tr>
<tr id="t2016-02-23T18:48:29"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">the big problem I saw, is there is possibilities of race conditions, but I wasn't sure if they could be avoided.. between the pid file, socket, etc..</td><td class="time"><a href="#t2016-02-23T18:48:29" class="time">18:48</a></td></tr>
<tr id="t2016-02-23T18:48:38"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">you can't 'cleanup'' the best you can do is oveerwrite</td><td class="time"><a href="#t2016-02-23T18:48:38" class="time">18:48</a></td></tr>
<tr id="t2016-02-23T18:48:50"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">Yeah.</td><td class="time"><a href="#t2016-02-23T18:48:50" class="time">18:48</a></td></tr>
<tr id="t2016-02-23T18:49:22"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">But there's a ton of things where I'm pretty sure the current code is logically-incorrect, where I didn't think through what I was checking or where stuff might get run once or maybe twice depending. And there's a few places where I should absolutely be error-checking.</td><td class="time"><a href="#t2016-02-23T18:49:22" class="time">18:49</a></td></tr>
<tr id="t2016-02-23T18:49:41"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">And basically, I want to think this through carefully and be sure of what I *intend* it to do, and then go look and see whether or not it's doing anything much like that.</td><td class="time"><a href="#t2016-02-23T18:49:41" class="time">18:49</a></td></tr>
<tr id="t2016-02-23T18:49:44"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">Huh.</td><td class="time"><a href="#t2016-02-23T18:49:44" class="time">18:49</a></td></tr>
<tr id="t2016-02-23T18:50:55"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">*thinks* Okay, no, that one should be safe. There's a lockfile, and the server doesn't mess with the pid file or socket outside of having acquired the lock.</td><td class="time"><a href="#t2016-02-23T18:50:55" class="time">18:50</a></td></tr>
<tr id="t2016-02-23T18:50:57"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">... the lock.</td><td class="time"><a href="#t2016-02-23T18:50:57" class="time">18:50</a></td></tr>
<tr id="t2016-02-23T18:51:00"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">Heyyyyyy.</td><td class="time"><a href="#t2016-02-23T18:51:00" class="time">18:51</a></td></tr>
<tr id="t2016-02-23T18:51:17"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">Those build servers don't happen to be using NFS, do they?</td><td class="time"><a href="#t2016-02-23T18:51:17" class="time">18:51</a></td></tr>
<tr id="t2016-02-23T18:51:41"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">Because we're using flock() for the lock, and NFS only supports fcntl locking. But fcntl locks aren't inherited by child processes, which is why pseudo doesn't use them for the lock.</td><td class="time"><a href="#t2016-02-23T18:51:41" class="time">18:51</a></td></tr>
<tr id="t2016-02-23T18:52:00"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">Because the daemonized server is a child process from the thing which acquires the lock.</td><td class="time"><a href="#t2016-02-23T18:52:00" class="time">18:52</a></td></tr>
<tr id="t2016-02-23T18:52:10"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">that was the one thing I was worried aobut..&nbsp;&nbsp;if the lock is taken BEFORE the spawn, does the parent take the lock with them, opening a window?</td><td class="time"><a href="#t2016-02-23T18:52:10" class="time">18:52</a></td></tr>
<tr id="t2016-02-23T18:52:50"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">The lock is done inside the server, the client doesn't do it. So if the client spawns a server, the server grabs the lock and tries to start up.</td><td class="time"><a href="#t2016-02-23T18:52:50" class="time">18:52</a></td></tr>
<tr id="t2016-02-23T18:53:00"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">cause take lock (clear on exit), open socket (exit on failure), write pid&nbsp;&nbsp;SHOULD be correct from a race point of iew..</td><td class="time"><a href="#t2016-02-23T18:53:00" class="time">18:53</a></td></tr>
<tr id="t2016-02-23T18:53:07"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">as long as two things don't get the lock at once</td><td class="time"><a href="#t2016-02-23T18:53:07" class="time">18:53</a></td></tr>
<tr id="t2016-02-23T18:53:22"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">Hmm. But I exit with status 0 if I don't get the lock, and that could be wrong in some cases.</td><td class="time"><a href="#t2016-02-23T18:53:22" class="time">18:53</a></td></tr>
<tr id="t2016-02-23T18:53:24"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">yup.. the client only checks the pid file..</td><td class="time"><a href="#t2016-02-23T18:53:24" class="time">18:53</a></td></tr>
<tr id="t2016-02-23T18:54:03"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">exactly.. if there is a fail between grabbing the lock and NOT writing the pid (exit).. we shoudln't have a 0 RC.. and we should log what the hell happeend..</td><td class="time"><a href="#t2016-02-23T18:54:03" class="time">18:54</a></td></tr>
<tr id="t2016-02-23T18:54:12"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">But it is worth checking to be sure we trust that flock() will work on the filesystem. And if it might not, maybe I should try to restructure this so that the locking happens in the daemonized process so we could use fcntl.</td><td class="time"><a href="#t2016-02-23T18:54:12" class="time">18:54</a></td></tr>
<tr id="t2016-02-23T18:54:15"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">(same if we can't grab the lock since it's already in use)</td><td class="time"><a href="#t2016-02-23T18:54:15" class="time">18:54</a></td></tr>
<tr id="t2016-02-23T18:54:32"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">likely a good idea to move the log to the child</td><td class="time"><a href="#t2016-02-23T18:54:32" class="time">18:54</a></td></tr>
<tr id="t2016-02-23T18:54:48"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">If the lock is already in use, we treat it as a non-error because it's *probably* an existing server, and "a server was successfully started" is probably-not-an-error. I think. But if I fail for some OTHER reason, that should be treated as a failure.</td><td class="time"><a href="#t2016-02-23T18:54:48" class="time">18:54</a></td></tr>
<tr id="t2016-02-23T18:54:51"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">or don't daemonize the server if called from the child, since it's already forked?</td><td class="time"><a href="#t2016-02-23T18:54:51" class="time">18:54</a></td></tr>
<tr id="t2016-02-23T18:55:40"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">'er.. that probably isn't right.. since you'd lose any failure codes</td><td class="time"><a href="#t2016-02-23T18:55:40" class="time">18:55</a></td></tr>
<tr id="t2016-02-23T18:55:41"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">Well, right now, the client is using "the process I spawned terminated" as the test for "server has probably started".</td><td class="time"><a href="#t2016-02-23T18:55:41" class="time">18:55</a></td></tr>
<tr id="t2016-02-23T18:55:49"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">ya</td><td class="time"><a href="#t2016-02-23T18:55:49" class="time">18:55</a></td></tr>
<tr id="t2016-02-23T18:56:22"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">Hmm.</td><td class="time"><a href="#t2016-02-23T18:56:22" class="time">18:56</a></td></tr>
<tr id="t2016-02-23T18:56:44"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">Okay, so, it looks to me like there's a very small window where the spawned server could blow up and I might have issues with the logging...</td><td class="time"><a href="#t2016-02-23T18:56:44" class="time">18:56</a></td></tr>
<tr id="t2016-02-23T18:56:50"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">But basically, yeah, I wanna rethink this.</td><td class="time"><a href="#t2016-02-23T18:56:50" class="time">18:56</a></td></tr>
<tr id="t2016-02-23T18:58:04"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">See, this is the ideal point for me to go shovel snow or something, but it all melted. But I'll go do something physical for a while and ponder it to get my head clear. Back in a while, and I will probably rewrite a fair bit of this.</td><td class="time"><a href="#t2016-02-23T18:58:04" class="time">18:58</a></td></tr>
<tr id="t2016-02-23T18:58:35"><th class="nick" style="background: #adad5b">seebs</th><td class="text" style="color: #adad5b">The client-side logic has at least one obvious thinko, although I think it produces the right results (or should), but that tells me I didn't understand the problem when I wrote that code, so....</td><td class="time"><a href="#t2016-02-23T18:58:35" class="time">18:58</a></td></tr>
<tr id="t2016-02-23T21:45:33"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">hmm, we should probably move the STAGINGCC var set to somewhere common, given how many recipes are copying/pasting it around</td><td class="time"><a href="#t2016-02-23T21:45:33" class="time">21:45</a></td></tr>
<tr id="t2016-02-23T23:01:29"><td class="nickchange" colspan="2">*** 32NAAC6MO is now known as Tenhi_</td><td><a href="#t2016-02-23T23:01:29" class="time">23:01</a></td></tr>
<tr id="t2016-02-23T23:33:39"><td class="part" colspan="2">*** aehs29 &lt;aehs29!~aehernan@134.134.137.75&gt; has left #yocto</td><td><a href="#t2016-02-23T23:33:39" class="time">23:33</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2016-02-22.log.html">&#171; Monday, 2016-02-22</a> <a href="index.html">Index</a> <a href="%23yocto.2016-02-24.log.html">Wednesday, 2016-02-24 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
