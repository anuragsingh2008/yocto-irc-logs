<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Thursday, 2020-06-11</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Thursday, 2020-06-11</h1>
<div class="navigation"> <a href="%23yocto.2020-06-10.log.html">&#171; Wednesday, 2020-06-10</a> <a href="index.html">Index</a> <a href="%23yocto.2020-06-12.log.html">Friday, 2020-06-12 &#187;</a> </div>
<table class="irclog">
<tr id="t2020-06-11T01:15:39-2"><td class="nickchange" colspan="2">*** camus1 is now known as kaspter</td><td><a href="#t2020-06-11T01:15:39-2" class="time">01:15</a></td></tr>
<tr id="t2020-06-11T01:27:42"><td class="nickchange" colspan="2">*** KindTwo is now known as KindOne</td><td><a href="#t2020-06-11T01:27:42" class="time">01:27</a></td></tr>
<tr id="t2020-06-11T01:31:34-2"><td class="nickchange" colspan="2">*** camus1 is now known as kaspter</td><td><a href="#t2020-06-11T01:31:34-2" class="time">01:31</a></td></tr>
<tr id="t2020-06-11T02:10:29"><td class="nickchange" colspan="2">*** camus1 is now known as kaspter</td><td><a href="#t2020-06-11T02:10:29" class="time">02:10</a></td></tr>
<tr id="t2020-06-11T02:45:56"><td class="nickchange" colspan="2">*** KindTwo is now known as KindOne</td><td><a href="#t2020-06-11T02:45:56" class="time">02:45</a></td></tr>
<tr id="t2020-06-11T03:30:14"><td class="nickchange" colspan="2">*** camus1 is now known as kaspter</td><td><a href="#t2020-06-11T03:30:14" class="time">03:30</a></td></tr>
<tr id="t2020-06-11T03:38:07"><td class="nickchange" colspan="2">*** KindTwo is now known as KindOne</td><td><a href="#t2020-06-11T03:38:07" class="time">03:38</a></td></tr>
<tr id="t2020-06-11T07:35:44"><td class="nickchange" colspan="2">*** bobo is now known as Guest97732</td><td><a href="#t2020-06-11T07:35:44" class="time">07:35</a></td></tr>
<tr id="t2020-06-11T08:20:06"><td class="nickchange" colspan="2">*** bobo is now known as Guest57633</td><td><a href="#t2020-06-11T08:20:06" class="time">08:20</a></td></tr>
<tr id="t2020-06-11T08:23:40"><th class="nick" style="background: #407a40">chris_ber</th><td class="text" style="color: #407a40">Letothe2nd: qschulz: i am using now an external repo and changes are recognized. :thumbs:</td><td class="time"><a href="#t2020-06-11T08:23:40" class="time">08:23</a></td></tr>
<tr id="t2020-06-11T08:26:22"><th class="nick" style="background: #407a40">chris_ber</th><td class="text" style="color: #407a40">do you have an idea why an image contains a shared lib but not the symlink to it? like mylib.so -&gt; mylib.so.0.0.1</td><td class="time"><a href="#t2020-06-11T08:26:22" class="time">08:26</a></td></tr>
<tr id="t2020-06-11T08:34:22"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">chris_ber: because the image doesn't contain the -dev packges by default, and the .so symlink is only needed for development</td><td class="time"><a href="#t2020-06-11T08:34:22" class="time">08:34</a></td></tr>
<tr id="t2020-06-11T08:34:31"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">if you need it, turn on the dev-pkgs IMAGE_FEATURE</td><td class="time"><a href="#t2020-06-11T08:34:31" class="time">08:34</a></td></tr>
<tr id="t2020-06-11T08:40:30"><th class="nick" style="background: #407a40">chris_ber</th><td class="text" style="color: #407a40">rburton: ahh ok. thx</td><td class="time"><a href="#t2020-06-11T08:40:30" class="time">08:40</a></td></tr>
<tr id="t2020-06-11T09:11:36"><td class="nickchange" colspan="2">*** camus1 is now known as kaspter</td><td><a href="#t2020-06-11T09:11:36" class="time">09:11</a></td></tr>
<tr id="t2020-06-11T09:15:23"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2020-06-11T09:15:23" class="time">09:15</a></td></tr>
<tr id="t2020-06-11T09:44:23"><th class="nick" style="background: #818144">yann</th><td class="text" style="color: #818144">on dunfell I have a strange issue with llvm-config: &quot;.../mesa/2_20.0.2-r0/recipe-sysroot-native/usr/bin/llvm-config9.0.1 --shared-mode&quot; fails with errors complaining about the lack of recipe-sysroot-native/lib/llvm9.0.1/lib*</td><td class="time"><a href="#t2020-06-11T09:44:23" class="time">09:44</a></td></tr>
<tr id="t2020-06-11T09:44:46"><th class="nick" style="background: #818144">yann</th><td class="text" style="color: #818144">this in turn causes an exception in meson</td><td class="time"><a href="#t2020-06-11T09:44:46" class="time">09:44</a></td></tr>
<tr id="t2020-06-11T09:47:40"><th class="nick" style="background: #818144">yann</th><td class="text" style="color: #818144">shouldn't it look in recipe-sysroot/ instead ?</td><td class="time"><a href="#t2020-06-11T09:47:40" class="time">09:47</a></td></tr>
<tr id="t2020-06-11T09:49:10"><th class="nick" style="background: #818144">yann</th><td class="text" style="color: #818144">wait, when I run it from devshell, it *is* looking in recipe-sysroot, but looks in recipe-sysroot/usr/lib/llvm9.0.1 instead of recipe-sysroot/usr/lib64/llvm9.0.1</td><td class="time"><a href="#t2020-06-11T09:49:10" class="time">09:49</a></td></tr>
<tr id="t2020-06-11T09:51:35"><th class="nick" style="background: #407a40">chris_ber</th><td class="text" style="color: #407a40">When using external repo with 'devtool add...' and my recipe needs 'DEPENDS += &quot;3partylib&quot;' shouldn't it be autogenerated from the CMAKELists.txt?</td><td class="time"><a href="#t2020-06-11T09:51:35" class="time">09:51</a></td></tr>
<tr id="t2020-06-11T09:54:27"><th class="nick" style="background: #854685">mihai</th><td class="text" style="color: #854685">yann, maybe because the build error is from llvm-native and you're running devshell on llvm for target</td><td class="time"><a href="#t2020-06-11T09:54:27" class="time">09:54</a></td></tr>
<tr id="t2020-06-11T09:55:57"><th class="nick" style="background: #818144">yann</th><td class="text" style="color: #818144">mihai: it would be surprising that recipe-sysroot-native gets a target binary</td><td class="time"><a href="#t2020-06-11T09:55:57" class="time">09:55</a></td></tr>
<tr id="t2020-06-11T09:56:23"><th class="nick" style="background: #818144">yann</th><td class="text" style="color: #818144">rather looks like a /usr/lib instead of ${libdir}</td><td class="time"><a href="#t2020-06-11T09:56:23" class="time">09:56</a></td></tr>
<tr id="t2020-06-11T10:06:07"><th class="nick" style="background: #818144">yann</th><td class="text" style="color: #818144">so we have a patch for llvm-config to use YOCTO_ALTERNATE_EXE_PATH to get an idea of the sysroot to use</td><td class="time"><a href="#t2020-06-11T10:06:07" class="time">10:06</a></td></tr>
<tr id="t2020-06-11T10:06:35"><th class="nick" style="background: #488888">OutBackDingo_</th><td class="text" style="color: #488888">okay how do i src rev this ? <a href="https://gitlab.xiph.org/xiph/tremor.git" rel="nofollow">https://gitlab.xiph.org/xiph/tremor.git</a></td><td class="time"><a href="#t2020-06-11T10:06:35" class="time">10:06</a></td></tr>
<tr id="t2020-06-11T10:06:58"><th class="nick" style="background: #818144">yann</th><td class="text" style="color: #818144">but then, llvm-config itself munges this and uses lib/, even though we passed a path with lib64/</td><td class="time"><a href="#t2020-06-11T10:06:58" class="time">10:06</a></td></tr>
<tr id="t2020-06-11T10:07:40"><th class="nick" style="background: #488888">OutBackDingo_</th><td class="text" style="color: #488888">i tried SRC_URI = &quot;<a href="https://gitlab.xiph.org/xiph/tremor.git" rel="nofollow">https://gitlab.xiph.org/xiph/tremor.git</a></td><td class="time"><a href="#t2020-06-11T10:07:40" class="time">10:07</a></td></tr>
<tr id="t2020-06-11T10:08:04"><th class="nick" style="background: #854685">mihai</th><td class="text" style="color: #854685">OutBackDingo_, git://....;protocol=https</td><td class="time"><a href="#t2020-06-11T10:08:04" class="time">10:08</a></td></tr>
<tr id="t2020-06-11T10:17:03"><th class="nick" style="background: #488888">OutBackDingo_</th><td class="text" style="color: #488888">mihai: odd i tried that before and it failed... worked this time</td><td class="time"><a href="#t2020-06-11T10:17:03" class="time">10:17</a></td></tr>
<tr id="t2020-06-11T10:21:08"><th class="nick" style="background: #854685">mihai</th><td class="text" style="color: #854685">OutBackDingo_, nice</td><td class="time"><a href="#t2020-06-11T10:21:08" class="time">10:21</a></td></tr>
<tr id="t2020-06-11T10:23:17"><th class="nick" style="background: #854685">mihai</th><td class="text" style="color: #854685">yann, I'm guessing it has something to do with this, in mesa.inc: export YOCTO_ALTERNATE_MULTILIB_NAME = &quot;${base_libdir}&quot;</td><td class="time"><a href="#t2020-06-11T10:23:17" class="time">10:23</a></td></tr>
<tr id="t2020-06-11T10:24:23"><th class="nick" style="background: #818144">yann</th><td class="text" style="color: #818144">mihai: quite sure it's rather a change of how llvm-config locates its libdir</td><td class="time"><a href="#t2020-06-11T10:24:23" class="time">10:24</a></td></tr>
<tr id="t2020-06-11T10:24:40"><th class="nick" style="background: #818144">yann</th><td class="text" style="color: #818144">openned <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=13937" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=13937</a></td><td class="time"><a href="#t2020-06-11T10:24:40" class="time">10:24</a></td></tr>
<tr id="t2020-06-11T11:20:03"><td class="nickchange" colspan="2">*** mihai is now known as mihai-</td><td><a href="#t2020-06-11T11:20:03" class="time">11:20</a></td></tr>
<tr id="t2020-06-11T12:21:28"><th class="nick" style="background: #8c4a4a">Dracos-Carazza</th><td class="text" style="color: #8c4a4a">hmm I need an idea... I have an r-car h3sk&nbsp;&nbsp;(WS3.0) board and would like to use the the HDMI output. for some reason I'm not able to get an output</td><td class="time"><a href="#t2020-06-11T12:21:28" class="time">12:21</a></td></tr>
<tr id="t2020-06-11T12:22:29"><th class="nick" style="background: #8c4a4a">Dracos-Carazza</th><td class="text" style="color: #8c4a4a">the supported screen modes can be read and the screen is reported as connected</td><td class="time"><a href="#t2020-06-11T12:22:29" class="time">12:22</a></td></tr>
<tr id="t2020-06-11T12:22:43"><th class="nick" style="background: #8c4a4a">Dracos-Carazza</th><td class="text" style="color: #8c4a4a">also a framebuffer is created</td><td class="time"><a href="#t2020-06-11T12:22:43" class="time">12:22</a></td></tr>
<tr id="t2020-06-11T12:23:35"><th class="nick" style="background: #8c4a4a">Dracos-Carazza</th><td class="text" style="color: #8c4a4a">same kernel with a different device tree is working on an older board revision</td><td class="time"><a href="#t2020-06-11T12:23:35" class="time">12:23</a></td></tr>
<tr id="t2020-06-11T12:26:02"><td class="nickchange" colspan="2">*** camus1 is now known as kaspter</td><td><a href="#t2020-06-11T12:26:02" class="time">12:26</a></td></tr>
<tr id="t2020-06-11T13:36:43"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b">Any plans to have devtool support multiconfig? 'devtool modify mc:target:virtual/kernel' for example cant find the recipe.</td><td class="time"><a href="#t2020-06-11T13:36:43" class="time">13:36</a></td></tr>
<tr id="t2020-06-11T13:42:00"><th class="nick" style="background: #4d4d93">gaston53</th><td class="text" style="color: #4d4d93">helloo, does anyone have an idea about Yocto device tree ?</td><td class="time"><a href="#t2020-06-11T13:42:00" class="time">13:42</a></td></tr>
<tr id="t2020-06-11T13:42:14"><th class="nick" style="background: #4d4d93">gaston53</th><td class="text" style="color: #4d4d93">I want to modify the generated default device tree</td><td class="time"><a href="#t2020-06-11T13:42:14" class="time">13:42</a></td></tr>
<tr id="t2020-06-11T13:42:22"><th class="nick" style="background: #4d4d93">gaston53</th><td class="text" style="color: #4d4d93">of my embedded board</td><td class="time"><a href="#t2020-06-11T13:42:22" class="time">13:42</a></td></tr>
<tr id="t2020-06-11T13:50:17"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">rabbit9911: I think it is a know issue that devtool doesn't support multiconfig yet</td><td class="time"><a href="#t2020-06-11T13:50:17" class="time">13:50</a></td></tr>
<tr id="t2020-06-11T13:51:09"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b">bummer.. Time to get creative..</td><td class="time"><a href="#t2020-06-11T13:51:09" class="time">13:51</a></td></tr>
<tr id="t2020-06-11T13:52:55"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b">gaston53: Do you mean the FIT image? The device tree is not generated just the FIT image.</td><td class="time"><a href="#t2020-06-11T13:52:55" class="time">13:52</a></td></tr>
<tr id="t2020-06-11T13:56:28"><th class="nick" style="background: #4d4d93">gaston53</th><td class="text" style="color: #4d4d93">rabbit9911 yes it's not generated .. well .. I have a default .dts file that I want to modify and rebuild my yocto kernel</td><td class="time"><a href="#t2020-06-11T13:56:28" class="time">13:56</a></td></tr>
<tr id="t2020-06-11T14:01:54"><th class="nick" style="background: #407a40">chris_ber</th><td class="text" style="color: #407a40">is it good practice to create a recipe 'myApp_x.x.x.bb' for every tag in an external (selfhosted) repo?</td><td class="time"><a href="#t2020-06-11T14:01:54" class="time">14:01</a></td></tr>
<tr id="t2020-06-11T14:03:58"><th class="nick" style="background: #4d4d93">gaston53</th><td class="text" style="color: #4d4d93">rabbit9911 see here what I am talking about</td><td class="time"><a href="#t2020-06-11T14:03:58" class="time">14:03</a></td></tr>
<tr id="t2020-06-11T14:04:00"><th class="nick" style="background: #4d4d93">gaston53</th><td class="text" style="color: #4d4d93"><a href="https://github.com/torvalds/linux/blob/master/arch/arm/boot/dts/at91-sama5d27_som1_ek.dts#L262" rel="nofollow">https://github.com/torvalds/linux/blob/master/arch/arm/boot/dts/at91-sama5d27_som1_ek.dts#L262</a></td><td class="time"><a href="#t2020-06-11T14:04:00" class="time">14:04</a></td></tr>
<tr id="t2020-06-11T14:04:28"><th class="nick" style="background: #4d4d93">gaston53</th><td class="text" style="color: #4d4d93">I want to replace ISC data pins to GPIO pins</td><td class="time"><a href="#t2020-06-11T14:04:28" class="time">14:04</a></td></tr>
<tr id="t2020-06-11T14:04:47"><th class="nick" style="background: #4d4d93">gaston53</th><td class="text" style="color: #4d4d93">but I don't know what modifications to do there</td><td class="time"><a href="#t2020-06-11T14:04:47" class="time">14:04</a></td></tr>
<tr id="t2020-06-11T14:14:01"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b">gaston53: To modify a file in the kernel (like the dts). You just follow the regular procedure for making changes. <a href="https://www.yoctoproject.org/docs/latest/kernel-dev/kernel-dev.html" rel="nofollow">https://www.yoctoproject.org/docs/latest/kernel-dev/kernel-dev.html</a></td><td class="time"><a href="#t2020-06-11T14:14:01" class="time">14:14</a></td></tr>
<tr id="t2020-06-11T14:16:00"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b">chris_ber: You mean in place of using a pattern match like myApp_x.%.bb?</td><td class="time"><a href="#t2020-06-11T14:16:00" class="time">14:16</a></td></tr>
<tr id="t2020-06-11T14:24:24"><th class="nick" style="background: #407a40">chris_ber</th><td class="text" style="color: #407a40">rabbit9911: what does the '%' do? I mean when i create a new tag in the external_repo i rename the recipe to the tag (e.g. from 0.0.1 to 0.0.2). In that case i know which revsion i am using. -&gt; placed 'SRCREV = &quot;v${PV}&quot;' in the recipe</td><td class="time"><a href="#t2020-06-11T14:24:24" class="time">14:24</a></td></tr>
<tr id="t2020-06-11T14:25:46"><td class="part" colspan="2">*** lpapp_ &lt;lpapp_!~lpapp@kde/lpapp&gt; has left #yocto</td><td><a href="#t2020-06-11T14:25:46" class="time">14:25</a></td></tr>
<tr id="t2020-06-11T14:34:52"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b">chris_ver: The % is used in bbappend files if you have changes that apply to any version of the recipe.&nbsp;&nbsp;Sounds very different than what you are asking.</td><td class="time"><a href="#t2020-06-11T14:34:52" class="time">14:34</a></td></tr>
<tr id="t2020-06-11T14:35:36"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b">chris_ber: The % is used in bbappend files if you have changes that apply to any version of the recipe.&nbsp;&nbsp;Sounds very different than what you are asking.</td><td class="time"><a href="#t2020-06-11T14:35:36" class="time">14:35</a></td></tr>
<tr id="t2020-06-11T14:37:23"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b">chris_ber: The recipe version should match the version of the package in general.</td><td class="time"><a href="#t2020-06-11T14:37:23" class="time">14:37</a></td></tr>
<tr id="t2020-06-11T14:38:08"><th class="nick" style="background: #9b519b">fullstop</th><td class="text" style="color: #9b519b">Hi, still loving yocto over here.&nbsp;&nbsp;I have a new task and I'm looking for suggestions / options.</td><td class="time"><a href="#t2020-06-11T14:38:08" class="time">14:38</a></td></tr>
<tr id="t2020-06-11T14:39:07"><th class="nick" style="background: #9b519b">fullstop</th><td class="text" style="color: #9b519b">I'm using cryptsetup to open a device with a given key file and writing the squashfs image to /dev/mapper/whatever to encrypt the squashfs, and decrypt it in initramfs using cryptsetup there.</td><td class="time"><a href="#t2020-06-11T14:39:07" class="time">14:39</a></td></tr>
<tr id="t2020-06-11T14:39:49"><th class="nick" style="background: #9b519b">fullstop</th><td class="text" style="color: #9b519b">This requires root to open to file with cryptsetup.. any idea how I can automate this in a recipe?</td><td class="time"><a href="#t2020-06-11T14:39:49" class="time">14:39</a></td></tr>
<tr id="t2020-06-11T14:41:06"><th class="nick" style="background: #407a40">chris_ber</th><td class="text" style="color: #407a40">rabbit9911: ok, thx</td><td class="time"><a href="#t2020-06-11T14:41:06" class="time">14:41</a></td></tr>
<tr id="t2020-06-11T16:16:10"><th class="nick" style="background: #539e9e">mabnhdev</th><td class="text" style="color: #539e9e">I'm upgrading to dunfell.&nbsp;&nbsp;My host server has gcc 4.8.5 and I cannot upgrade at this time.&nbsp;&nbsp;Docs say I can run poky/install-buildtools to get the necessary tools.&nbsp;&nbsp;I ran it with default args, it succeeded, but I'm still getting complaints from sanity checker that my GCC is less than 5.0.</td><td class="time"><a href="#t2020-06-11T16:16:10" class="time">16:16</a></td></tr>
<tr id="t2020-06-11T16:18:28"><th class="nick" style="background: #a25555">khem</th><td class="text" style="color: #a25555">mabnhdev: you need to deploy it in your environment</td><td class="time"><a href="#t2020-06-11T16:18:28" class="time">16:18</a></td></tr>
<tr id="t2020-06-11T16:18:41"><th class="nick" style="background: #a25555">khem</th><td class="text" style="color: #a25555">source the env file from whereever you installed it</td><td class="time"><a href="#t2020-06-11T16:18:41" class="time">16:18</a></td></tr>
<tr id="t2020-06-11T16:37:12"><th class="nick" style="background: #57a657">bri</th><td class="text" style="color: #57a657">Is there a way to get the distro version from the command line on a target, similar to Debian/Ubuntu's lsb_release command?</td><td class="time"><a href="#t2020-06-11T16:37:12" class="time">16:37</a></td></tr>
<tr id="t2020-06-11T16:40:27"><th class="nick" style="background: #539e9e">mabnhdev</th><td class="text" style="color: #539e9e">@khem Thanks!&nbsp;&nbsp;A closer look at my environment setup showed I was not executing that step.</td><td class="time"><a href="#t2020-06-11T16:40:27" class="time">16:40</a></td></tr>
<tr id="t2020-06-11T17:03:34"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2020-06-11T17:03:34" class="time">17:03</a></td></tr>
<tr id="t2020-06-11T18:07:59"><th class="nick" style="background: #5959a9">cold_er</th><td class="text" style="color: #5959a9">Hi, would anyone here know what package needs to be added for getconf to work? I already tried glibc, and am still getting &quot;getconf: command not found&quot;</td><td class="time"><a href="#t2020-06-11T18:07:59" class="time">18:07</a></td></tr>
<tr id="t2020-06-11T18:23:48"><th class="nick" style="background: #854685">mihai-</th><td class="text" style="color: #854685">cold_er, work where? host or target?</td><td class="time"><a href="#t2020-06-11T18:23:48" class="time">18:23</a></td></tr>
<tr id="t2020-06-11T18:24:54"><th class="nick" style="background: #854685">mihai-</th><td class="text" style="color: #854685">glibc-utils for target</td><td class="time"><a href="#t2020-06-11T18:24:54" class="time">18:24</a></td></tr>
<tr id="t2020-06-11T18:27:11"><th class="nick" style="background: #5959a9">cold_er</th><td class="text" style="color: #5959a9">target</td><td class="time"><a href="#t2020-06-11T18:27:11" class="time">18:27</a></td></tr>
<tr id="t2020-06-11T19:22:42"><td class="nickchange" colspan="2">*** camus1 is now known as kaspter</td><td><a href="#t2020-06-11T19:22:42" class="time">19:22</a></td></tr>
<tr id="t2020-06-11T19:49:55"><th class="nick" style="background: #adad5b">mranostay</th><td class="text" style="color: #adad5b">/quit/</td><td class="time"><a href="#t2020-06-11T19:49:55" class="time">19:49</a></td></tr>
<tr id="t2020-06-11T19:49:59"><th class="nick" style="background: #adad5b">mranostay</th><td class="text" style="color: #adad5b">gah :)</td><td class="time"><a href="#t2020-06-11T19:49:59" class="time">19:49</a></td></tr>
<tr id="t2020-06-11T20:06:21"><th class="nick" style="background: #b15db1">nameclash</th><td class="text" style="color: #b15db1">hi all. I'm facing a weird behavior with one of my package recipes where a source code change does not show up in the final image. The sources only consist of a few python files that live directly in the ${PN}/files direcory beneath the recipe. when I examine the build output I don't see the do_install task being executed that should populate the changed file to the rootfs. normally I'd cleansstate the package and rebuild but</td><td class="time"><a href="#t2020-06-11T20:06:21" class="time">20:06</a></td></tr>
<tr id="t2020-06-11T20:06:21-2"><th class="nick" style="background: #b15db1">nameclash</th><td class="text" style="color: #b15db1">in this case I'm more interested in the root cause because I want to learn if I'm &quot;holding it wrong&quot;... any pointers how I could proceed with that?</td><td class="time"><a href="#t2020-06-11T20:06:21-2" class="time">20:06</a></td></tr>
<tr id="t2020-06-11T20:09:15"><th class="nick" style="background: #5fb4b4">paulbarker</th><td class="text" style="color: #5fb4b4">nameclash: What are you using for SRC_URI in the recipe?</td><td class="time"><a href="#t2020-06-11T20:09:15" class="time">20:09</a></td></tr>
<tr id="t2020-06-11T20:11:00-2"><th class="nick" style="background: #b15db1">nameclash</th><td class="text" style="color: #b15db1">paulbarker: SRC_URI = &quot; file://*.py &quot;</td><td class="time"><a href="#t2020-06-11T20:11:00-2" class="time">20:11</a></td></tr>
<tr id="t2020-06-11T20:11:21"><th class="nick" style="background: #5fb4b4">paulbarker</th><td class="text" style="color: #5fb4b4">nameclash: I don't think bitbake is able to watch for changes when you use a wildcard</td><td class="time"><a href="#t2020-06-11T20:11:21" class="time">20:11</a></td></tr>
<tr id="t2020-06-11T20:11:48"><th class="nick" style="background: #b15db1">nameclash</th><td class="text" style="color: #b15db1">you sure about that?</td><td class="time"><a href="#t2020-06-11T20:11:48" class="time">20:11</a></td></tr>
<tr id="t2020-06-11T20:15:59"><td class="nickchange" colspan="2">*** ad__ is now known as angelo__</td><td><a href="#t2020-06-11T20:15:59" class="time">20:15</a></td></tr>
<tr id="t2020-06-11T20:17:01"><th class="nick" style="background: #5fb4b4">paulbarker</th><td class="text" style="color: #5fb4b4">nameclash: I'm not 100% sure. Try it with the files explicitly listed in SRC_URI and see if it works :)</td><td class="time"><a href="#t2020-06-11T20:17:01" class="time">20:17</a></td></tr>
<tr id="t2020-06-11T20:17:02"><th class="nick" style="background: #b15db1">nameclash</th><td class="text" style="color: #b15db1">paulbarker: google doesnt help on that but I'll make some test runs now to verify what you said. thanks for the headsup</td><td class="time"><a href="#t2020-06-11T20:17:02" class="time">20:17</a></td></tr>
<tr id="t2020-06-11T20:17:25"><th class="nick" style="background: #b15db1">nameclash</th><td class="text" style="color: #b15db1">paulbarker: I came a second too late :)</td><td class="time"><a href="#t2020-06-11T20:17:25" class="time">20:17</a></td></tr>
<tr id="t2020-06-11T20:41:26"><th class="nick" style="background: #b86161">Letothe2nd</th><td class="text" style="color: #b86161">i am sure, just confirm</td><td class="time"><a href="#t2020-06-11T20:41:26" class="time">20:41</a></td></tr>
<tr id="t2020-06-11T20:41:36"><th class="nick" style="background: #b86161">Letothe2nd</th><td class="text" style="color: #b86161">SRC_URI doesn't glob</td><td class="time"><a href="#t2020-06-11T20:41:36" class="time">20:41</a></td></tr>
<tr id="t2020-06-11T20:41:45"><th class="nick" style="background: #b86161">Letothe2nd</th><td class="text" style="color: #b86161">*to confirm</td><td class="time"><a href="#t2020-06-11T20:41:45" class="time">20:41</a></td></tr>
<tr id="t2020-06-11T20:47:00"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b">Letothe2nd: I have the same issue.. I have been either using externalsrc (which does not support sstate-cache) or I write a python function to walk the source path and add it to SRC_URI.</td><td class="time"><a href="#t2020-06-11T20:47:00" class="time">20:47</a></td></tr>
<tr id="t2020-06-11T20:47:47"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b">Would be interested if there was a better solution for those of us that cant pull every package into its own repo.</td><td class="time"><a href="#t2020-06-11T20:47:47" class="time">20:47</a></td></tr>
<tr id="t2020-06-11T20:51:54"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b">For the kernel I rsync the source during do_fetch.. make that a git repo..&nbsp;&nbsp;then add my own hashing function based on externalsrc module. Seems not great but it works.</td><td class="time"><a href="#t2020-06-11T20:51:54" class="time">20:51</a></td></tr>
<tr id="t2020-06-11T21:41:26"><th class="nick" style="background: #b15db1">nameclash</th><td class="text" style="color: #b15db1">paulbarker, Letothe2nd: thx all, I ran a test build to verify (and guess what? you're right)</td><td class="time"><a href="#t2020-06-11T21:41:26" class="time">21:41</a></td></tr>
<tr id="t2020-06-11T21:42:59"><th class="nick" style="background: #b15db1">nameclash</th><td class="text" style="color: #b15db1">If I may elaborate on that, what about this: SRC_URI = &quot; file://src &quot; ?</td><td class="time"><a href="#t2020-06-11T21:42:59" class="time">21:42</a></td></tr>
<tr id="t2020-06-11T21:43:32"><th class="nick" style="background: #b15db1">nameclash</th><td class="text" style="color: #b15db1">will this suffer from a similar problem?</td><td class="time"><a href="#t2020-06-11T21:43:32" class="time">21:43</a></td></tr>
<tr id="t2020-06-11T21:43:52"><th class="nick" style="background: #b15db1">nameclash</th><td class="text" style="color: #b15db1">'src' is a directory in the example</td><td class="time"><a href="#t2020-06-11T21:43:52" class="time">21:43</a></td></tr>
<tr id="t2020-06-11T21:48:45"><th class="nick" style="background: #b15db1">nameclash</th><td class="text" style="color: #b15db1">rabbit9911: where'd you get that from that externalsrc dont support sstate-cache? is that documented somewhere?</td><td class="time"><a href="#t2020-06-11T21:48:45" class="time">21:48</a></td></tr>
<tr id="t2020-06-11T22:02:25"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b">for task in tasks:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if task.endswith(&quot;_setscene&quot;):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# sstate is never going to work for external source trees, disable it&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bb.build.deltask(task, d)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Since configure will likely touch ${S}, ensure only we lock so one task has access at a time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.appendVarFlag(task,</td><td class="time"><a href="#t2020-06-11T22:02:25" class="time">22:02</a></td></tr>
<tr id="t2020-06-11T22:02:25-2"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b">&quot;lockfiles&quot;, &quot; ${S}/singletask.lock&quot;)</td><td class="time"><a href="#t2020-06-11T22:02:25-2" class="time">22:02</a></td></tr>
<tr id="t2020-06-11T22:02:30"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b">yuck sorry about that</td><td class="time"><a href="#t2020-06-11T22:02:30" class="time">22:02</a></td></tr>
<tr id="t2020-06-11T22:03:03"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b"><a href="https://pastebin.com/kcD33HRZ" rel="nofollow">https://pastebin.com/kcD33HRZ</a></td><td class="time"><a href="#t2020-06-11T22:03:03" class="time">22:03</a></td></tr>
<tr id="t2020-06-11T22:03:24"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b">This is in externalsrc.bbclass</td><td class="time"><a href="#t2020-06-11T22:03:24" class="time">22:03</a></td></tr>
<tr id="t2020-06-11T22:05:58"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b">If I am not reading that right or missing something I would love to find out. I do see that this is the case in practice. Moving to my custom rsync method increased my build speed at the cost of disk space.</td><td class="time"><a href="#t2020-06-11T22:05:58" class="time">22:05</a></td></tr>
<tr id="t2020-06-11T22:07:34"><th class="nick" style="background: #b15db1">nameclash</th><td class="text" style="color: #b15db1">rabbit9911: yeah I'd interpret that like you. thx for sharing!</td><td class="time"><a href="#t2020-06-11T22:07:34" class="time">22:07</a></td></tr>
<tr id="t2020-06-11T22:10:37"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b">I do set EXTERNALSRC_SYMLINKS = &quot;&quot; to not pollute the src directory. If anyone here knows more about why sstate is not supported on externalsrc I would love to understand that more.</td><td class="time"><a href="#t2020-06-11T22:10:37" class="time">22:10</a></td></tr>
<tr id="t2020-06-11T22:11:51"><th class="nick" style="background: #b15db1">nameclash</th><td class="text" style="color: #b15db1">+1</td><td class="time"><a href="#t2020-06-11T22:11:51" class="time">22:11</a></td></tr>
<tr id="t2020-06-11T22:25:21"><th class="nick" style="background: #62bb62">kergoth</th><td class="text" style="color: #62bb62">i think originally it was problematic due to not fully tracking changes to the source repository and working copy on disk for the external sources, so tasks were flagged as nostamp and no sstate was done. I *think* we may be tracking those sources now, but not certain</td><td class="time"><a href="#t2020-06-11T22:25:21" class="time">22:25</a></td></tr>
<tr id="t2020-06-11T22:25:37"><th class="nick" style="background: #62bb62">kergoth</th><td class="text" style="color: #62bb62">sstate is highly dependent on knowing exactly what inputs go into a task, between metadata and file checksums</td><td class="time"><a href="#t2020-06-11T22:25:37" class="time">22:25</a></td></tr>
<tr id="t2020-06-11T22:36:06"><th class="nick" style="background: #4b904b">rabbit9911</th><td class="text" style="color: #4b904b">I remember the nostamp days.. That was brutal.</td><td class="time"><a href="#t2020-06-11T22:36:06" class="time">22:36</a></td></tr>
<tr id="t2020-06-11T22:46:36"><th class="nick" style="background: #6464bf">paulg</th><td class="text" style="color: #6464bf">saved a bunch on postage, though.</td><td class="time"><a href="#t2020-06-11T22:46:36" class="time">22:46</a></td></tr>
<tr id="t2020-06-11T23:45:47"><td class="nickchange" colspan="2">*** halstead is now known as halstead_</td><td><a href="#t2020-06-11T23:45:47" class="time">23:45</a></td></tr>
<tr id="t2020-06-11T23:46:16"><td class="nickchange" colspan="2">*** halstead_ is now known as halstead</td><td><a href="#t2020-06-11T23:46:16" class="time">23:46</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2020-06-10.log.html">&#171; Wednesday, 2020-06-10</a> <a href="index.html">Index</a> <a href="%23yocto.2020-06-12.log.html">Friday, 2020-06-12 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
