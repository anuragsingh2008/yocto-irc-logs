<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2020-08-28</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Friday, 2020-08-28</h1>
<div class="navigation"> <a href="%23yocto.2020-08-27.log.html">&#171; Thursday, 2020-08-27</a> <a href="index.html">Index</a> <a href="%23yocto.2020-08-29.log.html">Saturday, 2020-08-29 &#187;</a> </div>
<table class="irclog">
<tr id="t2020-08-28T03:40:39"><td class="nickchange" colspan="2">*** camus1 is now known as kaspter</td><td><a href="#t2020-08-28T03:40:39" class="time">03:40</a></td></tr>
<tr id="t2020-08-28T04:39:23"><td class="nickchange" colspan="2">*** camus1 is now known as kaspter</td><td><a href="#t2020-08-28T04:39:23" class="time">04:39</a></td></tr>
<tr id="t2020-08-28T08:46:39"><th class="nick" style="background: #407a40">Herdinger</th><td class="text" style="color: #407a40">Hey all, I'm having issues with dependencies for ptest. My recipe depends on the cmocka library for building tests, but I don't want to include it during the normal image deploy. So I thought adding cmocka to DEPENDS_${PN}-ptest should work but it does not show up in the dependency graph and can not be found during build of the tests.</td><td class="time"><a href="#t2020-08-28T08:46:39" class="time">08:46</a></td></tr>
<tr id="t2020-08-28T08:46:58"><th class="nick" style="background: #407a40">Herdinger</th><td class="text" style="color: #407a40">Is there a way to realize what I want?</td><td class="time"><a href="#t2020-08-28T08:46:58" class="time">08:46</a></td></tr>
<tr id="t2020-08-28T09:10:48"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">Herdinger: DEPENDS is without ${PN}, therefore that will not work. what might do the trick is splitting your thing into an include and two recipes, one productive and one ptest</td><td class="time"><a href="#t2020-08-28T09:10:48" class="time">09:10</a></td></tr>
<tr id="t2020-08-28T09:24:27"><th class="nick" style="background: #407a40">Herdinger</th><td class="text" style="color: #407a40">LetoThe2nd: That makes sense, but than id need to manually replicate everything in the ptest class right, since its usecase is extending a normal recipe adding a -ptest package.</td><td class="time"><a href="#t2020-08-28T09:24:27" class="time">09:24</a></td></tr>
<tr id="t2020-08-28T09:25:18"><th class="nick" style="background: #407a40">Herdinger</th><td class="text" style="color: #407a40">Also I'm not quite sure if there is anymore magic except for the package being named -ptest, i.e. if it has to show up in the dependency graph in the right way to enable it being picked up by the runner</td><td class="time"><a href="#t2020-08-28T09:25:18" class="time">09:25</a></td></tr>
<tr id="t2020-08-28T09:26:06"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">Herdinger: nope, you wouldn't have to replicate much. the normal recipe would be almost empty then, with all the payload being in the include. and the test package only brings extra bits.</td><td class="time"><a href="#t2020-08-28T09:26:06" class="time">09:26</a></td></tr>
<tr id="t2020-08-28T09:28:07"><th class="nick" style="background: #407a40">Herdinger</th><td class="text" style="color: #407a40">I mean replicating the contents of the ptest class, since i cant use that anymore</td><td class="time"><a href="#t2020-08-28T09:28:07" class="time">09:28</a></td></tr>
<tr id="t2020-08-28T09:29:56"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">why couldn't you?</td><td class="time"><a href="#t2020-08-28T09:29:56" class="time">09:29</a></td></tr>
<tr id="t2020-08-28T09:30:09"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">recipes are evaluated form top to bottom.</td><td class="time"><a href="#t2020-08-28T09:30:09" class="time">09:30</a></td></tr>
<tr id="t2020-08-28T09:30:29"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">so the test recipe starts out with the include, and then can add more inherits etc.</td><td class="time"><a href="#t2020-08-28T09:30:29" class="time">09:30</a></td></tr>
<tr id="t2020-08-28T09:30:53"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">sure, i might be missing a specific point of your usecase but i think that should work.</td><td class="time"><a href="#t2020-08-28T09:30:53" class="time">09:30</a></td></tr>
<tr id="t2020-08-28T09:32:00"><th class="nick" style="background: #407a40">Herdinger</th><td class="text" style="color: #407a40">yes, but the point is that ptests adds packages to a specific recipe, so for example if i have base.inc and than recipe-a.bb and recipe-a-ptest.bb including ptest would create a package recipe-a-ptest-ptest and apply the actual functionality, installs config etc. to that</td><td class="time"><a href="#t2020-08-28T09:32:00" class="time">09:32</a></td></tr>
<tr id="t2020-08-28T09:33:03"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">ah thats what you mean. yes, you would have two distinct package names for the test, and the non-test-case.</td><td class="time"><a href="#t2020-08-28T09:33:03" class="time">09:33</a></td></tr>
<tr id="t2020-08-28T09:33:23"><th class="nick" style="background: #407a40">Herdinger</th><td class="text" style="color: #407a40">So I would need to copy paste whatever ptest is doing and finagle it into something where it does its thing in context of the regular package.</td><td class="time"><a href="#t2020-08-28T09:33:23" class="time">09:33</a></td></tr>
<tr id="t2020-08-28T09:34:15"><th class="nick" style="background: #407a40">Herdinger</th><td class="text" style="color: #407a40">Also I don't know how the discoverability of ptest works, so if I would publish the recipe it might be that automatic installation of for the recipe is broken and it needs to be explicitly listed somewhere.</td><td class="time"><a href="#t2020-08-28T09:34:15" class="time">09:34</a></td></tr>
<tr id="t2020-08-28T09:34:54"><th class="nick" style="background: #407a40">Herdinger</th><td class="text" style="color: #407a40">I find it hard to belive that there is no recipe that needs a unit test library or something similar to build it's tests, I mean that has to be a common thing.</td><td class="time"><a href="#t2020-08-28T09:34:54" class="time">09:34</a></td></tr>
<tr id="t2020-08-28T09:36:14"><th class="nick" style="background: #407a40">Herdinger</th><td class="text" style="color: #407a40">Is it possible to remove rdepends? So that I put my unittest library into the regular depends, the shared libraries and header files get dynamically added to the rdepends for both packages. After that I want to remove the rdepends for the normal non ptest package. I think that would solve my issue</td><td class="time"><a href="#t2020-08-28T09:36:14" class="time">09:36</a></td></tr>
<tr id="t2020-08-28T09:38:54"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">yes you're right, its not the best idea i had. another option would for sure be to remove the dependencies that the package manager sees, but i've never done such so far. might require quite a bit of staring at bitbake -e output to find out where to modify things.</td><td class="time"><a href="#t2020-08-28T09:38:54" class="time">09:38</a></td></tr>
<tr id="t2020-08-28T11:32:14"><th class="nick" style="background: #818144">ak77</th><td class="text" style="color: #818144">why would SRC_URI_remove in bbappend not take effect?</td><td class="time"><a href="#t2020-08-28T11:32:14" class="time">11:32</a></td></tr>
<tr id="t2020-08-28T11:32:41"><th class="nick" style="background: #854685">erbo</th><td class="text" style="color: #854685">Herdinger: But if only the -ptest package has a run-time dependency to cmocka, it shouldn't be pulled in the to regular image. Or am I not reading the problem definition correctly?</td><td class="time"><a href="#t2020-08-28T11:32:41" class="time">11:32</a></td></tr>
<tr id="t2020-08-28T11:32:56"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">correct</td><td class="time"><a href="#t2020-08-28T11:32:56" class="time">11:32</a></td></tr>
<tr id="t2020-08-28T11:33:45"><th class="nick" style="background: #854685">erbo</th><td class="text" style="color: #854685">ak77: Could be it something related to order of variable substitution and when _remove operations are done?</td><td class="time"><a href="#t2020-08-28T11:33:45" class="time">11:33</a></td></tr>
<tr id="t2020-08-28T11:34:13"><th class="nick" style="background: #854685">erbo</th><td class="text" style="color: #854685">ak77: more details would be good, it should work to use SRC_URI_remove from bbappends</td><td class="time"><a href="#t2020-08-28T11:34:13" class="time">11:34</a></td></tr>
<tr id="t2020-08-28T11:34:51"><th class="nick" style="background: #818144">ak77</th><td class="text" style="color: #818144">ok, looking at bitbake -e recipe... it actually shows that _remove works, but file still ends up in the image</td><td class="time"><a href="#t2020-08-28T11:34:51" class="time">11:34</a></td></tr>
<tr id="t2020-08-28T11:37:58"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">so most likely your patch isn't sufficient</td><td class="time"><a href="#t2020-08-28T11:37:58" class="time">11:37</a></td></tr>
<tr id="t2020-08-28T11:52:51"><th class="nick" style="background: #818144">ak77</th><td class="text" style="color: #818144">rburton, that was it, yeah, another variable to modify. thank you</td><td class="time"><a href="#t2020-08-28T11:52:51" class="time">11:52</a></td></tr>
<tr id="t2020-08-28T12:44:51"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">our ext4 images only support 2038 dates, should we bump to 64-bit timestamps?</td><td class="time"><a href="#t2020-08-28T12:44:51" class="time">12:44</a></td></tr>
<tr id="t2020-08-28T12:46:11"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">it does loopback mount the file system</td><td class="time"><a href="#t2020-08-28T12:46:11" class="time">12:46</a></td></tr>
<tr id="t2020-08-28T12:47:58"><th class="nick" style="background: #8c4a4a">paulbarker</th><td class="text" style="color: #8c4a4a">rburton: You're supposed to leave it broken so we can all retire on the consulting fees for emergency fixes in 2037</td><td class="time"><a href="#t2020-08-28T12:47:58" class="time">12:47</a></td></tr>
<tr id="t2020-08-28T12:48:08"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">oh right, sorry</td><td class="time"><a href="#t2020-08-28T12:48:08" class="time">12:48</a></td></tr>
<tr id="t2020-08-28T12:48:17"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">forgot about my retirement plan</td><td class="time"><a href="#t2020-08-28T12:48:17" class="time">12:48</a></td></tr>
<tr id="t2020-08-28T12:49:43"><th class="nick" style="background: #4b904b">jubalh</th><td class="text" style="color: #4b904b">Hi, first time Yocto user here. If I would like to send a patch to <a href="http://cgit.openembedded.org/meta-openembedded/" rel="nofollow">http://cgit.openembedded.org/meta-openembedded/</a> which mailing list should I use?</td><td class="time"><a href="#t2020-08-28T12:49:43" class="time">12:49</a></td></tr>
<tr id="t2020-08-28T12:50:07"><th class="nick" style="background: #4b904b">jubalh</th><td class="text" style="color: #4b904b">Or should I email to Khem Raj directly?</td><td class="time"><a href="#t2020-08-28T12:50:07" class="time">12:50</a></td></tr>
<tr id="t2020-08-28T12:50:22"><th class="nick" style="background: #4b904b">jubalh</th><td class="text" style="color: #4b904b">khem: ^</td><td class="time"><a href="#t2020-08-28T12:50:22" class="time">12:50</a></td></tr>
<tr id="t2020-08-28T12:50:45"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">jubalh: see README for the relevant layer. <a href="http://cgit.openembedded.org/meta-openembedded/tree/meta-oe/README#n17" rel="nofollow">http://cgit.openembedded.org/meta-openembedded/tree/meta-oe/README#n17</a></td><td class="time"><a href="#t2020-08-28T12:50:45" class="time">12:50</a></td></tr>
<tr id="t2020-08-28T12:51:38"><th class="nick" style="background: #4b904b">jubalh</th><td class="text" style="color: #4b904b">rburton: oh, I missed that! Thanks!</td><td class="time"><a href="#t2020-08-28T12:51:38" class="time">12:51</a></td></tr>
<tr id="t2020-08-28T12:52:29"><th class="nick" style="background: #4b904b">jubalh</th><td class="text" style="color: #4b904b">Seems like one can even use github. easy :)</td><td class="time"><a href="#t2020-08-28T12:52:29" class="time">12:52</a></td></tr>
<tr id="t2020-08-28T12:52:52"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">you *must* post to the mailing list</td><td class="time"><a href="#t2020-08-28T12:52:52" class="time">12:52</a></td></tr>
<tr id="t2020-08-28T12:53:05"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">a big series can also be hosted on github for ease of review/merge</td><td class="time"><a href="#t2020-08-28T12:53:05" class="time">12:53</a></td></tr>
<tr id="t2020-08-28T12:53:32"><th class="nick" style="background: #4b904b">jubalh</th><td class="text" style="color: #4b904b">alright</td><td class="time"><a href="#t2020-08-28T12:53:32" class="time">12:53</a></td></tr>
<tr id="t2020-08-28T13:14:17"><th class="nick" style="background: #4b904b">jubalh</th><td class="text" style="color: #4b904b">Seems like I did something wrong since it sent the email two times</td><td class="time"><a href="#t2020-08-28T13:14:17" class="time">13:14</a></td></tr>
<tr id="t2020-08-28T14:37:14"><th class="nick" style="background: #4d4d93">khem</th><td class="text" style="color: #4d4d93">RP: seeing this <a href="http://errors.yoctoproject.org/Errors/Details/497216/" rel="nofollow">http://errors.yoctoproject.org/Errors/Details/497216/</a></td><td class="time"><a href="#t2020-08-28T14:37:14" class="time">14:37</a></td></tr>
<tr id="t2020-08-28T16:08:43"><td class="part" colspan="2">*** _julian &lt;_julian!~julian@200116b860ae4000a0367f867fd7638a.dip.versatel-1u1.de&gt; has left #yocto</td><td><a href="#t2020-08-28T16:08:43" class="time">16:08</a></td></tr>
<tr id="t2020-08-28T16:18:25"><td class="nickchange" colspan="2">*** minimaxw1ll is now known as minimaxwell</td><td><a href="#t2020-08-28T16:18:25" class="time">16:18</a></td></tr>
<tr id="t2020-08-28T18:48:03"><th class="nick" style="background: #97974f">rewitt</th><td class="text" style="color: #97974f">The latest version of rt-tests requires the numa libraries for compilation via this patch <a href="https://marc.info/?l=linux-rt-users&amp;m=158335896221530&amp;w=2" rel="nofollow">https://marc.info/?l=linux-rt-users&amp;m=158335896221530&amp;w=2</a>. rt-tests exists in oe-core, but numactl which provides libnuma/numa.h exists in meta-openembedded</td><td class="time"><a href="#t2020-08-28T18:48:03" class="time">18:48</a></td></tr>
<tr id="t2020-08-28T18:49:15"><th class="nick" style="background: #97974f">rewitt</th><td class="text" style="color: #97974f">So if we want to use the latest version of rt-tests, we have to bring numa.h and the libraries into oe-core, or try to patch out the numa requirement and carry it forever.</td><td class="time"><a href="#t2020-08-28T18:49:15" class="time">18:49</a></td></tr>
<tr id="t2020-08-28T18:50:44"><th class="nick" style="background: #97974f">rewitt</th><td class="text" style="color: #97974f">I suppose the other option would be to move rt-tests out of oe-core.</td><td class="time"><a href="#t2020-08-28T18:50:44" class="time">18:50</a></td></tr>
<tr id="t2020-08-28T19:01:26"><th class="nick" style="background: #9b519b">aurelien</th><td class="text" style="color: #9b519b">Hello #Yocto ... I got an error on using dnf update ... yum.repo.d does not exist .. any idea/good link?</td><td class="time"><a href="#t2020-08-28T19:01:26" class="time">19:01</a></td></tr>
<tr id="t2020-08-28T19:02:07"><th class="nick" style="background: #9b519b">aurelien</th><td class="text" style="color: #9b519b">(the rest is ok ... internet connection ... software ..) just no repolist by defaut -_-'</td><td class="time"><a href="#t2020-08-28T19:02:07" class="time">19:02</a></td></tr>
<tr id="t2020-08-28T19:05:24"><td class="action" colspan="2">* aurelien think he got it ...</td><td><a href="#t2020-08-28T19:05:24" class="time">19:05</a></td></tr>
<tr id="t2020-08-28T19:16:38"><th class="nick" style="background: #9b519b">aurelien</th><td class="text" style="color: #9b519b">nope ... i do not understand why it is missing by defaut after the bitbake ...</td><td class="time"><a href="#t2020-08-28T19:16:38" class="time">19:16</a></td></tr>
<tr id="t2020-08-28T19:16:39"><th class="nick" style="background: #9b519b">aurelien</th><td class="text" style="color: #9b519b">Linux qemux86-64 5.8.4-yocto-standard #1 SMP PREEMPT Wed Aug 26 16:07:56 UTC 2020 x86_64 GNU/Linux</td><td class="time"><a href="#t2020-08-28T19:16:39" class="time">19:16</a></td></tr>
<tr id="t2020-08-28T20:50:41"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">aurelien: you need to either write those files yourself, or set PACKAGE_FEED_URIS in your local.conf, to point at where your feeds are</td><td class="time"><a href="#t2020-08-28T20:50:41" class="time">20:50</a></td></tr>
<tr id="t2020-08-28T21:49:27"><td class="part" colspan="2">*** beneth &lt;beneth!~beneth@irc.beneth.fr&gt; has left #yocto</td><td><a href="#t2020-08-28T21:49:27" class="time">21:49</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2020-08-27.log.html">&#171; Thursday, 2020-08-27</a> <a href="index.html">Index</a> <a href="%23yocto.2020-08-29.log.html">Saturday, 2020-08-29 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
