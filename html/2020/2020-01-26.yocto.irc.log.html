<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Sunday, 2020-01-26</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Sunday, 2020-01-26</h1>
<div class="navigation"> <a href="%23yocto.2020-01-25.log.html">&#171; Saturday, 2020-01-25</a> <a href="index.html">Index</a> <a href="%23yocto.2020-01-27.log.html">Monday, 2020-01-27 &#187;</a> </div>
<table class="irclog">
<tr id="t2020-01-26T00:12:13"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">hmm can you post /lib/systemd/system/can0.service somewhere</td><td class="time"><a href="#t2020-01-26T00:12:13" class="time">00:12</a></td></tr>
<tr id="t2020-01-26T02:17:16"><th class="nick" style="background: #42427e">mranostay</th><td class="text" style="color: #42427e">khem: also this could be useful <a href="https://gerrit.automotivelinux.org/gerrit/c/AGL/meta-agl/+/20147" rel="nofollow">https://gerrit.automotivelinux.org/gerrit/c/AGL/meta-agl/+/20147</a></td><td class="time"><a href="#t2020-01-26T02:17:16" class="time">02:17</a></td></tr>
<tr id="t2020-01-26T02:18:07"><th class="nick" style="background: #42427e">mranostay</th><td class="text" style="color: #42427e">uses systemd .network stuff.. then again has to register a real can netdev device, and slcan</td><td class="time"><a href="#t2020-01-26T02:18:07" class="time">02:18</a></td></tr>
<tr id="t2020-01-26T02:18:13"><th class="nick" style="background: #42427e">mranostay</th><td class="text" style="color: #42427e">*not slcan</td><td class="time"><a href="#t2020-01-26T02:18:13" class="time">02:18</a></td></tr>
<tr id="t2020-01-26T13:53:30"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">Hey, can someone help me with understanding if devtool is the tool for the job...</td><td class="time"><a href="#t2020-01-26T13:53:30" class="time">13:53</a></td></tr>
<tr id="t2020-01-26T13:54:33"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">So far I understood that devtool is cool if one wants to update a version of a recipe, or create a new recipe without having to write a lot a boilerplate code...</td><td class="time"><a href="#t2020-01-26T13:54:33" class="time">13:54</a></td></tr>
<tr id="t2020-01-26T13:55:18"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">But am trying to understand if it was designed to help with creating .bbappend files for existing recipes</td><td class="time"><a href="#t2020-01-26T13:55:18" class="time">13:55</a></td></tr>
<tr id="t2020-01-26T13:55:52"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">For example, I want to modify this particular task: <a href="https://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/recipes-core/os-release/os-release.bb#n32" rel="nofollow">https://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/recipes-core/os-release/os-release.bb#n32</a></td><td class="time"><a href="#t2020-01-26T13:55:52" class="time">13:55</a></td></tr>
<tr id="t2020-01-26T13:57:14"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">I start with `devtool modify os-release`, it creates the `workspace` layer and throws an error that there are no sources available for that recipe.</td><td class="time"><a href="#t2020-01-26T13:57:14" class="time">13:57</a></td></tr>
<tr id="t2020-01-26T13:58:19"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">ls</td><td class="time"><a href="#t2020-01-26T13:58:19" class="time">13:58</a></td></tr>
<tr id="t2020-01-26T13:59:30"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">(ups :p ) The workspace dir is empty. What is the expected flow form here?</td><td class="time"><a href="#t2020-01-26T13:59:30" class="time">13:59</a></td></tr>
<tr id="t2020-01-26T14:07:03"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">I can see the original .bb file with `devtool edit-recipe os-release`. Can even make changes that are persistent (can see the changes I made every next run of `devtool modify os-release`)...</td><td class="time"><a href="#t2020-01-26T14:07:03" class="time">14:07</a></td></tr>
<tr id="t2020-01-26T14:07:43"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">But if I do `devtool build os-release` an error occurs: `ERROR: No recipe named 'os-release' in your workspace`</td><td class="time"><a href="#t2020-01-26T14:07:43" class="time">14:07</a></td></tr>
<tr id="t2020-01-26T14:10:15"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">MeanEngi: as fasr as i understood, you're supposed to use 'devtool modify' only once and then commit your changes to the newly created git repo within the workspace</td><td class="time"><a href="#t2020-01-26T14:10:15" class="time">14:10</a></td></tr>
<tr id="t2020-01-26T14:10:59"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">once you're done you can create a set of patches using 'devtool update-recipe'</td><td class="time"><a href="#t2020-01-26T14:10:59" class="time">14:10</a></td></tr>
<tr id="t2020-01-26T14:13:02"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">i am not sure about the build thing in your case. from the first view, the command itself looks generally ok.</td><td class="time"><a href="#t2020-01-26T14:13:02" class="time">14:13</a></td></tr>
<tr id="t2020-01-26T14:14:07"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">MeanEngi: i gave you're task a try at my local workspace. first thing i noticed was that running 'devtool modify os-release' gave me an error: 'ERROR: The os-release recipe has do_unpack disabled, unable to extract source'</td><td class="time"><a href="#t2020-01-26T14:14:07" class="time">14:14</a></td></tr>
<tr id="t2020-01-26T14:14:17"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">did you get the same error in the first place?</td><td class="time"><a href="#t2020-01-26T14:14:17" class="time">14:14</a></td></tr>
<tr id="t2020-01-26T14:14:29"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">so there might be something specific to that recipe</td><td class="time"><a href="#t2020-01-26T14:14:29" class="time">14:14</a></td></tr>
<tr id="t2020-01-26T14:14:47"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">creich: Thanks for the response. Yes, I got that error also.</td><td class="time"><a href="#t2020-01-26T14:14:47" class="time">14:14</a></td></tr>
<tr id="t2020-01-26T14:14:57"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">try to use your own layer and manually create an .bbappend file with your changes</td><td class="time"><a href="#t2020-01-26T14:14:57" class="time">14:14</a></td></tr>
<tr id="t2020-01-26T14:15:30"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">The `os-release` doesn't have a source like "regular" recipes. It just creates a file with the versions.</td><td class="time"><a href="#t2020-01-26T14:15:30" class="time">14:15</a></td></tr>
<tr id="t2020-01-26T14:15:57"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">&gt; try to use your own layer and manually create an .bbappend file with your changes</td><td class="time"><a href="#t2020-01-26T14:15:57" class="time">14:15</a></td></tr>
<tr id="t2020-01-26T14:16:04"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">Without devtool?</td><td class="time"><a href="#t2020-01-26T14:16:04" class="time">14:16</a></td></tr>
<tr id="t2020-01-26T14:16:13"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">yep</td><td class="time"><a href="#t2020-01-26T14:16:13" class="time">14:16</a></td></tr>
<tr id="t2020-01-26T14:16:19"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">you can use bitbake-layers</td><td class="time"><a href="#t2020-01-26T14:16:19" class="time">14:16</a></td></tr>
<tr id="t2020-01-26T14:16:23"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">to create a new layer</td><td class="time"><a href="#t2020-01-26T14:16:23" class="time">14:16</a></td></tr>
<tr id="t2020-01-26T14:16:28"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">if you don't have one already</td><td class="time"><a href="#t2020-01-26T14:16:28" class="time">14:16</a></td></tr>
<tr id="t2020-01-26T14:17:05"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">I know about that approach, thanks. But am trying to see if I'm missing something with `devtool`.</td><td class="time"><a href="#t2020-01-26T14:17:05" class="time">14:17</a></td></tr>
<tr id="t2020-01-26T14:17:06"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">bitbake-layers create-layer -p &lt;PRIORITY&gt; &lt;layer&gt;</td><td class="time"><a href="#t2020-01-26T14:17:06" class="time">14:17</a></td></tr>
<tr id="t2020-01-26T14:17:37"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">i am not sure, but it looks like the problem is related to that specific kind of recipe without sources</td><td class="time"><a href="#t2020-01-26T14:17:37" class="time">14:17</a></td></tr>
<tr id="t2020-01-26T14:17:51"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">generally your approach looks right i'd say</td><td class="time"><a href="#t2020-01-26T14:17:51" class="time">14:17</a></td></tr>
<tr id="t2020-01-26T14:18:17"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">but i am not an expert ^^</td><td class="time"><a href="#t2020-01-26T14:18:17" class="time">14:18</a></td></tr>
<tr id="t2020-01-26T14:19:21"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">Thanks. I guess I was hoping `devtool` wouldn't care about the sources and would provide an environment where I can easily see the results of the changes I'm making</td><td class="time"><a href="#t2020-01-26T14:19:21" class="time">14:19</a></td></tr>
<tr id="t2020-01-26T14:20:10"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">(I know it's possible to do it manually with `bitbake` and examining the directory for that recipe in the `work` dir)</td><td class="time"><a href="#t2020-01-26T14:20:10" class="time">14:20</a></td></tr>
<tr id="t2020-01-26T14:21:00"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">MeanEngi: found that in the devtool --help --&gt; modify&nbsp;&nbsp;&nbsp;&nbsp; Modify the source for an existing recipe</td><td class="time"><a href="#t2020-01-26T14:21:00" class="time">14:21</a></td></tr>
<tr id="t2020-01-26T14:21:27"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">so i tlitterally states that it modifies the SOURCE of a recipe ^^</td><td class="time"><a href="#t2020-01-26T14:21:27" class="time">14:21</a></td></tr>
<tr id="t2020-01-26T14:22:08"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">again, i think your approach is right in general. just not suiting that specific kind of recipe</td><td class="time"><a href="#t2020-01-26T14:22:08" class="time">14:22</a></td></tr>
<tr id="t2020-01-26T14:22:28"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">True :)&nbsp;&nbsp;But there is also the `edit-recipe&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Edit a recipe file`</td><td class="time"><a href="#t2020-01-26T14:22:28" class="time">14:22</a></td></tr>
<tr id="t2020-01-26T14:23:11"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">Working on a recipe in the workspace:</td><td class="time"><a href="#t2020-01-26T14:23:11" class="time">14:23</a></td></tr>
<tr id="t2020-01-26T14:23:21"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">And `edit-recipe` also works well, it loads the correct sources</td><td class="time"><a href="#t2020-01-26T14:23:21" class="time">14:23</a></td></tr>
<tr id="t2020-01-26T14:23:35"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">"sources" - the bb files</td><td class="time"><a href="#t2020-01-26T14:23:35" class="time">14:23</a></td></tr>
<tr id="t2020-01-26T14:23:51"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">hmm, ok. did you try it on your os-release recipe?</td><td class="time"><a href="#t2020-01-26T14:23:51" class="time">14:23</a></td></tr>
<tr id="t2020-01-26T14:24:06"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">And it even saves the changes somewhere, but it doesn't seem to be in the workspace layer</td><td class="time"><a href="#t2020-01-26T14:24:06" class="time">14:24</a></td></tr>
<tr id="t2020-01-26T14:24:12"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">i thought maybe the only thing working for you might be 'devtool create-workspace'</td><td class="time"><a href="#t2020-01-26T14:24:12" class="time">14:24</a></td></tr>
<tr id="t2020-01-26T14:24:25"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">hmm, that's weired</td><td class="time"><a href="#t2020-01-26T14:24:25" class="time">14:24</a></td></tr>
<tr id="t2020-01-26T14:24:30"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">Just checked git status</td><td class="time"><a href="#t2020-01-26T14:24:30" class="time">14:24</a></td></tr>
<tr id="t2020-01-26T14:24:38"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">i can give it a try</td><td class="time"><a href="#t2020-01-26T14:24:38" class="time">14:24</a></td></tr>
<tr id="t2020-01-26T14:24:47"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">It's modifying the recipe directly in `meta/recipes-core/os-release/os-release.bb`</td><td class="time"><a href="#t2020-01-26T14:24:47" class="time">14:24</a></td></tr>
<tr id="t2020-01-26T14:24:51"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">so you did 'devtool edit-recipe os-release'</td><td class="time"><a href="#t2020-01-26T14:24:51" class="time">14:24</a></td></tr>
<tr id="t2020-01-26T14:24:52"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">?</td><td class="time"><a href="#t2020-01-26T14:24:52" class="time">14:24</a></td></tr>
<tr id="t2020-01-26T14:24:56"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">Yup</td><td class="time"><a href="#t2020-01-26T14:24:56" class="time">14:24</a></td></tr>
<tr id="t2020-01-26T14:25:02"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">i see</td><td class="time"><a href="#t2020-01-26T14:25:02" class="time">14:25</a></td></tr>
<tr id="t2020-01-26T14:25:24"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">maybe try creating a new empty workspace and then edit</td><td class="time"><a href="#t2020-01-26T14:25:24" class="time">14:25</a></td></tr>
<tr id="t2020-01-26T14:30:45"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">i tried some of the devtool options and don't find anything suitable to your needs (as fasr as i understood them)</td><td class="time"><a href="#t2020-01-26T14:30:45" class="time">14:30</a></td></tr>
<tr id="t2020-01-26T14:31:13"><th class="nick" style="background: #818144">MeanEngi</th><td class="text" style="color: #818144">Tried, doesn't seem to be it's flow. Thanks for the attempt :)</td><td class="time"><a href="#t2020-01-26T14:31:13" class="time">14:31</a></td></tr>
<tr id="t2020-01-26T14:31:15"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">so looks like the cleanest way still is creating a new layer (or temp workspace if you like) and manually create a bbappend there</td><td class="time"><a href="#t2020-01-26T14:31:15" class="time">14:31</a></td></tr>
<tr id="t2020-01-26T14:31:26"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">you're welcome :)</td><td class="time"><a href="#t2020-01-26T14:31:26" class="time">14:31</a></td></tr>
<tr id="t2020-01-26T14:31:54"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">agrees, doesn't seem to be the flow ^^</td><td class="time"><a href="#t2020-01-26T14:31:54" class="time">14:31</a></td></tr>
<tr id="t2020-01-26T14:33:21"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">s/agrees/agreed/</td><td class="time"><a href="#t2020-01-26T14:33:21" class="time">14:33</a></td></tr>
<tr id="t2020-01-26T14:52:07"><th class="nick" style="background: #488888">beratiks</th><td class="text" style="color: #488888">Hello my friends. Yesterday I got a problem. I can solve half of my problem but only one thing left. I use systemd_%.bbappend for call can0.service. Not start automatically can0 afterboot first time. If I command `$systemctl --now enable can0` after every boot start auto. But I dont want write this command once. So if I call `��● can0.service</td><td class="time"><a href="#t2020-01-26T14:52:07" class="time">14:52</a></td></tr>
<tr id="t2020-01-26T14:52:07"><th class="nick" style="background: #488888">beratiks</th><td class="text" style="color: #488888">- can0 interface setup&nbsp;&nbsp; Loaded: loaded (/lib/systemd/system/can0.service; disabled; vendor preset: enabled)&nbsp;&nbsp; Active: inactive (dead)`&nbsp;&nbsp;Is any idea?</td><td class="time"><a href="#t2020-01-26T14:52:07" class="time">14:52</a></td></tr>
<tr id="t2020-01-26T14:53:16"><th class="nick" style="background: #488888">beratiks</th><td class="text" style="color: #488888">above log came if I command '$systemctl status can0'</td><td class="time"><a href="#t2020-01-26T14:53:16" class="time">14:53</a></td></tr>
<tr id="t2020-01-26T15:07:19"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">beratiks: have you tried this already?: <a href="https://stackoverflow.com/questions/32902003/enable-systemd-service-in-yocto-build" rel="nofollow">https://stackoverflow.com/questions/32902003/enable-systemd-service-in-yocto-build</a></td><td class="time"><a href="#t2020-01-26T15:07:19" class="time">15:07</a></td></tr>
<tr id="t2020-01-26T15:07:35"><th class="nick" style="background: #854685">creich</th><td class="text" style="color: #854685">expecially the last comment in the answer</td><td class="time"><a href="#t2020-01-26T15:07:35" class="time">15:07</a></td></tr>
<tr id="t2020-01-26T15:12:02"><th class="nick" style="background: #488888">beratiks</th><td class="text" style="color: #488888">creich: I didn't try. I am looking and I will try add. Thanks. After try I will back.</td><td class="time"><a href="#t2020-01-26T15:12:02" class="time">15:12</a></td></tr>
<tr id="t2020-01-26T19:18:38"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">RP: the patches in master-next are a bit stale</td><td class="time"><a href="#t2020-01-26T19:18:38" class="time">19:18</a></td></tr>
<tr id="t2020-01-26T19:18:55"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">RP: the latest is in kraj/pu on poky-contrib</td><td class="time"><a href="#t2020-01-26T19:18:55" class="time">19:18</a></td></tr>
<tr id="t2020-01-26T19:28:21"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">RP: I have now sent it all in a consolidated pull request as well</td><td class="time"><a href="#t2020-01-26T19:28:21" class="time">19:28</a></td></tr>
<tr id="t2020-01-26T22:23:08"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">khem: which ones? :/</td><td class="time"><a href="#t2020-01-26T22:23:08" class="time">22:23</a></td></tr>
<tr id="t2020-01-26T22:26:40"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">khem: basically means I now throw away the testing and start again as I have no idea what has changed :(</td><td class="time"><a href="#t2020-01-26T22:26:40" class="time">22:26</a></td></tr>
<tr id="t2020-01-26T22:30:07"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">khem: not sure they are that out of date according to diff...</td><td class="time"><a href="#t2020-01-26T22:30:07" class="time">22:30</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2020-01-25.log.html">&#171; Saturday, 2020-01-25</a> <a href="index.html">Index</a> <a href="%23yocto.2020-01-27.log.html">Monday, 2020-01-27 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
