<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Thursday, 2020-04-09</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Thursday, 2020-04-09</h1>
<div class="navigation"> <a href="%23yocto.2020-04-08.log.html">&#171; Wednesday, 2020-04-08</a> <a href="index.html">Index</a> <a href="%23yocto.2020-04-10.log.html">Friday, 2020-04-10 &#187;</a> </div>
<table class="irclog">
<tr id="t2020-04-09T00:27:49"><td class="nickchange" colspan="2">*** mischief1 is now known as mischief</td><td><a href="#t2020-04-09T00:27:49" class="time">00:27</a></td></tr>
<tr id="t2020-04-09T01:01:52"><th class="nick" style="background: #407a40">alejandrohs</th><td class="text" style="color: #407a40">zeddii: I definitely didnt get the reference</td><td class="time"><a href="#t2020-04-09T01:01:52" class="time">01:01</a></td></tr>
<tr id="t2020-04-09T02:43:44"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">alejandrohs, :D we are a strange bunch up here!</td><td class="time"><a href="#t2020-04-09T02:43:44" class="time">02:43</a></td></tr>
<tr id="t2020-04-09T02:53:22"><th class="nick" style="background: #818144">paulg</th><td class="text" style="color: #818144"><a href="https://en.wikipedia.org/wiki/P._L._Robertson" rel="nofollow">https://en.wikipedia.org/wiki/P._L._Robertson</a></td><td class="time"><a href="#t2020-04-09T02:53:22" class="time">02:53</a></td></tr>
<tr id="t2020-04-09T02:53:52"><th class="nick" style="background: #818144">paulg</th><td class="text" style="color: #818144">That damn Phillips dude - wrecking things for Canadians!</td><td class="time"><a href="#t2020-04-09T02:53:52" class="time">02:53</a></td></tr>
<tr id="t2020-04-09T02:54:42"><th class="nick" style="background: #818144">paulg</th><td class="text" style="color: #818144">couldn't just stop at contaminating Yocto lists...</td><td class="time"><a href="#t2020-04-09T02:54:42" class="time">02:54</a></td></tr>
<tr id="t2020-04-09T07:02:53"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">good morning! what is the correct way to install prebuilt binaries into the rootfs without having to deal with auto-detected runtime dependencies?</td><td class="time"><a href="#t2020-04-09T07:02:53" class="time">07:02</a></td></tr>
<tr id="t2020-04-09T07:04:43"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">@nameclash: pebuild packages or just binaries?</td><td class="time"><a href="#t2020-04-09T07:04:43" class="time">07:04</a></td></tr>
<tr id="t2020-04-09T07:05:38"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">actually it's a directory tree of binaries, cfg etc, so basically a package</td><td class="time"><a href="#t2020-04-09T07:05:38" class="time">07:05</a></td></tr>
<tr id="t2020-04-09T07:06:00"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">@nameclash: hmm but not a .deb .rpm .pkg package?</td><td class="time"><a href="#t2020-04-09T07:06:00" class="time">07:06</a></td></tr>
<tr id="t2020-04-09T07:06:09"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">no...</td><td class="time"><a href="#t2020-04-09T07:06:09" class="time">07:06</a></td></tr>
<tr id="t2020-04-09T07:06:36"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">it is a 3rd party suite of ui testing tools I built from source</td><td class="time"><a href="#t2020-04-09T07:06:36" class="time">07:06</a></td></tr>
<tr id="t2020-04-09T07:06:51"><th class="nick" style="background: #8c4a4a">erbo</th><td class="text" style="color: #8c4a4a">nameclash: I'd say to use the bin_package bbclass, and then override RDEPENDS_${PN} to clear it</td><td class="time"><a href="#t2020-04-09T07:06:51" class="time">07:06</a></td></tr>
<tr id="t2020-04-09T07:07:02"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">@nameclash: <a href="http://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/classes/bin_package.bbclass?h=dunfell" rel="nofollow">http://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/classes/bin_package.bbclass?h=dunfell</a></td><td class="time"><a href="#t2020-04-09T07:07:02" class="time">07:07</a></td></tr>
<tr id="t2020-04-09T07:07:16"><th class="nick" style="background: #8c4a4a">erbo</th><td class="text" style="color: #8c4a4a">nameclash: If you have the source, why not build it in Yocto though? :)</td><td class="time"><a href="#t2020-04-09T07:07:16" class="time">07:07</a></td></tr>
<tr id="t2020-04-09T07:07:19"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">@nameclash: but this can get tricky ;)</td><td class="time"><a href="#t2020-04-09T07:07:19" class="time">07:07</a></td></tr>
<tr id="t2020-04-09T07:07:45"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">@nameclash: yes exactly, why don't you build it?</td><td class="time"><a href="#t2020-04-09T07:07:45" class="time">07:07</a></td></tr>
<tr id="t2020-04-09T07:09:25"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">the project itself is qt based, but they're using their own awesome commercial binary build engine so I had no chance building it from source within yocto</td><td class="time"><a href="#t2020-04-09T07:09:25" class="time">07:09</a></td></tr>
<tr id="t2020-04-09T07:09:53"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">I tried it but failed miserably</td><td class="time"><a href="#t2020-04-09T07:09:53" class="time">07:09</a></td></tr>
<tr id="t2020-04-09T07:10:33"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">@nameclash: hehe I think I know what stuff you are talking about ;)</td><td class="time"><a href="#t2020-04-09T07:10:33" class="time">07:10</a></td></tr>
<tr id="t2020-04-09T07:11:36"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">they're using their own homebrew build system that uses qmake internally and I got stuck somewhere 5 yards before the finish line</td><td class="time"><a href="#t2020-04-09T07:11:36" class="time">07:11</a></td></tr>
<tr id="t2020-04-09T07:12:33"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">then I said screw it, just throw in the binaries (can't be that hard, huh?) and then this pesky auto dependency checker got me</td><td class="time"><a href="#t2020-04-09T07:12:33" class="time">07:12</a></td></tr>
<tr id="t2020-04-09T07:12:39"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">@nameclash: if you can bundle it somehow as a package, you could use, as mentioned above, the bin_package class</td><td class="time"><a href="#t2020-04-09T07:12:39" class="time">07:12</a></td></tr>
<tr id="t2020-04-09T07:12:46"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">@nameclash: <a href="https://www.yoctoproject.org/pipermail/yocto/2019-February/044277.html" rel="nofollow">https://www.yoctoproject.org/pipermail/yocto/2019-February/044277.html</a></td><td class="time"><a href="#t2020-04-09T07:12:46" class="time">07:12</a></td></tr>
<tr id="t2020-04-09T07:13:21"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">@nameclash: otherwise you can write your own recipe, which just copies files over where they belong to</td><td class="time"><a href="#t2020-04-09T07:13:21" class="time">07:13</a></td></tr>
<tr id="t2020-04-09T07:13:37"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">I did that</td><td class="time"><a href="#t2020-04-09T07:13:37" class="time">07:13</a></td></tr>
<tr id="t2020-04-09T07:14:34"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">but some of the binaries link againist libQt5Declarative.so and bitbake detects that and says I have nothing that provides this</td><td class="time"><a href="#t2020-04-09T07:14:34" class="time">07:14</a></td></tr>
<tr id="t2020-04-09T07:14:59"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">although I have qt-5 in my image</td><td class="time"><a href="#t2020-04-09T07:14:59" class="time">07:14</a></td></tr>
<tr id="t2020-04-09T07:16:00"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">I dont understand it. but I guess such things may happen if you're not building everything from scratch alltogether</td><td class="time"><a href="#t2020-04-09T07:16:00" class="time">07:16</a></td></tr>
<tr id="t2020-04-09T07:16:06"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">@nameclash: that's a packaging problem</td><td class="time"><a href="#t2020-04-09T07:16:06" class="time">07:16</a></td></tr>
<tr id="t2020-04-09T07:16:47"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">@nameclash: you did not just copy over stuff, I guess, but more in your recipe</td><td class="time"><a href="#t2020-04-09T07:16:47" class="time">07:16</a></td></tr>
<tr id="t2020-04-09T07:19:03"><th class="nick" style="background: #8c4a4a">erbo</th><td class="text" style="color: #8c4a4a">I think the bin_package class handles tarballs as well</td><td class="time"><a href="#t2020-04-09T07:19:03" class="time">07:19</a></td></tr>
<tr id="t2020-04-09T07:19:46"><th class="nick" style="background: #8c4a4a">erbo</th><td class="text" style="color: #8c4a4a">nameclash: Have you tried just overriding RDEPENDS_${PN} = "" in your recipe?</td><td class="time"><a href="#t2020-04-09T07:19:46" class="time">07:19</a></td></tr>
<tr id="t2020-04-09T07:20:22"><th class="nick" style="background: #8c4a4a">erbo</th><td class="text" style="color: #8c4a4a">or maybe the autodepenencies are added after reading RDEPENDS?</td><td class="time"><a href="#t2020-04-09T07:20:22" class="time">07:20</a></td></tr>
<tr id="t2020-04-09T07:20:22"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">first, I put those 3rd party sources in a repo and wrote a recipe for it to build it from source. when I got stuck with qmake I gave up and decided to add a tarball with the artifacts I had built by hand and changed the recipe to just untar it in do_install. That gave me a bunch of uid warnings which I didnt like so I unpacked the tarball, put the files in the repo and then just copied them into place in do_install</td><td class="time"><a href="#t2020-04-09T07:20:22" class="time">07:20</a></td></tr>
<tr id="t2020-04-09T07:21:02"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">@erbo: yes this could be the case.</td><td class="time"><a href="#t2020-04-09T07:21:02" class="time">07:21</a></td></tr>
<tr id="t2020-04-09T07:21:43"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">that gave me 3 warnings about missing dependencies to libQt5Declarative.so, so I INSANE_SKIPPED file-rdeps and that actually made the recipe succeed, but RPM got me on do_rootfs</td><td class="time"><a href="#t2020-04-09T07:21:43" class="time">07:21</a></td></tr>
<tr id="t2020-04-09T07:22:08"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">that's the whole story</td><td class="time"><a href="#t2020-04-09T07:22:08" class="time">07:22</a></td></tr>
<tr id="t2020-04-09T07:22:54"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">I'll try something more now, just came in my mind and then I'll look into the links you sent</td><td class="time"><a href="#t2020-04-09T07:22:54" class="time">07:22</a></td></tr>
<tr id="t2020-04-09T07:23:01"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">thx guys</td><td class="time"><a href="#t2020-04-09T07:23:01" class="time">07:23</a></td></tr>
<tr id="t2020-04-09T07:23:08"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">I'll ping back</td><td class="time"><a href="#t2020-04-09T07:23:08" class="time">07:23</a></td></tr>
<tr id="t2020-04-09T07:24:10"><td class="nickchange" colspan="2">*** xade is now known as xavier_deschuyte</td><td><a href="#t2020-04-09T07:24:10" class="time">07:24</a></td></tr>
<tr id="t2020-04-09T07:25:19"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">Hi all, I have an issue with bitbake data store manipulation, here is a minimal example: <a href="https://pastebin.com/EqNw978C" rel="nofollow">https://pastebin.com/EqNw978C</a></td><td class="time"><a href="#t2020-04-09T07:25:19" class="time">07:25</a></td></tr>
<tr id="t2020-04-09T07:26:38"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">myfunc task is using setvar and check that it's applied and myfunc2 (another task running after myfunc) is trying to check it. And it's not working, here is the log: <a href="https://pastebin.com/A99f4n1G" rel="nofollow">https://pastebin.com/A99f4n1G</a></td><td class="time"><a href="#t2020-04-09T07:26:38" class="time">07:26</a></td></tr>
<tr id="t2020-04-09T07:27:46"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">myfunc is "OK" but we see in myfunc2 log that setvar was not correctly applied.</td><td class="time"><a href="#t2020-04-09T07:27:46" class="time">07:27</a></td></tr>
<tr id="t2020-04-09T07:28:13"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">my goal is to modify SUMMARY/DESCRIPTION/PV from git repo files.</td><td class="time"><a href="#t2020-04-09T07:28:13" class="time">07:28</a></td></tr>
<tr id="t2020-04-09T07:28:18"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">Any idea how to fix this?</td><td class="time"><a href="#t2020-04-09T07:28:18" class="time">07:28</a></td></tr>
<tr id="t2020-04-09T07:30:28"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">@xavier: Not sure if DESCRIPTION behaves differently from other variables ;)</td><td class="time"><a href="#t2020-04-09T07:30:28" class="time">07:30</a></td></tr>
<tr id="t2020-04-09T07:30:36"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">I would try a non system variable</td><td class="time"><a href="#t2020-04-09T07:30:36" class="time">07:30</a></td></tr>
<tr id="t2020-04-09T07:30:46"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">and I would also try in my task instead of set</td><td class="time"><a href="#t2020-04-09T07:30:46" class="time">07:30</a></td></tr>
<tr id="t2020-04-09T07:31:06"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">VAR="pouet"</td><td class="time"><a href="#t2020-04-09T07:31:06" class="time">07:31</a></td></tr>
<tr id="t2020-04-09T07:31:08"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">or so</td><td class="time"><a href="#t2020-04-09T07:31:08" class="time">07:31</a></td></tr>
<tr id="t2020-04-09T07:31:11"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">does this work?</td><td class="time"><a href="#t2020-04-09T07:31:11" class="time">07:31</a></td></tr>
<tr id="t2020-04-09T07:31:33"><th class="nick" style="background: #8c4a4a">erbo</th><td class="text" style="color: #8c4a4a">I don't think you can modify variables and have it stored between tasks, IIRC</td><td class="time"><a href="#t2020-04-09T07:31:33" class="time">07:31</a></td></tr>
<tr id="t2020-04-09T07:32:48"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">I tried it with some success with something like this: SUMMARY="${@myfunc(d)}" but it's not "stable"</td><td class="time"><a href="#t2020-04-09T07:32:48" class="time">07:32</a></td></tr>
<tr id="t2020-04-09T07:33:23"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">Depending of the build order/connection speed, sometimes it worked, sometimes not (apparrently bitbake is not expecting variable parsing to take some time)</td><td class="time"><a href="#t2020-04-09T07:33:23" class="time">07:33</a></td></tr>
<tr id="t2020-04-09T07:33:51"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">you also didn't clearly define what should run first</td><td class="time"><a href="#t2020-04-09T07:33:51" class="time">07:33</a></td></tr>
<tr id="t2020-04-09T07:34:55"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">try _prepend _append</td><td class="time"><a href="#t2020-04-09T07:34:55" class="time">07:34</a></td></tr>
<tr id="t2020-04-09T07:34:56"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">RobertBerger I tried with a non bitbake variable without success: <a href="https://pastebin.com/1f4ccmvA" rel="nofollow">https://pastebin.com/1f4ccmvA</a> and output <a href="https://pastebin.com/ztUxtZcB" rel="nofollow">https://pastebin.com/ztUxtZcB</a></td><td class="time"><a href="#t2020-04-09T07:34:56" class="time">07:34</a></td></tr>
<tr id="t2020-04-09T07:36:12"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">RobertBerger order is defined with addtask isn't it? and it appears to be correctly working and is not the issue here (I can check it with deb package info that is using DESCRIPTION)</td><td class="time"><a href="#t2020-04-09T07:36:12" class="time">07:36</a></td></tr>
<tr id="t2020-04-09T07:36:31"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">well with before and after</td><td class="time"><a href="#t2020-04-09T07:36:31" class="time">07:36</a></td></tr>
<tr id="t2020-04-09T07:36:36"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">but that is not precise</td><td class="time"><a href="#t2020-04-09T07:36:36" class="time">07:36</a></td></tr>
<tr id="t2020-04-09T07:37:07"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">you could try instead of myfunc2</td><td class="time"><a href="#t2020-04-09T07:37:07" class="time">07:37</a></td></tr>
<tr id="t2020-04-09T07:37:15"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">myfunc_prepend</td><td class="time"><a href="#t2020-04-09T07:37:15" class="time">07:37</a></td></tr>
<tr id="t2020-04-09T07:37:23"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">sorry append</td><td class="time"><a href="#t2020-04-09T07:37:23" class="time">07:37</a></td></tr>
<tr id="t2020-04-09T07:37:35"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">then the second one will run after the first</td><td class="time"><a href="#t2020-04-09T07:37:35" class="time">07:37</a></td></tr>
<tr id="t2020-04-09T07:38:02"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">and take out the second before/after line</td><td class="time"><a href="#t2020-04-09T07:38:02" class="time">07:38</a></td></tr>
<tr id="t2020-04-09T07:38:23"><th class="nick" style="background: #8c4a4a">erbo</th><td class="text" style="color: #8c4a4a">xavier_deschuyte: I think changes to the datastore is only valid inside the task</td><td class="time"><a href="#t2020-04-09T07:38:23" class="time">07:38</a></td></tr>
<tr id="t2020-04-09T07:39:19"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">RobertBerger even if order issue is not the issue here (you clearly see that myfunc2 is executing after myfunc) so task order is OK. But with your suggestion it's not working neitherrr</td><td class="time"><a href="#t2020-04-09T07:39:19" class="time">07:39</a></td></tr>
<tr id="t2020-04-09T07:39:47"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">erbo : yes that's what I observe here, but that's strange because that's not what the documentation is stating</td><td class="time"><a href="#t2020-04-09T07:39:47" class="time">07:39</a></td></tr>
<tr id="t2020-04-09T07:40:05"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">hehe - let me have a look ;)</td><td class="time"><a href="#t2020-04-09T07:40:05" class="time">07:40</a></td></tr>
<tr id="t2020-04-09T07:42:23"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">erbo <a href="https://www.yoctoproject.org/docs/2.3.4/bitbake-user-manual/bitbake-user-manual.html" rel="nofollow">https://www.yoctoproject.org/docs/2.3.4/bitbake-user-manual/bitbake-user-manual.html</a> section 3.5.5</td><td class="time"><a href="#t2020-04-09T07:42:23" class="time">07:42</a></td></tr>
<tr id="t2020-04-09T07:42:59"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b"><a href="https://www.yoctoproject.org/docs/2.3.4/bitbake-user-manual/bitbake-user-manual.html#anonymous-python-functions" rel="nofollow">https://www.yoctoproject.org/docs/2.3.4/bitbake-user-manual/bitbake-user-manual.html#anonymous-python-functions</a></td><td class="time"><a href="#t2020-04-09T07:42:59" class="time">07:42</a></td></tr>
<tr id="t2020-04-09T07:45:09"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">RobertBerger thanks for the help! my goal is to change the DESCRIPTION field of the generated deb. I saw in the package_deb class that it's using getvar.. I assumed that using setvar before would do the trick</td><td class="time"><a href="#t2020-04-09T07:45:09" class="time">07:45</a></td></tr>
<tr id="t2020-04-09T07:46:07"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">I am busy right now, but will definitely try to see what's going on on my mission to demystify bitbake ;)</td><td class="time"><a href="#t2020-04-09T07:46:07" class="time">07:46</a></td></tr>
<tr id="t2020-04-09T07:46:20"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">so I am collecting such things and solutions to it</td><td class="time"><a href="#t2020-04-09T07:46:20" class="time">07:46</a></td></tr>
<tr id="t2020-04-09T07:46:59"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">Why don't you just write DESCRIPTION="das;dkas;ldk" in your recipe?</td><td class="time"><a href="#t2020-04-09T07:46:59" class="time">07:46</a></td></tr>
<tr id="t2020-04-09T07:46:59"><th class="nick" style="background: #8c4a4a">erbo</th><td class="text" style="color: #8c4a4a">xavier_deschuyte: yeah I recall having troubles finding this info too. And regarding the anonymous function, maybe those can modify but not regular tasks</td><td class="time"><a href="#t2020-04-09T07:46:59" class="time">07:46</a></td></tr>
<tr id="t2020-04-09T07:48:29"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">erbo yes, anonymous is working as described. But then, I am facing issue with the bitbake task scheduler (because I need to access git files, I need to fetch/unpack and it takes time and apparentlty parsing is not supposed to "take time"</td><td class="time"><a href="#t2020-04-09T07:48:29" class="time">07:48</a></td></tr>
<tr id="t2020-04-09T07:48:59"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">RobertBerger : because basically I want to set description with a git file content</td><td class="time"><a href="#t2020-04-09T07:48:59" class="time">07:48</a></td></tr>
<tr id="t2020-04-09T07:49:22"><th class="nick" style="background: #488888">RobertBerger</th><td class="text" style="color: #488888">OK an addition issue ;)</td><td class="time"><a href="#t2020-04-09T07:49:22" class="time">07:49</a></td></tr>
<tr id="t2020-04-09T07:57:34"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">I suppose that python tasks receive a "copy" of the global context. Would be nice to get a way to access global context</td><td class="time"><a href="#t2020-04-09T07:57:34" class="time">07:57</a></td></tr>
<tr id="t2020-04-09T08:00:29"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2020-04-09T08:00:29" class="time">08:00</a></td></tr>
<tr id="t2020-04-09T08:05:27"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">OK. By putting logs in a python anonymous function. I understood my issue: each bitbake task trigger a recipe parsing. So I assume my setvar is working but is wiped by the next recipe parsing</td><td class="time"><a href="#t2020-04-09T08:05:27" class="time">08:05</a></td></tr>
<tr id="t2020-04-09T08:07:21"><th class="nick" style="background: #4d4d93">paulbarker</th><td class="text" style="color: #4d4d93">xavier_deschuyte: Each task has it's own context. Are you trying to set a value in one task and then get it in another task?</td><td class="time"><a href="#t2020-04-09T08:07:21" class="time">08:07</a></td></tr>
<tr id="t2020-04-09T08:07:40"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">Here is an example: <a href="https://pastebin.com/is1rFXA9" rel="nofollow">https://pastebin.com/is1rFXA9</a> producing <a href="https://pastebin.com/41PtwKKR" rel="nofollow">https://pastebin.com/41PtwKKR</a></td><td class="time"><a href="#t2020-04-09T08:07:40" class="time">08:07</a></td></tr>
<tr id="t2020-04-09T08:08:44"><th class="nick" style="background: #4d4d93">paulbarker</th><td class="text" style="color: #4d4d93">xavier_deschuyte: It's not technically parsing, more like execution of the code that was already parsed</td><td class="time"><a href="#t2020-04-09T08:08:44" class="time">08:08</a></td></tr>
<tr id="t2020-04-09T08:08:48"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">paulbarker my goal is to set deb package attribute (DESCRIPTION for example). So without modifying bitbake files, only my recipe.</td><td class="time"><a href="#t2020-04-09T08:08:48" class="time">08:08</a></td></tr>
<tr id="t2020-04-09T08:09:03"><th class="nick" style="background: #4d4d93">paulbarker</th><td class="text" style="color: #4d4d93">What do you mean by "bitbake files"</td><td class="time"><a href="#t2020-04-09T08:09:03" class="time">08:09</a></td></tr>
<tr id="t2020-04-09T08:10:01"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">package_deb.class</td><td class="time"><a href="#t2020-04-09T08:10:01" class="time">08:10</a></td></tr>
<tr id="t2020-04-09T08:10:59"><th class="nick" style="background: #4d4d93">paulbarker</th><td class="text" style="color: #4d4d93">I'd recommend avoiding package_deb and using either ipk or rpm packages instead as they're much better supported</td><td class="time"><a href="#t2020-04-09T08:10:59" class="time">08:10</a></td></tr>
<tr id="t2020-04-09T08:11:48"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">paulbarker I need to get deb packages (I generate an APT repository)</td><td class="time"><a href="#t2020-04-09T08:11:48" class="time">08:11</a></td></tr>
<tr id="t2020-04-09T08:12:17"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">Can someone shine a light on the use of LICENSE_EXCLUSION in base.bbclass? It is only used in package.bbclass and the logic is broken for multilib so I'd like to fix it. The easiest is just to axe it but mmmm maybe there's a reason :) ?</td><td class="time"><a href="#t2020-04-09T08:12:17" class="time">08:12</a></td></tr>
<tr id="t2020-04-09T08:12:24"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">and using rpm, ipk or whatever would not fix my issue. I need to set a bitbake variable from a git file</td><td class="time"><a href="#t2020-04-09T08:12:24" class="time">08:12</a></td></tr>
<tr id="t2020-04-09T08:14:53"><th class="nick" style="background: #4d4d93">paulbarker</th><td class="text" style="color: #4d4d93">xavier_deschuyte: I don't know any way to do that neatly, you may be better off asking in an email to the list</td><td class="time"><a href="#t2020-04-09T08:14:53" class="time">08:14</a></td></tr>
<tr id="t2020-04-09T08:17:01"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">paulbarker I double checked my test and I think your solution could be the correct one "append/prepend".</td><td class="time"><a href="#t2020-04-09T08:17:01" class="time">08:17</a></td></tr>
<tr id="t2020-04-09T08:17:25"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">But in fact when I said it was not "working" digging into that means it was simply not executed</td><td class="time"><a href="#t2020-04-09T08:17:25" class="time">08:17</a></td></tr>
<tr id="t2020-04-09T08:17:55"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">I simply declare the task this way: `python do_myfunc_append() {`</td><td class="time"><a href="#t2020-04-09T08:17:55" class="time">08:17</a></td></tr>
<tr id="t2020-04-09T08:18:34"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">but it is not executed</td><td class="time"><a href="#t2020-04-09T08:18:34" class="time">08:18</a></td></tr>
<tr id="t2020-04-09T08:19:00"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">but I hope that prepend/append are executing without "reparsing" and so context would be the same and it would work</td><td class="time"><a href="#t2020-04-09T08:19:00" class="time">08:19</a></td></tr>
<tr id="t2020-04-09T08:19:54"><th class="nick" style="background: #4d4d93">paulbarker</th><td class="text" style="color: #4d4d93">prepend/append fragments are joined together before the code is executed so that should work</td><td class="time"><a href="#t2020-04-09T08:19:54" class="time">08:19</a></td></tr>
<tr id="t2020-04-09T08:20:33"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">but my syntax is not working</td><td class="time"><a href="#t2020-04-09T08:20:33" class="time">08:20</a></td></tr>
<tr id="t2020-04-09T08:20:41"><th class="nick" style="background: #4d4d93">paulbarker</th><td class="text" style="color: #4d4d93">Let me check quickly</td><td class="time"><a href="#t2020-04-09T08:20:41" class="time">08:20</a></td></tr>
<tr id="t2020-04-09T08:20:48"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">thanks!</td><td class="time"><a href="#t2020-04-09T08:20:48" class="time">08:20</a></td></tr>
<tr id="t2020-04-09T08:22:00"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">I used that: `do_myfunc[postfuncs] += "do_myfunc_append"` that did the trick and context is preserved but would be interrested to fix it with append/prepend</td><td class="time"><a href="#t2020-04-09T08:22:00" class="time">08:22</a></td></tr>
<tr id="t2020-04-09T08:22:02"><th class="nick" style="background: #4d4d93">paulbarker</th><td class="text" style="color: #4d4d93">What's that `BB_DONT_CACHE` doing there?</td><td class="time"><a href="#t2020-04-09T08:22:02" class="time">08:22</a></td></tr>
<tr id="t2020-04-09T08:22:27"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">just a test... I was afraid that bitbake was "caching parsing" of summary or similar</td><td class="time"><a href="#t2020-04-09T08:22:27" class="time">08:22</a></td></tr>
<tr id="t2020-04-09T08:22:37"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">but it's not the issue here</td><td class="time"><a href="#t2020-04-09T08:22:37" class="time">08:22</a></td></tr>
<tr id="t2020-04-09T08:27:22"><th class="nick" style="background: #4d4d93">paulbarker</th><td class="text" style="color: #4d4d93">xavier_deschuyte: Your append should work. Check what appears in `tmp/work/&lt;arch&gt;/&lt;pkg&gt;/&lt;version&gt;/temp/run.do_myfunc`</td><td class="time"><a href="#t2020-04-09T08:27:22" class="time">08:27</a></td></tr>
<tr id="t2020-04-09T08:34:30"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">ugh... it seems I can't fix my multilib issue without breaking something else.... Will open a bug then :/</td><td class="time"><a href="#t2020-04-09T08:34:30" class="time">08:34</a></td></tr>
<tr id="t2020-04-09T08:35:33"><th class="nick" style="background: #4d4d93">paulbarker</th><td class="text" style="color: #4d4d93">qschulz: 99 little bugs in the code, 99 little bugs in the code. Take one down, patch it around, 117 little bugs in the code</td><td class="time"><a href="#t2020-04-09T08:35:33" class="time">08:35</a></td></tr>
<tr id="t2020-04-09T08:37:31"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">paulbarker: but it's kinda of an issue. I fall in a side effect of PACKAGES having lib32- prepended later than LICENSE_EXCLUSION being computed. If I fix that, all packages depending on this side effect will actually break and there are more than the one impacted by the current behavior....</td><td class="time"><a href="#t2020-04-09T08:37:31" class="time">08:37</a></td></tr>
<tr id="t2020-04-09T08:37:55"><th class="nick" style="background: #4d4d93">paulbarker</th><td class="text" style="color: #4d4d93">qschulz: ouch</td><td class="time"><a href="#t2020-04-09T08:37:55" class="time">08:37</a></td></tr>
<tr id="t2020-04-09T08:38:23"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">paulbarker: yeah you don't say :)</td><td class="time"><a href="#t2020-04-09T08:38:23" class="time">08:38</a></td></tr>
<tr id="t2020-04-09T10:02:44"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">paulbarker : prepend is not working neither for my specific case because deb package generation uses "execs" so I am trying right now to put a task after the deb build to edit the control file. Not that ugly in the end.</td><td class="time"><a href="#t2020-04-09T10:02:44" class="time">10:02</a></td></tr>
<tr id="t2020-04-09T10:38:47"><th class="nick" style="background: #9b519b">x7777</th><td class="text" style="color: #9b519b">Hi guys. Im building poky 3.0.2 with meta-raspberrypi and targetting raspberrypi4-64. Any idea why my TARGET_FPU is empty? Machine raspberrypi4-64 uses tune-cortexa72 from OE. if I understood correctly, cortex-a72 should have vfpv4 support?</td><td class="time"><a href="#t2020-04-09T10:38:47" class="time">10:38</a></td></tr>
<tr id="t2020-04-09T10:42:36"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">paulbarker: if you're interested: <a href="http://bugzilla.yoctoproject.org/show_bug.cgi?id=13865" rel="nofollow">http://bugzilla.yoctoproject.org/show_bug.cgi?id=13865</a></td><td class="time"><a href="#t2020-04-09T10:42:36" class="time">10:42</a></td></tr>
<tr id="t2020-04-09T10:42:38"><th class="nick" style="background: #539e9e">yocti</th><td class="text" style="color: #539e9e">Bug 13865: critical, Undecided, ---, unassigned, NEW , mutlilib results in, if package has incompatible license, pulled in rootfs or if package has compatible license, blacklisted from RDEPENDS/rootfs</td><td class="time"><a href="#t2020-04-09T10:42:38" class="time">10:42</a></td></tr>
<tr id="t2020-04-09T10:47:36"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">Hopefully I'm not drowning people in details in this issue, I've been pretty bad lately at explaining things. Let me know if there is some rephrasing to do :)</td><td class="time"><a href="#t2020-04-09T10:47:36" class="time">10:47</a></td></tr>
<tr id="t2020-04-09T11:18:11"><th class="nick" style="background: #a25555">RP</th><td class="text" style="color: #a25555">qschulz: that bug sounds horrible :(</td><td class="time"><a href="#t2020-04-09T11:18:11" class="time">11:18</a></td></tr>
<tr id="t2020-04-09T11:18:25"><th class="nick" style="background: #4d4d93">paulbarker</th><td class="text" style="color: #4d4d93">qschulz: Overly detailed bugreports are much better than missing out some details</td><td class="time"><a href="#t2020-04-09T11:18:25" class="time">11:18</a></td></tr>
<tr id="t2020-04-09T11:18:26"><td class="action" colspan="2">* RP wishes we could just drop multilibs and imcompaible_license</td><td><a href="#t2020-04-09T11:18:26" class="time">11:18</a></td></tr>
<tr id="t2020-04-09T11:19:37"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">RP: yeah, I'm sorry, always me finding out the weird licenses corner cases :/</td><td class="time"><a href="#t2020-04-09T11:19:37" class="time">11:19</a></td></tr>
<tr id="t2020-04-09T11:21:25"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">RP: honestly, if we can ditch LICENSE_EXCLUSION in base.bbclass without any repercussion, I think it should be possible to handle the packaging blacklist directly in package.bbclass. It's just that I'm not sure there isn't something I'm missing :/</td><td class="time"><a href="#t2020-04-09T11:21:25" class="time">11:21</a></td></tr>
<tr id="t2020-04-09T11:22:52"><th class="nick" style="background: #4d4d93">paulbarker</th><td class="text" style="color: #4d4d93">RP, qschulz: The way LICENSE_EXCLUSION is used does look really messy. I'm happy to take that bug and see if I can come up with a better way of doing it. No guarantees I'll get to it for a week or three though</td><td class="time"><a href="#t2020-04-09T11:22:52" class="time">11:22</a></td></tr>
<tr id="t2020-04-09T11:37:32"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">paulbarker: wait for the goodies, I forgot to add some info to the bug</td><td class="time"><a href="#t2020-04-09T11:37:32" class="time">11:37</a></td></tr>
<tr id="t2020-04-09T11:42:20"><th class="nick" style="background: #539e9e">yocti</th><td class="text" style="color: #539e9e">New news from stackoverflow: Why would a yocto patch fail under devtool but not during a normal build? &lt;<a href="https://stackoverflow.com/questions/48945909/why-would-a-yocto-patch-fail-under-devtool-but-not-during-a-normal-build&gt;" rel="nofollow">https://stackoverflow.com/questions/48945909/why-would-a-yocto-patch-fail-under-devtool-but-not-during-a-normal-build&gt;</a></td><td class="time"><a href="#t2020-04-09T11:42:20" class="time">11:42</a></td></tr>
<tr id="t2020-04-09T12:49:44"><td class="nickchange" colspan="2">*** Guest5253 is now known as PatrickE</td><td><a href="#t2020-04-09T12:49:44" class="time">12:49</a></td></tr>
<tr id="t2020-04-09T13:17:13"><th class="nick" style="background: #57a657">nhartman1</th><td class="text" style="color: #57a657">Has anyone had any luck importing a .wic.vmdk to EC2? Annoyingly, they only allow a select subset of OSs</td><td class="time"><a href="#t2020-04-09T13:17:13" class="time">13:17</a></td></tr>
<tr id="t2020-04-09T14:00:28"><th class="nick" style="background: #5959a9">khem</th><td class="text" style="color: #5959a9">RP: the musl multilib v2 change I sent lets not consider it, its too close to release</td><td class="time"><a href="#t2020-04-09T14:00:28" class="time">14:00</a></td></tr>
<tr id="t2020-04-09T14:02:11"><th class="nick" style="background: #5959a9">khem</th><td class="text" style="color: #5959a9">RP: secondly, the change you are proposing is going to disable a valid usecase ( 64bit kernel + 32bit userspace-only ) which can be built today for musl bitbake lib32-core-image-minimal</td><td class="time"><a href="#t2020-04-09T14:02:11" class="time">14:02</a></td></tr>
<tr id="t2020-04-09T14:02:59"><th class="nick" style="background: #5959a9">khem</th><td class="text" style="color: #5959a9">RP: so I think if you turn this into a parse warning like we have musl+systemd then perhaps that will be idea</td><td class="time"><a href="#t2020-04-09T14:02:59" class="time">14:02</a></td></tr>
<tr id="t2020-04-09T14:03:01"><th class="nick" style="background: #5959a9">khem</th><td class="text" style="color: #5959a9">ideal</td><td class="time"><a href="#t2020-04-09T14:03:01" class="time">14:03</a></td></tr>
<tr id="t2020-04-09T14:16:29"><th class="nick" style="background: #4b904b">xavier_deschuyte</th><td class="text" style="color: #4b904b">paulbarker : I managed to get my stuff done by creating a new task after deb creation that modify the control file inside it and replace Description. Not the cleanest stuff, but "OK"</td><td class="time"><a href="#t2020-04-09T14:16:29" class="time">14:16</a></td></tr>
<tr id="t2020-04-09T14:38:44"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">how do I properly set up a recipe that uses qmake?</td><td class="time"><a href="#t2020-04-09T14:38:44" class="time">14:38</a></td></tr>
<tr id="t2020-04-09T14:39:40"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">nameclash: inherit qmake should be a good start (I don't know much more :) )</td><td class="time"><a href="#t2020-04-09T14:39:40" class="time">14:39</a></td></tr>
<tr id="t2020-04-09T14:40:47"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">I have TOOLCHAIN_HOST_TASK_append = nativesdk-packagegroup-qt5-toolchain-host which makes qmake and the mkspecs available in the sysroot-native</td><td class="time"><a href="#t2020-04-09T14:40:47" class="time">14:40</a></td></tr>
<tr id="t2020-04-09T14:42:43"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">In the recipe I depend on qtbase-native and the recipe's sysroot gets populated with qmake, however when I try to run ${WORKDIR}/recipe-sysroot-native/usr/bin/qt5/qmake in do_configure(), qmake complains not being able to find its specs...</td><td class="time"><a href="#t2020-04-09T14:42:43" class="time">14:42</a></td></tr>
<tr id="t2020-04-09T14:43:14"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">Hey, just to confirm: I'm experimenting with a different kernel version. Thus I changed `PREFERRED_PROVIDER_virtual/kernel` and `PREFERRED_VERSION_linux-mainline` and then started rebuild with bitbake. It seems to kick off linux-mainline kernel compilation but only at task 5600 (plus/minus) of 5944. I would have expected that a change of the kernel</td><td class="time"><a href="#t2020-04-09T14:43:14" class="time">14:43</a></td></tr>
<tr id="t2020-04-09T14:43:14"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">would require a much deeper recompilation of dependencies...</td><td class="time"><a href="#t2020-04-09T14:43:14" class="time">14:43</a></td></tr>
<tr id="t2020-04-09T14:43:45"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">qschulz I'll look into that, thanks</td><td class="time"><a href="#t2020-04-09T14:43:45" class="time">14:43</a></td></tr>
<tr id="t2020-04-09T14:43:57"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">Do I have to enforce recompilation or something?</td><td class="time"><a href="#t2020-04-09T14:43:57" class="time">14:43</a></td></tr>
<tr id="t2020-04-09T14:44:25"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">emrius: not really, mostly kernel modules and the image depends on the kernel sources IIRC. Anything that needs header files from the linux kernel are taken from linux-libc-headers</td><td class="time"><a href="#t2020-04-09T14:44:25" class="time">14:44</a></td></tr>
<tr id="t2020-04-09T14:44:58"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">qschulz great! Thanks for the quick reply</td><td class="time"><a href="#t2020-04-09T14:44:58" class="time">14:44</a></td></tr>
<tr id="t2020-04-09T14:49:03"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">nameclash: TOOLCHAIN_HOST_TASK etc is pointless and meaningless in a normal recipe.&nbsp;&nbsp;you just want inherit qmake.</td><td class="time"><a href="#t2020-04-09T14:49:03" class="time">14:49</a></td></tr>
<tr id="t2020-04-09T14:49:22"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">sorry, inherit qmake5</td><td class="time"><a href="#t2020-04-09T14:49:22" class="time">14:49</a></td></tr>
<tr id="t2020-04-09T14:50:41"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">rburton, thanks</td><td class="time"><a href="#t2020-04-09T14:50:41" class="time">14:50</a></td></tr>
<tr id="t2020-04-09T14:51:00"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">TOOLCHAIN_* are all about controlling what goes into the SDK</td><td class="time"><a href="#t2020-04-09T14:51:00" class="time">14:51</a></td></tr>
<tr id="t2020-04-09T14:51:20"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">if you can share where you thought that would be the solution then maybe we can ensure the docs are not misleading</td><td class="time"><a href="#t2020-04-09T14:51:20" class="time">14:51</a></td></tr>
<tr id="t2020-04-09T14:51:23"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">ok and that's implicitly handled by inherit qmake5 I guess</td><td class="time"><a href="#t2020-04-09T14:51:23" class="time">14:51</a></td></tr>
<tr id="t2020-04-09T14:51:52"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">just read the class: it adds depends and defines configure/compile/install tasks</td><td class="time"><a href="#t2020-04-09T14:51:52" class="time">14:51</a></td></tr>
<tr id="t2020-04-09T14:52:09"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">if you're talking recipes you are *not* using a SDK</td><td class="time"><a href="#t2020-04-09T14:52:09" class="time">14:52</a></td></tr>
<tr id="t2020-04-09T14:53:07"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">that makes sense</td><td class="time"><a href="#t2020-04-09T14:53:07" class="time">14:53</a></td></tr>
<tr id="t2020-04-09T14:54:01"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">with that information, and looking into the qmake classes I think I should inherit qmake5_base, not qmake5</td><td class="time"><a href="#t2020-04-09T14:54:01" class="time">14:54</a></td></tr>
<tr id="t2020-04-09T14:54:31"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">the project that I'm trying to build uses its own configure script to setup the build</td><td class="time"><a href="#t2020-04-09T14:54:31" class="time">14:54</a></td></tr>
<tr id="t2020-04-09T14:55:04"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">it expects the path to qmake be passed as argument</td><td class="time"><a href="#t2020-04-09T14:55:04" class="time">14:55</a></td></tr>
<tr id="t2020-04-09T14:55:28"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">so I need to override the tasks defined in qmake5</td><td class="time"><a href="#t2020-04-09T14:55:28" class="time">14:55</a></td></tr>
<tr id="t2020-04-09T15:12:18"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">So, after changing the kernel version bitbake started to compile as expected but ran into a problem. The `package-core-boot` still requires the previous kernel version. Do I have to modify that recipe or is maybe some cache dirty or something else?</td><td class="time"><a href="#t2020-04-09T15:12:18" class="time">15:12</a></td></tr>
<tr id="t2020-04-09T15:12:54"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">The interested reader may also consult my issue on SO :)&nbsp;&nbsp; <a href="https://stackoverflow.com/questions/61124345/upgrade-yocto-linux-kernel-fails" rel="nofollow">https://stackoverflow.com/questions/61124345/upgrade-yocto-linux-kernel-fails</a></td><td class="time"><a href="#t2020-04-09T15:12:54" class="time">15:12</a></td></tr>
<tr id="t2020-04-09T15:13:04"><th class="nick" style="background: #539e9e">yocti</th><td class="text" style="color: #539e9e">New news from stackoverflow: Upgrade yocto linux kernel fails &lt;<a href="https://stackoverflow.com/questions/61124345/upgrade-yocto-linux-kernel-fails&gt;" rel="nofollow">https://stackoverflow.com/questions/61124345/upgrade-yocto-linux-kernel-fails&gt;</a></td><td class="time"><a href="#t2020-04-09T15:13:04" class="time">15:13</a></td></tr>
<tr id="t2020-04-09T15:24:48"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">emrius: bitbake packagegroup-core-boot -e | less</td><td class="time"><a href="#t2020-04-09T15:24:48" class="time">15:24</a></td></tr>
<tr id="t2020-04-09T15:25:00"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">if that works, try to find where kernel-image-4.19.63 is coming from</td><td class="time"><a href="#t2020-04-09T15:25:00" class="time">15:25</a></td></tr>
<tr id="t2020-04-09T15:30:58"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">qschulz thanks again! I'm on it... but actually it looks fine.</td><td class="time"><a href="#t2020-04-09T15:30:58" class="time">15:30</a></td></tr>
<tr id="t2020-04-09T15:31:33"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">Just to make sure. There are two places a hint on the kernel version 4.19% pops up in the environment.</td><td class="time"><a href="#t2020-04-09T15:31:33" class="time">15:31</a></td></tr>
<tr id="t2020-04-09T15:31:48"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">It looks about like this:</td><td class="time"><a href="#t2020-04-09T15:31:48" class="time">15:31</a></td></tr>
<tr id="t2020-04-09T15:31:55"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">#&nbsp;&nbsp; set? /home/marius/mender-qemu-warrior/build/../sources/meta-sunxi/conf/machine/include/sunxi.inc:16#&nbsp;&nbsp;&nbsp;&nbsp; "4.19%"</td><td class="time"><a href="#t2020-04-09T15:31:55" class="time">15:31</a></td></tr>
<tr id="t2020-04-09T15:32:02"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">grr.... hang on</td><td class="time"><a href="#t2020-04-09T15:32:02" class="time">15:32</a></td></tr>
<tr id="t2020-04-09T15:32:38"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b"><a href="https://paste2.org/c7YKsyx9" rel="nofollow">https://paste2.org/c7YKsyx9</a></td><td class="time"><a href="#t2020-04-09T15:32:38" class="time">15:32</a></td></tr>
<tr id="t2020-04-09T15:33:11"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">Do I interprete the questionmark behind set correctly as: "Set the value if it hasn't been set before?</td><td class="time"><a href="#t2020-04-09T15:33:11" class="time">15:33</a></td></tr>
<tr id="t2020-04-09T15:34:54"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">emrius: yes, ??= is weaker than ?= which is weaker than =</td><td class="time"><a href="#t2020-04-09T15:34:54" class="time">15:34</a></td></tr>
<tr id="t2020-04-09T15:35:31"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">I think the place above where the version also appears basically is the same command: <a href="https://paste2.org/3gEpN64G" rel="nofollow">https://paste2.org/3gEpN64G</a></td><td class="time"><a href="#t2020-04-09T15:35:31" class="time">15:35</a></td></tr>
<tr id="t2020-04-09T15:36:06"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">emrius: that was not my original question, let me rephrase</td><td class="time"><a href="#t2020-04-09T15:36:06" class="time">15:36</a></td></tr>
<tr id="t2020-04-09T15:36:09"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">qschulz ok, as I thought then. those are the only two places that kernel version appears in `bitbake packagegroup-core-boot -e | less`</td><td class="time"><a href="#t2020-04-09T15:36:09" class="time">15:36</a></td></tr>
<tr id="t2020-04-09T15:36:29"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">emrius: package-group-boots is requiring kernel-image-</td><td class="time"><a href="#t2020-04-09T15:36:29" class="time">15:36</a></td></tr>
<tr id="t2020-04-09T15:36:33"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">so it has to come from somewhere</td><td class="time"><a href="#t2020-04-09T15:36:33" class="time">15:36</a></td></tr>
<tr id="t2020-04-09T15:36:44"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">ah alright. Now I got it</td><td class="time"><a href="#t2020-04-09T15:36:44" class="time">15:36</a></td></tr>
<tr id="t2020-04-09T15:36:50"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">which variable holds kernel-image that is used in packagegroup-core-boot</td><td class="time"><a href="#t2020-04-09T15:36:50" class="time">15:36</a></td></tr>
<tr id="t2020-04-09T15:36:52"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">thanks. I'll dig into that...</td><td class="time"><a href="#t2020-04-09T15:36:52" class="time">15:36</a></td></tr>
<tr id="t2020-04-09T15:37:01"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">alrighty</td><td class="time"><a href="#t2020-04-09T15:37:01" class="time">15:37</a></td></tr>
<tr id="t2020-04-09T15:38:38"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">So, there is `IMAGE_INSTALL=" kernel-image kernel-devicetree&nbsp;&nbsp;networkmanager networkmanager-nmtui mender"` and `MACHINE_ESSENTIAL_EXTRA_RDEPENDS=" kernel-image kernel-devicetree"` ... *scratching head*</td><td class="time"><a href="#t2020-04-09T15:38:38" class="time">15:38</a></td></tr>
<tr id="t2020-04-09T15:39:13"><th class="nick" style="background: #a25555">RP</th><td class="text" style="color: #a25555">khem: I agree, your v2 change can be for 3.2? For 3.1 its probably too late to do anything</td><td class="time"><a href="#t2020-04-09T15:39:13" class="time">15:39</a></td></tr>
<tr id="t2020-04-09T15:40:36"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">mmm... What can I do with that information? Sorry for asking potentilly silly questions... I'm a little lost :/</td><td class="time"><a href="#t2020-04-09T15:40:36" class="time">15:40</a></td></tr>
<tr id="t2020-04-09T15:41:25"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">emrius: did you actually run bitbake -e packagegroup-core-boot or bitbake -e myimage?</td><td class="time"><a href="#t2020-04-09T15:41:25" class="time">15:41</a></td></tr>
<tr id="t2020-04-09T15:41:39"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">emrius: I don't know what I'm doing as well, just looking for leads :)</td><td class="time"><a href="#t2020-04-09T15:41:39" class="time">15:41</a></td></tr>
<tr id="t2020-04-09T15:41:51"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">`MACHINE=opi-zero-adxl bitbake packagegroup-core-boot -e | less` that one</td><td class="time"><a href="#t2020-04-09T15:41:51" class="time">15:41</a></td></tr>
<tr id="t2020-04-09T15:42:46"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">and you have IMAGE_INSTALL there?</td><td class="time"><a href="#t2020-04-09T15:42:46" class="time">15:42</a></td></tr>
<tr id="t2020-04-09T15:42:55"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">qschulz I'm pretty sure you know much better what you are doing than I what I am doing :)</td><td class="time"><a href="#t2020-04-09T15:42:55" class="time">15:42</a></td></tr>
<tr id="t2020-04-09T15:43:26"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">oeehm yes...</td><td class="time"><a href="#t2020-04-09T15:43:26" class="time">15:43</a></td></tr>
<tr id="t2020-04-09T15:43:31"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">no good?</td><td class="time"><a href="#t2020-04-09T15:43:31" class="time">15:43</a></td></tr>
<tr id="t2020-04-09T15:46:10"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">wait... are you setting your IMAGE_INSTALL in local.conf?</td><td class="time"><a href="#t2020-04-09T15:46:10" class="time">15:46</a></td></tr>
<tr id="t2020-04-09T15:46:36"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">no</td><td class="time"><a href="#t2020-04-09T15:46:36" class="time">15:46</a></td></tr>
<tr id="t2020-04-09T15:48:27"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">emrius: where is IMAGE_INSTALL coming from? (read the few lines above the line starting with IMAGE_INSTALL). Most prob not the issue but i'm curious now :)</td><td class="time"><a href="#t2020-04-09T15:48:27" class="time">15:48</a></td></tr>
<tr id="t2020-04-09T15:50:08"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">I define an image the inherits core-image. Its coming in there: <a href="https://paste2.org/GDUAIfHY" rel="nofollow">https://paste2.org/GDUAIfHY</a></td><td class="time"><a href="#t2020-04-09T15:50:08" class="time">15:50</a></td></tr>
<tr id="t2020-04-09T15:51:47"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">I think I followed one of the live coding sessions from LetoThe2nd there. But I'm not 100% sure anymore... Lots of trying ...</td><td class="time"><a href="#t2020-04-09T15:51:47" class="time">15:51</a></td></tr>
<tr id="t2020-04-09T15:52:15"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">no, in bitbake -e packagegroup-core-boot | less, I don't have it</td><td class="time"><a href="#t2020-04-09T15:52:15" class="time">15:52</a></td></tr>
<tr id="t2020-04-09T15:53:00"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">Ok. That's good to know! At least I know now that it shouldn't be in there</td><td class="time"><a href="#t2020-04-09T15:53:00" class="time">15:53</a></td></tr>
<tr id="t2020-04-09T15:54:08"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">Well I don't know, that's why I'm asking :)</td><td class="time"><a href="#t2020-04-09T15:54:08" class="time">15:54</a></td></tr>
<tr id="t2020-04-09T15:56:00"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">The problem might just have vanished. Besides the image recipe I had another one (under a different name) with some other features. I just deleted that and the compilation finished... `IMAGE_INSTALL` is still in there btw :)</td><td class="time"><a href="#t2020-04-09T15:56:00" class="time">15:56</a></td></tr>
<tr id="t2020-04-09T15:56:38"><td class="action" colspan="2">* qschulz shrugs</td><td><a href="#t2020-04-09T15:56:38" class="time">15:56</a></td></tr>
<tr id="t2020-04-09T15:56:40"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">Probably something got tainted from there. A little unsatisfying not to understand where it came from. But at least it seems to be cured now.</td><td class="time"><a href="#t2020-04-09T15:56:40" class="time">15:56</a></td></tr>
<tr id="t2020-04-09T15:56:53"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">can you give me the lines above IMAGE_INSTALL</td><td class="time"><a href="#t2020-04-09T15:56:53" class="time">15:56</a></td></tr>
<tr id="t2020-04-09T15:57:07"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">sure one sec</td><td class="time"><a href="#t2020-04-09T15:57:07" class="time">15:57</a></td></tr>
<tr id="t2020-04-09T15:57:33"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">of the recipe or the environemtn?</td><td class="time"><a href="#t2020-04-09T15:57:33" class="time">15:57</a></td></tr>
<tr id="t2020-04-09T15:57:59"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">bitbake -e packagegroup-core-boot you said there is an IMAGE_INSTALL in there</td><td class="time"><a href="#t2020-04-09T15:57:59" class="time">15:57</a></td></tr>
<tr id="t2020-04-09T15:58:11"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">yes. Ok</td><td class="time"><a href="#t2020-04-09T15:58:11" class="time">15:58</a></td></tr>
<tr id="t2020-04-09T15:58:48"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b"><a href="https://paste2.org/wU5mFcXk" rel="nofollow">https://paste2.org/wU5mFcXk</a></td><td class="time"><a href="#t2020-04-09T15:58:48" class="time">15:58</a></td></tr>
<tr id="t2020-04-09T15:59:06"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">and FYI, you might want to create your own machine inherit the Allwinner one you're building now where you would set mahcine specific variables instead of in local.conf, for example PREFERRED_PROVIDER_virtual/kernel and PREFERRED_VERSION_linux-mainline :)</td><td class="time"><a href="#t2020-04-09T15:59:06" class="time">15:59</a></td></tr>
<tr id="t2020-04-09T15:59:42"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">I actually have that. The machine is `MACHINE=opi-zero-adxl`</td><td class="time"><a href="#t2020-04-09T15:59:42" class="time">15:59</a></td></tr>
<tr id="t2020-04-09T15:59:59"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">I just tested in local.conf. Once things work there I usually deploy them elsewhere</td><td class="time"><a href="#t2020-04-09T15:59:59" class="time">15:59</a></td></tr>
<tr id="t2020-04-09T16:00:33"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">great! remove the IMAGE_INSTALL from that machine then :)</td><td class="time"><a href="#t2020-04-09T16:00:33" class="time">16:00</a></td></tr>
<tr id="t2020-04-09T16:01:34"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">mmmm nevermind, it seems to be in the official example in the docs... Weird</td><td class="time"><a href="#t2020-04-09T16:01:34" class="time">16:01</a></td></tr>
<tr id="t2020-04-09T16:01:35"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">okay. hmm... alright... I figured that was kinda important to have there. But probably I just copy pasted something from somewhere else :/</td><td class="time"><a href="#t2020-04-09T16:01:35" class="time">16:01</a></td></tr>
<tr id="t2020-04-09T16:02:05"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">Ok. I probably have it from there when :)</td><td class="time"><a href="#t2020-04-09T16:02:05" class="time">16:02</a></td></tr>
<tr id="t2020-04-09T16:02:21"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">Anyway. I removed it. It compiles just fine. All good :)</td><td class="time"><a href="#t2020-04-09T16:02:21" class="time">16:02</a></td></tr>
<tr id="t2020-04-09T16:02:38"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">I'd have thought MACHINE_ESSENTIAL_EXTRA_RDEPENDS or something was more the way to go but it seems I've missed something :)</td><td class="time"><a href="#t2020-04-09T16:02:38" class="time">16:02</a></td></tr>
<tr id="t2020-04-09T16:03:03"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">Thanks a lot for your time!!! I'll add you on my "people I owe beer when they are in Berlin" list with a second dash (y)</td><td class="time"><a href="#t2020-04-09T16:03:03" class="time">16:03</a></td></tr>
<tr id="t2020-04-09T16:03:06"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">emrius: the line you had for kernel-image and kernel-devicetree is to install the kernel and the devicetree in the rootfs (most likely in/boot)</td><td class="time"><a href="#t2020-04-09T16:03:06" class="time">16:03</a></td></tr>
<tr id="t2020-04-09T16:03:18"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">IIRC</td><td class="time"><a href="#t2020-04-09T16:03:18" class="time">16:03</a></td></tr>
<tr id="t2020-04-09T16:03:30"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">ah ok</td><td class="time"><a href="#t2020-04-09T16:03:30" class="time">16:03</a></td></tr>
<tr id="t2020-04-09T16:04:06"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">emrius: my pleasure, I hope it's not crazy in Berlin right now. Take care. Week-end for me. Happy easter for those who're celebrating/having the day off.</td><td class="time"><a href="#t2020-04-09T16:04:06" class="time">16:04</a></td></tr>
<tr id="t2020-04-09T16:04:58"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">Well, it's alright here. I'm just gonna work till end of easter. It's basically the most exiting thing to do at the moment here. Everything is closed.</td><td class="time"><a href="#t2020-04-09T16:04:58" class="time">16:04</a></td></tr>
<tr id="t2020-04-09T16:05:01"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2020-04-09T16:05:01" class="time">16:05</a></td></tr>
<tr id="t2020-04-09T16:05:09"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">and then continue working...</td><td class="time"><a href="#t2020-04-09T16:05:09" class="time">16:05</a></td></tr>
<tr id="t2020-04-09T16:05:22"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">Enjoy easter and weekend!</td><td class="time"><a href="#t2020-04-09T16:05:22" class="time">16:05</a></td></tr>
<tr id="t2020-04-09T16:07:07"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">BTW: I actually had commented the `IMAGE_INSTALL_append` line in my machine configuration as follows: `# Is the following configuration best placed here?`</td><td class="time"><a href="#t2020-04-09T16:07:07" class="time">16:07</a></td></tr>
<tr id="t2020-04-09T16:07:28"><th class="nick" style="background: #adad5b">emrius</th><td class="text" style="color: #adad5b">The obvious answer is `No` =D</td><td class="time"><a href="#t2020-04-09T16:07:28" class="time">16:07</a></td></tr>
<tr id="t2020-04-09T16:11:33"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">almost there with the build but qmake still not able to find linux-oe-g++ config</td><td class="time"><a href="#t2020-04-09T16:11:33" class="time">16:11</a></td></tr>
<tr id="t2020-04-09T16:12:58"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">all relevant paths for qmake seem to be written by qmake5_base to a qmake config file with the path to it exposed as OE_QMAKE_QTCONF_PATH</td><td class="time"><a href="#t2020-04-09T16:12:58" class="time">16:12</a></td></tr>
<tr id="t2020-04-09T16:13:26"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">however, I'm not sure how to pass this config file to qmake...</td><td class="time"><a href="#t2020-04-09T16:13:26" class="time">16:13</a></td></tr>
<tr id="t2020-04-09T16:14:01"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">I've uploaded some additional info on it:</td><td class="time"><a href="#t2020-04-09T16:14:01" class="time">16:14</a></td></tr>
<tr id="t2020-04-09T16:14:12"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">my recipe: <a href="https://pastebin.com/JgY31RyJ" rel="nofollow">https://pastebin.com/JgY31RyJ</a></td><td class="time"><a href="#t2020-04-09T16:14:12" class="time">16:14</a></td></tr>
<tr id="t2020-04-09T16:14:25"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">the bitbake error: <a href="https://pastebin.com/PGRVydKj" rel="nofollow">https://pastebin.com/PGRVydKj</a></td><td class="time"><a href="#t2020-04-09T16:14:25" class="time">16:14</a></td></tr>
<tr id="t2020-04-09T16:15:02"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">the output of the built projects configure script (includes qmake output): <a href="https://pastebin.com/PAi0V32X" rel="nofollow">https://pastebin.com/PAi0V32X</a></td><td class="time"><a href="#t2020-04-09T16:15:02" class="time">16:15</a></td></tr>
<tr id="t2020-04-09T16:15:34"><th class="nick" style="background: #854685">nameclash</th><td class="text" style="color: #854685">any pointers on how to pass OE_QMAKE_QTCONF_PATH to qmake highly appreciated</td><td class="time"><a href="#t2020-04-09T16:15:34" class="time">16:15</a></td></tr>
<tr id="t2020-04-09T18:18:22"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">Is it possible to use SYSTEMD_SERVICE_${PN} to enable a service provided by another package?</td><td class="time"><a href="#t2020-04-09T18:18:22" class="time">18:18</a></td></tr>
<tr id="t2020-04-09T18:19:33"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">For example, if all users of a package do not necessarily enable to the service in the same way.</td><td class="time"><a href="#t2020-04-09T18:19:33" class="time">18:19</a></td></tr>
<tr id="t2020-04-09T18:40:14"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">xyzzy42. you could hack it into local.conf, but you can always bbappend the recipe in your layer and enable what you want.</td><td class="time"><a href="#t2020-04-09T18:40:14" class="time">18:40</a></td></tr>
<tr id="t2020-04-09T18:42:17"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">zeddii, so only a recipe which provides the service file is allowed to enable it?</td><td class="time"><a href="#t2020-04-09T18:42:17" class="time">18:42</a></td></tr>
<tr id="t2020-04-09T18:43:49"><th class="nick" style="background: #539e9e">yocti</th><td class="text" style="color: #539e9e">New news from stackoverflow: Hardware acceleration RPI4 FFmpeg &lt;<a href="https://stackoverflow.com/questions/61128086/hardware-acceleration-rpi4-ffmpeg&gt;" rel="nofollow">https://stackoverflow.com/questions/61128086/hardware-acceleration-rpi4-ffmpeg&gt;</a></td><td class="time"><a href="#t2020-04-09T18:43:49" class="time">18:43</a></td></tr>
<tr id="t2020-04-09T18:49:57"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">xyzzy42, it's a recipe variable like anything else.</td><td class="time"><a href="#t2020-04-09T18:49:57" class="time">18:49</a></td></tr>
<tr id="t2020-04-09T18:50:25"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">so correct, you can't cross the boundry to muck in one recipe/package from another.</td><td class="time"><a href="#t2020-04-09T18:50:25" class="time">18:50</a></td></tr>
<tr id="t2020-04-09T18:50:35"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">zeddii, it's not the variable's scope in the recipe, but finding the service file</td><td class="time"><a href="#t2020-04-09T18:50:35" class="time">18:50</a></td></tr>
<tr id="t2020-04-09T18:50:57"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">zeddii, e.g., foo.bb contains SYSTEMD_SERVICE_foo += "bar.service"</td><td class="time"><a href="#t2020-04-09T18:50:57" class="time">18:50</a></td></tr>
<tr id="t2020-04-09T18:51:06"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">still a variable</td><td class="time"><a href="#t2020-04-09T18:51:06" class="time">18:51</a></td></tr>
<tr id="t2020-04-09T18:51:29"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">suppose bar.service is not a file provided by foo.bb, but by bar.bb</td><td class="time"><a href="#t2020-04-09T18:51:29" class="time">18:51</a></td></tr>
<tr id="t2020-04-09T18:51:48"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">then you've got some messed up packaging</td><td class="time"><a href="#t2020-04-09T18:51:48" class="time">18:51</a></td></tr>
<tr id="t2020-04-09T18:52:05"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">if you are trying to provide service files for another recipe/packages from another.</td><td class="time"><a href="#t2020-04-09T18:52:05" class="time">18:52</a></td></tr>
<tr id="t2020-04-09T18:52:37"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">but beyond that, it appears it can't be done</td><td class="time"><a href="#t2020-04-09T18:52:37" class="time">18:52</a></td></tr>
<tr id="t2020-04-09T18:53:01"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">building foo will complain that it can't fine bar.service</td><td class="time"><a href="#t2020-04-09T18:53:01" class="time">18:53</a></td></tr>
<tr id="t2020-04-09T18:53:19"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">right, because it is looking in its own sysroot for it.</td><td class="time"><a href="#t2020-04-09T18:53:19" class="time">18:53</a></td></tr>
<tr id="t2020-04-09T18:53:48"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">and adding bar to DEPENDS should/will put the bar.service file in the sysroot</td><td class="time"><a href="#t2020-04-09T18:53:48" class="time">18:53</a></td></tr>
<tr id="t2020-04-09T18:55:13"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">only if you deploy it from that dependent recipe (and have it in a installed directory that is deployed). You can find the list of directories that are put into the recipe specific sysroot via DEPENDS in the code itself, or docs. I don't recall them all off the top of my head.</td><td class="time"><a href="#t2020-04-09T18:55:13" class="time">18:55</a></td></tr>
<tr id="t2020-04-09T18:55:16"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">and in the end, what happens is the foo package postinst script will call "systemctl enable bar.service", which will work perfectly well, provided it has the rdepends to ensure bar is installed</td><td class="time"><a href="#t2020-04-09T18:55:16" class="time">18:55</a></td></tr>
<tr id="t2020-04-09T18:57:19"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">I see the file in tmp/work/arch/foo/version/recipe-sysroot/lib/systemd/system/bar.service</td><td class="time"><a href="#t2020-04-09T18:57:19" class="time">18:57</a></td></tr>
<tr id="t2020-04-09T18:57:48"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">so it seems like it is in the sysroot, no?</td><td class="time"><a href="#t2020-04-09T18:57:48" class="time">18:57</a></td></tr>
<tr id="t2020-04-09T18:58:30"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">yep, but if you want to package it in that 2nd recipe, you have to copy it, and make sure it is packaged so the ontarget enable will have it.</td><td class="time"><a href="#t2020-04-09T18:58:30" class="time">18:58</a></td></tr>
<tr id="t2020-04-09T18:58:49"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">oh no, I don't want to package it.&nbsp;&nbsp;Just enable it.</td><td class="time"><a href="#t2020-04-09T18:58:49" class="time">18:58</a></td></tr>
<tr id="t2020-04-09T18:59:14"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">well, the .service file has to end up on the target. I'd not recommend providing it in one package and enabling it in the other.</td><td class="time"><a href="#t2020-04-09T18:59:14" class="time">18:59</a></td></tr>
<tr id="t2020-04-09T18:59:45"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">why not, if the package which enables it depends on the one that provides it (because it uses the service)</td><td class="time"><a href="#t2020-04-09T18:59:45" class="time">18:59</a></td></tr>
<tr id="t2020-04-09T19:00:52"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">the service is a templated service, so the provider of the service is basically saying you can enable this in different ways and it's not my job to figure them out.</td><td class="time"><a href="#t2020-04-09T19:00:52" class="time">19:00</a></td></tr>
<tr id="t2020-04-09T19:00:54"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">you are splitting the logic over multiple recipes, you can do whatever you want, I'm just saying that it might bite you later.</td><td class="time"><a href="#t2020-04-09T19:00:54" class="time">19:00</a></td></tr>
<tr id="t2020-04-09T19:01:18"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">you really should have a distro feature, or similar to control coordinated efforts like that.</td><td class="time"><a href="#t2020-04-09T19:01:18" class="time">19:01</a></td></tr>
<tr id="t2020-04-09T19:01:52"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">the yocto mega manual should cover some of this. but again, you can do whatever you want, but expect to have to work around the default way that the build and classes work, since that isn't the normal the case.</td><td class="time"><a href="#t2020-04-09T19:01:52" class="time">19:01</a></td></tr>
<tr id="t2020-04-09T19:02:11"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">or watch some of LetoThe2nd's youtube things, he goes over some of those concepts IIRC.</td><td class="time"><a href="#t2020-04-09T19:02:11" class="time">19:02</a></td></tr>
<tr id="t2020-04-09T19:02:19"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">what I'd like to be able to do is choose what interfaces a templated service is started on.&nbsp;&nbsp;Kind of the whole point of templated services is you don't need to know when you create the service what it might get attached to.</td><td class="time"><a href="#t2020-04-09T19:02:19" class="time">19:02</a></td></tr>
<tr id="t2020-04-09T19:03:29"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">so I'd to be able to have one image that enables interface X, but another image that does not enable it</td><td class="time"><a href="#t2020-04-09T19:03:29" class="time">19:03</a></td></tr>
<tr id="t2020-04-09T19:04:11"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">if I make a debug-mode package, which has the "systemctl enable debug-service@ttyS1.service" postint, then I can include or not include that package in an image</td><td class="time"><a href="#t2020-04-09T19:04:11" class="time">19:04</a></td></tr>
<tr id="t2020-04-09T19:06:08"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">I think this is really the main idea behind templated unit files.&nbsp;&nbsp;If we knew exactly what bar@.service would be enabled for when we built bar, we'd just hardcode %i in bar.service</td><td class="time"><a href="#t2020-04-09T19:06:08" class="time">19:06</a></td></tr>
<tr id="t2020-04-09T19:07:23"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">but we don't want the restriction, so we create bar@.service which uses %i, and let someone else enable bar@instance.service to provide the value(s).</td><td class="time"><a href="#t2020-04-09T19:07:23" class="time">19:07</a></td></tr>
<tr id="t2020-04-09T19:11:37"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">zeddii, regardless of the should or why, it doesn't appear to be possible, even if the service is in the sysroot, as only services deployed by the recipe are allowed.</td><td class="time"><a href="#t2020-04-09T19:11:37" class="time">19:11</a></td></tr>
<tr id="t2020-04-09T19:14:32"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">right. I can't say that I know the systemd bbclass really well, but right, it will only look in specific directories for the service files. you'd need to modify it, add your own task, or otherwise, augment it to look in that sysroot directory to find and generate the ontarget snippet.</td><td class="time"><a href="#t2020-04-09T19:14:32" class="time">19:14</a></td></tr>
<tr id="t2020-04-09T19:15:21"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">gotta bolt for coffee. good luck!</td><td class="time"><a href="#t2020-04-09T19:15:21" class="time">19:15</a></td></tr>
<tr id="t2020-04-09T19:30:20"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">zeddii, occurred to me that "package foo needs service bar" is very common.&nbsp;&nbsp;There are tons of things which involve multiple services.&nbsp;&nbsp;But how it's usually done is foo owns foo.service, which Wants/After bar.service</td><td class="time"><a href="#t2020-04-09T19:30:20" class="time">19:30</a></td></tr>
<tr id="t2020-04-09T19:31:35"><th class="nick" style="background: #5fb4b4">xyzzy42</th><td class="text" style="color: #5fb4b4">i.e., if foo needs a service, it uses the systemd unit ordering and dependency system to describe this in relation to another service.</td><td class="time"><a href="#t2020-04-09T19:31:35" class="time">19:31</a></td></tr>
<tr id="t2020-04-09T20:43:35"><td class="nickchange" colspan="2">*** risca_ is now known as risca</td><td><a href="#t2020-04-09T20:43:35" class="time">20:43</a></td></tr>
<tr id="t2020-04-09T21:02:14"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2020-04-09T21:02:14" class="time">21:02</a></td></tr>
<tr id="t2020-04-09T22:14:33"><th class="nick" style="background: #539e9e">yocti</th><td class="text" style="color: #539e9e">New news from stackoverflow: Run Raspberry Pi Zero W image in qemu &lt;<a href="https://stackoverflow.com/questions/60127086/run-raspberry-pi-zero-w-image-in-qemu&gt;" rel="nofollow">https://stackoverflow.com/questions/60127086/run-raspberry-pi-zero-w-image-in-qemu&gt;</a></td><td class="time"><a href="#t2020-04-09T22:14:33" class="time">22:14</a></td></tr>
<tr id="t2020-04-09T22:31:41"><td class="action" colspan="2">* paulg has a pi-zero W that has been around for several years that hasn't seen an electron of use.</td><td><a href="#t2020-04-09T22:31:41" class="time">22:31</a></td></tr>
<tr id="t2020-04-09T22:39:30"><th class="nick" style="background: #818144">paulg</th><td class="text" style="color: #818144">fortunately I think it was only like $13 CDN.</td><td class="time"><a href="#t2020-04-09T22:39:30" class="time">22:39</a></td></tr>
<tr id="t2020-04-09T23:29:46"><td class="part" colspan="2">*** nameclash &lt;nameclash!~gollum@ip1f11b23e.dynamic.kabel-deutschland.de&gt; has left #yocto</td><td><a href="#t2020-04-09T23:29:46" class="time">23:29</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2020-04-08.log.html">&#171; Wednesday, 2020-04-08</a> <a href="index.html">Index</a> <a href="%23yocto.2020-04-10.log.html">Friday, 2020-04-10 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
