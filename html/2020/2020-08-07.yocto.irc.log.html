<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2020-08-07</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Friday, 2020-08-07</h1>
<div class="navigation"> <a href="%23yocto.2020-08-06.log.html">&#171; Thursday, 2020-08-06</a> <a href="index.html">Index</a> <a href="%23yocto.2020-08-08.log.html">Saturday, 2020-08-08 &#187;</a> </div>
<table class="irclog">
<tr id="t2020-08-07T00:11:11"><th class="nick" style="background: #407a40">adam3371</th><td class="text" style="color: #407a40">hey there, im a bachelor student and currently im working with yocto, so im verry new in this topic. Everything worked fine and i even could compile FITimages without the rootfs but by simply adding INITRAMFS_IMAGE = &quot;console-tdx-image&quot; (toradex imx6ull som) i get 4 dependency loops. After a long try i managed to get rid of two of them by adding IMAGE_FSTYPES_remove = &quot;tar.xz but i still have two left. Do someone know what</td><td class="time"><a href="#t2020-08-07T00:11:11" class="time">00:11</a></td></tr>
<tr id="t2020-08-07T00:11:11-2"><th class="nick" style="background: #407a40">adam3371</th><td class="text" style="color: #407a40">possibly I can do to solve this problem?</td><td class="time"><a href="#t2020-08-07T00:11:11-2" class="time">00:11</a></td></tr>
<tr id="t2020-08-07T00:12:56"><th class="nick" style="background: #407a40">adam3371</th><td class="text" style="color: #407a40">thank you in advance ;)</td><td class="time"><a href="#t2020-08-07T00:12:56" class="time">00:12</a></td></tr>
<tr id="t2020-08-07T01:06:30"><th class="nick" style="background: #42427e">rdude</th><td class="text" style="color: #42427e">Hi</td><td class="time"><a href="#t2020-08-07T01:06:30" class="time">01:06</a></td></tr>
<tr id="t2020-08-07T01:15:40"><td class="part" colspan="2">*** Nooks &lt;Nooks!~jasonp@c-98-239-234-32.hsd1.pa.comcast.net&gt; has left #yocto</td><td><a href="#t2020-08-07T01:15:40" class="time">01:15</a></td></tr>
<tr id="t2020-08-07T02:34:49"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">huh, BBTARGETS doesn't work well with multiconfigs. can't go 'bitbake mc:foo:' and have it run the targets defined there. admittedly probably nobody uses that variable, but.. :)</td><td class="time"><a href="#t2020-08-07T02:34:49" class="time">02:34</a></td></tr>
<tr id="t2020-08-07T03:54:07"><td class="nickchange" colspan="2">*** nslu2-log_ is now known as nslu2-log</td><td><a href="#t2020-08-07T03:54:07" class="time">03:54</a></td></tr>
<tr id="t2020-08-07T06:54:37"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2020-08-07T06:54:37" class="time">06:54</a></td></tr>
<tr id="t2020-08-07T07:31:44"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">Hi! Where is explained how yocto Linux boots after loading the kernel? When yocto Linux boots I want to change the filesystem root to a mountpoint of an overlay filesystem. I found this Raspi script in the internet, but the approach how that script is called (entry in cmdline.txt in boot partition) seems to be quite different to how yocto boots.</td><td class="time"><a href="#t2020-08-07T07:31:44" class="time">07:31</a></td></tr>
<tr id="t2020-08-07T07:32:08"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685"><a href="http://wiki.psuter.ch/doku.php?id=solve_raspbian_sd_card_corruption_issues_with_read-only_mounted_root_partition" rel="nofollow">http://wiki.psuter.ch/doku.php?id=solve_raspbian_sd_card_corruption_issues_with_read-only_mounted_root_partition</a></td><td class="time"><a href="#t2020-08-07T07:32:08" class="time">07:32</a></td></tr>
<tr id="t2020-08-07T07:33:31"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">fbre: there is no documentation on this because it is board specific, not yocto specific. it depends on the bootloader in use, and the mechanisms it applies.</td><td class="time"><a href="#t2020-08-07T07:33:31" class="time">07:33</a></td></tr>
<tr id="t2020-08-07T07:37:27"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">I use u-boot which loads and starts the kernel. But that script I want to add (see my link above) uses stuff which requires a loaded kernel already. That's why I think it's already all about mechanisms already within Linux and the distro concepts.</td><td class="time"><a href="#t2020-08-07T07:37:27" class="time">07:37</a></td></tr>
<tr id="t2020-08-07T07:41:43"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">fbre: the cmdline.txt part is absolutely rpi specific. agreed on that the script runs in userland but it again is pretty rpi specific</td><td class="time"><a href="#t2020-08-07T07:41:43" class="time">07:41</a></td></tr>
<tr id="t2020-08-07T07:42:28"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">fbre: i know that it is a recurring topic these days to have a ro-rootfs + overlay, but so far nobody has shared an approach to refer to.</td><td class="time"><a href="#t2020-08-07T07:42:28" class="time">07:42</a></td></tr>
<tr id="t2020-08-07T07:57:06"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">I just wonder what actually happens in the time between the Linux kernel starts up and the time of /etc/fstab is read. Which scripts are running, where are they located? Some say there is /etc/inittab but I can't find such file in yocto Linux. I think I need to understand that boot stage at first before I try to hook a script somewhere...</td><td class="time"><a href="#t2020-08-07T07:57:06" class="time">07:57</a></td></tr>
<tr id="t2020-08-07T07:57:52"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">init is run. and depending on which init you have, this decides what gets run in which order.</td><td class="time"><a href="#t2020-08-07T07:57:52" class="time">07:57</a></td></tr>
<tr id="t2020-08-07T07:58:52"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">I just can see /sbin/init which is a binary. What does /sbin/init do?</td><td class="time"><a href="#t2020-08-07T07:58:52" class="time">07:58</a></td></tr>
<tr id="t2020-08-07T08:00:21"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">It's a link to /lib/systemd/systemd</td><td class="time"><a href="#t2020-08-07T08:00:21" class="time">08:00</a></td></tr>
<tr id="t2020-08-07T08:00:29"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: when I understand your proposal correctly, it bundles both my suggestions in one commit again (as the initial proposal with a bad commit messages was).</td><td class="time"><a href="#t2020-08-07T08:00:29" class="time">08:00</a></td></tr>
<tr id="t2020-08-07T08:00:48"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">I give it a shot and tell you how it behaves</td><td class="time"><a href="#t2020-08-07T08:00:48" class="time">08:00</a></td></tr>
<tr id="t2020-08-07T08:02:00"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">fbre: so then systemd is run and works through its units as specified. and i am very sure that there is one or more units that do the mounting.</td><td class="time"><a href="#t2020-08-07T08:02:00" class="time">08:02</a></td></tr>
<tr id="t2020-08-07T08:02:37"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">fbre: see: <a href="https://www.freedesktop.org/software/systemd/man/systemd-fstab-generator.html" rel="nofollow">https://www.freedesktop.org/software/systemd/man/systemd-fstab-generator.html</a></td><td class="time"><a href="#t2020-08-07T08:02:37" class="time">08:02</a></td></tr>
<tr id="t2020-08-07T08:05:05"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">LetoThe2nd: cool, thanx! That's a good trace to further follow up to :]</td><td class="time"><a href="#t2020-08-07T08:05:05" class="time">08:05</a></td></tr>
<tr id="t2020-08-07T08:23:32"><th class="nick" style="background: #4b904b">f843d0</th><td class="text" style="color: #4b904b">Hello Everyone, I created a qemux86 iso image from Yocto Zeus, and I am able to boot into the system in VBox. A problem that I am facing now is that / is mounted on /dev/loop0 as ro, but I need to change settings e.g. sshd_config. Sorry maybe for noob question, but is there possibility of mounting the system in rw mode? I tried editing the cmd_line adding rw on root=/dev/ram but no success. Thanks a lot in</td><td class="time"><a href="#t2020-08-07T08:23:32" class="time">08:23</a></td></tr>
<tr id="t2020-08-07T08:23:38"><th class="nick" style="background: #4b904b">f843d0</th><td class="text" style="color: #4b904b">advance for your kind attention</td><td class="time"><a href="#t2020-08-07T08:23:38" class="time">08:23</a></td></tr>
<tr id="t2020-08-07T08:27:41"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">f843d0: iso images are probably ro by default, as they are supposed to end up on ro media...</td><td class="time"><a href="#t2020-08-07T08:27:41" class="time">08:27</a></td></tr>
<tr id="t2020-08-07T08:28:12"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">f843d0: so my guess is that iso is just not the image type that you actually want.</td><td class="time"><a href="#t2020-08-07T08:28:12" class="time">08:28</a></td></tr>
<tr id="t2020-08-07T08:28:54"><th class="nick" style="background: #4b904b">f843d0</th><td class="text" style="color: #4b904b">LetoThe2nd: thanks, so for example for importing the solution in VBox, should I go for vmdk somehow?</td><td class="time"><a href="#t2020-08-07T08:28:54" class="time">08:28</a></td></tr>
<tr id="t2020-08-07T08:30:10"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">f843d0: why &quot;somehow&quot;?</td><td class="time"><a href="#t2020-08-07T08:30:10" class="time">08:30</a></td></tr>
<tr id="t2020-08-07T08:30:13"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">f843d0: <a href="https://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/classes/image_types.bbclass#n287" rel="nofollow">https://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/classes/image_types.bbclass#n287</a></td><td class="time"><a href="#t2020-08-07T08:30:13" class="time">08:30</a></td></tr>
<tr id="t2020-08-07T08:30:23"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">and why zeus? :P</td><td class="time"><a href="#t2020-08-07T08:30:23" class="time">08:30</a></td></tr>
<tr id="t2020-08-07T08:30:58"><th class="nick" style="background: #4b904b">f843d0</th><td class="text" style="color: #4b904b">LetoThe2nd: is the stable, ain't it?! :)</td><td class="time"><a href="#t2020-08-07T08:30:58" class="time">08:30</a></td></tr>
<tr id="t2020-08-07T08:31:08"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">f843d0: um, no?</td><td class="time"><a href="#t2020-08-07T08:31:08" class="time">08:31</a></td></tr>
<tr id="t2020-08-07T08:31:23"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888"><a href="https://www.yoctoproject.org/" rel="nofollow">https://www.yoctoproject.org/</a></td><td class="time"><a href="#t2020-08-07T08:31:23" class="time">08:31</a></td></tr>
<tr id="t2020-08-07T08:31:34"><th class="nick" style="background: #4b904b">f843d0</th><td class="text" style="color: #4b904b">LetoThe2nd: <a href="https://wiki.yoctoproject.org/wiki/Releases" rel="nofollow">https://wiki.yoctoproject.org/wiki/Releases</a></td><td class="time"><a href="#t2020-08-07T08:31:34" class="time">08:31</a></td></tr>
<tr id="t2020-08-07T08:32:12"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">f843d0: ok, and what is saying that zeus is the latest stable there?</td><td class="time"><a href="#t2020-08-07T08:32:12" class="time">08:32</a></td></tr>
<tr id="t2020-08-07T08:32:38"><th class="nick" style="background: #4b904b">f843d0</th><td class="text" style="color: #4b904b">LetoThe2nd: Zeus 3.0 October 2019 3.0.3 Stable 22.0.3 1.44</td><td class="time"><a href="#t2020-08-07T08:32:38" class="time">08:32</a></td></tr>
<tr id="t2020-08-07T08:33:09"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">Dunfell 3.1 April 2020 3.1.1 Long Term Stable</td><td class="time"><a href="#t2020-08-07T08:33:09" class="time">08:33</a></td></tr>
<tr id="t2020-08-07T08:33:30"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">:)</td><td class="time"><a href="#t2020-08-07T08:33:30" class="time">08:33</a></td></tr>
<tr id="t2020-08-07T08:34:08"><th class="nick" style="background: #4d4d93">erbo</th><td class="text" style="color: #4d4d93">fbre: Have you looked at <a href="https://www.yoctoproject.org/docs/latest/ref-manual/ref-manual.html#ref-features-image?" rel="nofollow">https://www.yoctoproject.org/docs/latest/ref-manual/ref-manual.html#ref-features-image?</a> I'm using raspberry pi + read-only-rootfs, and it works well.</td><td class="time"><a href="#t2020-08-07T08:34:08" class="time">08:34</a></td></tr>
<tr id="t2020-08-07T08:34:33"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">erbo: its about the overlayfs magic (again)</td><td class="time"><a href="#t2020-08-07T08:34:33" class="time">08:34</a></td></tr>
<tr id="t2020-08-07T08:36:37"><th class="nick" style="background: #4d4d93">erbo</th><td class="text" style="color: #4d4d93">Ok, I figured the interest in that was in order to find a way to achieve what the magic already achieves. :)</td><td class="time"><a href="#t2020-08-07T08:36:37" class="time">08:36</a></td></tr>
<tr id="t2020-08-07T08:36:53"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">erbo: I opened your link and searched for &quot;overlay&quot; but there aint no such phrase</td><td class="time"><a href="#t2020-08-07T08:36:53" class="time">08:36</a></td></tr>
<tr id="t2020-08-07T08:38:08"><th class="nick" style="background: #4d4d93">erbo</th><td class="text" style="color: #4d4d93">fbre: the read-only-rootfs image feature will result in overlays being used, but the documentation mostly talks about the end result and doesn't go into details of how it's achieved (which is partyly using overlays)</td><td class="time"><a href="#t2020-08-07T08:38:08" class="time">08:38</a></td></tr>
<tr id="t2020-08-07T08:38:49"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">erbo: really? (/me is not so sure about that, but would love to be proven wrong)</td><td class="time"><a href="#t2020-08-07T08:38:49" class="time">08:38</a></td></tr>
<tr id="t2020-08-07T08:39:08"><th class="nick" style="background: #4d4d93">erbo</th><td class="text" style="color: #4d4d93">On my rpi image built with read-only-rootfs, I have overlays for /var/spool/, /var/cache and /var/lib</td><td class="time"><a href="#t2020-08-07T08:39:08" class="time">08:39</a></td></tr>
<tr id="t2020-08-07T08:40:28"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">erbo: really overlays, or rather just tmpfs mounts?</td><td class="time"><a href="#t2020-08-07T08:40:28" class="time">08:40</a></td></tr>
<tr id="t2020-08-07T08:40:48"><th class="nick" style="background: #4d4d93">erbo</th><td class="text" style="color: #4d4d93">mount shows e.g. &quot;overlay on /home/root type overlay (rw,relatime,lowerdir=/home/root,upperdir=/var/volatile/root,workdir=/var/volatile/.root-work)&quot;</td><td class="time"><a href="#t2020-08-07T08:40:48" class="time">08:40</a></td></tr>
<tr id="t2020-08-07T08:40:59"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">erbo: My idea is to support a factory reset which throws all done system updates over board</td><td class="time"><a href="#t2020-08-07T08:40:59" class="time">08:40</a></td></tr>
<tr id="t2020-08-07T08:41:04"><th class="nick" style="background: #4d4d93">erbo</th><td class="text" style="color: #4d4d93">that's an extra overlay I added for convenience</td><td class="time"><a href="#t2020-08-07T08:41:04" class="time">08:41</a></td></tr>
<tr id="t2020-08-07T08:41:34"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">erbo: therefore everything coming from an update must be in the upper overlay filesystem.</td><td class="time"><a href="#t2020-08-07T08:41:34" class="time">08:41</a></td></tr>
<tr id="t2020-08-07T08:41:40"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">erbo: did you add that, or does meta-raspberrypi bring that?</td><td class="time"><a href="#t2020-08-07T08:41:40" class="time">08:41</a></td></tr>
<tr id="t2020-08-07T08:41:48"><th class="nick" style="background: #4d4d93">erbo</th><td class="text" style="color: #4d4d93">fbre: ah, so you want changes to be persistent, but in an overlay so it can be reset?</td><td class="time"><a href="#t2020-08-07T08:41:48" class="time">08:41</a></td></tr>
<tr id="t2020-08-07T08:42:18"><th class="nick" style="background: #4d4d93">erbo</th><td class="text" style="color: #4d4d93">LetoThe2nd: I just added the /home/root overlay, the other stuff is out-of-the-box</td><td class="time"><a href="#t2020-08-07T08:42:18" class="time">08:42</a></td></tr>
<tr id="t2020-08-07T08:42:42"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">erbo: yes, in the end I will have 2 partitions, one for each layer. The lower layer is read-only, the upper layer is read-write. The factory reset just removes the upper layer.</td><td class="time"><a href="#t2020-08-07T08:42:42" class="time">08:42</a></td></tr>
<tr id="t2020-08-07T08:43:07"><th class="nick" style="background: #4d4d93">erbo</th><td class="text" style="color: #4d4d93">LetoThe2nd: the volatile binds are provided by poky/meta/recipes-core/volatile-binds/volatile-binds.bb</td><td class="time"><a href="#t2020-08-07T08:43:07" class="time">08:43</a></td></tr>
<tr id="t2020-08-07T08:43:39"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">erbo: yup, but every incarntion i've seen so far just goes for tmpfs.</td><td class="time"><a href="#t2020-08-07T08:43:39" class="time">08:43</a></td></tr>
<tr id="t2020-08-07T08:44:16"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">The use case so to speak is simply to support an easy total factory reset.</td><td class="time"><a href="#t2020-08-07T08:44:16" class="time">08:44</a></td></tr>
<tr id="t2020-08-07T08:45:02"><th class="nick" style="background: #4d4d93">erbo</th><td class="text" style="color: #4d4d93">LetoThe2nd: yes, it use a tmpfs in /var/volatile/ and then use overlays to put parts of the filesystem there.</td><td class="time"><a href="#t2020-08-07T08:45:02" class="time">08:45</a></td></tr>
<tr id="t2020-08-07T08:45:33"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">I think it's not enough to have overlays in a few subdirs</td><td class="time"><a href="#t2020-08-07T08:45:33" class="time">08:45</a></td></tr>
<tr id="t2020-08-07T08:45:55"><th class="nick" style="background: #4d4d93">erbo</th><td class="text" style="color: #4d4d93">fbre: If you look at the volatile-binds receipe, you can probably get some ideas of how you can instead achieve an overlay for the whole root</td><td class="time"><a href="#t2020-08-07T08:45:55" class="time">08:45</a></td></tr>
<tr id="t2020-08-07T08:46:22"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">erbo: ok, thanx!</td><td class="time"><a href="#t2020-08-07T08:46:22" class="time">08:46</a></td></tr>
<tr id="t2020-08-07T08:46:30"><th class="nick" style="background: #97974f">escalion</th><td class="text" style="color: #97974f">tmpfs with a persistent partition is the most common way I've seen to support factory reset. That and a 'recovery' partition to overwrite the primary, which IMHO is daft because wear levelling</td><td class="time"><a href="#t2020-08-07T08:46:30" class="time">08:46</a></td></tr>
<tr id="t2020-08-07T08:47:04"><th class="nick" style="background: #97974f">escalion</th><td class="text" style="color: #97974f">Morning all, btw</td><td class="time"><a href="#t2020-08-07T08:47:04" class="time">08:47</a></td></tr>
<tr id="t2020-08-07T08:49:40"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">moinmoin :)</td><td class="time"><a href="#t2020-08-07T08:49:40" class="time">08:49</a></td></tr>
<tr id="t2020-08-07T08:50:20"><th class="nick" style="background: #4b904b">f843d0</th><td class="text" style="color: #4b904b">LetoThe2nd: thanks, I've created wic.vmdk and everything looks fine :)</td><td class="time"><a href="#t2020-08-07T08:50:20" class="time">08:50</a></td></tr>
<tr id="t2020-08-07T08:50:30"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">f843d0: :)</td><td class="time"><a href="#t2020-08-07T08:50:30" class="time">08:50</a></td></tr>
<tr id="t2020-08-07T09:01:35"><td class="nickchange" colspan="2">*** Dracos-Carazza_ is now known as Dracos-Carazza</td><td><a href="#t2020-08-07T09:01:35" class="time">09:01</a></td></tr>
<tr id="t2020-08-07T09:35:59"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685"><a href="https://superuser.com/questions/1507278/mount-overlayfs-on-before-systemd-starts" rel="nofollow">https://superuser.com/questions/1507278/mount-overlayfs-on-before-systemd-starts</a>&nbsp;&nbsp; is talking about an initramfs /init file. The other user found it in buildroot_directory/fs/cpio. Is there something similar in yocto?</td><td class="time"><a href="#t2020-08-07T09:35:59" class="time">09:35</a></td></tr>
<tr id="t2020-08-07T09:37:10"><th class="nick" style="background: #97974f">escalion</th><td class="text" style="color: #97974f"><a href="https://developer.toradex.com/knowledge-base/initramfs-and-tmpfs" rel="nofollow">https://developer.toradex.com/knowledge-base/initramfs-and-tmpfs</a></td><td class="time"><a href="#t2020-08-07T09:37:10" class="time">09:37</a></td></tr>
<tr id="t2020-08-07T09:37:13"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">They write it is a script, the right place to inject the using of an overlay filesystem</td><td class="time"><a href="#t2020-08-07T09:37:13" class="time">09:37</a></td></tr>
<tr id="t2020-08-07T09:38:47"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">escalion: (y)</td><td class="time"><a href="#t2020-08-07T09:38:47" class="time">09:38</a></td></tr>
<tr id="t2020-08-07T09:40:13"><th class="nick" style="background: #97974f">escalion</th><td class="text" style="color: #97974f">tldr; you can find it in oe-core. If you are using poky you will need to check the conf to check which initramfs image it builds</td><td class="time"><a href="#t2020-08-07T09:40:13" class="time">09:40</a></td></tr>
<tr id="t2020-08-07T09:40:28"><th class="nick" style="background: #97974f">escalion</th><td class="text" style="color: #97974f">:)</td><td class="time"><a href="#t2020-08-07T09:40:28" class="time">09:40</a></td></tr>
<tr id="t2020-08-07T09:41:09"><th class="nick" style="background: #97974f">escalion</th><td class="text" style="color: #97974f">remember you can use a bbappend to add files to a package</td><td class="time"><a href="#t2020-08-07T09:41:09" class="time">09:41</a></td></tr>
<tr id="t2020-08-07T09:42:42"><th class="nick" style="background: #97974f">escalion</th><td class="text" style="color: #97974f">fighting a battle myself at the moment. can't get me head around how to make gstreamer1.0-gl to build from <a href="https://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/recipes-multimedia/gstreamer?h=dunfell" rel="nofollow">https://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/recipes-multimedia/gstreamer?h=dunfell</a></td><td class="time"><a href="#t2020-08-07T09:42:42" class="time">09:42</a></td></tr>
<tr id="t2020-08-07T09:48:56"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">escalion: Can you tell me the path to oe-core in the yocto/sources dir?</td><td class="time"><a href="#t2020-08-07T09:48:56" class="time">09:48</a></td></tr>
<tr id="t2020-08-07T09:50:05"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">escalion: Do you mean yocto/sources/meta-openembedded/meta-oe/recipes-core?</td><td class="time"><a href="#t2020-08-07T09:50:05" class="time">09:50</a></td></tr>
<tr id="t2020-08-07T09:51:36"><th class="nick" style="background: #97974f">escalion</th><td class="text" style="color: #97974f"><a href="https://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/recipes-core/images/core-image-minimal-initramfs.bb?h=dunfell" rel="nofollow">https://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/recipes-core/images/core-image-minimal-initramfs.bb?h=dunfell</a></td><td class="time"><a href="#t2020-08-07T09:51:36" class="time">09:51</a></td></tr>
<tr id="t2020-08-07T09:51:46"><th class="nick" style="background: #97974f">escalion</th><td class="text" style="color: #97974f">poky uses this one</td><td class="time"><a href="#t2020-08-07T09:51:46" class="time">09:51</a></td></tr>
<tr id="t2020-08-07T09:58:54"><th class="nick" style="background: #97974f">escalion</th><td class="text" style="color: #97974f">found the answer to my issue, needed to add wayland to distro_features</td><td class="time"><a href="#t2020-08-07T09:58:54" class="time">09:58</a></td></tr>
<tr id="t2020-08-07T09:59:05"><th class="nick" style="background: #97974f">escalion</th><td class="text" style="color: #97974f">Something so simple yet crippling xD</td><td class="time"><a href="#t2020-08-07T09:59:05" class="time">09:59</a></td></tr>
<tr id="t2020-08-07T09:59:44"><th class="nick" style="background: #97974f">escalion</th><td class="text" style="color: #97974f">fbre, did that help btw?</td><td class="time"><a href="#t2020-08-07T09:59:44" class="time">09:59</a></td></tr>
<tr id="t2020-08-07T09:59:58"><th class="nick" style="background: #97974f">escalion</th><td class="text" style="color: #97974f">or was there something more specific you was trying to achieve?</td><td class="time"><a href="#t2020-08-07T09:59:58" class="time">09:59</a></td></tr>
<tr id="t2020-08-07T10:02:45"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">escalion: I've been looking into all those files int poky/recipes-core/images at the moment. But it seems I don't find anything which has to do with a script called by initramfs init process.</td><td class="time"><a href="#t2020-08-07T10:02:45" class="time">10:02</a></td></tr>
<tr id="t2020-08-07T10:03:54"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">escalion: you know, I'm looking for a script which mounts the root filesystem. I want to change it to mount an overlay fs instead</td><td class="time"><a href="#t2020-08-07T10:03:54" class="time">10:03</a></td></tr>
<tr id="t2020-08-07T10:04:54"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">I suspect it is somewhere in the corner of files where yocto defines the initramfs init stuff</td><td class="time"><a href="#t2020-08-07T10:04:54" class="time">10:04</a></td></tr>
<tr id="t2020-08-07T10:05:50"><th class="nick" style="background: #97974f">escalion</th><td class="text" style="color: #97974f">you mean here? <a href="https://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/recipes-core/initscripts/initscripts-1.0?h=dunfell" rel="nofollow">https://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/recipes-core/initscripts/initscripts-1.0?h=dunfell</a></td><td class="time"><a href="#t2020-08-07T10:05:50" class="time">10:05</a></td></tr>
<tr id="t2020-08-07T10:08:31"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">escalion: yeah, I get the feeling I'm getting closer to it</td><td class="time"><a href="#t2020-08-07T10:08:31" class="time">10:08</a></td></tr>
<tr id="t2020-08-07T10:09:39"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">It's all very complicated and I'm drowning in the flood of scripts</td><td class="time"><a href="#t2020-08-07T10:09:39" class="time">10:09</a></td></tr>
<tr id="t2020-08-07T10:15:47"><th class="nick" style="background: #97974f">escalion</th><td class="text" style="color: #97974f">break it down, its not as complicated as it looks</td><td class="time"><a href="#t2020-08-07T10:15:47" class="time">10:15</a></td></tr>
<tr id="t2020-08-07T10:18:54"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: FWIW that patch I hacked up broke all the esdks in automated testing so its not quite right</td><td class="time"><a href="#t2020-08-07T10:18:54" class="time">10:18</a></td></tr>
<tr id="t2020-08-07T10:25:08"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">What is the master script of those initrdscripts? I don't get it. Script mountall.sh looks promising but too hard to understand its content</td><td class="time"><a href="#t2020-08-07T10:25:08" class="time">10:25</a></td></tr>
<tr id="t2020-08-07T10:26:38"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: my test still in progress but looks good so far</td><td class="time"><a href="#t2020-08-07T10:26:38" class="time">10:26</a></td></tr>
<tr id="t2020-08-07T10:28:04"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">fbre: its an init script so its installed by updated-rc.d and run through the init system</td><td class="time"><a href="#t2020-08-07T10:28:04" class="time">10:28</a></td></tr>
<tr id="t2020-08-07T10:30:53"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">Is it poky/meta/recipes-core/initrdscripts/initramfs-framework/init ?</td><td class="time"><a href="#t2020-08-07T10:30:53" class="time">10:30</a></td></tr>
<tr id="t2020-08-07T10:32:30"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">fbre: more likely the main image init system would call mountall.sh</td><td class="time"><a href="#t2020-08-07T10:32:30" class="time">10:32</a></td></tr>
<tr id="t2020-08-07T10:32:45"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">fbre: you have two images and two init systems, first the initramfs , then the main image</td><td class="time"><a href="#t2020-08-07T10:32:45" class="time">10:32</a></td></tr>
<tr id="t2020-08-07T11:10:36"><th class="nick" style="background: #97974f">escalion</th><td class="text" style="color: #97974f">fbre: you can add an overlay at the mountall.sh point however. Just add the declarations after line 20. Unless you need the overlay to be available in the initramfs</td><td class="time"><a href="#t2020-08-07T11:10:36" class="time">11:10</a></td></tr>
<tr id="t2020-08-07T11:11:20"><th class="nick" style="background: #97974f">escalion</th><td class="text" style="color: #97974f">you could also use rc system to add overlay</td><td class="time"><a href="#t2020-08-07T11:11:20" class="time">11:11</a></td></tr>
<tr id="t2020-08-07T11:13:32"><th class="nick" style="background: #854685">fbre</th><td class="text" style="color: #854685">OK, friends. Time to go home for today, thank you all very much for your hints, and have a nice weekend!</td><td class="time"><a href="#t2020-08-07T11:13:32" class="time">11:13</a></td></tr>
<tr id="t2020-08-07T11:24:09"><td class="nickchange" colspan="2">*** nslu2-log_ is now known as nslu2-log</td><td><a href="#t2020-08-07T11:24:09" class="time">11:24</a></td></tr>
<tr id="t2020-08-07T11:38:45"><th class="nick" style="background: #539e9e">gaston53</th><td class="text" style="color: #539e9e">does yocto support libssl ?</td><td class="time"><a href="#t2020-08-07T11:38:45" class="time">11:38</a></td></tr>
<tr id="t2020-08-07T11:40:48"><th class="nick" style="background: #a25555">PaowZ</th><td class="text" style="color: #a25555">gaston53: <a href="http://cgit.openembedded.org/openembedded-core/tree/meta/recipes-connectivity/openssl/openssl_1.1.1g.bb?h=master" rel="nofollow">http://cgit.openembedded.org/openembedded-core/tree/meta/recipes-connectivity/openssl/openssl_1.1.1g.bb?h=master</a></td><td class="time"><a href="#t2020-08-07T11:40:48" class="time">11:40</a></td></tr>
<tr id="t2020-08-07T11:42:13"><th class="nick" style="background: #539e9e">gaston53</th><td class="text" style="color: #539e9e">PaowZ so openssl recipe will add libssl package</td><td class="time"><a href="#t2020-08-07T11:42:13" class="time">11:42</a></td></tr>
<tr id="t2020-08-07T11:42:35"><th class="nick" style="background: #57a657">qschulz</th><td class="text" style="color: #57a657">gaston53: yes</td><td class="time"><a href="#t2020-08-07T11:42:35" class="time">11:42</a></td></tr>
<tr id="t2020-08-07T11:43:28"><th class="nick" style="background: #539e9e">gaston53</th><td class="text" style="color: #539e9e">qschulz just a question, can I only add libssl package without any other packages related to openssl ?</td><td class="time"><a href="#t2020-08-07T11:43:28" class="time">11:43</a></td></tr>
<tr id="t2020-08-07T11:44:13"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: seems because of your patch modifies OECORE_NATIVE_SYSROOT which is originally set by toolchain-scripts.bbclass</td><td class="time"><a href="#t2020-08-07T11:44:13" class="time">11:44</a></td></tr>
<tr id="t2020-08-07T11:45:09"><th class="nick" style="background: #57a657">qschulz</th><td class="text" style="color: #57a657">gaston53: if a package depends on another package, it'll be pulled in anyway</td><td class="time"><a href="#t2020-08-07T11:45:09" class="time">11:45</a></td></tr>
<tr id="t2020-08-07T11:45:34"><th class="nick" style="background: #57a657">qschulz</th><td class="text" style="color: #57a657">gaston53: so add libssl package and see what's added, maybe that's good enough. If not, either mistake in the recipe or something to tinker with</td><td class="time"><a href="#t2020-08-07T11:45:34" class="time">11:45</a></td></tr>
<tr id="t2020-08-07T11:46:11"><th class="nick" style="background: #539e9e">gaston53</th><td class="text" style="color: #539e9e">qschulz okey thanks</td><td class="time"><a href="#t2020-08-07T11:46:11" class="time">11:46</a></td></tr>
<tr id="t2020-08-07T11:50:03"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: so it has the wrong value?</td><td class="time"><a href="#t2020-08-07T11:50:03" class="time">11:50</a></td></tr>
<tr id="t2020-08-07T11:50:13"><td class="action" colspan="2">* sno nods</td><td><a href="#t2020-08-07T11:50:13" class="time">11:50</a></td></tr>
<tr id="t2020-08-07T11:50:57"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">Maybe that is the conflict I dicovered - I don't really understand the entire ecosystem yet</td><td class="time"><a href="#t2020-08-07T11:50:57" class="time">11:50</a></td></tr>
<tr id="t2020-08-07T12:02:54"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: I've tried another tweak in master-next</td><td class="time"><a href="#t2020-08-07T12:02:54" class="time">12:02</a></td></tr>
<tr id="t2020-08-07T12:03:09"><th class="nick" style="background: #5959a9">malrak</th><td class="text" style="color: #5959a9">Is there a way to disable the usage of bsp's *.scc files? What I would love to have is just my custom defconfig with some custom kernel fragments. Is this possible with linux-yocto-rt or do I need to create a fully custom linux-kernel recipe?</td><td class="time"><a href="#t2020-08-07T12:03:09" class="time">12:03</a></td></tr>
<tr id="t2020-08-07T12:03:42"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">malrak: you should just be able to override the bsp</td><td class="time"><a href="#t2020-08-07T12:03:42" class="time">12:03</a></td></tr>
<tr id="t2020-08-07T12:05:29"><th class="nick" style="background: #5959a9">malrak</th><td class="text" style="color: #5959a9">You mean by e.g. not using core2-32-common.inc?</td><td class="time"><a href="#t2020-08-07T12:05:29" class="time">12:05</a></td></tr>
<tr id="t2020-08-07T12:05:35"><th class="nick" style="background: #5959a9">malrak</th><td class="text" style="color: #5959a9">RP: You mean by e.g. not using core2-32-common.inc?</td><td class="time"><a href="#t2020-08-07T12:05:35" class="time">12:05</a></td></tr>
<tr id="t2020-08-07T12:11:49"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">malrak: I don't know. You can usually override pretty much any setting</td><td class="time"><a href="#t2020-08-07T12:11:49" class="time">12:11</a></td></tr>
<tr id="t2020-08-07T12:15:30"><th class="nick" style="background: #5959a9">malrak</th><td class="text" style="color: #5959a9">RP: so my main problem is as follows, merge_config.sh accepts my defconfig *and* my config fragments, *however* if i check the configs-variable used in ~do_kernel_configme~ it has loads of additional configurations added from all kinds of sources</td><td class="time"><a href="#t2020-08-07T12:15:30" class="time">12:15</a></td></tr>
<tr id="t2020-08-07T12:17:23"><td class="nickchange" colspan="2">*** ndec is now known as ndec|away</td><td><a href="#t2020-08-07T12:17:23" class="time">12:17</a></td></tr>
<tr id="t2020-08-07T12:19:21"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: <a href="https://github.com/rehsack/poky/commit/50ce74ed49a426e0e035632b9bc837f3f8b45864" rel="nofollow">https://github.com/rehsack/poky/commit/50ce74ed49a426e0e035632b9bc837f3f8b45864</a> is probably not that wrong</td><td class="time"><a href="#t2020-08-07T12:19:21" class="time">12:19</a></td></tr>
<tr id="t2020-08-07T12:20:13"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">malrak: I think it should only touch fragments its told to. zeddii probably can point more specifically if/as/when he's around</td><td class="time"><a href="#t2020-08-07T12:20:13" class="time">12:20</a></td></tr>
<tr id="t2020-08-07T12:20:50"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: and the openssl / buildtools-tarball is a seond approach</td><td class="time"><a href="#t2020-08-07T12:20:50" class="time">12:20</a></td></tr>
<tr id="t2020-08-07T12:21:12"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: its isn't correct. buildtools just overwrites that</td><td class="time"><a href="#t2020-08-07T12:21:12" class="time">12:21</a></td></tr>
<tr id="t2020-08-07T12:21:32"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: yes, the openssl parts</td><td class="time"><a href="#t2020-08-07T12:21:32" class="time">12:21</a></td></tr>
<tr id="t2020-08-07T12:21:55"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: no, it replaces the entire environment script</td><td class="time"><a href="#t2020-08-07T12:21:55" class="time">12:21</a></td></tr>
<tr id="t2020-08-07T12:22:34"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: but when layers add stuff into ${D}${SDKPATHNATIVE}/... - they are kept</td><td class="time"><a href="#t2020-08-07T12:22:34" class="time">12:22</a></td></tr>
<tr id="t2020-08-07T12:22:43"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">I see the files :D</td><td class="time"><a href="#t2020-08-07T12:22:43" class="time">12:22</a></td></tr>
<tr id="t2020-08-07T12:23:12"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">sdk$ ls -l buildtools/sysroots/x86_64-pokysdk-linux/environment-setup.d/</td><td class="time"><a href="#t2020-08-07T12:23:12" class="time">12:23</a></td></tr>
<tr id="t2020-08-07T12:23:12-2"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">total 8</td><td class="time"><a href="#t2020-08-07T12:23:12-2" class="time">12:23</a></td></tr>
<tr id="t2020-08-07T12:23:12-3"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">-rw-r--r-- 1 sno sno&nbsp;&nbsp;73 Aug&nbsp;&nbsp;7 13:07 openssl.sh</td><td class="time"><a href="#t2020-08-07T12:23:12-3" class="time">12:23</a></td></tr>
<tr id="t2020-08-07T12:23:12-4"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">-rw-r--r-- 1 sno sno 229 Aug&nbsp;&nbsp;7 13:07 sds.sh</td><td class="time"><a href="#t2020-08-07T12:23:12-4" class="time">12:23</a></td></tr>
<tr id="t2020-08-07T12:26:29"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: I mean the top level environment script you add that code to is not included in buildtools tarball. Therefore when you remove these things from buildtools-tarball, it breaks</td><td class="time"><a href="#t2020-08-07T12:26:29" class="time">12:26</a></td></tr>
<tr id="t2020-08-07T12:28:27"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: yes, that is true and was done to show up the conflict between the ${SDKPATHNATIVE}/environment-setup.d/*.sh and buildtools/environment-setup</td><td class="time"><a href="#t2020-08-07T12:28:27" class="time">12:28</a></td></tr>
<tr id="t2020-08-07T12:29:01"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: I have no sane idea to fix that and I don't knwo why there're incompatible information</td><td class="time"><a href="#t2020-08-07T12:29:01" class="time">12:29</a></td></tr>
<tr id="t2020-08-07T12:31:23"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: I *cannot* accept patches that break things</td><td class="time"><a href="#t2020-08-07T12:31:23" class="time">12:31</a></td></tr>
<tr id="t2020-08-07T12:31:28"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: I also see that cmake-nativesdk installs into a different path than openssl-nativesdk</td><td class="time"><a href="#t2020-08-07T12:31:28" class="time">12:31</a></td></tr>
<tr id="t2020-08-07T12:31:40"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: agreed - you should not :D</td><td class="time"><a href="#t2020-08-07T12:31:40" class="time">12:31</a></td></tr>
<tr id="t2020-08-07T12:32:01"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: I sent it to have a basement to discuss which of both (existing) ways is wrong</td><td class="time"><a href="#t2020-08-07T12:32:01" class="time">12:32</a></td></tr>
<tr id="t2020-08-07T12:32:32"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: and maybe you now see why <a href="https://github.com/rehsack/poky/commit/50ce74ed49a426e0e035632b9bc837f3f8b45864" rel="nofollow">https://github.com/rehsack/poky/commit/50ce74ed49a426e0e035632b9bc837f3f8b45864</a> cannot use OECORE_NATIVE_SYSROOT</td><td class="time"><a href="#t2020-08-07T12:32:32" class="time">12:32</a></td></tr>
<tr id="t2020-08-07T12:33:30"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: quite frankly, no :/</td><td class="time"><a href="#t2020-08-07T12:33:30" class="time">12:33</a></td></tr>
<tr id="t2020-08-07T12:34:24"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: I'm doing my best to try and untangle this but I still don't understand what exactly you're really trying to fix. I am frustrated you're pushed to have patches merged which fix your use case but as known to break other things</td><td class="time"><a href="#t2020-08-07T12:34:24" class="time">12:34</a></td></tr>
<tr id="t2020-08-07T12:35:19"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: that's not my intention - apologies for this</td><td class="time"><a href="#t2020-08-07T12:35:19" class="time">12:35</a></td></tr>
<tr id="t2020-08-07T12:43:26"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: I try to explain better ... give me a few minutes (I try to figure out what is the right way)</td><td class="time"><a href="#t2020-08-07T12:43:26" class="time">12:43</a></td></tr>
<tr id="t2020-08-07T12:43:27"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: cmake installs nativesdk related files into ${SDKPATHNATIVE}/environment-setup.d via <a href="https://github.com/rehsack/poky/blob/master/meta/recipes-devtools/cmake/cmake_3.17.3.bb#L39-L45" rel="nofollow">https://github.com/rehsack/poky/blob/master/meta/recipes-devtools/cmake/cmake_3.17.3.bb#L39-L45</a></td><td class="time"><a href="#t2020-08-07T12:43:27" class="time">12:43</a></td></tr>
<tr id="t2020-08-07T12:43:27-2"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: cmake-native install into ${D}${base_prefix}/environment-setup.d/cmake.sh via <a href="https://github.com/rehsack/poky/blob/master/meta/recipes-devtools/cmake/cmake-native_3.17.3.bb#L48" rel="nofollow">https://github.com/rehsack/poky/blob/master/meta/recipes-devtools/cmake/cmake-native_3.17.3.bb#L48</a></td><td class="time"><a href="#t2020-08-07T12:43:27-2" class="time">12:43</a></td></tr>
<tr id="t2020-08-07T12:43:27-3"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: openssl-nativesdk does it similar to cmake-nativesdk -- but only the one of cmake-native is included in the script generated by toolchain-scripts.bbclass</td><td class="time"><a href="#t2020-08-07T12:43:27-3" class="time">12:43</a></td></tr>
<tr id="t2020-08-07T12:43:28"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: all I want is to understand how it is meant to add files to sdk to configure for local enhancements</td><td class="time"><a href="#t2020-08-07T12:43:28" class="time">12:43</a></td></tr>
<tr id="t2020-08-07T12:44:03"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: So please apologize the patches felt being pushed (harder) - that wasn't intentional</td><td class="time"><a href="#t2020-08-07T12:44:03" class="time">12:44</a></td></tr>
<tr id="t2020-08-07T12:47:05"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: I don't really understand why we'd have a cmake-native environment-setup.d :(</td><td class="time"><a href="#t2020-08-07T12:47:05" class="time">12:47</a></td></tr>
<tr id="t2020-08-07T12:47:45"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: precisely - me neither</td><td class="time"><a href="#t2020-08-07T12:47:45" class="time">12:47</a></td></tr>
<tr id="t2020-08-07T12:48:15"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: I understand that the patch breaks things and I'm interested in fixing it - not getting it pushed</td><td class="time"><a href="#t2020-08-07T12:48:15" class="time">12:48</a></td></tr>
<tr id="t2020-08-07T12:48:21"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: <a href="http://git.yoctoproject.org/cgit.cgi/poky/commit/?id=b92717ae485dcde5aa0f477d1e5fcc3205ed7a23" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky/commit/?id=b92717ae485dcde5aa0f477d1e5fcc3205ed7a23</a></td><td class="time"><a href="#t2020-08-07T12:48:21" class="time">12:48</a></td></tr>
<tr id="t2020-08-07T12:49:51"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: which SDKMACHINE are you using?</td><td class="time"><a href="#t2020-08-07T12:49:51" class="time">12:49</a></td></tr>
<tr id="t2020-08-07T12:50:49"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: unfortunately this doesn't explain why only `$OECORE_TARGET_SYSROOT/environment-setup.d/*.sh` and `$OECORE_NATIVE_SYSROOT/environment-setup.d/*.sh` are sourced but not those which are installed in ${SDKPATHNATIVE}/environment-setup.d</td><td class="time"><a href="#t2020-08-07T12:50:49" class="time">12:50</a></td></tr>
<tr id="t2020-08-07T12:52:36"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: SDKMACHINE=x86_64</td><td class="time"><a href="#t2020-08-07T12:52:36" class="time">12:52</a></td></tr>
<tr id="t2020-08-07T12:53:05"><th class="nick" style="background: #5959a9">malrak</th><td class="text" style="color: #5959a9">RP: I think I found my error. I had SRC_URI += and not SRC_URI_append. Now with SRC_URI_append it only pulls in my configs</td><td class="time"><a href="#t2020-08-07T12:53:05" class="time">12:53</a></td></tr>
<tr id="t2020-08-07T13:06:21"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: is my confusion a bit clearer to you?</td><td class="time"><a href="#t2020-08-07T13:06:21" class="time">13:06</a></td></tr>
<tr id="t2020-08-07T13:08:34"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: yes, a little. I think we perhaps start by deleting the cmake-native sdk bits...</td><td class="time"><a href="#t2020-08-07T13:08:34" class="time">13:08</a></td></tr>
<tr id="t2020-08-07T13:08:49"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: :D</td><td class="time"><a href="#t2020-08-07T13:08:49" class="time">13:08</a></td></tr>
<tr id="t2020-08-07T13:10:12"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: all I'm trying to figure out is: where do I have to add enhancements to get them used by eSDK - and it seems it's `${D}${base_prefix}/environment-setup.d/` - and maybe in a later stage openssl-nativesdk sould be fixed, too</td><td class="time"><a href="#t2020-08-07T13:10:12" class="time">13:10</a></td></tr>
<tr id="t2020-08-07T13:12:39"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: so you're trying to use this in the eSDK?</td><td class="time"><a href="#t2020-08-07T13:12:39" class="time">13:12</a></td></tr>
<tr id="t2020-08-07T13:13:52"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: yes, I'm trying to use this in eSDK</td><td class="time"><a href="#t2020-08-07T13:13:52" class="time">13:13</a></td></tr>
<tr id="t2020-08-07T13:14:41"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: to be more clear - I'm trying to add a script which exports a new shell variable which easy allows doing developer builds using the eSDK and later using devtool for integration steps</td><td class="time"><a href="#t2020-08-07T13:14:41" class="time">13:14</a></td></tr>
<tr id="t2020-08-07T13:15:18"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: so there is something wrong with the eSDK environment. I then wonder why all the eSDK tests pass :/</td><td class="time"><a href="#t2020-08-07T13:15:18" class="time">13:15</a></td></tr>
<tr id="t2020-08-07T13:16:24"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: maybe it's not used much&nbsp;&nbsp;¯\_(ツ)_/¯</td><td class="time"><a href="#t2020-08-07T13:16:24" class="time">13:16</a></td></tr>
<tr id="t2020-08-07T13:16:37"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: it was very difficult to find examples :)</td><td class="time"><a href="#t2020-08-07T13:16:37" class="time">13:16</a></td></tr>
<tr id="t2020-08-07T13:18:03"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: but we do have tests which we run regularly</td><td class="time"><a href="#t2020-08-07T13:18:03" class="time">13:18</a></td></tr>
<tr id="t2020-08-07T13:18:26"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: but what do they expose into the environment-setup.d/*.sh ?</td><td class="time"><a href="#t2020-08-07T13:18:26" class="time">13:18</a></td></tr>
<tr id="t2020-08-07T13:18:43"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">it's only that - everything else seems to be very sane</td><td class="time"><a href="#t2020-08-07T13:18:43" class="time">13:18</a></td></tr>
<tr id="t2020-08-07T13:18:49"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">so it suggests we have a gap in the testing. I'd be a lot happier if I could show problems in the tests</td><td class="time"><a href="#t2020-08-07T13:18:49" class="time">13:18</a></td></tr>
<tr id="t2020-08-07T13:19:18"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: I fully agree - but I do not understand the issue enough to create a sane test for that</td><td class="time"><a href="#t2020-08-07T13:19:18" class="time">13:19</a></td></tr>
<tr id="t2020-08-07T13:20:51"><td class="part" colspan="2">*** malrak &lt;malrak!50ff069b@80.255.6.155&gt; has left #yocto</td><td><a href="#t2020-08-07T13:20:51" class="time">13:20</a></td></tr>
<tr id="t2020-08-07T13:28:26"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: is there someone else beside you who can ''guide'' me to create such a test? moto-timo maybe?</td><td class="time"><a href="#t2020-08-07T13:28:26" class="time">13:28</a></td></tr>
<tr id="t2020-08-07T13:40:02"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: esdk experts are bluelightning and myself. A few people could probably help with sdk tests but I don't know who if anyone has time</td><td class="time"><a href="#t2020-08-07T13:40:02" class="time">13:40</a></td></tr>
<tr id="t2020-08-07T13:45:37"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: when you know that someone has a tuit, please remind this issue</td><td class="time"><a href="#t2020-08-07T13:45:37" class="time">13:45</a></td></tr>
<tr id="t2020-08-07T13:46:48"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: I am looking at it locally a little more</td><td class="time"><a href="#t2020-08-07T13:46:48" class="time">13:46</a></td></tr>
<tr id="t2020-08-07T13:46:58"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: thanks</td><td class="time"><a href="#t2020-08-07T13:46:58" class="time">13:46</a></td></tr>
<tr id="t2020-08-07T14:03:45"><th class="nick" style="background: #4b904b">f843d0</th><td class="text" style="color: #4b904b">Hello Everyone, I was able to set the IMAGE_ROOTFS_SIZE to control /. But for /boot, currently I manually modified poky/scripts/lib/wic/canned-wks/common.wks.inc adding --size to the part directive. Is there a more elegant way to achieve this, maybe via some other *.conf directive?</td><td class="time"><a href="#t2020-08-07T14:03:45" class="time">14:03</a></td></tr>
<tr id="t2020-08-07T14:19:51"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: I do now understand what you mean about all this. I am however struggling to see the correct way to fix it</td><td class="time"><a href="#t2020-08-07T14:19:51" class="time">14:19</a></td></tr>
<tr id="t2020-08-07T14:41:34"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: no worries - that's all I wanted to reach at the first step and still apologizing for how I did it</td><td class="time"><a href="#t2020-08-07T14:41:34" class="time">14:41</a></td></tr>
<tr id="t2020-08-07T14:47:35"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: np. The issue is that we're mixing native and nativesdk recipes and they don't look to co-exist well. I don't really want people to have to write relocation code twice</td><td class="time"><a href="#t2020-08-07T14:47:35" class="time">14:47</a></td></tr>
<tr id="t2020-08-07T15:05:53"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: basically my conclusion is you may need to add environment-setup to -natives for eSDK and to -nativesdk for SDK</td><td class="time"><a href="#t2020-08-07T15:05:53" class="time">15:05</a></td></tr>
<tr id="t2020-08-07T15:06:27"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">The code is sourcing the right things but buildtools does need improving to use these scripts in a way which doesn't break eSDK</td><td class="time"><a href="#t2020-08-07T15:06:27" class="time">15:06</a></td></tr>
<tr id="t2020-08-07T15:09:43"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: I give it a try and will report</td><td class="time"><a href="#t2020-08-07T15:09:43" class="time">15:09</a></td></tr>
<tr id="t2020-08-07T15:18:13"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: I've written up a summary of what I found and sent to the list</td><td class="time"><a href="#t2020-08-07T15:18:13" class="time">15:18</a></td></tr>
<tr id="t2020-08-07T15:18:33"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: cool, thanks</td><td class="time"><a href="#t2020-08-07T15:18:33" class="time">15:18</a></td></tr>
<tr id="t2020-08-07T16:05:04"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">huh, that's not great.. found an archiver issue. it disables inclusion of the gcc recipes in favor of gcc-source, which is great for the source, but means that ARCHIVER_MODE[dumpdata] and ARCHIVER_MODE[recipe] don't actually work for the gcc recipes. only the gcc-source recipe/data is emitted</td><td class="time"><a href="#t2020-08-07T16:05:04" class="time">16:05</a></td></tr>
<tr id="t2020-08-07T16:06:17"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">thats fine if you're only emitting the data for info on source construction, but not if you're trying to comply with emission of 'build instructions'</td><td class="time"><a href="#t2020-08-07T16:06:17" class="time">16:06</a></td></tr>
<tr id="t2020-08-07T16:07:49"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">not sure if i need to do that anyway, but it's a clear bug. i'll open an issue</td><td class="time"><a href="#t2020-08-07T16:07:49" class="time">16:07</a></td></tr>
<tr id="t2020-08-07T16:08:15"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">also looks like libtool-cross and qemuwrapper-cross don't actually inherit cross, so aren't excluded by removing cross from COPYLEFT_RECIPE_TYPES</td><td class="time"><a href="#t2020-08-07T16:08:15" class="time">16:08</a></td></tr>
<tr id="t2020-08-07T16:09:14"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kergoth: cross doesn't actually work for anything not gnu :(</td><td class="time"><a href="#t2020-08-07T16:09:14" class="time">16:09</a></td></tr>
<tr id="t2020-08-07T16:09:20"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2020-08-07T16:09:20" class="time">16:09</a></td></tr>
<tr id="t2020-08-07T16:09:25"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kergoth: it really should be called cross-gnu or something</td><td class="time"><a href="#t2020-08-07T16:09:25" class="time">16:09</a></td></tr>
<tr id="t2020-08-07T16:11:30"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">ah, do other buildsystems expect CC, etc to correspond to the target, not build machine in a cross configuration, and rely on BUILD_ or _FOR_CROSS style build machine tooling variables?</td><td class="time"><a href="#t2020-08-07T16:11:30" class="time">16:11</a></td></tr>
<tr id="t2020-08-07T16:11:53"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">makes sense</td><td class="time"><a href="#t2020-08-07T16:11:53" class="time">16:11</a></td></tr>
<tr id="t2020-08-07T16:12:45"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">if that's the case it'd probably be worth splitting the class up. rename the autotools-specific portion and retain a common core</td><td class="time"><a href="#t2020-08-07T16:12:45" class="time">16:12</a></td></tr>
<tr id="t2020-08-07T16:43:18"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">What is the best way to install a &quot;-dev&quot; package into an image? I know that IMAGE_INSTALL+= &quot; somepackage-dev&quot; might not be allowed according to the documentation. Basically, I want a developer package to be added to my system image so that I can build and test software linking a specific library on a device.</td><td class="time"><a href="#t2020-08-07T16:43:18" class="time">16:43</a></td></tr>
<tr id="t2020-08-07T16:48:03"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kergoth: I don't remember the issue, I know I found it much safer to not use it for anything that wasn't binutils/gcc/gdb</td><td class="time"><a href="#t2020-08-07T16:48:03" class="time">16:48</a></td></tr>
<tr id="t2020-08-07T17:43:07"><th class="nick" style="background: #b15db1">tlwoerner</th><td class="text" style="color: #b15db1">i need to use a native objcopy as part of the commands used to create my own image type</td><td class="time"><a href="#t2020-08-07T17:43:07" class="time">17:43</a></td></tr>
<tr id="t2020-08-07T17:43:13"><th class="nick" style="background: #b15db1">tlwoerner</th><td class="text" style="color: #b15db1">objcopy comes from binutils</td><td class="time"><a href="#t2020-08-07T17:43:13" class="time">17:43</a></td></tr>
<tr id="t2020-08-07T17:43:48"><th class="nick" style="background: #b15db1">tlwoerner</th><td class="text" style="color: #b15db1">but the binutils recipe explicitly deletes the ${bindir} when doing a do_install_class-native</td><td class="time"><a href="#t2020-08-07T17:43:48" class="time">17:43</a></td></tr>
<tr id="t2020-08-07T17:44:06"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">tlwoerner: those are assumed to come from the host</td><td class="time"><a href="#t2020-08-07T17:44:06" class="time">17:44</a></td></tr>
<tr id="t2020-08-07T17:44:20"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">although perhaps little uses objcopy</td><td class="time"><a href="#t2020-08-07T17:44:20" class="time">17:44</a></td></tr>
<tr id="t2020-08-07T17:44:29"><th class="nick" style="background: #b15db1">tlwoerner</th><td class="text" style="color: #b15db1">RP: oh, okay. sounds good</td><td class="time"><a href="#t2020-08-07T17:44:29" class="time">17:44</a></td></tr>
<tr id="t2020-08-07T17:44:53"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">tlwoerner: binutils-native is mainly for libbfd-native</td><td class="time"><a href="#t2020-08-07T17:44:53" class="time">17:44</a></td></tr>
<tr id="t2020-08-07T17:47:41"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sno: I think I have a patch which at least might improve some of this mess...</td><td class="time"><a href="#t2020-08-07T17:47:41" class="time">17:47</a></td></tr>
<tr id="t2020-08-07T18:01:31"><th class="nick" style="background: #b15db1">tlwoerner</th><td class="text" style="color: #b15db1">in my custom image bbclass, is there no easy way to add my artifact to the list of files that are removed during do_clean?</td><td class="time"><a href="#t2020-08-07T18:01:31" class="time">18:01</a></td></tr>
<tr id="t2020-08-07T18:02:06"><th class="nick" style="background: #b15db1">tlwoerner</th><td class="text" style="color: #b15db1">there is: do_image_&lt;myimage&gt;[cleandirs] but no do_image_&lt;myimage&gt;[cleanfile]</td><td class="time"><a href="#t2020-08-07T18:02:06" class="time">18:02</a></td></tr>
<tr id="t2020-08-07T18:03:06"><th class="nick" style="background: #b15db1">tlwoerner</th><td class="text" style="color: #b15db1">i guess i'll just do a do_clean_append(){}?</td><td class="time"><a href="#t2020-08-07T18:03:06" class="time">18:03</a></td></tr>
<tr id="t2020-08-07T18:05:47"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">tlwoerner: shouldn't you be installing it via the deploydir mechanism and hence it could be autocleaned?</td><td class="time"><a href="#t2020-08-07T18:05:47" class="time">18:05</a></td></tr>
<tr id="t2020-08-07T18:08:01"><th class="nick" style="background: #b15db1">tlwoerner</th><td class="text" style="color: #b15db1">RP: ah, so no manipulating files in ${DEPLOY_DIR_IMAGE} directly then? ;-)</td><td class="time"><a href="#t2020-08-07T18:08:01" class="time">18:08</a></td></tr>
<tr id="t2020-08-07T18:08:12"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">tlwoerner: not recommended</td><td class="time"><a href="#t2020-08-07T18:08:12" class="time">18:08</a></td></tr>
<tr id="t2020-08-07T18:11:42"><th class="nick" style="background: #8c4a4a">sno</th><td class="text" style="color: #8c4a4a">RP: cool</td><td class="time"><a href="#t2020-08-07T18:11:42" class="time">18:11</a></td></tr>
<tr id="t2020-08-07T18:12:52"><th class="nick" style="background: #b15db1">tlwoerner</th><td class="text" style="color: #b15db1">RP: hmm, the IMAGEDEPLOYDIR doesn't include the kernel, which i need for my custom blob, but i can get that from ${DEPLOY_DIR_IMAGE} i guess</td><td class="time"><a href="#t2020-08-07T18:12:52" class="time">18:12</a></td></tr>
<tr id="t2020-08-07T18:13:37"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">tlwoerner: its fine to consume from DEPLOY_DIR_IMAGE, just don't write to it</td><td class="time"><a href="#t2020-08-07T18:13:37" class="time">18:13</a></td></tr>
<tr id="t2020-08-07T18:14:19"><th class="nick" style="background: #b15db1">tlwoerner</th><td class="text" style="color: #b15db1">RP: perfect! thanks :-)</td><td class="time"><a href="#t2020-08-07T18:14:19" class="time">18:14</a></td></tr>
<tr id="t2020-08-07T18:24:13"><th class="nick" style="background: #5fb4b4">JPEW</th><td class="text" style="color: #5fb4b4">RP: Ah, OK. That explaination of the perl bug makes more sense. It's also easier to test for :)</td><td class="time"><a href="#t2020-08-07T18:24:13" class="time">18:24</a></td></tr>
<tr id="t2020-08-07T18:24:32"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: sorry about the confusion!</td><td class="time"><a href="#t2020-08-07T18:24:32" class="time">18:24</a></td></tr>
<tr id="t2020-08-07T18:24:55"><th class="nick" style="background: #5fb4b4">JPEW</th><td class="text" style="color: #5fb4b4">RP: No problem; did you have a build where it was in the non-arch directory?</td><td class="time"><a href="#t2020-08-07T18:24:55" class="time">18:24</a></td></tr>
<tr id="t2020-08-07T18:25:06"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">aha. nice, my .config analysis enhancement is already getting me fixup patches :D</td><td class="time"><a href="#t2020-08-07T18:25:06" class="time">18:25</a></td></tr>
<tr id="t2020-08-07T18:25:13"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: no, that is the build I've never found :/</td><td class="time"><a href="#t2020-08-07T18:25:13" class="time">18:25</a></td></tr>
<tr id="t2020-08-07T18:25:23"><th class="nick" style="background: #5fb4b4">JPEW</th><td class="text" style="color: #5fb4b4">RP: Got it</td><td class="time"><a href="#t2020-08-07T18:25:23" class="time">18:25</a></td></tr>
<tr id="t2020-08-07T18:42:18"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">Im adding a patch to a bitbake recipe for the kernel, the patch fails to apply and then every subsequent build bitbake says it founds a fence post and is continuing after my patch. How can I force it to actually try and apply the patch each time?</td><td class="time"><a href="#t2020-08-07T18:42:18" class="time">18:42</a></td></tr>
<tr id="t2020-08-07T18:42:29"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">Or at least clean everything all the way so that it will attempt it again.</td><td class="time"><a href="#t2020-08-07T18:42:29" class="time">18:42</a></td></tr>
<tr id="t2020-08-07T18:43:00"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">I have tried a complete clean and rebuild and it does not help, the only thing that will let me retry is if i clone the whole repo, make changes and restart the build. This is quite time consuming.</td><td class="time"><a href="#t2020-08-07T18:43:00" class="time">18:43</a></td></tr>
<tr id="t2020-08-07T18:43:21"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">fence post ? you are on a really old release then. I abandoned that code due to complexity.</td><td class="time"><a href="#t2020-08-07T18:43:21" class="time">18:43</a></td></tr>
<tr id="t2020-08-07T18:43:58"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">It is a build that i received from a vendor for their parts. It is based on thud</td><td class="time"><a href="#t2020-08-07T18:43:58" class="time">18:43</a></td></tr>
<tr id="t2020-08-07T18:44:36"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">Latest patch was Feb 26 2019 ship /etc/drirc in mesa-megadriver</td><td class="time"><a href="#t2020-08-07T18:44:36" class="time">18:44</a></td></tr>
<tr id="t2020-08-07T18:46:20"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">Is there a way to clear these &quot;fence posts&quot;? a folder or file that is stored somewhere?</td><td class="time"><a href="#t2020-08-07T18:46:20" class="time">18:46</a></td></tr>
<tr id="t2020-08-07T18:46:49"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">it's in the kernel source's .git directory, but even though I wrote all that code, I'd have to go look up exactly what it is.</td><td class="time"><a href="#t2020-08-07T18:46:49" class="time">18:46</a></td></tr>
<tr id="t2020-08-07T18:47:41"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">actually, if it is looking for fence posts. It should be thud. I just checked and had already removed htat.</td><td class="time"><a href="#t2020-08-07T18:47:41" class="time">18:47</a></td></tr>
<tr id="t2020-08-07T18:47:54"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">s/should/shouldn't/</td><td class="time"><a href="#t2020-08-07T18:47:54" class="time">18:47</a></td></tr>
<tr id="t2020-08-07T18:48:42"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">Whats a good way to check exactly which build / rev I'm using?</td><td class="time"><a href="#t2020-08-07T18:48:42" class="time">18:48</a></td></tr>
<tr id="t2020-08-07T18:49:56"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">sec. I'm checking. I see some remnant code. so it could be thud. there were some transition releases. but they all blur together.</td><td class="time"><a href="#t2020-08-07T18:49:56" class="time">18:49</a></td></tr>
<tr id="t2020-08-07T18:50:21"><th class="nick" style="background: #6464bf">champagneg</th><td class="text" style="color: #6464bf">any hints on removing the dependency from do_populate_sysroot tasks to do_install_ptest_base? If I modify a ptest in recipe A and recipe B depends on A, I think recipe B do_compile gets executed because of this dependency. Concrete example is between qtbase and systemd, so triggering a qtbase build is annoying ;p</td><td class="time"><a href="#t2020-08-07T18:50:21" class="time">18:50</a></td></tr>
<tr id="t2020-08-07T18:53:32"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">yah. wow. that's some transition code that I didn't even write.&nbsp;&nbsp;It is checking the name of your patch and comparing it to the internal patch series. if there's a match, it takes that as the fence post.</td><td class="time"><a href="#t2020-08-07T18:53:32" class="time">18:53</a></td></tr>
<tr id="t2020-08-07T18:54:08"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">Hrmm, its strange because it seems to set that post even if the patching fails.</td><td class="time"><a href="#t2020-08-07T18:54:08" class="time">18:54</a></td></tr>
<tr id="t2020-08-07T18:57:03"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">Do you have any suggestions on a good candidate to rebase to? I wouldn't mind trying to upgrade this to a proper stable release (I'm having all sorts of SSTATE_CACHE issues as well which i believe are fixed in newer releases).</td><td class="time"><a href="#t2020-08-07T18:57:03" class="time">18:57</a></td></tr>
<tr id="t2020-08-07T18:57:38"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">dunfell (the latest release), is a good candidate. since it is LTS as well.</td><td class="time"><a href="#t2020-08-07T18:57:38" class="time">18:57</a></td></tr>
<tr id="t2020-08-07T18:58:01"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">Jebee: I don't suppose the layers / kernel for this are public ? I could run a couple of quick tests if they were.</td><td class="time"><a href="#t2020-08-07T18:58:01" class="time">18:58</a></td></tr>
<tr id="t2020-08-07T18:59:53"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">or pastebin the error message and I can look for more details.</td><td class="time"><a href="#t2020-08-07T18:59:53" class="time">18:59</a></td></tr>
<tr id="t2020-08-07T19:00:11"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">@zeddii unfortunately it isnt... and its a complete mess, this particular vendor has completely mangled this entire code base. I tried to rebase it just to the latest release of thud and that cause a ton of issues.</td><td class="time"><a href="#t2020-08-07T19:00:11" class="time">19:00</a></td></tr>
<tr id="t2020-08-07T19:00:34"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">I'm trying the rebuild currently. I'll pastebin the error as soon as I can get it to come up again.</td><td class="time"><a href="#t2020-08-07T19:00:34" class="time">19:00</a></td></tr>
<tr id="t2020-08-07T19:00:56"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">cool. I can very likely get you moving. I'll just have to swap some things back into my memory :D</td><td class="time"><a href="#t2020-08-07T19:00:56" class="time">19:00</a></td></tr>
<tr id="t2020-08-07T19:08:00"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">ha, even deleting the whole kernel folder and did a repo sync again, and it still skipped it due to the fence post being found.</td><td class="time"><a href="#t2020-08-07T19:08:00" class="time">19:08</a></td></tr>
<tr id="t2020-08-07T19:08:02"><th class="nick" style="background: #c3c366">Jebee_laptop</th><td class="text" style="color: #c3c366"><a href="https://pastebin.com/iPb7hYMX" rel="nofollow">https://pastebin.com/iPb7hYMX</a></td><td class="time"><a href="#t2020-08-07T19:08:02" class="time">19:08</a></td></tr>
<tr id="t2020-08-07T19:18:26"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">detached head ? ouch. they are doing strange things.</td><td class="time"><a href="#t2020-08-07T19:18:26" class="time">19:18</a></td></tr>
<tr id="t2020-08-07T19:19:39"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">if you can locate your kernel source directory for the build (build/tmp/work-shared/$MACHINE/kernel-source (at least, that's where it is now, I can't remember if we had work-shared in thud, but we should have).</td><td class="time"><a href="#t2020-08-07T19:19:39" class="time">19:19</a></td></tr>
<tr id="t2020-08-07T19:19:46"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">then look in the .git/ directory</td><td class="time"><a href="#t2020-08-07T19:19:46" class="time">19:19</a></td></tr>
<tr id="t2020-08-07T19:27:28"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">So the .git directory is there.</td><td class="time"><a href="#t2020-08-07T19:27:28" class="time">19:27</a></td></tr>
<tr id="t2020-08-07T19:28:10"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">is kgit-s2q.last there ? it pretty much has to be, since that is what dumps the message you are seeing.</td><td class="time"><a href="#t2020-08-07T19:28:10" class="time">19:28</a></td></tr>
<tr id="t2020-08-07T19:29:11"><th class="nick" style="background: #c3c366">Jebee_laptop</th><td class="text" style="color: #c3c366">Here is a pastebin of when patch actually fails.</td><td class="time"><a href="#t2020-08-07T19:29:11" class="time">19:29</a></td></tr>
<tr id="t2020-08-07T19:29:14"><th class="nick" style="background: #c3c366">Jebee_laptop</th><td class="text" style="color: #c3c366"><a href="https://pastebin.com/1nBh5pZq" rel="nofollow">https://pastebin.com/1nBh5pZq</a></td><td class="time"><a href="#t2020-08-07T19:29:14" class="time">19:29</a></td></tr>
<tr id="t2020-08-07T19:30:25"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">so the patch isn't right for that kernel. but that isn't one of your patches from the SRC_URI ?</td><td class="time"><a href="#t2020-08-07T19:30:25" class="time">19:30</a></td></tr>
<tr id="t2020-08-07T19:31:54"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">that is a patch that i need to include for the kernel being built, Ive created a recipe with a bbappend file that has a SRC_URI append, and a FILESEXTRAPATHS_prepend.</td><td class="time"><a href="#t2020-08-07T19:31:54" class="time">19:31</a></td></tr>
<tr id="t2020-08-07T19:32:22"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">ok, cool, but it isn't valid for where it is being applied, so you need to fixup the patch itself.</td><td class="time"><a href="#t2020-08-07T19:32:22" class="time">19:32</a></td></tr>
<tr id="t2020-08-07T19:33:03"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">Right, I was thinking of modifying the source directory in the do_patch_prepend, and then setting it back in the do_patch_append.</td><td class="time"><a href="#t2020-08-07T19:33:03" class="time">19:33</a></td></tr>
<tr id="t2020-08-07T19:33:11"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">would that work, without having to touch the patch?</td><td class="time"><a href="#t2020-08-07T19:33:11" class="time">19:33</a></td></tr>
<tr id="t2020-08-07T19:33:38"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">you've got some bad paths in the patch, for the actual files being patched:</td><td class="time"><a href="#t2020-08-07T19:33:38" class="time">19:33</a></td></tr>
<tr id="t2020-08-07T19:33:40"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">build/tmp-glibc/work-shared/wnc/kernel-source/</td><td class="time"><a href="#t2020-08-07T19:33:40" class="time">19:33</a></td></tr>
<tr id="t2020-08-07T19:33:54"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">that shouldn't be there, if its in the patch.</td><td class="time"><a href="#t2020-08-07T19:33:54" class="time">19:33</a></td></tr>
<tr id="t2020-08-07T19:34:21"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">doing a dance with the source directory, I'm not so sure it'd work out.</td><td class="time"><a href="#t2020-08-07T19:34:21" class="time">19:34</a></td></tr>
<tr id="t2020-08-07T19:37:21"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">so the way the vendor delivered this patch is that they just took a diff of the whole folder that is ../ from poky, which includes many module diffs. (seems like a terrible way to send a patch for a system like this)</td><td class="time"><a href="#t2020-08-07T19:37:21" class="time">19:37</a></td></tr>
<tr id="t2020-08-07T19:39:24"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">I need to figure out why my root kernel directory differs from the one that is in wnc/kernel-source/</td><td class="time"><a href="#t2020-08-07T19:39:24" class="time">19:39</a></td></tr>
<tr id="t2020-08-07T19:40:25"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">your build is using the right directory.</td><td class="time"><a href="#t2020-08-07T19:40:25" class="time">19:40</a></td></tr>
<tr id="t2020-08-07T19:40:34"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">it's the patch that is garbage (to be blunt).</td><td class="time"><a href="#t2020-08-07T19:40:34" class="time">19:40</a></td></tr>
<tr id="t2020-08-07T19:40:57"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">unless I'm misreading it, that's a completely invalid file path specification.</td><td class="time"><a href="#t2020-08-07T19:40:57" class="time">19:40</a></td></tr>
<tr id="t2020-08-07T19:41:13"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">and luckily, it isn't my older tools that are the problem. I'm glad about that at least.</td><td class="time"><a href="#t2020-08-07T19:41:13" class="time">19:41</a></td></tr>
<tr id="t2020-08-07T19:42:21"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">I think the real overall question is, (you're correct about the patch being absolute trash), is why am unable to force it to try to reapply the patch on subsequent builds. And thats why you were asking me to check for that kgit-s2q.last file. So let me do that right now.</td><td class="time"><a href="#t2020-08-07T19:42:21" class="time">19:42</a></td></tr>
<tr id="t2020-08-07T19:43:02"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">yes. when it sees that file, it knows that's where it left off.</td><td class="time"><a href="#t2020-08-07T19:43:02" class="time">19:43</a></td></tr>
<tr id="t2020-08-07T19:43:09"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">if you remove it, it'll start over.</td><td class="time"><a href="#t2020-08-07T19:43:09" class="time">19:43</a></td></tr>
<tr id="t2020-08-07T19:43:43"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">deleting the entire tmp-glibc/* contents should have the same effect correct?</td><td class="time"><a href="#t2020-08-07T19:43:43" class="time">19:43</a></td></tr>
<tr id="t2020-08-07T19:45:09"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">if the kernel-source directory is in there, then yep. the only place that message you are seeing comes from is the line that detects that file.</td><td class="time"><a href="#t2020-08-07T19:45:09" class="time">19:45</a></td></tr>
<tr id="t2020-08-07T20:02:00"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">So there is no kgit-s2q file in the kernel-source folder.</td><td class="time"><a href="#t2020-08-07T20:02:00" class="time">20:02</a></td></tr>
<tr id="t2020-08-07T20:03:17"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">that is what is doing the patching, it's a tool. the file it is checking is kernel-source/.git/kgit-s2q.last</td><td class="time"><a href="#t2020-08-07T20:03:17" class="time">20:03</a></td></tr>
<tr id="t2020-08-07T20:07:17"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">right, understood. I just mean there is nothing in that folder with the name kgit-sq2* , let me double check.</td><td class="time"><a href="#t2020-08-07T20:07:17" class="time">20:07</a></td></tr>
<tr id="t2020-08-07T20:07:31"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">there's no other way that message can come out.</td><td class="time"><a href="#t2020-08-07T20:07:31" class="time">20:07</a></td></tr>
<tr id="t2020-08-07T20:07:44"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">so without being able to run something here, there's nothing more I can easily suggest.</td><td class="time"><a href="#t2020-08-07T20:07:44" class="time">20:07</a></td></tr>
<tr id="t2020-08-07T20:14:56"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">Thanks zeddii, ill keep poking around, you've been a huge help</td><td class="time"><a href="#t2020-08-07T20:14:56" class="time">20:14</a></td></tr>
<tr id="t2020-08-07T20:16:24"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">Does anyone have any helpful workarounds for someone who is getting loads of &quot;Multilib check error&quot; messages when including -dev packages? I'm using this crappy BSP put together by Qualcomm that has been messed with by who knows how many vendors. All I want to do is just link and build with gstreamer natively.</td><td class="time"><a href="#t2020-08-07T20:16:24" class="time">20:16</a></td></tr>
<tr id="t2020-08-07T20:18:11"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">hi rob :)&nbsp;&nbsp;i'm using the same or a very similar bsp put together by the exact same vendor :)</td><td class="time"><a href="#t2020-08-07T20:18:11" class="time">20:18</a></td></tr>
<tr id="t2020-08-07T20:19:04"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">Do you happen to be using the APQ8053 as well?</td><td class="time"><a href="#t2020-08-07T20:19:04" class="time">20:19</a></td></tr>
<tr id="t2020-08-07T20:20:30"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">No, I'm&nbsp;&nbsp;using a SA2150 AP and a SA415M modem.</td><td class="time"><a href="#t2020-08-07T20:20:30" class="time">20:20</a></td></tr>
<tr id="t2020-08-07T20:21:00"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">I swear QCOM makes this stuff harder than it needs to be... I've used Linaro's RPB BSP previously and that was a dream compared to this pile of junk that Qualcomm ships.</td><td class="time"><a href="#t2020-08-07T20:21:00" class="time">20:21</a></td></tr>
<tr id="t2020-08-07T20:21:18"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rob_gries: having heard about some of what they do, I'd agree with that :/</td><td class="time"><a href="#t2020-08-07T20:21:18" class="time">20:21</a></td></tr>
<tr id="t2020-08-07T20:21:23"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">Its just awful, and the support is even worse.</td><td class="time"><a href="#t2020-08-07T20:21:23" class="time">20:21</a></td></tr>
<tr id="t2020-08-07T20:21:24"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">can you turn off multilibs?</td><td class="time"><a href="#t2020-08-07T20:21:24" class="time">20:21</a></td></tr>
<tr id="t2020-08-07T20:23:01"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">RP: I can if I can solely use lib32 binaries. Some of Qualcomm's proprietary bits only work properly when built in 32Bit.</td><td class="time"><a href="#t2020-08-07T20:23:01" class="time">20:23</a></td></tr>
<tr id="t2020-08-07T20:24:19"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rob_gries: I can see that being trickier to arrange</td><td class="time"><a href="#t2020-08-07T20:24:19" class="time">20:24</a></td></tr>
<tr id="t2020-08-07T20:24:33"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rob_gries: just thought I'd mention just in case</td><td class="time"><a href="#t2020-08-07T20:24:33" class="time">20:24</a></td></tr>
<tr id="t2020-08-07T20:25:48"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">RP: I was afraid you'd say that! Do you have tips on how to configure that? The last BSP I used was 64Bit only I haven't run into this before...</td><td class="time"><a href="#t2020-08-07T20:25:48" class="time">20:25</a></td></tr>
<tr id="t2020-08-07T20:27:23"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">rob_gries how are you including the -dev libs? is your goal to have them in the SDK ?</td><td class="time"><a href="#t2020-08-07T20:27:23" class="time">20:27</a></td></tr>
<tr id="t2020-08-07T20:30:04"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">Jebee: So far I've tried two methods -- modifying meta-qti-bsp/recipes-products/images/apq8053/apq8053-base-image.inc and adding IMAGE_INSTALL directives for the packages of my choice. The second method I've tried was to modify local.conf and add the IMAGE_INSTALL_append directive that includes the packages of my choice.</td><td class="time"><a href="#t2020-08-07T20:30:04" class="time">20:30</a></td></tr>
<tr id="t2020-08-07T20:31:07"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">Jebee: I want to include them into the image so that the developers on my team can build on the devkits that they are using. My teammates like that scheme better and generally shy away from setting up a cross-compiler on their systems.</td><td class="time"><a href="#t2020-08-07T20:31:07" class="time">20:31</a></td></tr>
<tr id="t2020-08-07T20:32:50"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">hrmm, and neither of those methods work as you expect?</td><td class="time"><a href="#t2020-08-07T20:32:50" class="time">20:32</a></td></tr>
<tr id="t2020-08-07T20:34:03"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rob_gries: I can't see an easy way to do it. If it was turning off lib32 and just leaving the &quot;standard&quot; ones it would be much easier</td><td class="time"><a href="#t2020-08-07T20:34:03" class="time">20:34</a></td></tr>
<tr id="t2020-08-07T20:34:51"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rob_gries: I was wondering if you could just blacklist the problematic dev packages somehow too</td><td class="time"><a href="#t2020-08-07T20:34:51" class="time">20:34</a></td></tr>
<tr id="t2020-08-07T20:35:03"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">zeddii: I found it, its in poky/.git/kgit-s2q.last</td><td class="time"><a href="#t2020-08-07T20:35:03" class="time">20:35</a></td></tr>
<tr id="t2020-08-07T20:35:08"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">thanks!!</td><td class="time"><a href="#t2020-08-07T20:35:08" class="time">20:35</a></td></tr>
<tr id="t2020-08-07T20:35:12"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">Jebee: Unfortunately no. Method one (apq8053-base-image.inc) results in an image that cannot find it's firmware blobs when it boots, even though I never touched that part of the BSP. Method two (local.conf) results in multilib check errors and failed builds.</td><td class="time"><a href="#t2020-08-07T20:35:12" class="time">20:35</a></td></tr>
<tr id="t2020-08-07T20:36:07"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">RP: that would be fantastic. however wouldn't that result in both lib32 and standard versions being blacklisted?</td><td class="time"><a href="#t2020-08-07T20:36:07" class="time">20:36</a></td></tr>
<tr id="t2020-08-07T20:38:41"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">just to double check you used IMAGE_INSTALL_append = &quot; package-dev&quot;? (with the space before the name of the dev package? I assume you did, good to check tho.</td><td class="time"><a href="#t2020-08-07T20:38:41" class="time">20:38</a></td></tr>
<tr id="t2020-08-07T20:38:47"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">in the local.conf file?</td><td class="time"><a href="#t2020-08-07T20:38:47" class="time">20:38</a></td></tr>
<tr id="t2020-08-07T20:39:58"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rob_gries: they have separate -dev package names don't they?</td><td class="time"><a href="#t2020-08-07T20:39:58" class="time">20:39</a></td></tr>
<tr id="t2020-08-07T20:40:07"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">Jebee: Yes</td><td class="time"><a href="#t2020-08-07T20:40:07" class="time">20:40</a></td></tr>
<tr id="t2020-08-07T20:40:11"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">RP: Also, yes</td><td class="time"><a href="#t2020-08-07T20:40:11" class="time">20:40</a></td></tr>
<tr id="t2020-08-07T20:45:21"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">RP: I'm trying the blacklist approach</td><td class="time"><a href="#t2020-08-07T20:45:21" class="time">20:45</a></td></tr>
<tr id="t2020-08-07T20:45:48"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">RP: Following this from the manual -- <a href="https://www.yoctoproject.org/docs/1.7/ref-manual/ref-manual.html#var-PNBLACKLIST" rel="nofollow">https://www.yoctoproject.org/docs/1.7/ref-manual/ref-manual.html#var-PNBLACKLIST</a></td><td class="time"><a href="#t2020-08-07T20:45:48" class="time">20:45</a></td></tr>
<tr id="t2020-08-07T20:49:28"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">RP: I'm building with the PNBLACKLIST variables set... Fingers crossed!</td><td class="time"><a href="#t2020-08-07T20:49:28" class="time">20:49</a></td></tr>
<tr id="t2020-08-07T20:58:58"><th class="nick" style="background: #5fb4b4">JPEW</th><td class="text" style="color: #5fb4b4">Is there any reason dbus is 1.12.x when 1.13.x has been released?</td><td class="time"><a href="#t2020-08-07T20:58:58" class="time">20:58</a></td></tr>
<tr id="t2020-08-07T21:01:35"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">RP: Dang. That didn't work. If you're interested here are my build logs and my blacklist snippet from local.conf -- <a href="https://gist.github.com/RobGries/07bd366f4b021143c1f18d6c942a0da8" rel="nofollow">https://gist.github.com/RobGries/07bd366f4b021143c1f18d6c942a0da8</a></td><td class="time"><a href="#t2020-08-07T21:01:35" class="time">21:01</a></td></tr>
<tr id="t2020-08-07T21:03:02"><th class="nick" style="background: #5fb4b4">JPEW</th><td class="text" style="color: #5fb4b4">Ah, odd-even releases</td><td class="time"><a href="#t2020-08-07T21:03:02" class="time">21:03</a></td></tr>
<tr id="t2020-08-07T21:03:42"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rob_gries: you'd need to do it at the package level, not PN</td><td class="time"><a href="#t2020-08-07T21:03:42" class="time">21:03</a></td></tr>
<tr id="t2020-08-07T21:07:27"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">RP: Hmm never did that before. So forgive me if I sound stupid. Would that just be BLACKLIST[gstreamer-1.0-dev]? Or would I have to go into each recipe and add that syntax?</td><td class="time"><a href="#t2020-08-07T21:07:27" class="time">21:07</a></td></tr>
<tr id="t2020-08-07T21:11:26"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rob_gries: I don't think its easy to do. If it were me, I'd hack the install_complementary() function in meta/lib/oe/package_manager.py just to skip the ones you don't want</td><td class="time"><a href="#t2020-08-07T21:11:26" class="time">21:11</a></td></tr>
<tr id="t2020-08-07T21:12:04"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rob_gries: ah, PACKAGE_EXCLUDE_COMPLEMENTARY</td><td class="time"><a href="#t2020-08-07T21:12:04" class="time">21:12</a></td></tr>
<tr id="t2020-08-07T21:12:18"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rob_gries: try that :)</td><td class="time"><a href="#t2020-08-07T21:12:18" class="time">21:12</a></td></tr>
<tr id="t2020-08-07T21:15:12"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">RP: I'll give it a shot :) That's in Jethro, right?</td><td class="time"><a href="#t2020-08-07T21:15:12" class="time">21:15</a></td></tr>
<tr id="t2020-08-07T21:15:51"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rob_gries: er, no idea. That is rather elderly</td><td class="time"><a href="#t2020-08-07T21:15:51" class="time">21:15</a></td></tr>
<tr id="t2020-08-07T21:16:20"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">RP: Yeah... This is what the vendor give us :-/</td><td class="time"><a href="#t2020-08-07T21:16:20" class="time">21:16</a></td></tr>
<tr id="t2020-08-07T21:19:32"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rob_gries: how old is that hardware?</td><td class="time"><a href="#t2020-08-07T21:19:32" class="time">21:19</a></td></tr>
<tr id="t2020-08-07T21:19:58"><th class="nick" style="background: #62bb62">Jebee</th><td class="text" style="color: #62bb62">So if I wanted to patch something that is in the root directory, lets say something in kernel/*/sound... where would I ideally create the diff for the patch such that i could include it in a bbappend file with SRC_URI?</td><td class="time"><a href="#t2020-08-07T21:19:58" class="time">21:19</a></td></tr>
<tr id="t2020-08-07T21:20:19"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">RP: Not that old... maybe 2 years old? <a href="https://www.qualcomm.com/media/documents/files/apq8053-soc-product-brief.pdf" rel="nofollow">https://www.qualcomm.com/media/documents/files/apq8053-soc-product-brief.pdf</a></td><td class="time"><a href="#t2020-08-07T21:20:19" class="time">21:20</a></td></tr>
<tr id="t2020-08-07T21:21:33"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rob_gries: based on a release series we stopped updating in Dec 2016 :/</td><td class="time"><a href="#t2020-08-07T21:21:33" class="time">21:21</a></td></tr>
<tr id="t2020-08-07T21:22:13"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">RP: I have a suspicion that QCOM flogs it's older mobile targeted silicon to IoT when it stops being profitable.</td><td class="time"><a href="#t2020-08-07T21:22:13" class="time">21:22</a></td></tr>
<tr id="t2020-08-07T21:26:12"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rob_gries: sounds possible</td><td class="time"><a href="#t2020-08-07T21:26:12" class="time">21:26</a></td></tr>
<tr id="t2020-08-07T21:42:45"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">RP: so I checked over the install_complementary() function in my version of the BSP, and found that PACKAGE_EXCLUDE_COMPLEMENTARY is in fact in there. But I'm not sure if I'm using it correctly.</td><td class="time"><a href="#t2020-08-07T21:42:45" class="time">21:42</a></td></tr>
<tr id="t2020-08-07T21:43:34"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">RP: this is what I tried in local.conf -- PACKAGE_EXCLUDE_COMPLEMENTARY += &quot; gstreamer-1.0-dev libpng-dev libdb-dev libgmp-dev&quot;</td><td class="time"><a href="#t2020-08-07T21:43:34" class="time">21:43</a></td></tr>
<tr id="t2020-08-07T21:46:57"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rob_gries: sounds right. There are a lot of ways this might not work unfortunately :(</td><td class="time"><a href="#t2020-08-07T21:46:57" class="time">21:46</a></td></tr>
<tr id="t2020-08-07T21:47:31"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rob_gries: Its 11pm on a Friday here and I really need to step away from the computer, sorry</td><td class="time"><a href="#t2020-08-07T21:47:31" class="time">21:47</a></td></tr>
<tr id="t2020-08-07T21:48:33"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">RP: I get it, it's nearly 6PM here. Thanks for your help, I appreciate it.</td><td class="time"><a href="#t2020-08-07T21:48:33" class="time">21:48</a></td></tr>
<tr id="t2020-08-07T21:48:44"><th class="nick" style="background: #adad5b">rob_gries</th><td class="text" style="color: #adad5b">RP: Enjoy your weekend!</td><td class="time"><a href="#t2020-08-07T21:48:44" class="time">21:48</a></td></tr>
<tr id="t2020-08-07T22:21:57"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">RP: finally fixed the ppc issue I am hoping, please stage the patch I sent moments ago</td><td class="time"><a href="#t2020-08-07T22:21:57" class="time">22:21</a></td></tr>
<tr id="t2020-08-07T22:22:24"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">RP: I think we should drop this ppc32 !@#$ from core</td><td class="time"><a href="#t2020-08-07T22:22:24" class="time">22:22</a></td></tr>
<tr id="t2020-08-07T22:22:37"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">khem: already running on the autobuilder :)</td><td class="time"><a href="#t2020-08-07T22:22:37" class="time">22:22</a></td></tr>
<tr id="t2020-08-07T22:22:37-2"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">I spend 2.5 days debugging this issue</td><td class="time"><a href="#t2020-08-07T22:22:37-2" class="time">22:22</a></td></tr>
<tr id="t2020-08-07T22:22:55"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">khem: thanks, I know the feeling with things like that...</td><td class="time"><a href="#t2020-08-07T22:22:55" class="time">22:22</a></td></tr>
<tr id="t2020-08-07T22:23:07"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">khem: <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/83/builds/1241" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/83/builds/1241</a></td><td class="time"><a href="#t2020-08-07T22:23:07" class="time">22:23</a></td></tr>
<tr id="t2020-08-07T22:23:47"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">glibc got many changes where things broke so bisecting was not an option</td><td class="time"><a href="#t2020-08-07T22:23:47" class="time">22:23</a></td></tr>
<tr id="t2020-08-07T22:24:15"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">and upstream only cares for ibm ppc</td><td class="time"><a href="#t2020-08-07T22:24:15" class="time">22:24</a></td></tr>
<tr id="t2020-08-07T22:24:18"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">khem: ouch. Sounds like it may be an interesting one for issues as it gets wider testing...</td><td class="time"><a href="#t2020-08-07T22:24:18" class="time">22:24</a></td></tr>
<tr id="t2020-08-07T22:25:15"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">RP: perhaps we should think of replacing it with ppc64 and ask openpower to support us</td><td class="time"><a href="#t2020-08-07T22:25:15" class="time">22:25</a></td></tr>
<tr id="t2020-08-07T22:25:15-2"><td class="action" colspan="2">* RP really steps away</td><td><a href="#t2020-08-07T22:25:15-2" class="time">22:25</a></td></tr>
<tr id="t2020-08-07T22:25:41"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">khem: I'd be fine with that but doesn't cisco use the older ppc?</td><td class="time"><a href="#t2020-08-07T22:25:41" class="time">22:25</a></td></tr>
<tr id="t2020-08-07T22:26:10"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">yeah they do anyone from Cisco here listening ? please share the pain</td><td class="time"><a href="#t2020-08-07T22:26:10" class="time">22:26</a></td></tr>
<tr id="t2020-08-07T22:26:40"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">khem: victor is helpful if you email him</td><td class="time"><a href="#t2020-08-07T22:26:40" class="time">22:26</a></td></tr>
<tr id="t2020-08-07T22:26:54"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">good idea, I will</td><td class="time"><a href="#t2020-08-07T22:26:54" class="time">22:26</a></td></tr>
<tr id="t2020-08-07T22:27:15"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">since ppc always eats up time along with mips sometimes but mips I get paid for :)</td><td class="time"><a href="#t2020-08-07T22:27:15" class="time">22:27</a></td></tr>
<tr id="t2020-08-07T22:38:37"><th class="nick" style="background: #6acaca">armpit</th><td class="text" style="color: #6acaca">you get paid?</td><td class="time"><a href="#t2020-08-07T22:38:37" class="time">22:38</a></td></tr>
<tr id="t2020-08-07T22:39:23"><th class="nick" style="background: #6acaca">armpit</th><td class="text" style="color: #6acaca">we should drop ppc32 for ppc64 ; )</td><td class="time"><a href="#t2020-08-07T22:39:23" class="time">22:39</a></td></tr>
<tr id="t2020-08-07T22:54:14"><td class="nickchange" colspan="2">*** camus1 is now known as kaspter</td><td><a href="#t2020-08-07T22:54:14" class="time">22:54</a></td></tr>
<tr id="t2020-08-07T23:04:49"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">armpit: heh I mean my employer still uses mips32 so indirectly, I am scratching own itch with mips32</td><td class="time"><a href="#t2020-08-07T23:04:49" class="time">23:04</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2020-08-06.log.html">&#171; Thursday, 2020-08-06</a> <a href="index.html">Index</a> <a href="%23yocto.2020-08-08.log.html">Saturday, 2020-08-08 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
