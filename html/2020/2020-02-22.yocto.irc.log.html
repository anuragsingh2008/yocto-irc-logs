<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Saturday, 2020-02-22</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Saturday, 2020-02-22</h1>
<div class="navigation"> <a href="%23yocto.2020-02-21.log.html">&#171; Friday, 2020-02-21</a> <a href="index.html">Index</a> <a href="%23yocto.2020-02-23.log.html">Sunday, 2020-02-23 &#187;</a> </div>
<table class="irclog">
<tr id="t2020-02-22T00:22:19"><th class="nick" style="background: #407a40">mischief</th><td class="text" style="color: #407a40">thank you!</td><td class="time"><a href="#t2020-02-22T00:22:19" class="time">00:22</a></td></tr>
<tr id="t2020-02-22T00:25:58"><th class="nick" style="background: #42427e">yocti</th><td class="text" style="color: #42427e">New news from stackoverflow: Yocto Bitbake Recipes for Nvidia Jetson Nano for Python whl files not on PyPi &lt;<a href="https://stackoverflow.com/questions/56563920/yocto-bitbake-recipes-for-nvidia-jetson-nano-for-python-whl-files-not-on-pypi&gt;" rel="nofollow">https://stackoverflow.com/questions/56563920/yocto-bitbake-recipes-for-nvidia-jetson-nano-for-python-whl-files-not-on-pypi&gt;</a></td><td class="time"><a href="#t2020-02-22T00:25:58" class="time">00:25</a></td></tr>
<tr id="t2020-02-22T06:57:01"><th class="nick" style="background: #42427e">yocti</th><td class="text" style="color: #42427e">New news from stackoverflow: Adding nativesdk-qt4-tools to my yocto SDK &lt;<a href="https://stackoverflow.com/questions/58256123/adding-nativesdk-qt4-tools-to-my-yocto-sdk&gt;" rel="nofollow">https://stackoverflow.com/questions/58256123/adding-nativesdk-qt4-tools-to-my-yocto-sdk&gt;</a></td><td class="time"><a href="#t2020-02-22T06:57:01" class="time">06:57</a></td></tr>
<tr id="t2020-02-22T08:50:48"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I think the binutils change causes a selftest failure :/</td><td class="time"><a href="#t2020-02-22T08:50:48" class="time">08:50</a></td></tr>
<tr id="t2020-02-22T09:07:29"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: confirmed, the _x86-64 overridden line breaks oe-selftest -r sstatetests.SStateTests.test_sstate_32_64_same_hash</td><td class="time"><a href="#t2020-02-22T09:07:29" class="time">09:07</a></td></tr>
<tr id="t2020-02-22T10:56:13"><td class="nickchange" colspan="2">*** camus1 is now known as kaspter</td><td><a href="#t2020-02-22T10:56:13" class="time">10:56</a></td></tr>
<tr id="t2020-02-22T10:58:20"><th class="nick" style="background: #854685">dv|2</th><td class="text" style="color: #854685">how can I choose BRANCH based on MACHINE name in my own recipe?</td><td class="time"><a href="#t2020-02-22T10:58:20" class="time">10:58</a></td></tr>
<tr id="t2020-02-22T11:43:07"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">dv|2: BRANCH_machine1 = "A" BRANCH_machine2 = "B" and use ${BRANCH} ?</td><td class="time"><a href="#t2020-02-22T11:43:07" class="time">11:43</a></td></tr>
<tr id="t2020-02-22T11:43:25"><th class="nick" style="background: #854685">dv|2</th><td class="text" style="color: #854685">RP, exactly!</td><td class="time"><a href="#t2020-02-22T11:43:25" class="time">11:43</a></td></tr>
<tr id="t2020-02-22T11:56:13"><th class="nick" style="background: #488888">paulbarker</th><td class="text" style="color: #488888">RP: I think I may have tracked down my extend_recipe_sysroot issue from yesterday. It was my mistake but a subtle one</td><td class="time"><a href="#t2020-02-22T11:56:13" class="time">11:56</a></td></tr>
<tr id="t2020-02-22T11:57:35"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">paulbarker: what was it out of interest?</td><td class="time"><a href="#t2020-02-22T11:57:35" class="time">11:57</a></td></tr>
<tr id="t2020-02-22T11:57:50"><th class="nick" style="background: #488888">paulbarker</th><td class="text" style="color: #488888">I had `do_image_wic[depends] += "u-boot-bbe:do_build"`, should have been `do_deploy` at the end there instead</td><td class="time"><a href="#t2020-02-22T11:57:50" class="time">11:57</a></td></tr>
<tr id="t2020-02-22T11:58:00"><th class="nick" style="background: #488888">paulbarker</th><td class="text" style="color: #488888">All works fine until you inherit rm_work</td><td class="time"><a href="#t2020-02-22T11:58:00" class="time">11:58</a></td></tr>
<tr id="t2020-02-22T11:58:12"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">paulbarker: ah, I can imagine how it could break</td><td class="time"><a href="#t2020-02-22T11:58:12" class="time">11:58</a></td></tr>
<tr id="t2020-02-22T11:58:57"><th class="nick" style="background: #488888">paulbarker</th><td class="text" style="color: #488888">Then you get a graph like `u-boot-bbe:do_build` -&gt; `u-boot-bbe:do_rm_work_all` -&gt; `glibc-initial:do_rm_work` -&gt; `glibc-initial:do_populate_sysroot`</td><td class="time"><a href="#t2020-02-22T11:58:57" class="time">11:58</a></td></tr>
<tr id="t2020-02-22T11:58:58"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">the dependency code is all rather interesting :/</td><td class="time"><a href="#t2020-02-22T11:58:58" class="time">11:58</a></td></tr>
<tr id="t2020-02-22T11:59:13"><th class="nick" style="background: #488888">paulbarker</th><td class="text" style="color: #488888">And suddenly extend_recipe_sysroot is trying to add both glibc and glibc-initial</td><td class="time"><a href="#t2020-02-22T11:59:13" class="time">11:59</a></td></tr>
<tr id="t2020-02-22T12:00:04"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">paulbarker: which then breaks since the code which blocks both together then doesn't trigger</td><td class="time"><a href="#t2020-02-22T12:00:04" class="time">12:00</a></td></tr>
<tr id="t2020-02-22T12:00:19"><th class="nick" style="background: #488888">paulbarker</th><td class="text" style="color: #488888">Exactly</td><td class="time"><a href="#t2020-02-22T12:00:19" class="time">12:00</a></td></tr>
<tr id="t2020-02-22T12:01:13"><th class="nick" style="background: #488888">paulbarker</th><td class="text" style="color: #488888">I wonder if we can make it drop do_rm_work &amp; do_rm_work_all in the "Create collapsed do_populate_sysroot -&gt; do_populate_sysroot tree" section of the function</td><td class="time"><a href="#t2020-02-22T12:01:13" class="time">12:01</a></td></tr>
<tr id="t2020-02-22T12:02:23"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">paulbarker: I think there would be other implications of the issue so that probably would create more confusion than it could solve :/</td><td class="time"><a href="#t2020-02-22T12:02:23" class="time">12:02</a></td></tr>
<tr id="t2020-02-22T12:03:09"><th class="nick" style="background: #488888">paulbarker</th><td class="text" style="color: #488888">Ok. Maybe a warning if we see do_build in the dependencies of a task like that?</td><td class="time"><a href="#t2020-02-22T12:03:09" class="time">12:03</a></td></tr>
<tr id="t2020-02-22T12:03:48"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">paulbarker: maybe. I think only do_build should depend upon do_build</td><td class="time"><a href="#t2020-02-22T12:03:48" class="time">12:03</a></td></tr>
<tr id="t2020-02-22T13:58:34"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">RP:what does that test do, compare target binutils or cross</td><td class="time"><a href="#t2020-02-22T13:58:34" class="time">13:58</a></td></tr>
<tr id="t2020-02-22T14:00:28"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: compares binutils-native on a 32 and a 64 bit host</td><td class="time"><a href="#t2020-02-22T14:00:28" class="time">14:00</a></td></tr>
<tr id="t2020-02-22T14:00:35"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I have a fix in -next</td><td class="time"><a href="#t2020-02-22T14:00:35" class="time">14:00</a></td></tr>
<tr id="t2020-02-22T14:01:04"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">ah yes was reading the testcase</td><td class="time"><a href="#t2020-02-22T14:01:04" class="time">14:01</a></td></tr>
<tr id="t2020-02-22T14:02:09"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: fix mailed</td><td class="time"><a href="#t2020-02-22T14:02:09" class="time">14:02</a></td></tr>
<tr id="t2020-02-22T14:02:23"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">as well as fix for zeddii's kernel change and a fix for the psplash race issue</td><td class="time"><a href="#t2020-02-22T14:02:23" class="time">14:02</a></td></tr>
<tr id="t2020-02-22T14:03:56"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">looks good</td><td class="time"><a href="#t2020-02-22T14:03:56" class="time">14:03</a></td></tr>
<tr id="t2020-02-22T14:04:25"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">I was thinking to enable-targets=all for all kind of binutils as well</td><td class="time"><a href="#t2020-02-22T14:04:25" class="time">14:04</a></td></tr>
<tr id="t2020-02-22T14:04:52"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: i was wondering about that. Could we even drop binutils-cross in favour of binutils-native and just symlink?</td><td class="time"><a href="#t2020-02-22T14:04:52" class="time">14:04</a></td></tr>
<tr id="t2020-02-22T14:05:29"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">which would make binutils build a bit longer and perhaps bigger but will account for</td><td class="time"><a href="#t2020-02-22T14:05:29" class="time">14:05</a></td></tr>
<tr id="t2020-02-22T14:05:44"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: we build -native anyway though?</td><td class="time"><a href="#t2020-02-22T14:05:44" class="time">14:05</a></td></tr>
<tr id="t2020-02-22T14:05:52"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">RP: in that case perhaps yes</td><td class="time"><a href="#t2020-02-22T14:05:52" class="time">14:05</a></td></tr>
<tr id="t2020-02-22T14:06:20"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">yeah native is not always built I think but we can if we think of dropping cross</td><td class="time"><a href="#t2020-02-22T14:06:20" class="time">14:06</a></td></tr>
<tr id="t2020-02-22T14:07:09"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: it'd be worth measuring the size/time difference</td><td class="time"><a href="#t2020-02-22T14:07:09" class="time">14:07</a></td></tr>
<tr id="t2020-02-22T14:07:19"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">in clang thats what I do, build one and symlimk for cross but clang driver supports it so any issues we can fix, not sure about binutils case, we might have to try</td><td class="time"><a href="#t2020-02-22T14:07:19" class="time">14:07</a></td></tr>
<tr id="t2020-02-22T14:11:24"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">RP: another problem I am seeing is that when I build musl/glibc in same tmpdir for same machine, it deletes content from core2-32-yoe-linux-musl when build is happening for glibc while it decides to do sysroot cleanup</td><td class="time"><a href="#t2020-02-22T14:11:24" class="time">14:11</a></td></tr>
<tr id="t2020-02-22T14:11:44"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">I thought core2-32-yoe-linux-musl will be unknown to glibc build</td><td class="time"><a href="#t2020-02-22T14:11:44" class="time">14:11</a></td></tr>
<tr id="t2020-02-22T14:12:03"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">so it should not even touch *-*-musl* dirs, no ?</td><td class="time"><a href="#t2020-02-22T14:12:03" class="time">14:12</a></td></tr>
<tr id="t2020-02-22T14:12:40"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: It depends. Which dir exactly?</td><td class="time"><a href="#t2020-02-22T14:12:40" class="time">14:12</a></td></tr>
<tr id="t2020-02-22T14:13:02"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">work/core2-32-yoe-linux-musl</td><td class="time"><a href="#t2020-02-22T14:13:02" class="time">14:13</a></td></tr>
<tr id="t2020-02-22T14:13:16"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: there is code which records what a given MACHINE built last time, then if its no longer reachable in a new build it can remove it</td><td class="time"><a href="#t2020-02-22T14:13:16" class="time">14:13</a></td></tr>
<tr id="t2020-02-22T14:13:21"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">packages under above are cleaned</td><td class="time"><a href="#t2020-02-22T14:13:21" class="time">14:13</a></td></tr>
<tr id="t2020-02-22T14:13:26"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">when doing glibc build</td><td class="time"><a href="#t2020-02-22T14:13:26" class="time">14:13</a></td></tr>
<tr id="t2020-02-22T14:13:42"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I'm slightly surprised it would clean musl from glibc</td><td class="time"><a href="#t2020-02-22T14:13:42" class="time">14:13</a></td></tr>
<tr id="t2020-02-22T14:13:53"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">I am too,</td><td class="time"><a href="#t2020-02-22T14:13:53" class="time">14:13</a></td></tr>
<tr id="t2020-02-22T14:14:53"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">easy to reproduce, TCLIBC=musl bitbake core-image-minimal &amp;&amp; bitbake core-image-minimal now check musl/ dir under work/core2-32-yoe-linux-musl its removed</td><td class="time"><a href="#t2020-02-22T14:14:53" class="time">14:14</a></td></tr>
<tr id="t2020-02-22T14:15:31"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">and its surgical about it, not whole core2-32-yoe-linux-musl is removed</td><td class="time"><a href="#t2020-02-22T14:15:31" class="time">14:15</a></td></tr>
<tr id="t2020-02-22T14:15:52"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: have a look at sstate-control/index-&lt;machine&gt;</td><td class="time"><a href="#t2020-02-22T14:15:52" class="time">14:15</a></td></tr>
<tr id="t2020-02-22T14:16:14"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I suspect something odd is going on with the indexes</td><td class="time"><a href="#t2020-02-22T14:16:14" class="time">14:16</a></td></tr>
<tr id="t2020-02-22T14:16:26"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: my local ones don't look right to me at a quick glance</td><td class="time"><a href="#t2020-02-22T14:16:26" class="time">14:16</a></td></tr>
<tr id="t2020-02-22T14:16:35"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: if those indexes aren't right it will remove things when it shouldn't</td><td class="time"><a href="#t2020-02-22T14:16:35" class="time">14:16</a></td></tr>
<tr id="t2020-02-22T14:17:37"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: we have this behaviour so things like switching sysvinit to systemd work</td><td class="time"><a href="#t2020-02-22T14:17:37" class="time">14:17</a></td></tr>
<tr id="t2020-02-22T14:17:57"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: it is there to clean up systemd ipks from the feed if the systemd recipe is disabled for example</td><td class="time"><a href="#t2020-02-22T14:17:57" class="time">14:17</a></td></tr>
<tr id="t2020-02-22T14:18:10"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I think it will also trigger to remove musl if you switch to glibc and vice versa</td><td class="time"><a href="#t2020-02-22T14:18:10" class="time">14:18</a></td></tr>
<tr id="t2020-02-22T14:19:09"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">but musl is different tuple unlike system/sysvinit case</td><td class="time"><a href="#t2020-02-22T14:19:09" class="time">14:19</a></td></tr>
<tr id="t2020-02-22T14:19:23"><th class="nick" style="background: #4b904b">kanavin_home</th><td class="text" style="color: #4b904b">RP: is the wayland build issue caused by ninja update by any chance?</td><td class="time"><a href="#t2020-02-22T14:19:23" class="time">14:19</a></td></tr>
<tr id="t2020-02-22T14:19:36"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">I see that index names dont encode TARTGET_OS</td><td class="time"><a href="#t2020-02-22T14:19:36" class="time">14:19</a></td></tr>
<tr id="t2020-02-22T14:19:55"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: possibly. Not sure if its deterministic yet or not</td><td class="time"><a href="#t2020-02-22T14:19:55" class="time">14:19</a></td></tr>
<tr id="t2020-02-22T14:20:36"><th class="nick" style="background: #4b904b">kanavin_home</th><td class="text" style="color: #4b904b">RP: what I see in the failure is that it's trying to build tests ahead of everything else</td><td class="time"><a href="#t2020-02-22T14:20:36" class="time">14:20</a></td></tr>
<tr id="t2020-02-22T14:20:54"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: so its racing with broken dependency information?</td><td class="time"><a href="#t2020-02-22T14:20:54" class="time">14:20</a></td></tr>
<tr id="t2020-02-22T14:21:38"><th class="nick" style="background: #4b904b">kanavin_home</th><td class="text" style="color: #4b904b">RP: looking into source code now</td><td class="time"><a href="#t2020-02-22T14:21:38" class="time">14:21</a></td></tr>
<tr id="t2020-02-22T14:22:21"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: I haven't really looked into that one, I decided to file it as its out my area of knowledge</td><td class="time"><a href="#t2020-02-22T14:22:21" class="time">14:22</a></td></tr>
<tr id="t2020-02-22T14:22:33"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">RP: index-core2-32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; index-machine-qemux86&nbsp;&nbsp;index-qemux86 they should also have TARGET_OS in their name IMO</td><td class="time"><a href="#t2020-02-22T14:22:33" class="time">14:22</a></td></tr>
<tr id="t2020-02-22T14:22:37"><th class="nick" style="background: #4b904b">kanavin_home</th><td class="text" style="color: #4b904b">RP: let me try to build it with new ninja</td><td class="time"><a href="#t2020-02-22T14:22:37" class="time">14:22</a></td></tr>
<tr id="t2020-02-22T14:22:44"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: there were three other issues for me to be going on with :/</td><td class="time"><a href="#t2020-02-22T14:22:44" class="time">14:22</a></td></tr>
<tr id="t2020-02-22T14:23:11"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I'm not sure they should</td><td class="time"><a href="#t2020-02-22T14:23:11" class="time">14:23</a></td></tr>
<tr id="t2020-02-22T14:23:44"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: where do the files end up under tmp/deploy/ipk ?</td><td class="time"><a href="#t2020-02-22T14:23:44" class="time">14:23</a></td></tr>
<tr id="t2020-02-22T14:24:51"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I suspect if we change this code you'll get both glibc and musl ipks together</td><td class="time"><a href="#t2020-02-22T14:24:51" class="time">14:24</a></td></tr>
<tr id="t2020-02-22T14:25:08"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">hmm thinking about it from feeds point of&nbsp;&nbsp;view it seems you are right</td><td class="time"><a href="#t2020-02-22T14:25:08" class="time">14:25</a></td></tr>
<tr id="t2020-02-22T14:25:12"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: so the code is actually doing the right thing and preventing you hurting yourself</td><td class="time"><a href="#t2020-02-22T14:25:12" class="time">14:25</a></td></tr>
<tr id="t2020-02-22T14:25:17"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">:)</td><td class="time"><a href="#t2020-02-22T14:25:17" class="time">14:25</a></td></tr>
<tr id="t2020-02-22T14:25:48"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">so best is to use different tmpdir ?</td><td class="time"><a href="#t2020-02-22T14:25:48" class="time">14:25</a></td></tr>
<tr id="t2020-02-22T14:26:06"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">like oe-core defaults?</td><td class="time"><a href="#t2020-02-22T14:26:06" class="time">14:26</a></td></tr>
<tr id="t2020-02-22T14:26:25"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I think we'd have more work to do to make parallel glibc/musl builds work in the same tmpdir</td><td class="time"><a href="#t2020-02-22T14:26:25" class="time">14:26</a></td></tr>
<tr id="t2020-02-22T14:26:54"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">It does "work" only because we have code which detects and tries to handle it</td><td class="time"><a href="#t2020-02-22T14:26:54" class="time">14:26</a></td></tr>
<tr id="t2020-02-22T14:27:07"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">but to do that it has to clean up lots of stuff</td><td class="time"><a href="#t2020-02-22T14:27:07" class="time">14:27</a></td></tr>
<tr id="t2020-02-22T14:27:49"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">yeah i see that especially when you do world builds one after another you can see it cleaning up for long long time</td><td class="time"><a href="#t2020-02-22T14:27:49" class="time">14:27</a></td></tr>
<tr id="t2020-02-22T14:28:11"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: separate tmpdir is simpler</td><td class="time"><a href="#t2020-02-22T14:28:11" class="time">14:28</a></td></tr>
<tr id="t2020-02-22T14:29:21"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">RP: with combined tmpdir, I have been able to catch some allarch bugs though</td><td class="time"><a href="#t2020-02-22T14:29:21" class="time">14:29</a></td></tr>
<tr id="t2020-02-22T14:29:41"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">so its not all in waste, but I guess I should change my distro defaults</td><td class="time"><a href="#t2020-02-22T14:29:41" class="time">14:29</a></td></tr>
<tr id="t2020-02-22T14:29:57"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">I have bigger fish to fry</td><td class="time"><a href="#t2020-02-22T14:29:57" class="time">14:29</a></td></tr>
<tr id="t2020-02-22T14:30:24"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: right, I do see some value in it but I don't think its top of the agenda</td><td class="time"><a href="#t2020-02-22T14:30:24" class="time">14:30</a></td></tr>
<tr id="t2020-02-22T14:30:47"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: In some ways I'm surprised it works at all! :)</td><td class="time"><a href="#t2020-02-22T14:30:47" class="time">14:30</a></td></tr>
<tr id="t2020-02-22T14:31:11"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">it works because I have been using it :)</td><td class="time"><a href="#t2020-02-22T14:31:11" class="time">14:31</a></td></tr>
<tr id="t2020-02-22T14:31:20"><th class="nick" style="background: #4b904b">kanavin_home</th><td class="text" style="color: #4b904b">RP: nope, it's not ninja :-/ and the dependencies look right</td><td class="time"><a href="#t2020-02-22T14:31:20" class="time">14:31</a></td></tr>
<tr id="t2020-02-22T14:31:35"><th class="nick" style="background: #4b904b">kanavin_home</th><td class="text" style="color: #4b904b">locally the tests build after everything else</td><td class="time"><a href="#t2020-02-22T14:31:35" class="time">14:31</a></td></tr>
<tr id="t2020-02-22T14:32:49"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: hmm, so some kind of race? :/</td><td class="time"><a href="#t2020-02-22T14:32:49" class="time">14:32</a></td></tr>
<tr id="t2020-02-22T14:34:17"><th class="nick" style="background: #4b904b">kanavin_home</th><td class="text" style="color: #4b904b">or a malformed ninja file</td><td class="time"><a href="#t2020-02-22T14:34:17" class="time">14:34</a></td></tr>
<tr id="t2020-02-22T14:37:52"><th class="nick" style="background: #4b904b">kanavin_home</th><td class="text" style="color: #4b904b">RP: I ran ninja -j 100 and the race still doesn't show up :-/</td><td class="time"><a href="#t2020-02-22T14:37:52" class="time">14:37</a></td></tr>
<tr id="t2020-02-22T14:40:46"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: I wonder if we still have that builddir, would that help?</td><td class="time"><a href="#t2020-02-22T14:40:46" class="time">14:40</a></td></tr>
<tr id="t2020-02-22T14:41:34"><th class="nick" style="background: #4b904b">kanavin_home</th><td class="text" style="color: #4b904b">RP: yes, particularly the generated ninja file, but everything else too so I can compare to local build</td><td class="time"><a href="#t2020-02-22T14:41:34" class="time">14:41</a></td></tr>
<tr id="t2020-02-22T14:42:47"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: we have it, one second and I'll share</td><td class="time"><a href="#t2020-02-22T14:42:47" class="time">14:42</a></td></tr>
<tr id="t2020-02-22T14:44:01"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home:&nbsp;&nbsp;<a href="https://autobuilder.yocto.io/pub/repro-fail/wayland.tgz" rel="nofollow">https://autobuilder.yocto.io/pub/repro-fail/wayland.tgz</a> is the cut down version</td><td class="time"><a href="#t2020-02-22T14:44:01" class="time">14:44</a></td></tr>
<tr id="t2020-02-22T14:44:20"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: creating wayland2.tgz with recipe-sysroot and everything</td><td class="time"><a href="#t2020-02-22T14:44:20" class="time">14:44</a></td></tr>
<tr id="t2020-02-22T14:44:30"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">(also now done)</td><td class="time"><a href="#t2020-02-22T14:44:30" class="time">14:44</a></td></tr>
<tr id="t2020-02-22T14:44:55"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">200MB vs 1MB :)</td><td class="time"><a href="#t2020-02-22T14:44:55" class="time">14:44</a></td></tr>
<tr id="t2020-02-22T14:47:00"><th class="nick" style="background: #4b904b">kanavin_home</th><td class="text" style="color: #4b904b">RP: right, let me see</td><td class="time"><a href="#t2020-02-22T14:47:00" class="time">14:47</a></td></tr>
<tr id="t2020-02-22T14:52:39"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">hmm, does anyone know systemd unit files? We're seeing psplash-systemd[134]: Error unable to open fifo even with my patch in -next :(</td><td class="time"><a href="#t2020-02-22T14:52:39" class="time">14:52</a></td></tr>
<tr id="t2020-02-22T14:56:32"><th class="nick" style="background: #4b904b">kanavin_home</th><td class="text" style="color: #4b904b">RP: <a href="https://github.com/wayland-project/wayland/commit/0fc00fff3015edb70b865f126dc8f4c258fe2f56" rel="nofollow">https://github.com/wayland-project/wayland/commit/0fc00fff3015edb70b865f126dc8f4c258fe2f56</a></td><td class="time"><a href="#t2020-02-22T14:56:32" class="time">14:56</a></td></tr>
<tr id="t2020-02-22T14:56:45"><th class="nick" style="background: #4b904b">kanavin_home</th><td class="text" style="color: #4b904b">I'll get some food now, then prepare the patch :)</td><td class="time"><a href="#t2020-02-22T14:56:45" class="time">14:56</a></td></tr>
<tr id="t2020-02-22T14:57:28"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: cool, thanks!</td><td class="time"><a href="#t2020-02-22T14:57:28" class="time">14:57</a></td></tr>
<tr id="t2020-02-22T14:59:47"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">hmm, the dependencies just look wrong to me :/</td><td class="time"><a href="#t2020-02-22T14:59:47" class="time">14:59</a></td></tr>
<tr id="t2020-02-22T15:08:16"><th class="nick" style="background: #4b904b">kanavin_home</th><td class="text" style="color: #4b904b">RP which dependencies?</td><td class="time"><a href="#t2020-02-22T15:08:16" class="time">15:08</a></td></tr>
<tr id="t2020-02-22T15:14:07"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: sorry, for psplash systemd</td><td class="time"><a href="#t2020-02-22T15:14:07" class="time">15:14</a></td></tr>
<tr id="t2020-02-22T15:31:04"><th class="nick" style="background: #4b904b">kanavin_home</th><td class="text" style="color: #4b904b">RP patch for wayland is on the list</td><td class="time"><a href="#t2020-02-22T15:31:04" class="time">15:31</a></td></tr>
<tr id="t2020-02-22T15:36:37"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">RP: for sysvinit psplash fifo is export PSPLASH_FIFO_DIR=/mnt/.psplash</td><td class="time"><a href="#t2020-02-22T15:36:37" class="time">15:36</a></td></tr>
<tr id="t2020-02-22T15:36:50"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">is it different for dir for systemd</td><td class="time"><a href="#t2020-02-22T15:36:50" class="time">15:36</a></td></tr>
<tr id="t2020-02-22T15:44:14"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: it is, should be in /run for systemd</td><td class="time"><a href="#t2020-02-22T15:44:14" class="time">15:44</a></td></tr>
<tr id="t2020-02-22T15:44:32"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: thanks</td><td class="time"><a href="#t2020-02-22T15:44:32" class="time">15:44</a></td></tr>
<tr id="t2020-02-22T15:54:35"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">github has (temporarily?) disabled archive downloads, just in case anyone needed a better reason to stop using them: <a href="https://status.gitlab.com/pages/5b36dc6502d06804c08349f7" rel="nofollow">https://status.gitlab.com/pages/5b36dc6502d06804c08349f7</a></td><td class="time"><a href="#t2020-02-22T15:54:35" class="time">15:54</a></td></tr>
<tr id="t2020-02-22T16:08:15"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: gitlab or github? it sounds temporary to address a DoS attack?</td><td class="time"><a href="#t2020-02-22T16:08:15" class="time">16:08</a></td></tr>
<tr id="t2020-02-22T16:09:51"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP:&nbsp;&nbsp;sorry, indeed gitlab.&nbsp;&nbsp;Yeah, hopefully temporary</td><td class="time"><a href="#t2020-02-22T16:09:51" class="time">16:09</a></td></tr>
<tr id="t2020-02-22T16:10:03"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: I posted that pre-coffee</td><td class="time"><a href="#t2020-02-22T16:10:03" class="time">16:10</a></td></tr>
<tr id="t2020-02-22T16:10:06"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">RP: I see perhaps add ConditionPathIsReadWrite=/run as well to deps</td><td class="time"><a href="#t2020-02-22T16:10:06" class="time">16:10</a></td></tr>
<tr id="t2020-02-22T16:10:29"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: won't that mean it just skips the unit ?</td><td class="time"><a href="#t2020-02-22T16:10:29" class="time">16:10</a></td></tr>
<tr id="t2020-02-22T16:10:40"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">The ConditionPath stuff sounds one shot</td><td class="time"><a href="#t2020-02-22T16:10:40" class="time">16:10</a></td></tr>
<tr id="t2020-02-22T16:11:00"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">A path unit file with PathExists sounds better but means a path unit file afaict</td><td class="time"><a href="#t2020-02-22T16:11:00" class="time">16:11</a></td></tr>
<tr id="t2020-02-22T16:11:15"><td class="action" colspan="2">* RP isn't systemd literate though, what do I know</td><td><a href="#t2020-02-22T16:11:15" class="time">16:11</a></td></tr>
<tr id="t2020-02-22T16:12:22"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">RP: if that happens then we know the problem is that its mounted but not writable yet</td><td class="time"><a href="#t2020-02-22T16:12:22" class="time">16:12</a></td></tr>
<tr id="t2020-02-22T16:12:29"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">I can't remember if systemd does watches so ConditionPath will trigger at runtime.&nbsp;&nbsp;It does seem more likely to be one shot</td><td class="time"><a href="#t2020-02-22T16:12:29" class="time">16:12</a></td></tr>
<tr id="t2020-02-22T16:13:04"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: the problem is more likely the other service hasn't created it yet</td><td class="time"><a href="#t2020-02-22T16:13:04" class="time">16:13</a></td></tr>
<tr id="t2020-02-22T16:13:32"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: I found it hard to tell with google but one shot seemed more likely from the impression I got</td><td class="time"><a href="#t2020-02-22T16:13:32" class="time">16:13</a></td></tr>
<tr id="t2020-02-22T16:14:20"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: yep</td><td class="time"><a href="#t2020-02-22T16:14:20" class="time">16:14</a></td></tr>
<tr id="t2020-02-22T16:14:36"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: we might get to drop a patch eventually:&nbsp;&nbsp;<a href="https://gcc.gnu.org/git/gitweb.cgi?p=gcc.git;a=commitdiff;h=d6f420d98126ac51396b89fbe287a32287cd92ed" rel="nofollow">https://gcc.gnu.org/git/gitweb.cgi?p=gcc.git;a=commitdiff;h=d6f420d98126ac51396b89fbe287a32287cd92ed</a> :)</td><td class="time"><a href="#t2020-02-22T16:14:36" class="time">16:14</a></td></tr>
<tr id="t2020-02-22T16:17:17"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">RP: saw that, my gcc10 patch (when upgraded past this commit) will drop it</td><td class="time"><a href="#t2020-02-22T16:17:17" class="time">16:17</a></td></tr>
<tr id="t2020-02-22T16:17:30"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">how many years it took I wonder</td><td class="time"><a href="#t2020-02-22T16:17:30" class="time">16:17</a></td></tr>
<tr id="t2020-02-22T16:17:54"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: filed in 2013</td><td class="time"><a href="#t2020-02-22T16:17:54" class="time">16:17</a></td></tr>
<tr id="t2020-02-22T16:18:12"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">heh, so almost 7</td><td class="time"><a href="#t2020-02-22T16:18:12" class="time">16:18</a></td></tr>
<tr id="t2020-02-22T16:18:27"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Jan 2013 so over 7 years to get a simple fix in</td><td class="time"><a href="#t2020-02-22T16:18:27" class="time">16:18</a></td></tr>
<tr id="t2020-02-22T16:19:20"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">contributing to clang is so easy, write a patch and push it to fabricator or now github pull request</td><td class="time"><a href="#t2020-02-22T16:19:20" class="time">16:19</a></td></tr>
<tr id="t2020-02-22T16:19:57"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I should really find the time to go through our gcc patches and see if we can do something with some of them</td><td class="time"><a href="#t2020-02-22T16:19:57" class="time">16:19</a></td></tr>
<tr id="t2020-02-22T16:20:19"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">on systemd thing you added RequiresMountsFor so that should take care of /run being mounted isnt it</td><td class="time"><a href="#t2020-02-22T16:20:19" class="time">16:20</a></td></tr>
<tr id="t2020-02-22T16:21:09"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">RP: most of them are config related and some are relocatable install related noneof them are ustream worthy</td><td class="time"><a href="#t2020-02-22T16:21:09" class="time">16:21</a></td></tr>
<tr id="t2020-02-22T16:21:15"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: right, which makes me thing its a dependency issue</td><td class="time"><a href="#t2020-02-22T16:21:15" class="time">16:21</a></td></tr>
<tr id="t2020-02-22T16:21:36"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: we should talk to upstream about relocatable install though</td><td class="time"><a href="#t2020-02-22T16:21:36" class="time">16:21</a></td></tr>
<tr id="t2020-02-22T16:21:47"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: or see if we can do it better</td><td class="time"><a href="#t2020-02-22T16:21:47" class="time">16:21</a></td></tr>
<tr id="t2020-02-22T16:22:12"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: some spelunking in systemd source confirms that indeed it's only on unit start</td><td class="time"><a href="#t2020-02-22T16:22:12" class="time">16:22</a></td></tr>
<tr id="t2020-02-22T16:23:07"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: thanks. Do you happen to know if there is a "service is started when file X exists" parameter for a unit file?</td><td class="time"><a href="#t2020-02-22T16:23:07" class="time">16:23</a></td></tr>
<tr id="t2020-02-22T16:23:16"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">RP: perhaps 8 or so might be interesting to upstream</td><td class="time"><a href="#t2020-02-22T16:23:16" class="time">16:23</a></td></tr>
<tr id="t2020-02-22T16:23:31"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: that would be 8 less to carry</td><td class="time"><a href="#t2020-02-22T16:23:31" class="time">16:23</a></td></tr>
<tr id="t2020-02-22T16:23:55"><th class="nick" style="background: #8c4a4a">khem</th><td class="text" style="color: #8c4a4a">RP: yeah but who will sign legal papers which they never respond back</td><td class="time"><a href="#t2020-02-22T16:23:55" class="time">16:23</a></td></tr>
<tr id="t2020-02-22T16:25:23"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: as a prerequisite for starting, or do you mean something that indicates it has been started?</td><td class="time"><a href="#t2020-02-22T16:25:23" class="time">16:25</a></td></tr>
<tr id="t2020-02-22T16:26:00"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: basically service X creates file A and I want service Y to start when file A exists</td><td class="time"><a href="#t2020-02-22T16:26:00" class="time">16:26</a></td></tr>
<tr id="t2020-02-22T16:26:31"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: X=psplash-start and Y=psplash-systemd</td><td class="time"><a href="#t2020-02-22T16:26:31" class="time">16:26</a></td></tr>
<tr id="t2020-02-22T16:26:43"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">A=/run/psplash_fifo</td><td class="time"><a href="#t2020-02-22T16:26:43" class="time">16:26</a></td></tr>
<tr id="t2020-02-22T16:29:32"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: hrm, I think that ConditionPathExists=A&nbsp;&nbsp;might work if Y has After=X in its unit file, since the conditions are only checked on start</td><td class="time"><a href="#t2020-02-22T16:29:32" class="time">16:29</a></td></tr>
<tr id="t2020-02-22T16:30:13"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: there can be a delay between exec(X) and A existing though</td><td class="time"><a href="#t2020-02-22T16:30:13" class="time">16:30</a></td></tr>
<tr id="t2020-02-22T16:30:31"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">the irony being I thought systemd was designed to handle these races</td><td class="time"><a href="#t2020-02-22T16:30:31" class="time">16:30</a></td></tr>
<tr id="t2020-02-22T16:31:25"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: interesting. What type of service is psplash-start set as?&nbsp;&nbsp;Just simple?</td><td class="time"><a href="#t2020-02-22T16:31:25" class="time">16:31</a></td></tr>
<tr id="t2020-02-22T16:32:03"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: <a href="http://git.yoctoproject.org/cgit.cgi/poky/tree/meta/recipes-core/psplash/files/psplash-start.service?h=master-next" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky/tree/meta/recipes-core/psplash/files/psplash-start.service?h=master-next</a></td><td class="time"><a href="#t2020-02-22T16:32:03" class="time">16:32</a></td></tr>
<tr id="t2020-02-22T16:36:53"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: I always have to reread the systemd unit docs for this stuff.&nbsp;&nbsp;I could see how that might race, as for "simple" units it considers it started as soon as it forks to run whatever's in ExecStart</td><td class="time"><a href="#t2020-02-22T16:36:53" class="time">16:36</a></td></tr>
<tr id="t2020-02-22T16:37:16"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: that is my worry</td><td class="time"><a href="#t2020-02-22T16:37:16" class="time">16:37</a></td></tr>
<tr id="t2020-02-22T16:37:48"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: I've not looked at psplash in a long while, does it slap up the image and exit, or stick around?</td><td class="time"><a href="#t2020-02-22T16:37:48" class="time">16:37</a></td></tr>
<tr id="t2020-02-22T16:38:08"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: sticks around with progress bar, the fifo is used to drive that</td><td class="time"><a href="#t2020-02-22T16:38:08" class="time">16:38</a></td></tr>
<tr id="t2020-02-22T16:39:10"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: if it daemonizes, then Type=forking is more correct, and may fix the race</td><td class="time"><a href="#t2020-02-22T16:39:10" class="time">16:39</a></td></tr>
<tr id="t2020-02-22T16:39:26"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: don't worry too much, I was just hoping there was someone systemd literate around who could say "oh, just do ABC"</td><td class="time"><a href="#t2020-02-22T16:39:26" class="time">16:39</a></td></tr>
<tr id="t2020-02-22T16:39:40"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: I'd have to check to see if it does</td><td class="time"><a href="#t2020-02-22T16:39:40" class="time">16:39</a></td></tr>
<tr id="t2020-02-22T16:40:43"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: doesn't deamonize :/</td><td class="time"><a href="#t2020-02-22T16:40:43" class="time">16:40</a></td></tr>
<tr id="t2020-02-22T16:42:03"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">This isn't funny, every new build has more failures we haven't seen before or don't understand :(</td><td class="time"><a href="#t2020-02-22T16:42:03" class="time">16:42</a></td></tr>
<tr id="t2020-02-22T16:44:06"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: yeah, that's going to be impossible to keep from racing unless psplash-start gets patched to use sd_notify, or perhaps there's a game that can be played with ExecStartPost in the psplash-start unit to wait for the fifo</td><td class="time"><a href="#t2020-02-22T16:44:06" class="time">16:44</a></td></tr>
<tr id="t2020-02-22T16:45:50"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: ouch.&nbsp;&nbsp;I'm about to step out, but I'll take a look at Bugzilla when I get in later and see if there's something I can help try to debug tomorrow</td><td class="time"><a href="#t2020-02-22T16:45:50" class="time">16:45</a></td></tr>
<tr id="t2020-02-22T16:46:45"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: thanks. I need to file them</td><td class="time"><a href="#t2020-02-22T16:46:45" class="time">16:46</a></td></tr>
<tr id="t2020-02-22T16:47:00"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: some I can't reproduce and am not sure its worth filing :(</td><td class="time"><a href="#t2020-02-22T16:47:00" class="time">16:47</a></td></tr>
<tr id="t2020-02-22T16:47:16"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">some we're seeing for the second time so they;re going to be problems</td><td class="time"><a href="#t2020-02-22T16:47:16" class="time">16:47</a></td></tr>
<tr id="t2020-02-22T16:54:08"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: an interesting one is executable bits disappearing from files in /lib/systemd/systemd-XXX :/</td><td class="time"><a href="#t2020-02-22T16:54:08" class="time">16:54</a></td></tr>
<tr id="t2020-02-22T17:01:29"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: yikes</td><td class="time"><a href="#t2020-02-22T17:01:29" class="time">17:01</a></td></tr>
<tr id="t2020-02-22T17:06:41"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=13810" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=13810</a></td><td class="time"><a href="#t2020-02-22T17:06:41" class="time">17:06</a></td></tr>
<tr id="t2020-02-22T17:06:42"><th class="nick" style="background: #42427e">yocti</th><td class="text" style="color: #42427e">Bug 13810: normal, Undecided, ---, unassigned, NEW , systemd file executable bits disappearing</td><td class="time"><a href="#t2020-02-22T17:06:42" class="time">17:06</a></td></tr>
<tr id="t2020-02-22T17:39:24"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: if the psplash thing is a blocker, I can whip up a patch to try adding a sd_notify call in psplash-start when building for systemd</td><td class="time"><a href="#t2020-02-22T17:39:24" class="time">17:39</a></td></tr>
<tr id="t2020-02-22T17:42:01"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: thanks. We're lucky with that one in that its not in master yet. I'm now torn on merging it as my last fix appears to be working even if it still theoretically&nbsp;&nbsp;has a race</td><td class="time"><a href="#t2020-02-22T17:42:01" class="time">17:42</a></td></tr>
<tr id="t2020-02-22T17:43:01"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: also wondering about a unit path file and PathExists to avoid messing too much with it, the sd_notify call is probably going to be a pain to do</td><td class="time"><a href="#t2020-02-22T17:43:01" class="time">17:43</a></td></tr>
<tr id="t2020-02-22T17:43:40"><td class="action" colspan="2">* RP is now staring at a basehash changed error and wondering if hashequiv breaks it</td><td><a href="#t2020-02-22T17:43:40" class="time">17:43</a></td></tr>
<tr id="t2020-02-22T17:44:18"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: I’ll take a look tonight/tomorrow</td><td class="time"><a href="#t2020-02-22T17:44:18" class="time">17:44</a></td></tr>
<tr id="t2020-02-22T17:44:47"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">hash equiv can't break a basehash though, so I should stop being silly :)</td><td class="time"><a href="#t2020-02-22T17:44:47" class="time">17:44</a></td></tr>
<tr id="t2020-02-22T17:48:48"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">I wonder if this is actually an inconsistent logging issue</td><td class="time"><a href="#t2020-02-22T17:48:48" class="time">17:48</a></td></tr>
<tr id="t2020-02-22T17:49:56"><th class="nick" style="background: #97974f">armpit</th><td class="text" style="color: #97974f">so its not bash the hash then</td><td class="time"><a href="#t2020-02-22T17:49:56" class="time">17:49</a></td></tr>
<tr id="t2020-02-22T17:50:50"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">armpit: hashequiv is the new sstate for any bug we don't understand :)</td><td class="time"><a href="#t2020-02-22T17:50:50" class="time">17:50</a></td></tr>
<tr id="t2020-02-22T18:00:14"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Not logging but maybe data leakage between tests</td><td class="time"><a href="#t2020-02-22T18:00:14" class="time">18:00</a></td></tr>
<tr id="t2020-02-22T22:27:18"><th class="nick" style="background: #9b519b">palate</th><td class="text" style="color: #9b519b">What is "WKS_FILES"?</td><td class="time"><a href="#t2020-02-22T22:27:18" class="time">22:27</a></td></tr>
<tr id="t2020-02-22T22:27:38"><th class="nick" style="background: #9b519b">palate</th><td class="text" style="color: #9b519b">it's complaining that it is not set appropriately, but I can't find documentation about it</td><td class="time"><a href="#t2020-02-22T22:27:38" class="time">22:27</a></td></tr>
<tr id="t2020-02-22T22:28:16"><th class="nick" style="background: #9b519b">palate</th><td class="text" style="color: #9b519b">(I'm trying to make an *.ubi image)</td><td class="time"><a href="#t2020-02-22T22:28:16" class="time">22:28</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2020-02-21.log.html">&#171; Friday, 2020-02-21</a> <a href="index.html">Index</a> <a href="%23yocto.2020-02-23.log.html">Sunday, 2020-02-23 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
