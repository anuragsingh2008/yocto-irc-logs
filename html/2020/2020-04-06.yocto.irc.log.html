<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Monday, 2020-04-06</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Monday, 2020-04-06</h1>
<div class="navigation"> <a href="%23yocto.2020-04-05.log.html">&#171; Sunday, 2020-04-05</a> <a href="index.html">Index</a> <a href="%23yocto.2020-04-07.log.html">Tuesday, 2020-04-07 &#187;</a> </div>
<table class="irclog">
<tr id="t2020-04-06T00:37:38"><td class="nickchange" colspan="2">*** tgamblin__ is now known as tgamblin</td><td><a href="#t2020-04-06T00:37:38" class="time">00:37</a></td></tr>
<tr id="t2020-04-06T01:45:55"><th class="nick" style="background: #407a40">dp</th><td class="text" style="color: #407a40">Is there a nice tool for examining why BB thinks something should be rebuilt rather than pulled from sstate cache?</td><td class="time"><a href="#t2020-04-06T01:45:55" class="time">01:45</a></td></tr>
<tr id="t2020-04-06T01:46:11"><th class="nick" style="background: #407a40">dp</th><td class="text" style="color: #407a40">e.g. telling which input to the signature changed since last build</td><td class="time"><a href="#t2020-04-06T01:46:11" class="time">01:46</a></td></tr>
<tr id="t2020-04-06T01:47:28"><th class="nick" style="background: #407a40">dp</th><td class="text" style="color: #407a40">Scratch that, found bitbake-diffsigs</td><td class="time"><a href="#t2020-04-06T01:47:28" class="time">01:47</a></td></tr>
<tr id="t2020-04-06T05:13:13"><td class="nickchange" colspan="2">*** nslu2-log_ is now known as nslu2-log</td><td><a href="#t2020-04-06T05:13:13" class="time">05:13</a></td></tr>
<tr id="t2020-04-06T08:23:36"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2020-04-06T08:23:36" class="time">08:23</a></td></tr>
<tr id="t2020-04-06T08:23:43"><th class="nick" style="background: #42427e">mckoan</th><td class="text" style="color: #42427e">good morning</td><td class="time"><a href="#t2020-04-06T08:23:43" class="time">08:23</a></td></tr>
<tr id="t2020-04-06T09:24:44"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">hi</td><td class="time"><a href="#t2020-04-06T09:24:44" class="time">09:24</a></td></tr>
<tr id="t2020-04-06T09:26:42"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">is that possible to add an IMAGE_FEATURE as a RDEPEND of a recipe?</td><td class="time"><a href="#t2020-04-06T09:26:42" class="time">09:26</a></td></tr>
<tr id="t2020-04-06T09:26:53"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">like `x11-base`</td><td class="time"><a href="#t2020-04-06T09:26:53" class="time">09:26</a></td></tr>
<tr id="t2020-04-06T09:30:42"><th class="nick" style="background: #42427e">mckoan</th><td class="text" style="color: #42427e">didile: maybe you can create your own distro</td><td class="time"><a href="#t2020-04-06T09:30:42" class="time">09:30</a></td></tr>
<tr id="t2020-04-06T09:31:33"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">I did, but I want to be able to upgrade my old one and I'd like OPKG to install all needed X11 dependencies</td><td class="time"><a href="#t2020-04-06T09:31:33" class="time">09:31</a></td></tr>
<tr id="t2020-04-06T09:31:47"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">didile: the principle is that, recipe configuration is local to the recipe. Image recipe is a recipe. Package recipe is a recipe.</td><td class="time"><a href="#t2020-04-06T09:31:47" class="time">09:31</a></td></tr>
<tr id="t2020-04-06T09:32:00"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">didile: <a href="https://www.yoctoproject.org/docs/latest/mega-manual/mega-manual.html#usingpoky-extend-customimage-imagefeatures" rel="nofollow">https://www.yoctoproject.org/docs/latest/mega-manual/mega-manual.html#usingpoky-extend-customimage-imagefeatures</a> IMAGE_FEATURES is for customizing the image recipe</td><td class="time"><a href="#t2020-04-06T09:32:00" class="time">09:32</a></td></tr>
<tr id="t2020-04-06T09:32:05"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">ok</td><td class="time"><a href="#t2020-04-06T09:32:05" class="time">09:32</a></td></tr>
<tr id="t2020-04-06T09:32:20"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">I tried x11-base and it didn't work</td><td class="time"><a href="#t2020-04-06T09:32:20" class="time">09:32</a></td></tr>
<tr id="t2020-04-06T09:32:45"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">packagegroup-core-x11-base as a recipe dependency build</td><td class="time"><a href="#t2020-04-06T09:32:45" class="time">09:32</a></td></tr>
<tr id="t2020-04-06T09:33:35"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">didile: packagegroup is only for runtime AFAIK</td><td class="time"><a href="#t2020-04-06T09:33:35" class="time">09:33</a></td></tr>
<tr id="t2020-04-06T09:34:09"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">(I mean, it's an empty package which is just pulling a bunch of packages at runtime, it does not make sense as a build dependency)</td><td class="time"><a href="#t2020-04-06T09:34:09" class="time">09:34</a></td></tr>
<tr id="t2020-04-06T09:34:30"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">what are you trying to achieve (the initial issue) and what is not working as you expected?</td><td class="time"><a href="#t2020-04-06T09:34:30" class="time">09:34</a></td></tr>
<tr id="t2020-04-06T09:34:33"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">as RDEPENDS</td><td class="time"><a href="#t2020-04-06T09:34:33" class="time">09:34</a></td></tr>
<tr id="t2020-04-06T09:35:07"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">I want to upgrade my package with `opkg upgrade` and I want the upgrade to pass well</td><td class="time"><a href="#t2020-04-06T09:35:07" class="time">09:35</a></td></tr>
<tr id="t2020-04-06T09:35:30"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">my package need X11 but it isn't installed on the old image</td><td class="time"><a href="#t2020-04-06T09:35:30" class="time">09:35</a></td></tr>
<tr id="t2020-04-06T09:35:54"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">I use an .Xsession file to start my app with the system and I want all the X11 dependencies to be installed</td><td class="time"><a href="#t2020-04-06T09:35:54" class="time">09:35</a></td></tr>
<tr id="t2020-04-06T09:36:09"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">my package uses Electronjs</td><td class="time"><a href="#t2020-04-06T09:36:09" class="time">09:36</a></td></tr>
<tr id="t2020-04-06T09:36:39"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">for now my recipe contains only those dependencies:</td><td class="time"><a href="#t2020-04-06T09:36:39" class="time">09:36</a></td></tr>
<tr id="t2020-04-06T09:36:40"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">REQUIRED_DISTRO_FEATURES = "x11"inherit distro_features_checkRDEPENDS_${PN} += " \&nbsp;&nbsp;&nbsp;&nbsp;nss \&nbsp;&nbsp;&nbsp;&nbsp;gtk+3 \&nbsp;&nbsp;&nbsp;&nbsp;cups \&nbsp;&nbsp;&nbsp;&nbsp;alsa-lib \&nbsp;&nbsp;&nbsp;&nbsp;libxscrnsaver \"</td><td class="time"><a href="#t2020-04-06T09:36:40" class="time">09:36</a></td></tr>
<tr id="t2020-04-06T09:40:19"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">and i added x11-base to my image</td><td class="time"><a href="#t2020-04-06T09:40:19" class="time">09:40</a></td></tr>
<tr id="t2020-04-06T09:40:42"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">adding a dep to the image won't change already installed images</td><td class="time"><a href="#t2020-04-06T09:40:42" class="time">09:40</a></td></tr>
<tr id="t2020-04-06T09:41:27"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">yes</td><td class="time"><a href="#t2020-04-06T09:41:27" class="time">09:41</a></td></tr>
<tr id="t2020-04-06T09:41:44"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">install the packagegroup explicitly on the target, or make a new packagegroup that installs both your app and everything else it needs in the system (such as a working x server)</td><td class="time"><a href="#t2020-04-06T09:41:44" class="time">09:41</a></td></tr>
<tr id="t2020-04-06T09:41:48"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">so how can I upgrade an old image to fit the new one</td><td class="time"><a href="#t2020-04-06T09:41:48" class="time">09:41</a></td></tr>
<tr id="t2020-04-06T09:41:51"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">(ps use wayland)</td><td class="time"><a href="#t2020-04-06T09:41:51" class="time">09:41</a></td></tr>
<tr id="t2020-04-06T09:42:06"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">ok</td><td class="time"><a href="#t2020-04-06T09:42:06" class="time">09:42</a></td></tr>
<tr id="t2020-04-06T09:42:51"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">so you have a packagegroup which is 'my app, fully working' not just the hard dependencies (the client libs).</td><td class="time"><a href="#t2020-04-06T09:42:51" class="time">09:42</a></td></tr>
<tr id="t2020-04-06T09:43:07"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">and if you want feeds to work for upgrades, remember to turn on the PR service</td><td class="time"><a href="#t2020-04-06T09:43:07" class="time">09:43</a></td></tr>
<tr id="t2020-04-06T09:43:07"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">I see</td><td class="time"><a href="#t2020-04-06T09:43:07" class="time">09:43</a></td></tr>
<tr id="t2020-04-06T09:44:03"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">what's the "PR service"?</td><td class="time"><a href="#t2020-04-06T09:44:03" class="time">09:44</a></td></tr>
<tr id="t2020-04-06T09:45:59"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">top hit of googling 'yocto pr service' is a big wiki page explaining it all</td><td class="time"><a href="#t2020-04-06T09:45:59" class="time">09:45</a></td></tr>
<tr id="t2020-04-06T09:48:20"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">ok sounds powerful</td><td class="time"><a href="#t2020-04-06T09:48:20" class="time">09:48</a></td></tr>
<tr id="t2020-04-06T09:52:04"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">I add a .Xsession file manually to start to app with X11</td><td class="time"><a href="#t2020-04-06T09:52:04" class="time">09:52</a></td></tr>
<tr id="t2020-04-06T09:52:12"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">is there a better way to do it?</td><td class="time"><a href="#t2020-04-06T09:52:12" class="time">09:52</a></td></tr>
<tr id="t2020-04-06T09:52:44"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">I also add postinstall scripts to restart the xserver</td><td class="time"><a href="#t2020-04-06T09:52:44" class="time">09:52</a></td></tr>
<tr id="t2020-04-06T10:08:52"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">when I install packagegroup-core-x11-base, I get an error:</td><td class="time"><a href="#t2020-04-06T10:08:52" class="time">10:08</a></td></tr>
<tr id="t2020-04-06T10:09:14"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">Collected errors: * pkg_run_script: package "adwaita-icon-theme-symbolic" postinst script returned status 127. * opkg_configure: adwaita-icon-theme-symbolic.postinst returned 127.</td><td class="time"><a href="#t2020-04-06T10:09:14" class="time">10:09</a></td></tr>
<tr id="t2020-04-06T10:20:48"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">the error should have been above somewhere, i guess a missing dependency that is usually satisfied some other way</td><td class="time"><a href="#t2020-04-06T10:20:48" class="time">10:20</a></td></tr>
<tr id="t2020-04-06T10:22:21"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">//var/lib/opkg/info/adwaita-icon-theme-symbolic.postinst: line 14: gtk-update-icon-cache: command not found</td><td class="time"><a href="#t2020-04-06T10:22:21" class="time">10:22</a></td></tr>
<tr id="t2020-04-06T10:23:39"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">yeah missing dep</td><td class="time"><a href="#t2020-04-06T10:23:39" class="time">10:23</a></td></tr>
<tr id="t2020-04-06T10:23:55"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">easily fixed in the recipe, you should fix and send a patch :)</td><td class="time"><a href="#t2020-04-06T10:23:55" class="time">10:23</a></td></tr>
<tr id="t2020-04-06T11:09:43"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">I have no idea how to fix it</td><td class="time"><a href="#t2020-04-06T11:09:43" class="time">11:09</a></td></tr>
<tr id="t2020-04-06T11:12:12"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">didile: find the package who provides gtk-update-icon-cache and add it to RDEPENDS of adwaita-icon-theme-symbolic package I'd say?</td><td class="time"><a href="#t2020-04-06T11:12:12" class="time">11:12</a></td></tr>
<tr id="t2020-04-06T11:54:03"><td class="nickchange" colspan="2">*** Guest5222 is now known as PatrickE</td><td><a href="#t2020-04-06T11:54:03" class="time">11:54</a></td></tr>
<tr id="t2020-04-06T11:54:37"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">the gtk-update-icon-cache is present</td><td class="time"><a href="#t2020-04-06T11:54:37" class="time">11:54</a></td></tr>
<tr id="t2020-04-06T11:55:07"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">but it runs an update-alternative and do it after adwaita-icon-theme needs it</td><td class="time"><a href="#t2020-04-06T11:55:07" class="time">11:55</a></td></tr>
<tr id="t2020-04-06T11:55:33"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">gtk-update-icon-cache-3.0 -&gt; gtk-update-icon-cache</td><td class="time"><a href="#t2020-04-06T11:55:33" class="time">11:55</a></td></tr>
<tr id="t2020-04-06T11:57:49"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">ah, fun</td><td class="time"><a href="#t2020-04-06T11:57:49" class="time">11:57</a></td></tr>
<tr id="t2020-04-06T11:58:00"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">file a bug please</td><td class="time"><a href="#t2020-04-06T11:58:00" class="time">11:58</a></td></tr>
<tr id="t2020-04-06T11:58:09"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">at least you can re-run the install and it will work now</td><td class="time"><a href="#t2020-04-06T11:58:09" class="time">11:58</a></td></tr>
<tr id="t2020-04-06T11:58:32"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144"><a href="https://pastebin.com/0fSSAQDj" rel="nofollow">https://pastebin.com/0fSSAQDj</a></td><td class="time"><a href="#t2020-04-06T11:58:32" class="time">11:58</a></td></tr>
<tr id="t2020-04-06T11:58:44"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">yes a re-run works</td><td class="time"><a href="#t2020-04-06T11:58:44" class="time">11:58</a></td></tr>
<tr id="t2020-04-06T11:59:15"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">//var/lib/opkg/info/adwaita-icon-theme-symbolic.postinst: line 14: gtk-update-icon-cache: command not found</td><td class="time"><a href="#t2020-04-06T11:59:15" class="time">11:59</a></td></tr>
<tr id="t2020-04-06T11:59:16"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">then</td><td class="time"><a href="#t2020-04-06T11:59:16" class="time">11:59</a></td></tr>
<tr id="t2020-04-06T11:59:21"><th class="nick" style="background: #818144">didile</th><td class="text" style="color: #818144">update-alternatives: Linking /usr/bin/gtk-update-icon-cache to /usr/bin/gtk-update-icon-cache-3.0</td><td class="time"><a href="#t2020-04-06T11:59:21" class="time">11:59</a></td></tr>
<tr id="t2020-04-06T12:27:55"><th class="nick" style="background: #8c4a4a">yocti</th><td class="text" style="color: #8c4a4a">New news from stackoverflow: Bitbake do_package_qa error: Wrong location &lt;<a href="https://stackoverflow.com/questions/61059422/bitbake-do-package-qa-error-wrong-location&gt;" rel="nofollow">https://stackoverflow.com/questions/61059422/bitbake-do-package-qa-error-wrong-location&gt;</a></td><td class="time"><a href="#t2020-04-06T12:27:55" class="time">12:27</a></td></tr>
<tr id="t2020-04-06T12:41:01"><th class="nick" style="background: #4b904b">clementp[m]</th><td class="text" style="color: #4b904b">Hi Yocto members. Do you have good examples (well written and organised) of Yocto distro to share. Thanks!</td><td class="time"><a href="#t2020-04-06T12:41:01" class="time">12:41</a></td></tr>
<tr id="t2020-04-06T12:42:34"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">meta-yoe?</td><td class="time"><a href="#t2020-04-06T12:42:34" class="time">12:42</a></td></tr>
<tr id="t2020-04-06T12:43:05"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">though poky is a good example.&nbsp;&nbsp;takes oe-core and adds a tiny customisation on top in meta-poky</td><td class="time"><a href="#t2020-04-06T12:43:05" class="time">12:43</a></td></tr>
<tr id="t2020-04-06T12:44:07"><td class="nickchange" colspan="2">*** andycooper_home is now known as andycooper</td><td><a href="#t2020-04-06T12:44:07" class="time">12:44</a></td></tr>
<tr id="t2020-04-06T12:44:55"><td class="nickchange" colspan="2">*** andycooper is now known as andycooper_home</td><td><a href="#t2020-04-06T12:44:55" class="time">12:44</a></td></tr>
<tr id="t2020-04-06T13:38:15"><th class="nick" style="background: #4d4d93">guyk</th><td class="text" style="color: #4d4d93">hi guys !</td><td class="time"><a href="#t2020-04-06T13:38:15" class="time">13:38</a></td></tr>
<tr id="t2020-04-06T13:39:24"><th class="nick" style="background: #97974f">tgamblin</th><td class="text" style="color: #97974f">Hello</td><td class="time"><a href="#t2020-04-06T13:39:24" class="time">13:39</a></td></tr>
<tr id="t2020-04-06T13:41:54"><th class="nick" style="background: #9b519b">goliath</th><td class="text" style="color: #9b519b">hi</td><td class="time"><a href="#t2020-04-06T13:41:54" class="time">13:41</a></td></tr>
<tr id="t2020-04-06T13:48:01"><th class="nick" style="background: #4d4d93">guyk</th><td class="text" style="color: #4d4d93">I have a quick dnf question if you don't mind : I installed it for the first time and my image size doubled right away, from 300 to 600MB. I cannot find where this comes from, the new packages in the buildhistory's installed-package-sizes.txt take 40MB all together.</td><td class="time"><a href="#t2020-04-06T13:48:01" class="time">13:48</a></td></tr>
<tr id="t2020-04-06T13:48:39"><th class="nick" style="background: #4d4d93">guyk</th><td class="text" style="color: #4d4d93">Or does dnf install things which are not visible in this list maybe ?</td><td class="time"><a href="#t2020-04-06T13:48:39" class="time">13:48</a></td></tr>
<tr id="t2020-04-06T13:55:24"><th class="nick" style="background: #4b904b">clementp[m]</th><td class="text" style="color: #4b904b">rburton: Thank you !</td><td class="time"><a href="#t2020-04-06T13:55:24" class="time">13:55</a></td></tr>
<tr id="t2020-04-06T14:05:25"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">I have two variants of local.conf, one for development builds (local.conf.dev) and one for production builds (local.conf.prod). Currently I have advise developers to move the local.conf.dev to local.conf, and to make sure that they never commit that change. However, this practice seems fishy. Is there any clean way to accomplish having two slightly different local.confs?</td><td class="time"><a href="#t2020-04-06T14:05:25" class="time">14:05</a></td></tr>
<tr id="t2020-04-06T14:06:00"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">problame: what do you have in your local.conf which warrants two different ones?</td><td class="time"><a href="#t2020-04-06T14:06:00" class="time">14:06</a></td></tr>
<tr id="t2020-04-06T14:07:44"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">qschulz: dev-vs-prod ssh authorized_keys entries, different packages installed, etc</td><td class="time"><a href="#t2020-04-06T14:07:44" class="time">14:07</a></td></tr>
<tr id="t2020-04-06T14:07:59"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">I found <a href="https://www.yoctoproject.org/pipermail/yocto/2018-June/041372.html" rel="nofollow">https://www.yoctoproject.org/pipermail/yocto/2018-June/041372.html</a></td><td class="time"><a href="#t2020-04-06T14:07:59" class="time">14:07</a></td></tr>
<tr id="t2020-04-06T14:08:12"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">Is that what I'm supposed to do? Create different distros?</td><td class="time"><a href="#t2020-04-06T14:08:12" class="time">14:08</a></td></tr>
<tr id="t2020-04-06T14:13:22"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">hm, the people on the thready seem to agree that this is bad practice</td><td class="time"><a href="#t2020-04-06T14:13:22" class="time">14:13</a></td></tr>
<tr id="t2020-04-06T14:14:28"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">I _could_ have two variants of my image recipe, one for dev and one for prod. However, that doesn't necessarily cover all the options I set in `local.conf`</td><td class="time"><a href="#t2020-04-06T14:14:28" class="time">14:14</a></td></tr>
<tr id="t2020-04-06T14:14:36"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">(like, e.g. DISTRO_FEATURES)</td><td class="time"><a href="#t2020-04-06T14:14:36" class="time">14:14</a></td></tr>
<tr id="t2020-04-06T14:23:33"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">problame: DISTRO_FEATURES changed? new distro :) Otherwise, you give a script which does the local.conf.dev &gt; local.conf and you add local.conf to .gitignore?</td><td class="time"><a href="#t2020-04-06T14:23:33" class="time">14:23</a></td></tr>
<tr id="t2020-04-06T14:25:12"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">qschulz: I want to do things right, so if creating a new distro is the way to go, that's what I'll do</td><td class="time"><a href="#t2020-04-06T14:25:12" class="time">14:25</a></td></tr>
<tr id="t2020-04-06T14:29:17"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">curious what distro features you're changing for dev vs prod</td><td class="time"><a href="#t2020-04-06T14:29:17" class="time">14:29</a></td></tr>
<tr id="t2020-04-06T14:33:03"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">basically local.conf should only be *local* tweaks</td><td class="time"><a href="#t2020-04-06T14:33:03" class="time">14:33</a></td></tr>
<tr id="t2020-04-06T14:39:31"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">rburton: yeah, i "inherited" that project from a code-drop from some other company</td><td class="time"><a href="#t2020-04-06T14:39:31" class="time">14:39</a></td></tr>
<tr id="t2020-04-06T14:40:05"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">got deep into yocto over the past two weeks, still a lot to learn though, it seems to me that best practices are not really encouraged, even in many books about Yocto</td><td class="time"><a href="#t2020-04-06T14:40:05" class="time">14:40</a></td></tr>
<tr id="t2020-04-06T14:40:28"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">(and it seems like the devs I inherited the project from built the entire product based on `local.conf` /o\ )</td><td class="time"><a href="#t2020-04-06T14:40:28" class="time">14:40</a></td></tr>
<tr id="t2020-04-06T14:42:38"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">boo</td><td class="time"><a href="#t2020-04-06T14:42:38" class="time">14:42</a></td></tr>
<tr id="t2020-04-06T14:43:01"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">we should have a hall of shame I think :D</td><td class="time"><a href="#t2020-04-06T14:43:01" class="time">14:43</a></td></tr>
<tr id="t2020-04-06T14:43:25"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">a lot of the time the dev image is just the normal image included into the recipe but extra packages and ssh/password/etc changes</td><td class="time"><a href="#t2020-04-06T14:43:25" class="time">14:43</a></td></tr>
<tr id="t2020-04-06T14:43:28"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">all of which is image-wide</td><td class="time"><a href="#t2020-04-06T14:43:28" class="time">14:43</a></td></tr>
<tr id="t2020-04-06T14:43:46"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">maybe switch packages to pull in different configurations</td><td class="time"><a href="#t2020-04-06T14:43:46" class="time">14:43</a></td></tr>
<tr id="t2020-04-06T14:44:26"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">if you really do need to change distro features for dev then have two distros and makes sure that the dev one simply includes the main one then adds what it needs, to ensure that they're mostly identical</td><td class="time"><a href="#t2020-04-06T14:44:26" class="time">14:44</a></td></tr>
<tr id="t2020-04-06T14:49:49"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">rburton: the DISTRO_FEATURES question was more or less theoretical, although I don't really get why we have the concept of distros in addition to image recipes</td><td class="time"><a href="#t2020-04-06T14:49:49" class="time">14:49</a></td></tr>
<tr id="t2020-04-06T14:50:07"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">if you have the time to spare, I'd be interested in learning about that</td><td class="time"><a href="#t2020-04-06T14:50:07" class="time">14:50</a></td></tr>
<tr id="t2020-04-06T14:50:12"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">distro is a wider scope that images</td><td class="time"><a href="#t2020-04-06T14:50:12" class="time">14:50</a></td></tr>
<tr id="t2020-04-06T14:50:19"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">you may well want more than one image</td><td class="time"><a href="#t2020-04-06T14:50:19" class="time">14:50</a></td></tr>
<tr id="t2020-04-06T14:50:28"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">a production and a development one, for starters</td><td class="time"><a href="#t2020-04-06T14:50:28" class="time">14:50</a></td></tr>
<tr id="t2020-04-06T14:50:42"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">or an initramfs and the full filesystem</td><td class="time"><a href="#t2020-04-06T14:50:42" class="time">14:50</a></td></tr>
<tr id="t2020-04-06T14:53:55"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">and the relationship between distro and image is 1:many?</td><td class="time"><a href="#t2020-04-06T14:53:55" class="time">14:53</a></td></tr>
<tr id="t2020-04-06T14:55:05"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">(also one practical question: when creating my own distro in meta-mycompany/conf/distroy/mydistroy.conf, do I need to `require` or `inherit` from something? I basically want `poky` but with a few tweaks to `DISTRO_FEATURES`, encapsulated in the mycompany layer</td><td class="time"><a href="#t2020-04-06T14:55:05" class="time">14:55</a></td></tr>
<tr id="t2020-04-06T14:55:06"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">problame: <a href="https://www.youtube.com/watch?v=o-8g0TPVVGg" rel="nofollow">https://www.youtube.com/watch?v=o-8g0TPVVGg</a></td><td class="time"><a href="#t2020-04-06T14:55:06" class="time">14:55</a></td></tr>
<tr id="t2020-04-06T14:56:24"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">problame: i'm not sure you want to inherit poky, it can drastically change if the project want between two releases. The point of poky AFAIU is to provide a test distro for build servers and tests. So for example, one day it might change to systemd as init system</td><td class="time"><a href="#t2020-04-06T14:56:24" class="time">14:56</a></td></tr>
<tr id="t2020-04-06T14:58:06"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">problame: with LetoThe2nd example IIRC, a distro is a "choice of materials": legos or mechanos? an image is what you create with it: boat? car? house?</td><td class="time"><a href="#t2020-04-06T14:58:06" class="time">14:58</a></td></tr>
<tr id="t2020-04-06T15:00:11"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">qschulz: as I said, I'm refactoring an existing project that was entirely in local.conf into a structure that follows yocto best practices</td><td class="time"><a href="#t2020-04-06T15:00:11" class="time">15:00</a></td></tr>
<tr id="t2020-04-06T15:00:58"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">since the local.conf used poky as distroy, but changed some DISTRO_FEATURES, I want to make a lateral move (no changes, just code / config structure)</td><td class="time"><a href="#t2020-04-06T15:00:58" class="time">15:00</a></td></tr>
<tr id="t2020-04-06T15:01:17"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">so... under that premis, do I need to require or inherit something?</td><td class="time"><a href="#t2020-04-06T15:01:17" class="time">15:01</a></td></tr>
<tr id="t2020-04-06T15:04:36"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">problame: well yes, poky distro file then :)</td><td class="time"><a href="#t2020-04-06T15:04:36" class="time">15:04</a></td></tr>
<tr id="t2020-04-06T15:05:16"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">problame: (BTW, we use poky and local.conf here as well, I still haven't found the time to migrate all this to our own distro :) )</td><td class="time"><a href="#t2020-04-06T15:05:16" class="time">15:05</a></td></tr>
<tr id="t2020-04-06T15:07:46"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">problame: if you're starting with Yocto, I highly recommend the tutorials on YP Youtube channel. Also, always try to find some info from the mega-manual, if there's one thing we cannot say about YP is that it has just basic documentation :)</td><td class="time"><a href="#t2020-04-06T15:07:46" class="time">15:07</a></td></tr>
<tr id="t2020-04-06T15:12:49"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">qschulz: compared to other embedded linux distros, the docs are fairly good imho</td><td class="time"><a href="#t2020-04-06T15:12:49" class="time">15:12</a></td></tr>
<tr id="t2020-04-06T15:13:14"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">i usually avoid youtube due to signal/noise ration, but the channel seems worthwhile (maybe should be promoted more aggressively in the manuals?)</td><td class="time"><a href="#t2020-04-06T15:13:14" class="time">15:13</a></td></tr>
<tr id="t2020-04-06T15:13:24"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">anyways: so how do I inherit from poky?</td><td class="time"><a href="#t2020-04-06T15:13:24" class="time">15:13</a></td></tr>
<tr id="t2020-04-06T15:14:53"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">I like to think of a distro as the "policy" of a system (e.g. when separating "policy" vs "mechanism")</td><td class="time"><a href="#t2020-04-06T15:14:53" class="time">15:14</a></td></tr>
<tr id="t2020-04-06T15:15:56"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">recipes are the mechainsm for doing things, but as a general rule shouldn't specify policy (other than a sane default), where as the distro should be describe policy, but avoid trying to implement mechansims</td><td class="time"><a href="#t2020-04-06T15:15:56" class="time">15:15</a></td></tr>
<tr id="t2020-04-06T15:16:55"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">i could just `require conf/distro/defaultsetup.conf` (the project is still on 2.5 /o\)</td><td class="time"><a href="#t2020-04-06T15:16:55" class="time">15:16</a></td></tr>
<tr id="t2020-04-06T15:16:58"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">?</td><td class="time"><a href="#t2020-04-06T15:16:58" class="time">15:16</a></td></tr>
<tr id="t2020-04-06T15:17:11"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">defaultsetup.conf is included already by bitbake.conf, and isn't poky</td><td class="time"><a href="#t2020-04-06T15:17:11" class="time">15:17</a></td></tr>
<tr id="t2020-04-06T15:17:16"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">poky.conf defines poky</td><td class="time"><a href="#t2020-04-06T15:17:16" class="time">15:17</a></td></tr>
<tr id="t2020-04-06T15:17:47"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">but inheriting fro another distro isn't always just a matter of pulling in its config, if you're using recipes with any distro-specific conditionals, you also want to adjust DISTROOVERRIDES so both those and your own are applied</td><td class="time"><a href="#t2020-04-06T15:17:47" class="time">15:17</a></td></tr>
<tr id="t2020-04-06T15:18:11"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">and you might be better off just copying than inheriting, otherwise future changes to the base distro could cause problems for you</td><td class="time"><a href="#t2020-04-06T15:18:11" class="time">15:18</a></td></tr>
<tr id="t2020-04-06T15:25:18"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">what kergoth said.&nbsp;&nbsp;start by copying poky.conf and then deleting the bits you don't need</td><td class="time"><a href="#t2020-04-06T15:25:18" class="time">15:25</a></td></tr>
<tr id="t2020-04-06T15:29:23"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">kergoth: huh, I can't find a poky.conf in my tree (2.5)</td><td class="time"><a href="#t2020-04-06T15:29:23" class="time">15:29</a></td></tr>
<tr id="t2020-04-06T15:29:53"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">unless you have meta-poky/meta-yocto, you probably aren't using poky at all. what's DISTRO set to in local.conf?</td><td class="time"><a href="#t2020-04-06T15:29:53" class="time">15:29</a></td></tr>
<tr id="t2020-04-06T15:33:12"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">sry, found `poky.conf` after all, apparently `fdfind` is a bit too smart</td><td class="time"><a href="#t2020-04-06T15:33:12" class="time">15:33</a></td></tr>
<tr id="t2020-04-06T15:34:23"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">(DISTRO was defaulting to `poky`, so that matches)</td><td class="time"><a href="#t2020-04-06T15:34:23" class="time">15:34</a></td></tr>
<tr id="t2020-04-06T15:34:41"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">so, do I understand correctly that `defaultsetup.conf` is much less of a moving target than `poky.conf`?</td><td class="time"><a href="#t2020-04-06T15:34:41" class="time">15:34</a></td></tr>
<tr id="t2020-04-06T15:52:11"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">problame: correct</td><td class="time"><a href="#t2020-04-06T15:52:11" class="time">15:52</a></td></tr>
<tr id="t2020-04-06T15:54:04"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2020-04-06T15:54:04" class="time">15:54</a></td></tr>
<tr id="t2020-04-06T15:55:19"><td class="action" colspan="2">* RP triggers 3.1 rc1 build</td><td><a href="#t2020-04-06T15:55:19" class="time">15:55</a></td></tr>
<tr id="t2020-04-06T15:55:38"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">\o/</td><td class="time"><a href="#t2020-04-06T15:55:38" class="time">15:55</a></td></tr>
<tr id="t2020-04-06T16:09:33"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">Yay!</td><td class="time"><a href="#t2020-04-06T16:09:33" class="time">16:09</a></td></tr>
<tr id="t2020-04-06T16:10:04"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">What's the easiest way to get detailed results of oe-selftest runs? detailed logs? specifically the .sum/.log files of the toolchain suites? Hmm, guess i'll grab ${B} and go frmo there</td><td class="time"><a href="#t2020-04-06T16:10:04" class="time">16:10</a></td></tr>
<tr id="t2020-04-06T16:18:00"><th class="nick" style="background: #97974f">tgamblin</th><td class="text" style="color: #97974f">RP: should I go ahead and revert those coreutils patches?</td><td class="time"><a href="#t2020-04-06T16:18:00" class="time">16:18</a></td></tr>
<tr id="t2020-04-06T16:19:23"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">tgamblin: no</td><td class="time"><a href="#t2020-04-06T16:19:23" class="time">16:19</a></td></tr>
<tr id="t2020-04-06T16:19:52"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">tgamblin: its a pain and we need to come up with better ways of dealing with this but if we were reverting we should have done it weeks ago</td><td class="time"><a href="#t2020-04-06T16:19:52" class="time">16:19</a></td></tr>
<tr id="t2020-04-06T16:20:11"><th class="nick" style="background: #97974f">tgamblin</th><td class="text" style="color: #97974f">RP: alright</td><td class="time"><a href="#t2020-04-06T16:20:11" class="time">16:20</a></td></tr>
<tr id="t2020-04-06T16:20:15"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">kergoth: there is a testresults.json file with them all in?</td><td class="time"><a href="#t2020-04-06T16:20:15" class="time">16:20</a></td></tr>
<tr id="t2020-04-06T16:36:58"><th class="nick" style="background: #539e9e">problame</th><td class="text" style="color: #539e9e">curious: an empty meta-mycompany/conf/distroy/mydistro.conf with IMAGE_FEATURES=ssh-server-openssh gives me a shell with _no prompt_ at all</td><td class="time"><a href="#t2020-04-06T16:36:58" class="time">16:36</a></td></tr>
<tr id="t2020-04-06T16:49:36"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">can i write and call a python helper function for the do_compile task in a recipe?&nbsp;&nbsp;not just for a variable assignment</td><td class="time"><a href="#t2020-04-06T16:49:36" class="time">16:49</a></td></tr>
<tr id="t2020-04-06T16:50:14"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">opello: you can even have a full python task if you want</td><td class="time"><a href="#t2020-04-06T16:50:14" class="time">16:50</a></td></tr>
<tr id="t2020-04-06T16:50:26"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">can i mix and match?</td><td class="time"><a href="#t2020-04-06T16:50:26" class="time">16:50</a></td></tr>
<tr id="t2020-04-06T16:50:54"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">like a nominal do_compile() with shell script and a `python do_compile_prepend()`?</td><td class="time"><a href="#t2020-04-06T16:50:54" class="time">16:50</a></td></tr>
<tr id="t2020-04-06T16:51:14"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">opello: I don't think so, the full task has to be</td><td class="time"><a href="#t2020-04-06T16:51:14" class="time">16:51</a></td></tr>
<tr id="t2020-04-06T16:51:35"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">opello: but you can call python functions from shell tasks, let me get you the thing</td><td class="time"><a href="#t2020-04-06T16:51:35" class="time">16:51</a></td></tr>
<tr id="t2020-04-06T16:51:47"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">oh ok, nice, thanks!</td><td class="time"><a href="#t2020-04-06T16:51:47" class="time">16:51</a></td></tr>
<tr id="t2020-04-06T16:52:15"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">opello: ${@mypythonfunction()}</td><td class="time"><a href="#t2020-04-06T16:52:15" class="time">16:52</a></td></tr>
<tr id="t2020-04-06T16:52:34"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">ah yeah, it said that was for variable assignment, just ignoring the result is reasonable?</td><td class="time"><a href="#t2020-04-06T16:52:34" class="time">16:52</a></td></tr>
<tr id="t2020-04-06T16:52:39"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">but beware, it is impossible to pass variables between tasks (if that was in your mind)</td><td class="time"><a href="#t2020-04-06T16:52:39" class="time">16:52</a></td></tr>
<tr id="t2020-04-06T16:53:18"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">hm, i hadn't thought of the need to do that, but i'll file that away too :)</td><td class="time"><a href="#t2020-04-06T16:53:18" class="time">16:53</a></td></tr>
<tr id="t2020-04-06T16:54:09"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">opello: we use it in shell but mainly check the returned value</td><td class="time"><a href="#t2020-04-06T16:54:09" class="time">16:54</a></td></tr>
<tr id="t2020-04-06T16:59:42"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">hm, seems like it needs to wait until after fetch but is happening at parse time</td><td class="time"><a href="#t2020-04-06T16:59:42" class="time">16:59</a></td></tr>
<tr id="t2020-04-06T17:01:07"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">opello: what do you want to do? what's the issue :)</td><td class="time"><a href="#t2020-04-06T17:01:07" class="time">17:01</a></td></tr>
<tr id="t2020-04-06T17:04:38"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">heh sorry, i wrote a python function to manipulate some files in a silly, but required, way; they are in the SRC_URI; it's in essence a "compile" step from my perspective, so my do_compile() has the @{$helper(d.expand('${WORKDIR}/filename'), d.expand('${B}/filename')} and then calls gzip on the ${B} version; but the complaint is that the input doesn't exist (which i'm just testing my recipe with `bitbake-layers show-recipes` to trigger the ...</td><td class="time"><a href="#t2020-04-06T17:04:38" class="time">17:04</a></td></tr>
<tr id="t2020-04-06T17:04:44"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">... parse, so no fetch yet)</td><td class="time"><a href="#t2020-04-06T17:04:44" class="time">17:04</a></td></tr>
<tr id="t2020-04-06T17:06:15"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">i flipped the $/@ in my written form, but it's correct in the recipe</td><td class="time"><a href="#t2020-04-06T17:06:15" class="time">17:06</a></td></tr>
<tr id="t2020-04-06T17:07:05"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">opello: but the complaint is that the input doesn't exist (which i'm just testing my recipe with `bitbake-layers show-recipes` to trigger the ...</td><td class="time"><a href="#t2020-04-06T17:07:05" class="time">17:07</a></td></tr>
<tr id="t2020-04-06T17:07:11"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">?</td><td class="time"><a href="#t2020-04-06T17:07:11" class="time">17:07</a></td></tr>
<tr id="t2020-04-06T17:07:49"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">how did you define your python function?</td><td class="time"><a href="#t2020-04-06T17:07:49" class="time">17:07</a></td></tr>
<tr id="t2020-04-06T17:07:55"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">the exact "header" of the function is?</td><td class="time"><a href="#t2020-04-06T17:07:55" class="time">17:07</a></td></tr>
<tr id="t2020-04-06T17:08:11"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">def remove_layers(base_file, target_file, output_file):</td><td class="time"><a href="#t2020-04-06T17:08:11" class="time">17:08</a></td></tr>
<tr id="t2020-04-06T17:10:00"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">but why would a bitbake-layers show-recipes trigger a file not found?</td><td class="time"><a href="#t2020-04-06T17:10:00" class="time">17:10</a></td></tr>
<tr id="t2020-04-06T17:10:06"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">it shouldn't be executed at parse time</td><td class="time"><a href="#t2020-04-06T17:10:06" class="time">17:10</a></td></tr>
<tr id="t2020-04-06T17:10:17"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">that's what i thought :/</td><td class="time"><a href="#t2020-04-06T17:10:17" class="time">17:10</a></td></tr>
<tr id="t2020-04-06T17:11:45"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">opello: mmmm what's d.expand supposed to do?</td><td class="time"><a href="#t2020-04-06T17:11:45" class="time">17:11</a></td></tr>
<tr id="t2020-04-06T17:12:09"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">ExpansionError during parsing &lt;recipe&gt;: Failure expanding variable do_compile: ExpansionError: Failure expanding variable do_compile, expression was ${@remove_layers...}\n&nbsp;&nbsp; gzip -9 ... (then says IOError: [Errno 2] No such file or directory: &lt;one of the files in ${WORKDIR}/...&gt;</td><td class="time"><a href="#t2020-04-06T17:12:09" class="time">17:12</a></td></tr>
<tr id="t2020-04-06T17:12:40"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">pass variables from the recipe to the helper?&nbsp;&nbsp;should i have to pass 'd' and use d.getVar or d.expand for that?</td><td class="time"><a href="#t2020-04-06T17:12:40" class="time">17:12</a></td></tr>
<tr id="t2020-04-06T17:13:11"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">opello: wait... what is the xact line you're writing?</td><td class="time"><a href="#t2020-04-06T17:13:11" class="time">17:13</a></td></tr>
<tr id="t2020-04-06T17:13:33"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">you should have do_compile_prepend() { ${@mypythonfunction()} }</td><td class="time"><a href="#t2020-04-06T17:13:33" class="time">17:13</a></td></tr>
<tr id="t2020-04-06T17:13:45"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">not do_compile = ${@mypythonfunction()}</td><td class="time"><a href="#t2020-04-06T17:13:45" class="time">17:13</a></td></tr>
<tr id="t2020-04-06T17:14:16"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">i just put it in the body of the do_compile; so my do_compile (shell version) is two lines, ${@...}\ngzip -9...</td><td class="time"><a href="#t2020-04-06T17:14:16" class="time">17:14</a></td></tr>
<tr id="t2020-04-06T17:14:37"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">in essence the former from your examples</td><td class="time"><a href="#t2020-04-06T17:14:37" class="time">17:14</a></td></tr>
<tr id="t2020-04-06T17:15:48"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b"><a href="https://gist.github.com/opello/7a1cadaf09d721431e392ad054b644e6" rel="nofollow">https://gist.github.com/opello/7a1cadaf09d721431e392ad054b644e6</a></td><td class="time"><a href="#t2020-04-06T17:15:48" class="time">17:15</a></td></tr>
<tr id="t2020-04-06T17:21:13"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">opello: I think you're trying to do too many things in your compile</td><td class="time"><a href="#t2020-04-06T17:21:13" class="time">17:21</a></td></tr>
<tr id="t2020-04-06T17:21:28"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">just pass d to your python function</td><td class="time"><a href="#t2020-04-06T17:21:28" class="time">17:21</a></td></tr>
<tr id="t2020-04-06T17:21:36"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">then d.getVar()</td><td class="time"><a href="#t2020-04-06T17:21:36" class="time">17:21</a></td></tr>
<tr id="t2020-04-06T17:21:46"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">might need an import os somewhere</td><td class="time"><a href="#t2020-04-06T17:21:46" class="time">17:21</a></td></tr>
<tr id="t2020-04-06T17:23:52"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">i just made a shim that does that, changed the error a bit, but still fails with: which triggered exception IOError: [Errno 2] No such file or directory: &lt;path from workdir&gt;</td><td class="time"><a href="#t2020-04-06T17:23:52" class="time">17:23</a></td></tr>
<tr id="t2020-04-06T17:24:34"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">i was trying to avoid making a -native helper tool recipe that i'd ultimately depend on</td><td class="time"><a href="#t2020-04-06T17:24:34" class="time">17:24</a></td></tr>
<tr id="t2020-04-06T17:25:48"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">do you really need to do your thing in python :)?</td><td class="time"><a href="#t2020-04-06T17:25:48" class="time">17:25</a></td></tr>
<tr id="t2020-04-06T17:26:46"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">opello: remove one parameter after the other and try to find the one which is messing up. But it's very confusing it's failing at parsing time</td><td class="time"><a href="#t2020-04-06T17:26:46" class="time">17:26</a></td></tr>
<tr id="t2020-04-06T17:27:04"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">it's _a lot_ easier than doing it in a shell script :(</td><td class="time"><a href="#t2020-04-06T17:27:04" class="time">17:27</a></td></tr>
<tr id="t2020-04-06T17:28:16"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">i think the failure is that ${@...} is evaluated at parse time, which does things that rely on files existing (like opening and reading them) but that can't happen because they aren't there yet (parse is way before fetch)?</td><td class="time"><a href="#t2020-04-06T17:28:16" class="time">17:28</a></td></tr>
<tr id="t2020-04-06T17:28:50"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">i was just thinking i could add a new, custom task, defined in python, that used my helper function, and chain to to happen before do_compile?</td><td class="time"><a href="#t2020-04-06T17:28:50" class="time">17:28</a></td></tr>
<tr id="t2020-04-06T17:29:02"><th class="nick" style="background: #8c4a4a">yocti</th><td class="text" style="color: #8c4a4a">New news from stackoverflow: Yocto cross compile Qt5 'qtConfig' is not a recognized test function &lt;<a href="https://stackoverflow.com/questions/61065311/yocto-cross-compile-qt5-qtconfig-is-not-a-recognized-test-function&gt;" rel="nofollow">https://stackoverflow.com/questions/61065311/yocto-cross-compile-qt5-qtconfig-is-not-a-recognized-test-function&gt;</a></td><td class="time"><a href="#t2020-04-06T17:29:02" class="time">17:29</a></td></tr>
<tr id="t2020-04-06T17:29:53"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">opello: you need to handle the sstate-cache somehow, I wouldn't really recommend</td><td class="time"><a href="#t2020-04-06T17:29:53" class="time">17:29</a></td></tr>
<tr id="t2020-04-06T17:30:38"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">opello: start small. def myfunc(d): return "test" do_compile_prepend() { ${@myfunc(d)} odes this work?</td><td class="time"><a href="#t2020-04-06T17:30:38" class="time">17:30</a></td></tr>
<tr id="t2020-04-06T17:31:33"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">opello: start small. def myfunc(d): return "test" do_compile_prepend() { ${@myfunc(d)} odes this work?</td><td class="time"><a href="#t2020-04-06T17:31:33" class="time">17:31</a></td></tr>
<tr id="t2020-04-06T17:31:36"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">oopsie :)</td><td class="time"><a href="#t2020-04-06T17:31:36" class="time">17:31</a></td></tr>
<tr id="t2020-04-06T17:32:36"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">yeah, it works, i see my print('hello world') after parse</td><td class="time"><a href="#t2020-04-06T17:32:36" class="time">17:32</a></td></tr>
<tr id="t2020-04-06T17:32:54"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">which is a problem, i need to defer the python execution until the actual do_compile is run</td><td class="time"><a href="#t2020-04-06T17:32:54" class="time">17:32</a></td></tr>
<tr id="t2020-04-06T17:33:48"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">FOO="${@myfunc(d)" in do _compile?</td><td class="time"><a href="#t2020-04-06T17:33:48" class="time">17:33</a></td></tr>
<tr id="t2020-04-06T17:35:27"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">sure, so with that (i added a return after my print) i expect i'd see FOO="hello world" in the run.do_compile.sh</td><td class="time"><a href="#t2020-04-06T17:35:27" class="time">17:35</a></td></tr>
<tr id="t2020-04-06T17:38:11"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">mmm so now that I read my code, it seems that we have functions which aren't dependent of when they're run</td><td class="time"><a href="#t2020-04-06T17:38:11" class="time">17:38</a></td></tr>
<tr id="t2020-04-06T17:39:19"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">opello: so mmmm... No clue, I'd say it's expected behavior (to execute ${@func()} at parse time) but I wasn't aware of that, so either I forgot, didn't read it yet or it's not documented or I'm wrong :)</td><td class="time"><a href="#t2020-04-06T17:39:19" class="time">17:39</a></td></tr>
<tr id="t2020-04-06T17:40:27"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">opello: can you try with do_compile[prefuncs] += "remove_layers"? heopfully you have access to d in there</td><td class="time"><a href="#t2020-04-06T17:40:27" class="time">17:40</a></td></tr>
<tr id="t2020-04-06T17:41:14"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">yup, looks like it's possible :)</td><td class="time"><a href="#t2020-04-06T17:41:14" class="time">17:41</a></td></tr>
<tr id="t2020-04-06T17:41:41"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">WARNING: Function call_remove_layers doesn't exist</td><td class="time"><a href="#t2020-04-06T17:41:41" class="time">17:41</a></td></tr>
<tr id="t2020-04-06T17:41:56"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">(that's the shim that takes d only and uses getVar)</td><td class="time"><a href="#t2020-04-06T17:41:56" class="time">17:41</a></td></tr>
<tr id="t2020-04-06T17:42:27"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">isn't this just side-stepping the tasks sysetm though?</td><td class="time"><a href="#t2020-04-06T17:42:27" class="time">17:42</a></td></tr>
<tr id="t2020-04-06T17:42:28"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">no parameters to the function</td><td class="time"><a href="#t2020-04-06T17:42:28" class="time">17:42</a></td></tr>
<tr id="t2020-04-06T17:42:49"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">d will be available in the context of the function without passing it</td><td class="time"><a href="#t2020-04-06T17:42:49" class="time">17:42</a></td></tr>
<tr id="t2020-04-06T17:42:57"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">testing :)</td><td class="time"><a href="#t2020-04-06T17:42:57" class="time">17:42</a></td></tr>
<tr id="t2020-04-06T17:43:31"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">but I've to say, gzip only in a compile looks fishy :)</td><td class="time"><a href="#t2020-04-06T17:43:31" class="time">17:43</a></td></tr>
<tr id="t2020-04-06T17:43:52"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">yeah :(&nbsp;&nbsp;i'm not ready to defend what i'm actually trying to do ...</td><td class="time"><a href="#t2020-04-06T17:43:52" class="time">17:43</a></td></tr>
<tr id="t2020-04-06T17:44:37"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">i keep getting WARNING: Function &lt;my helper function&gt; doesn't exist; whether it's a def foo(): or a python foo() {}</td><td class="time"><a href="#t2020-04-06T17:44:37" class="time">17:44</a></td></tr>
<tr id="t2020-04-06T17:52:25"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">huh, but i'm defining it just like rootfs_deb.bbclass does :/</td><td class="time"><a href="#t2020-04-06T17:52:25" class="time">17:52</a></td></tr>
<tr id="t2020-04-06T17:55:59"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">opello: it might also depend where you're trying to run that</td><td class="time"><a href="#t2020-04-06T17:55:59" class="time">17:55</a></td></tr>
<tr id="t2020-04-06T17:58:30"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">bitbake -e shows the body in a comment block ($call\n_remove[layers] ast.py...) and a body of None later on for the actual function expansion</td><td class="time"><a href="#t2020-04-06T17:58:30" class="time">17:58</a></td></tr>
<tr id="t2020-04-06T17:59:32"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">seems like that naming is special, because if i put gibberish in, it preserves it</td><td class="time"><a href="#t2020-04-06T17:59:32" class="time">17:59</a></td></tr>
<tr id="t2020-04-06T18:00:31"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">opello: do not use remove in the name</td><td class="time"><a href="#t2020-04-06T18:00:31" class="time">18:00</a></td></tr>
<tr id="t2020-04-06T18:00:37"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">its a bitbake operator</td><td class="time"><a href="#t2020-04-06T18:00:37" class="time">18:00</a></td></tr>
<tr id="t2020-04-06T18:00:46"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">ah yeah, heh, oops</td><td class="time"><a href="#t2020-04-06T18:00:46" class="time">18:00</a></td></tr>
<tr id="t2020-04-06T18:00:49"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">(append, prepend and remove are special)</td><td class="time"><a href="#t2020-04-06T18:00:49" class="time">18:00</a></td></tr>
<tr id="t2020-04-06T18:01:02"><td class="action" colspan="2">* RP wishes we could spot those and warn :/</td><td><a href="#t2020-04-06T18:01:02" class="time">18:01</a></td></tr>
<tr id="t2020-04-06T18:01:23"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">"this function looks suspiciously like a variable manipulation!"</td><td class="time"><a href="#t2020-04-06T18:01:23" class="time">18:01</a></td></tr>
<tr id="t2020-04-06T18:01:43"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">opello: wait.... so you could maybe actually call your python function from your shell without "remove" in it?</td><td class="time"><a href="#t2020-04-06T18:01:43" class="time">18:01</a></td></tr>
<tr id="t2020-04-06T18:01:50"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">i don't envy the difficulty :)</td><td class="time"><a href="#t2020-04-06T18:01:50" class="time">18:01</a></td></tr>
<tr id="t2020-04-06T18:02:04"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">opello: I tried once before to add such warnings and failed :(</td><td class="time"><a href="#t2020-04-06T18:02:04" class="time">18:02</a></td></tr>
<tr id="t2020-04-06T18:02:06"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">qschulz: i don't think it changes the time of execution issue though</td><td class="time"><a href="#t2020-04-06T18:02:06" class="time">18:02</a></td></tr>
<tr id="t2020-04-06T18:02:12"><td class="action" colspan="2">* RP needs to try harder, clearly :/</td><td><a href="#t2020-04-06T18:02:12" class="time">18:02</a></td></tr>
<tr id="t2020-04-06T18:02:15"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">opello: mmmm correct</td><td class="time"><a href="#t2020-04-06T18:02:15" class="time">18:02</a></td></tr>
<tr id="t2020-04-06T18:02:40"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">RP: just would have saved a little time here, i'm trained to check -e too late for my own good a lot it seems</td><td class="time"><a href="#t2020-04-06T18:02:40" class="time">18:02</a></td></tr>
<tr id="t2020-04-06T18:02:55"><th class="nick" style="background: #b15db1">armpit</th><td class="text" style="color: #b15db1">zeddii, sorry about the multiple kernel-cache submissions. I thought my email client was not set up properly</td><td class="time"><a href="#t2020-04-06T18:02:55" class="time">18:02</a></td></tr>
<tr id="t2020-04-06T18:03:23"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">RP: while you're here :) we went for postfuncs because calling ${@func()} would generate some errors *at parsing time*</td><td class="time"><a href="#t2020-04-06T18:03:23" class="time">18:03</a></td></tr>
<tr id="t2020-04-06T18:03:58"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">RP: 19:12&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;opello| ExpansionError during parsing &lt;recipe&gt;: Failure expanding variable do_compile: ExpansionError: Failure expanding variable do_compile, expression was ${@remove_layers...}\n&nbsp;&nbsp; gzip -9 ... (then says IOError: [Errno 2] No such file or directory: &lt;one of the files in ${WORKDIR}/...&gt;</td><td class="time"><a href="#t2020-04-06T18:03:58" class="time">18:03</a></td></tr>
<tr id="t2020-04-06T18:04:43"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">RP: ${@remove_layers(d.expand('${WORKDIR}/${DOCKER_BASE_FILE}'), d.expand('${WORKDIR}/${DOCKER_IMAGE_FILE}'), os.path.splitext(d.expand('${B}/${DOCKER_IMAGE_FILE}'))[0])} in do_compile</td><td class="time"><a href="#t2020-04-06T18:04:43" class="time">18:04</a></td></tr>
<tr id="t2020-04-06T18:04:57"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">in this instance the ${@pythonfunc()} was opening a file that didn't exist yet, because fetch hadn't happened</td><td class="time"><a href="#t2020-04-06T18:04:57" class="time">18:04</a></td></tr>
<tr id="t2020-04-06T18:05:21"><th class="nick" style="background: #adad5b">opello</th><td class="text" style="color: #adad5b">(thus EIO)</td><td class="time"><a href="#t2020-04-06T18:05:21" class="time">18:05</a></td></tr>
<tr id="t2020-04-06T18:06:02"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">RP: I dont' remember reading in the docs that python functions called like this are executed at parsing time? Is this correct?</td><td class="time"><a href="#t2020-04-06T18:06:02" class="time">18:06</a></td></tr>
<tr id="t2020-04-06T18:06:18"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">this = my understanding of how this works</td><td class="time"><a href="#t2020-04-06T18:06:18" class="time">18:06</a></td></tr>
<tr id="t2020-04-06T18:08:07"><td class="nickchange" colspan="2">*** ukembedded_ is now known as ukembedded</td><td><a href="#t2020-04-06T18:08:07" class="time">18:08</a></td></tr>
<tr id="t2020-04-06T18:08:07"><td class="nickchange" colspan="2">*** ric96_ is now known as ric96</td><td><a href="#t2020-04-06T18:08:07" class="time">18:08</a></td></tr>
<tr id="t2020-04-06T18:12:45"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">qschulz: bitbake has to expand variables/functions at parse time to compute their hashes</td><td class="time"><a href="#t2020-04-06T18:12:45" class="time">18:12</a></td></tr>
<tr id="t2020-04-06T18:13:00"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">qschulz: so yes, anon python will execute during parsing in many cases</td><td class="time"><a href="#t2020-04-06T18:13:00" class="time">18:13</a></td></tr>
<tr id="t2020-04-06T18:14:03"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">qschulz: The recent fix for SOURCE_DATE_EPOCH that went into bitbake a few hours ago is an example of a case where we defer it (not deferring it was leading to a similar FileNotFound bug)</td><td class="time"><a href="#t2020-04-06T18:14:03" class="time">18:14</a></td></tr>
<tr id="t2020-04-06T18:58:15"><th class="nick" style="background: #5fb4b4">ebail</th><td class="text" style="color: #5fb4b4">Hi guys, I want to add ovs/dpdk to my Yocto image (zeus) with my own kernel recipe (4.19) but ovs of Zeus is compatible until Kernel 4.17 only. So I had to take ovs and dpdk from meta-{virtualization,dpdk} master branch</td><td class="time"><a href="#t2020-04-06T18:58:15" class="time">18:58</a></td></tr>
<tr id="t2020-04-06T18:59:07"><th class="nick" style="background: #5fb4b4">ebail</th><td class="text" style="color: #5fb4b4">but I have this weird failure: build/tmp/work/votp-poky-linux/openvswitch/2.13+AUTOINC+71d553b995-r0/recipe-sysroot-native/usr/bin/python3-native/python3, but no providers found in RDEPENDS_openvswitch? [file-rdeps]"</td><td class="time"><a href="#t2020-04-06T18:59:07" class="time">18:59</a></td></tr>
<tr id="t2020-04-06T19:00:05"><th class="nick" style="background: #5fb4b4">ebail</th><td class="text" style="color: #5fb4b4">I see that python3 is already defined as RDEPENDS: <a href="http://git.yoctoproject.org/cgit/cgit.cgi/meta-virtualization/tree/recipes-networking/openvswitch/openvswitch.inc?h=master" rel="nofollow">http://git.yoctoproject.org/cgit/cgit.cgi/meta-virtualization/tree/recipes-networking/openvswitch/openvswitch.inc?h=master</a></td><td class="time"><a href="#t2020-04-06T19:00:05" class="time">19:00</a></td></tr>
<tr id="t2020-04-06T19:00:37"><th class="nick" style="background: #5fb4b4">ebail</th><td class="text" style="color: #5fb4b4">Do I miss something obvious ? (all my cache was cleaned)</td><td class="time"><a href="#t2020-04-06T19:00:37" class="time">19:00</a></td></tr>
<tr id="t2020-04-06T19:10:21"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">ebail: weird that it's taking python3 from recipe-sysroot-native for file-rdeps</td><td class="time"><a href="#t2020-04-06T19:10:21" class="time">19:10</a></td></tr>
<tr id="t2020-04-06T19:15:06"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">(it seems like a wrong auto-RDEPENDS, it seems like one of your file has defined it's using recipe-sysroot-native/usr/bin/python3-native/python3 at runtime somehow, which isn't possible)</td><td class="time"><a href="#t2020-04-06T19:15:06" class="time">19:15</a></td></tr>
<tr id="t2020-04-06T19:18:06"><th class="nick" style="background: #5fb4b4">ebail</th><td class="text" style="color: #5fb4b4">qschulz: Thanks I only copy the files from the master branch without modifying them: <a href="http://git.yoctoproject.org/cgit/cgit.cgi/meta-virtualization/tree/recipes-networking/openvswitch" rel="nofollow">http://git.yoctoproject.org/cgit/cgit.cgi/meta-virtualization/tree/recipes-networking/openvswitch</a></td><td class="time"><a href="#t2020-04-06T19:18:06" class="time">19:18</a></td></tr>
<tr id="t2020-04-06T19:19:54"><th class="nick" style="background: #5fb4b4">ebail</th><td class="text" style="color: #5fb4b4">QA file-rdeps&nbsp;&nbsp;complains about ovs-vtep file</td><td class="time"><a href="#t2020-04-06T19:19:54" class="time">19:19</a></td></tr>
<tr id="t2020-04-06T19:20:56"><th class="nick" style="background: #5fb4b4">ebail</th><td class="text" style="color: #5fb4b4">Indeed I don't understand its first location:</td><td class="time"><a href="#t2020-04-06T19:20:56" class="time">19:20</a></td></tr>
<tr id="t2020-04-06T19:21:00"><th class="nick" style="background: #5fb4b4">ebail</th><td class="text" style="color: #5fb4b4">$ find build/ -name ovs-vtep</td><td class="time"><a href="#t2020-04-06T19:21:00" class="time">19:21</a></td></tr>
<tr id="t2020-04-06T19:21:02"><th class="nick" style="background: #5fb4b4">ebail</th><td class="text" style="color: #5fb4b4">build/tmp/sysroots-components/votp/openvswitch/usr/share/openvswitch/scripts/ovs-vtep</td><td class="time"><a href="#t2020-04-06T19:21:02" class="time">19:21</a></td></tr>
<tr id="t2020-04-06T19:21:04"><th class="nick" style="background: #5fb4b4">ebail</th><td class="text" style="color: #5fb4b4">build/tmp/work/votp-poky-linux/openvswitch/2.13+AUTOINC+71d553b995-r0/packages-split/openvswitch/usr/share/openvswitch/scripts/ovs-vtep</td><td class="time"><a href="#t2020-04-06T19:21:04" class="time">19:21</a></td></tr>
<tr id="t2020-04-06T19:21:06"><th class="nick" style="background: #5fb4b4">ebail</th><td class="text" style="color: #5fb4b4">build/tmp/work/votp-poky-linux/openvswitch/2.13+AUTOINC+71d553b995-r0/package/usr/share/openvswitch/scripts/ovs-vtep</td><td class="time"><a href="#t2020-04-06T19:21:06" class="time">19:21</a></td></tr>
<tr id="t2020-04-06T19:21:08"><th class="nick" style="background: #5fb4b4">ebail</th><td class="text" style="color: #5fb4b4">build/tmp/work/votp-poky-linux/openvswitch/2.13+AUTOINC+71d553b995-r0/image/usr/share/openvswitch/scripts/ovs-vtep</td><td class="time"><a href="#t2020-04-06T19:21:08" class="time">19:21</a></td></tr>
<tr id="t2020-04-06T19:21:10"><th class="nick" style="background: #5fb4b4">ebail</th><td class="text" style="color: #5fb4b4">build/tmp/work/votp-poky-linux/openvswitch/2.13+AUTOINC+71d553b995-r0/sysroot-destdir/usr/share/openvswitch/scripts/ovs-vtep</td><td class="time"><a href="#t2020-04-06T19:21:10" class="time">19:21</a></td></tr>
<tr id="t2020-04-06T19:21:12"><th class="nick" style="background: #5fb4b4">ebail</th><td class="text" style="color: #5fb4b4">build/tmp/work/votp-poky-linux/openvswitch/2.13+AUTOINC+71d553b995-r0/build/vtep/ovs-vtep</td><td class="time"><a href="#t2020-04-06T19:21:12" class="time">19:21</a></td></tr>
<tr id="t2020-04-06T19:22:53"><th class="nick" style="background: #5fb4b4">ebail</th><td class="text" style="color: #5fb4b4">and: cat build/tmp/sysroots-components/votp/openvswitch/usr/share/openvswitch/scripts/ovs-vtep | head</td><td class="time"><a href="#t2020-04-06T19:22:53" class="time">19:22</a></td></tr>
<tr id="t2020-04-06T19:22:55"><th class="nick" style="background: #5fb4b4">ebail</th><td class="text" style="color: #5fb4b4">#! &lt;cut here&gt; yocto-bsp/build/tmp/work/votp-poky-linux/openvswitch/2.13+AUTOINC+71d553b995-r0/recipe-sysroot-native/usr/bin/python3-native/python3</td><td class="time"><a href="#t2020-04-06T19:22:55" class="time">19:22</a></td></tr>
<tr id="t2020-04-06T19:29:32"><th class="nick" style="background: #8c4a4a">yocti</th><td class="text" style="color: #8c4a4a">New news from stackoverflow: Yocto cross compile Qt5 cstddef: No such file or directory &lt;<a href="https://stackoverflow.com/questions/61065311/yocto-cross-compile-qt5-cstddef-no-such-file-or-directory&gt;" rel="nofollow">https://stackoverflow.com/questions/61065311/yocto-cross-compile-qt5-cstddef-no-such-file-or-directory&gt;</a></td><td class="time"><a href="#t2020-04-06T19:29:32" class="time">19:29</a></td></tr>
<tr id="t2020-04-06T19:31:51"><th class="nick" style="background: #5fb4b4">ebail</th><td class="text" style="color: #5fb4b4">qschulz: I looks like the file use #! @PYTHON3@ (src: <a href="https://github.com/openvswitch/ovs/blob/master/vtep/ovs-vtep.in" rel="nofollow">https://github.com/openvswitch/ovs/blob/master/vtep/ovs-vtep.in</a>)</td><td class="time"><a href="#t2020-04-06T19:31:51" class="time">19:31</a></td></tr>
<tr id="t2020-04-06T19:42:51"><th class="nick" style="background: #b86161">[Sno]</th><td class="text" style="color: #b86161">otavio: wow</td><td class="time"><a href="#t2020-04-06T19:42:51" class="time">19:42</a></td></tr>
<tr id="t2020-04-06T19:52:47"><th class="nick" style="background: #62bb62">otavio</th><td class="text" style="color: #62bb62">[Sno]: ?</td><td class="time"><a href="#t2020-04-06T19:52:47" class="time">19:52</a></td></tr>
<tr id="t2020-04-06T19:58:03"><th class="nick" style="background: #b86161">[Sno]</th><td class="text" style="color: #b86161">otavio: merged PR in the second I submitted it :D</td><td class="time"><a href="#t2020-04-06T19:58:03" class="time">19:58</a></td></tr>
<tr id="t2020-04-06T20:17:35"><th class="nick" style="background: #62bb62">otavio</th><td class="text" style="color: #62bb62">[Sno]: the changes were simple</td><td class="time"><a href="#t2020-04-06T20:17:35" class="time">20:17</a></td></tr>
<tr id="t2020-04-06T20:27:47"><th class="nick" style="background: #b86161">[Sno]</th><td class="text" style="color: #b86161">otavio: linux-qoriq update to lsdk 20.04 I can do hopefully tomorrow</td><td class="time"><a href="#t2020-04-06T20:27:47" class="time">20:27</a></td></tr>
<tr id="t2020-04-06T20:28:41"><th class="nick" style="background: #b86161">[Sno]</th><td class="text" style="color: #b86161">if there is something else required to be updated, drop me a line - as long I'm in update-mood ;)</td><td class="time"><a href="#t2020-04-06T20:28:41" class="time">20:28</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2020-04-05.log.html">&#171; Sunday, 2020-04-05</a> <a href="index.html">Index</a> <a href="%23yocto.2020-04-07.log.html">Tuesday, 2020-04-07 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
