<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2017-07-21</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Friday, 2017-07-21</h1>
<div class="navigation"> <a href="%23yocto.2017-07-20.log.html">&#171; Thursday, 2017-07-20</a> <a href="index.html">Index</a> <a href="%23yocto.2017-07-22.log.html">Saturday, 2017-07-22 &#187;</a> </div>
<table class="irclog">
<tr id="t2017-07-21T00:40:42"><td class="part" colspan="2">*** scottrif &lt;scottrif!~scottrif@66.191.24.12&gt; has left #yocto</td><td><a href="#t2017-07-21T00:40:42" class="time">00:40</a></td></tr>
<tr id="t2017-07-21T06:44:08"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">RP: do runqemu and oe-selftest support multiconfig? What I mean is, can they be told to boot images or run tests in some other config than the default one?</td><td class="time"><a href="#t2017-07-21T06:44:08" class="time">06:44</a></td></tr>
<tr id="t2017-07-21T06:44:33"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Same for "bitbake -e".</td><td class="time"><a href="#t2017-07-21T06:44:33" class="time">06:44</a></td></tr>
<tr id="t2017-07-21T07:11:22"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">RP: is changing DISTRO_FEATURES allowed in a multiconfig? Apparently not (at least not out-of-the-box), because recipes of different multiconfigs end up sharing the same WORKDIR.</td><td class="time"><a href="#t2017-07-21T07:11:22" class="time">07:11</a></td></tr>
<tr id="t2017-07-21T07:12:17"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Switching between machines avoids that because only machine-specific recipes vary between builds, and they already have different paths.</td><td class="time"><a href="#t2017-07-21T07:12:17" class="time">07:12</a></td></tr>
<tr id="t2017-07-21T07:21:48"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2017-07-21T07:21:48" class="time">07:21</a></td></tr>
<tr id="t2017-07-21T07:23:27"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">RP: does it really make sense that -native tools are built in "x86_64-linux" where "linux" is from "TARGET_OS"? Are these tools really specific to the target OS?</td><td class="time"><a href="#t2017-07-21T07:23:27" class="time">07:23</a></td></tr>
<tr id="t2017-07-21T07:24:15"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: Isn't that from BUILD_OS?</td><td class="time"><a href="#t2017-07-21T07:24:15" class="time">07:24</a></td></tr>
<tr id="t2017-07-21T07:24:59"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">RP: hmm, not according to "bitbake -e intltools-native", unless I misread something. Let me double-check.</td><td class="time"><a href="#t2017-07-21T07:24:59" class="time">07:24</a></td></tr>
<tr id="t2017-07-21T07:26:13"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: runqemu and oe-selftest have no knowledge of multiconfig. I'd have thought runqemu would be fine if you point it at the right deploy artefacts. oe-selftest would be hard for multiconfig</td><td class="time"><a href="#t2017-07-21T07:26:13" class="time">07:26</a></td></tr>
<tr id="t2017-07-21T07:26:27"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">I'm asking because in my multiconfig variants I could set TARGET_VENDOR or TARGET_OS differently than in the main config to avoid the path clash. TARGET_OS would be a bit more natural, but only if it isn't used for the native tools.</td><td class="time"><a href="#t2017-07-21T07:26:27" class="time">07:26</a></td></tr>
<tr id="t2017-07-21T07:27:08"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: You could just set a different TMPDIR?</td><td class="time"><a href="#t2017-07-21T07:27:08" class="time">07:27</a></td></tr>
<tr id="t2017-07-21T07:27:25"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Yes, but then native tools aren't shared either.</td><td class="time"><a href="#t2017-07-21T07:27:25" class="time">07:27</a></td></tr>
<tr id="t2017-07-21T07:27:59"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40"># pre-expansion value:</td><td class="time"><a href="#t2017-07-21T07:27:59" class="time">07:27</a></td></tr>
<tr id="t2017-07-21T07:27:59"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">#&nbsp;&nbsp; "${PACKAGE_ARCH}${TARGET_VENDOR}-${TARGET_OS}"</td><td class="time"><a href="#t2017-07-21T07:27:59" class="time">07:27</a></td></tr>
<tr id="t2017-07-21T07:27:59"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">MULTIMACH_TARGET_SYS="x86_64-linux"</td><td class="time"><a href="#t2017-07-21T07:27:59" class="time">07:27</a></td></tr>
<tr id="t2017-07-21T07:28:19"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: hmm. If they are prepopulated in sstate you'd likely be fine but yes, in a from scratch scenario they would get duplicated</td><td class="time"><a href="#t2017-07-21T07:28:19" class="time">07:28</a></td></tr>
<tr id="t2017-07-21T07:28:29"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">That's for intltools-native.</td><td class="time"><a href="#t2017-07-21T07:28:29" class="time">07:28</a></td></tr>
<tr id="t2017-07-21T07:28:46"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">So no, it's not using BUILD_OS.</td><td class="time"><a href="#t2017-07-21T07:28:46" class="time">07:28</a></td></tr>
<tr id="t2017-07-21T07:29:07"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: It is since native.bbclass sets TARGET_OS = BUILD_OS</td><td class="time"><a href="#t2017-07-21T07:29:07" class="time">07:29</a></td></tr>
<tr id="t2017-07-21T07:30:05"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: I think TARGET_VENDOR may be the correct thing here btw</td><td class="time"><a href="#t2017-07-21T07:30:05" class="time">07:30</a></td></tr>
<tr id="t2017-07-21T07:30:23"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: since vendor is a custom field where as os is keyed off by various things</td><td class="time"><a href="#t2017-07-21T07:30:23" class="time">07:30</a></td></tr>
<tr id="t2017-07-21T07:30:57"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">and yes, TARGET_VENDOR and BUILD_VENDOR are different things</td><td class="time"><a href="#t2017-07-21T07:30:57" class="time">07:30</a></td></tr>
<tr id="t2017-07-21T07:50:05"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">RP: changing "TARGET_OS" away from&nbsp;&nbsp;"linux" doesn't work, I end up with "Unable to determine bit size for architecture 'x86_64' - Please add your architecture to siteinfo.bbclass" errors.</td><td class="time"><a href="#t2017-07-21T07:50:05" class="time">07:50</a></td></tr>
<tr id="t2017-07-21T07:53:48"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">It's a bit confusing that the message only mentions HOST_ARCH and not HOST_OS. I suspect it is HOST_OS which changes to something that isn't known.</td><td class="time"><a href="#t2017-07-21T07:53:48" class="time">07:53</a></td></tr>
<tr id="t2017-07-21T07:57:09"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Yes, HOST_OS = linux-x11 = TARGET_OS in my conf/multiconfig/x11.conf.</td><td class="time"><a href="#t2017-07-21T07:57:09" class="time">07:57</a></td></tr>
<tr id="t2017-07-21T07:57:31"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: right, siteinfo reads HOST_OS which is set from TARGET_OS in many cases</td><td class="time"><a href="#t2017-07-21T07:57:31" class="time">07:57</a></td></tr>
<tr id="t2017-07-21T07:57:40"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: as I said, changing TARGET_OS is a bad idea</td><td class="time"><a href="#t2017-07-21T07:57:40" class="time">07:57</a></td></tr>
<tr id="t2017-07-21T07:57:49"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: you want TARGET_VENDOR</td><td class="time"><a href="#t2017-07-21T07:57:49" class="time">07:57</a></td></tr>
<tr id="t2017-07-21T07:58:17"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Did you say that? ;-} Sorry, I did not quite get the message. But I see now why it is a bad idea.</td><td class="time"><a href="#t2017-07-21T07:58:17" class="time">07:58</a></td></tr>
<tr id="t2017-07-21T07:58:52"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: I perhaps didn't put it quite strongly enough :)</td><td class="time"><a href="#t2017-07-21T07:58:52" class="time">07:58</a></td></tr>
<tr id="t2017-07-21T07:59:36"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Nothing beats first hand experience - seeing the errors is much better than someone saying "don't do that" ;-}</td><td class="time"><a href="#t2017-07-21T07:59:36" class="time">07:59</a></td></tr>
<tr id="t2017-07-21T07:59:51"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: indeed :)</td><td class="time"><a href="#t2017-07-21T07:59:51" class="time">07:59</a></td></tr>
<tr id="t2017-07-21T08:01:22"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Changing TARGET_VENDOR helped a bit, but I'm still getting file conflicts elsewere, for example for tmp-glibc/deploy/ipk/corei7-64/wpa-supplicant-cli_2.6-r0_corei7-64.ipk.</td><td class="time"><a href="#t2017-07-21T08:01:22" class="time">08:01</a></td></tr>
<tr id="t2017-07-21T08:01:27"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">I'll keep trying...</td><td class="time"><a href="#t2017-07-21T08:01:27" class="time">08:01</a></td></tr>
<tr id="t2017-07-21T08:02:12"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: right, you might need a DEPLOY_DIR tweak too</td><td class="time"><a href="#t2017-07-21T08:02:12" class="time">08:02</a></td></tr>
<tr id="t2017-07-21T08:02:25"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: you're trying something I don't think anyone has tried before</td><td class="time"><a href="#t2017-07-21T08:02:25" class="time">08:02</a></td></tr>
<tr id="t2017-07-21T08:02:48"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">RP: you know me - boldly going where no (sane) man has gone before ;-}</td><td class="time"><a href="#t2017-07-21T08:02:48" class="time">08:02</a></td></tr>
<tr id="t2017-07-21T08:03:00"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: you're also assuming DISTRO_FEATURES don't leak into native recipes</td><td class="time"><a href="#t2017-07-21T08:03:00" class="time">08:03</a></td></tr>
<tr id="t2017-07-21T08:03:08"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">I do.</td><td class="time"><a href="#t2017-07-21T08:03:08" class="time">08:03</a></td></tr>
<tr id="t2017-07-21T08:03:45"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: whilst most distro features shouldn't and the contains() mechanism should prevent leakage of non relevant values, I do wonder if we can assume that</td><td class="time"><a href="#t2017-07-21T08:03:45" class="time">08:03</a></td></tr>
<tr id="t2017-07-21T08:05:08"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: as a headsup for refkit, we just merged the bitbake server rework changes. These are significant changes.</td><td class="time"><a href="#t2017-07-21T08:05:08" class="time">08:05</a></td></tr>
<tr id="t2017-07-21T08:09:54"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">They don't leak for x11 and wayland, which is what I am trying to build in parallel here. Or perhaps more precisely, x11 is always enabled (due to DISTRO_FEATURES_NATIVE) and wayland gets filtered out.</td><td class="time"><a href="#t2017-07-21T08:09:54" class="time">08:09</a></td></tr>
<tr id="t2017-07-21T08:11:02"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Thinking about this some more, I wonder whether I can actually achieve my goal. My hope was that by using multiconfig, I can get a more efficient build compared to invoking bitbake three times in the same build directory with different distro features.</td><td class="time"><a href="#t2017-07-21T08:11:02" class="time">08:11</a></td></tr>
<tr id="t2017-07-21T08:11:40"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">But the "more efficient" part is a bit questionable.</td><td class="time"><a href="#t2017-07-21T08:11:40" class="time">08:11</a></td></tr>
<tr id="t2017-07-21T08:13:21"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: Its an interesting experiment, I'm cheering you on</td><td class="time"><a href="#t2017-07-21T08:13:21" class="time">08:13</a></td></tr>
<tr id="t2017-07-21T08:13:47"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">For example, if there is a target recipe "foo.bb" which doesn't depend on either x11 or wayland, and it needs to be rebuilt for some reason. When invoking bitbake three times, it will get built the first time and then be left unchanged.</td><td class="time"><a href="#t2017-07-21T08:13:47" class="time">08:13</a></td></tr>
<tr id="t2017-07-21T08:15:06"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">When all three variants are active in a build (foo, multiconfig:x11:foo, multiconfig:wayland:foo), then I fear that they will all get built in parallel, producing the exact same sstate. That's less efficient.</td><td class="time"><a href="#t2017-07-21T08:15:06" class="time">08:15</a></td></tr>
<tr id="t2017-07-21T08:15:30"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">RP: is my expectation right? I haven't actually tried it.</td><td class="time"><a href="#t2017-07-21T08:15:30" class="time">08:15</a></td></tr>
<tr id="t2017-07-21T08:15:35"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: until fairly recently changing DISTRO_FEATURES on an existing tmpdir was dangerous and not supported ;-)</td><td class="time"><a href="#t2017-07-21T08:15:35" class="time">08:15</a></td></tr>
<tr id="t2017-07-21T08:16:03"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: your suspicion is correct unfortunately</td><td class="time"><a href="#t2017-07-21T08:16:03" class="time">08:16</a></td></tr>
<tr id="t2017-07-21T08:16:19"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: there is an open bug to optimise that but we're no where near ready for that yet</td><td class="time"><a href="#t2017-07-21T08:16:19" class="time">08:16</a></td></tr>
<tr id="t2017-07-21T08:16:30"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Bug number?</td><td class="time"><a href="#t2017-07-21T08:16:30" class="time">08:16</a></td></tr>
<tr id="t2017-07-21T08:17:01"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=10682" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=10682</a></td><td class="time"><a href="#t2017-07-21T08:17:01" class="time">08:17</a></td></tr>
<tr id="t2017-07-21T08:17:02"><th class="nick" style="background: #818144">yocti</th><td class="text" style="color: #818144">Bug 10682: enhancement, Medium, Future, richard.purdie, NEW , multiconfig sstate optimisations</td><td class="time"><a href="#t2017-07-21T08:17:02" class="time">08:17</a></td></tr>
<tr id="t2017-07-21T08:18:21"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: there is overlap between solving that and distributed builds</td><td class="time"><a href="#t2017-07-21T08:18:21" class="time">08:18</a></td></tr>
<tr id="t2017-07-21T08:19:56"><th class="nick" style="background: #854685">joshuagl</th><td class="text" style="color: #854685">RP: FYI I enabled sstate for oe-selftest on the prod (yp.o) cluster last night, a master build has several failures in oe-selftest</td><td class="time"><a href="#t2017-07-21T08:19:56" class="time">08:19</a></td></tr>
<tr id="t2017-07-21T08:20:27"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">I can probably avoid this particular inefficiency by building each target separately. But then the question becomes whether it is still more efficient than the traditional approach.</td><td class="time"><a href="#t2017-07-21T08:20:27" class="time">08:20</a></td></tr>
<tr id="t2017-07-21T08:21:59"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">joshuagl: one failure in wic?</td><td class="time"><a href="#t2017-07-21T08:21:59" class="time">08:21</a></td></tr>
<tr id="t2017-07-21T08:22:05"><th class="nick" style="background: #854685">joshuagl</th><td class="text" style="color: #854685">looks like it's just one test that fails, wic.Wic.test_fs_types - Testcase 1849: FAILED</td><td class="time"><a href="#t2017-07-21T08:22:05" class="time">08:22</a></td></tr>
<tr id="t2017-07-21T08:22:17"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">joshuagl: that doesn't look sstate related to me</td><td class="time"><a href="#t2017-07-21T08:22:17" class="time">08:22</a></td></tr>
<tr id="t2017-07-21T08:22:21"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">ed2: ^^^</td><td class="time"><a href="#t2017-07-21T08:22:21" class="time">08:22</a></td></tr>
<tr id="t2017-07-21T08:22:26"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e"><a href="https://autobuilder.yoctoproject.org/main/builders/nightly-oe-selftest/builds/945/steps/Running%20oe-selftest/logs/stdio" rel="nofollow">https://autobuilder.yoctoproject.org/main/builders/nightly-oe-selftest/builds/945/steps/Running%20oe-selftest/logs/stdio</a></td><td class="time"><a href="#t2017-07-21T08:22:26" class="time">08:22</a></td></tr>
<tr id="t2017-07-21T08:22:44"><th class="nick" style="background: #854685">joshuagl</th><td class="text" style="color: #854685">RP: neat, was slowly reaching the same conclusion. Thanks for looking</td><td class="time"><a href="#t2017-07-21T08:22:44" class="time">08:22</a></td></tr>
<tr id="t2017-07-21T08:23:01"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">transaction.h:42: btrfs_start_transaction: BUG_ON `fs_info-&gt;running_transaction` triggered, value 15520960</td><td class="time"><a href="#t2017-07-21T08:23:01" class="time">08:23</a></td></tr>
<tr id="t2017-07-21T08:23:31"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">joshuagl: RP: I'll have a look.</td><td class="time"><a href="#t2017-07-21T08:23:31" class="time">08:23</a></td></tr>
<tr id="t2017-07-21T08:23:52"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">ed2: looks like it may be a btrfs tools bug</td><td class="time"><a href="#t2017-07-21T08:23:52" class="time">08:23</a></td></tr>
<tr id="t2017-07-21T08:25:50"><th class="nick" style="background: #854685">joshuagl</th><td class="text" style="color: #854685">RP: sstate also enabled for new (y.io) cluster now</td><td class="time"><a href="#t2017-07-21T08:25:50" class="time">08:25</a></td></tr>
<tr id="t2017-07-21T08:25:54"><th class="nick" style="background: #854685">joshuagl</th><td class="text" style="color: #854685">thanks ed2</td><td class="time"><a href="#t2017-07-21T08:25:54" class="time">08:25</a></td></tr>
<tr id="t2017-07-21T08:27:53"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">joshuagl: thanks</td><td class="time"><a href="#t2017-07-21T08:27:53" class="time">08:27</a></td></tr>
<tr id="t2017-07-21T08:29:40"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">RP: about this "changing DISTRO_FEATURES in existing tmp not supported" - was that documented or just part of the "if you run into problems, remove tmp and try again" fallback? I wasn't aware of this limitation.</td><td class="time"><a href="#t2017-07-21T08:29:40" class="time">08:29</a></td></tr>
<tr id="t2017-07-21T08:29:46"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">What removed it?</td><td class="time"><a href="#t2017-07-21T08:29:46" class="time">08:29</a></td></tr>
<tr id="t2017-07-21T08:30:23"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: We added code which makes it work in the majority of cases now</td><td class="time"><a href="#t2017-07-21T08:30:23" class="time">08:30</a></td></tr>
<tr id="t2017-07-21T08:31:00"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: too many users got confused and saw breakage with it not working</td><td class="time"><a href="#t2017-07-21T08:31:00" class="time">08:31</a></td></tr>
<tr id="t2017-07-21T08:31:12"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: rss should have been the final piece of that puzzle</td><td class="time"><a href="#t2017-07-21T08:31:12" class="time">08:31</a></td></tr>
<tr id="t2017-07-21T08:33:05"><th class="nick" style="background: #854685">joshuagl</th><td class="text" style="color: #854685">RP: rburton: going to make some quick changes to the AB's this morning, please give me a few</td><td class="time"><a href="#t2017-07-21T08:33:05" class="time">08:33</a></td></tr>
<tr id="t2017-07-21T08:36:32"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">RP: when I do "bitbake multiconfig:x11:refkit-image-common", I end up with three messages about "Build completion summary", with identical content.</td><td class="time"><a href="#t2017-07-21T08:36:32" class="time">08:36</a></td></tr>
<tr id="t2017-07-21T08:36:57"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Is that a report about the entire build config?</td><td class="time"><a href="#t2017-07-21T08:36:57" class="time">08:36</a></td></tr>
<tr id="t2017-07-21T08:37:11"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">I inherit buildstats-summary.bbclass.</td><td class="time"><a href="#t2017-07-21T08:37:11" class="time">08:37</a></td></tr>
<tr id="t2017-07-21T08:37:33"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">I suspect it's related to your recent event trigger changes.</td><td class="time"><a href="#t2017-07-21T08:37:33" class="time">08:37</a></td></tr>
<tr id="t2017-07-21T08:37:53"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">RP: regarding patchelf &amp; gold issue(#11785). Does this patch looks ok to you? <a href="https://gist.github.com/bartosh/aacbdc5140149e408e3639f1edc60fca" rel="nofollow">https://gist.github.com/bartosh/aacbdc5140149e408e3639f1edc60fca</a></td><td class="time"><a href="#t2017-07-21T08:37:53" class="time">08:37</a></td></tr>
<tr id="t2017-07-21T08:37:54"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: We intentionally fire BuildCompleted events for each multiconfig</td><td class="time"><a href="#t2017-07-21T08:37:54" class="time">08:37</a></td></tr>
<tr id="t2017-07-21T08:38:03"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: if we don't there are much worse things happen</td><td class="time"><a href="#t2017-07-21T08:38:03" class="time">08:38</a></td></tr>
<tr id="t2017-07-21T08:38:18"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: I'm fine with adding a "MulticonfigBuildCompleted" event too</td><td class="time"><a href="#t2017-07-21T08:38:18" class="time">08:38</a></td></tr>
<tr id="t2017-07-21T08:38:55"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">RP: here is a diff of readelf output after and before the patch: <a href="https://gist.github.com/bartosh/aacbdc5140149e408e3639f1edc60fca" rel="nofollow">https://gist.github.com/bartosh/aacbdc5140149e408e3639f1edc60fca</a></td><td class="time"><a href="#t2017-07-21T08:38:55" class="time">08:38</a></td></tr>
<tr id="t2017-07-21T08:39:25"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">ed2: at a quick glance, yes</td><td class="time"><a href="#t2017-07-21T08:39:25" class="time">08:39</a></td></tr>
<tr id="t2017-07-21T08:40:15"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">ed2: does that actually change behaviour at all though?</td><td class="time"><a href="#t2017-07-21T08:40:15" class="time">08:40</a></td></tr>
<tr id="t2017-07-21T08:40:16"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">RP: I think such a MulticonfigBuildCompleted event is needed for buildstats-summary.bbclass.</td><td class="time"><a href="#t2017-07-21T08:40:16" class="time">08:40</a></td></tr>
<tr id="t2017-07-21T08:40:33"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">ed2: same link?</td><td class="time"><a href="#t2017-07-21T08:40:33" class="time">08:40</a></td></tr>
<tr id="t2017-07-21T08:40:36"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Do you want a bugzilla entry for it?</td><td class="time"><a href="#t2017-07-21T08:40:36" class="time">08:40</a></td></tr>
<tr id="t2017-07-21T08:40:44"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">RP: yes, it does.</td><td class="time"><a href="#t2017-07-21T08:40:44" class="time">08:40</a></td></tr>
<tr id="t2017-07-21T08:41:06"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">RP: oops, sorry. this is the right one: <a href="https://gist.github.com/bartosh/6e0e2c2c0c0a7f28a2c4d0c2814f223e" rel="nofollow">https://gist.github.com/bartosh/6e0e2c2c0c0a7f28a2c4d0c2814f223e</a></td><td class="time"><a href="#t2017-07-21T08:41:06" class="time">08:41</a></td></tr>
<tr id="t2017-07-21T08:41:09"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: hmm. I can probably write the patch just as fast</td><td class="time"><a href="#t2017-07-21T08:41:09" class="time">08:41</a></td></tr>
<tr id="t2017-07-21T08:41:17"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Okay ;-}</td><td class="time"><a href="#t2017-07-21T08:41:17" class="time">08:41</a></td></tr>
<tr id="t2017-07-21T08:42:36"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">RP: without this patchelf produces broken executable. ldd reports (not a dynamic executable) and ld-linux segfaults when loading it.</td><td class="time"><a href="#t2017-07-21T08:42:36" class="time">08:42</a></td></tr>
<tr id="t2017-07-21T08:44:46"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">RP: you can see much more info in the bug #11785</td><td class="time"><a href="#t2017-07-21T08:44:46" class="time">08:44</a></td></tr>
<tr id="t2017-07-21T08:44:46"><th class="nick" style="background: #818144">yocti</th><td class="text" style="color: #818144">Bug <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=11785" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=11785</a> major, Medium+, 2.4 M3, eduard.bartosh, IN PROGRESS IMPLEMENTATION , On Debian 9 m4 segfaults making impossible to build autoconf-native due to the uninative feature</td><td class="time"><a href="#t2017-07-21T08:44:46" class="time">08:44</a></td></tr>
<tr id="t2017-07-21T08:48:18"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">ed2: are you sure the patch above is the one you're testing?</td><td class="time"><a href="#t2017-07-21T08:48:18" class="time">08:48</a></td></tr>
<tr id="t2017-07-21T08:48:44"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">ed2: It doesn't seem to match the one in the bug but its hard to tell with diffs of diffs</td><td class="time"><a href="#t2017-07-21T08:48:44" class="time">08:48</a></td></tr>
<tr id="t2017-07-21T08:48:59"><td class="nickchange" colspan="2">*** toscalix_ is now known as toscalix</td><td><a href="#t2017-07-21T08:48:59" class="time">08:48</a></td></tr>
<tr id="t2017-07-21T08:50:33"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">RP: it's mostly the same. The idea is to put startPage = startOffset; inside the 'startOffset &gt; startPage' condition. It was outside, causing startPage to be changed for all executables.</td><td class="time"><a href="#t2017-07-21T08:50:33" class="time">08:50</a></td></tr>
<tr id="t2017-07-21T08:51:26"><th class="nick" style="background: #854685">joshuagl</th><td class="text" style="color: #854685">RP: rburton: done on the AB's, feel free to schedule builds</td><td class="time"><a href="#t2017-07-21T08:51:26" class="time">08:51</a></td></tr>
<tr id="t2017-07-21T08:51:57"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">ed2: of course, I see now</td><td class="time"><a href="#t2017-07-21T08:51:57" class="time">08:51</a></td></tr>
<tr id="t2017-07-21T08:52:18"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">ed2: I think that does make sense</td><td class="time"><a href="#t2017-07-21T08:52:18" class="time">08:52</a></td></tr>
<tr id="t2017-07-21T08:52:25"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">joshuagl: thanks!</td><td class="time"><a href="#t2017-07-21T08:52:25" class="time">08:52</a></td></tr>
<tr id="t2017-07-21T08:52:44"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">RP: great. I'll send it for review then.</td><td class="time"><a href="#t2017-07-21T08:52:44" class="time">08:52</a></td></tr>
<tr id="t2017-07-21T08:52:48"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">RP: thank you</td><td class="time"><a href="#t2017-07-21T08:52:48" class="time">08:52</a></td></tr>
<tr id="t2017-07-21T08:52:50"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">ed2: might be worth adding this patch to the github site, they did take my last patch too!</td><td class="time"><a href="#t2017-07-21T08:52:50" class="time">08:52</a></td></tr>
<tr id="t2017-07-21T08:53:05"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">ed2: well spotted finding that :)</td><td class="time"><a href="#t2017-07-21T08:53:05" class="time">08:53</a></td></tr>
<tr id="t2017-07-21T08:53:07"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">RP: yep, will send it upstream too.</td><td class="time"><a href="#t2017-07-21T08:53:07" class="time">08:53</a></td></tr>
<tr id="t2017-07-21T08:54:11"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">RP: thanks. this kind of things are easily overlooked. Took me some time to find it out :)</td><td class="time"><a href="#t2017-07-21T08:54:11" class="time">08:54</a></td></tr>
<tr id="t2017-07-21T08:55:52"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">joshuagl: is wic test failure still relevant. My build is still going, so I didn't check it out yet.</td><td class="time"><a href="#t2017-07-21T08:55:52" class="time">08:55</a></td></tr>
<tr id="t2017-07-21T08:55:59"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">joshuagl: ?</td><td class="time"><a href="#t2017-07-21T08:55:59" class="time">08:55</a></td></tr>
<tr id="t2017-07-21T08:56:09"><th class="nick" style="background: #854685">joshuagl</th><td class="text" style="color: #854685">ed2: still relevant, yes</td><td class="time"><a href="#t2017-07-21T08:56:09" class="time">08:56</a></td></tr>
<tr id="t2017-07-21T09:01:57"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">ed2: reproducing it may be hard :(</td><td class="time"><a href="#t2017-07-21T09:01:57" class="time">09:01</a></td></tr>
<tr id="t2017-07-21T09:04:18"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">RP: true. we're lucky it's 100% reproducible on our m4 executable linked with gold</td><td class="time"><a href="#t2017-07-21T09:04:18" class="time">09:04</a></td></tr>
<tr id="t2017-07-21T09:12:28"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">RP: btw, did we try to test build performance for ld vs gold? according to what people say gold is much faster.</td><td class="time"><a href="#t2017-07-21T09:12:28" class="time">09:12</a></td></tr>
<tr id="t2017-07-21T09:13:37"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">RP: looks like changing TARGET_VENDOR is also a dead-end. It is passed to configure as --target=x86_64-refkit-x11-linux and thus changes sstate signatures even in recipes which do not depend on the distro feature.</td><td class="time"><a href="#t2017-07-21T09:13:37" class="time">09:13</a></td></tr>
<tr id="t2017-07-21T09:17:24"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">I'm coming to the conclusion that different TMPDIR is the only viable approach. It also gets rid of conflicts in the deploy package feeds.</td><td class="time"><a href="#t2017-07-21T09:17:24" class="time">09:17</a></td></tr>
<tr id="t2017-07-21T09:20:02"><td class="nickchange" colspan="2">*** richard is now known as Guest20466</td><td><a href="#t2017-07-21T09:20:02" class="time">09:20</a></td></tr>
<tr id="t2017-07-21T09:20:06"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">RP: but then what about BUILDSTATS_BASE, as used by buildstats-summary.bbclass? Does that need to use a TMPDIR that is the same for all multiconfigs? Currently it doesn't.</td><td class="time"><a href="#t2017-07-21T09:20:06" class="time">09:20</a></td></tr>
<tr id="t2017-07-21T09:23:42"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">joshuagl: RP: I can't reproduce wic.Wic.test_fs_types on my machine. Used the same poky commit &amp; machine.</td><td class="time"><a href="#t2017-07-21T09:23:42" class="time">09:23</a></td></tr>
<tr id="t2017-07-21T09:27:35"><td class="nickchange" colspan="2">*** Guest20466 is now known as vdehors_arc</td><td><a href="#t2017-07-21T09:27:35" class="time">09:27</a></td></tr>
<tr id="t2017-07-21T09:33:38"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">ed2: hmm, I had a feeling that one might be tricky/rare :/</td><td class="time"><a href="#t2017-07-21T09:33:38" class="time">09:33</a></td></tr>
<tr id="t2017-07-21T09:33:46"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: good question :/</td><td class="time"><a href="#t2017-07-21T09:33:46" class="time">09:33</a></td></tr>
<tr id="t2017-07-21T09:34:03"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: this is why I ended up with separate events</td><td class="time"><a href="#t2017-07-21T09:34:03" class="time">09:34</a></td></tr>
<tr id="t2017-07-21T09:35:20"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">RP: I think buildstats are per-build, and thus need to be independent of the TMPDIR used by each individual multiconfig.</td><td class="time"><a href="#t2017-07-21T09:35:20" class="time">09:35</a></td></tr>
<tr id="t2017-07-21T09:37:50"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">buildstats.bbclass hard-codes BUILDSTATS_BASE, so it cannot even be configured easily in a local.conf where BBMULTICONF is set. I'm now using BUILDSTATS_BASE_forcevariable = "${TOPDIR}/tmp/buildstats".</td><td class="time"><a href="#t2017-07-21T09:37:50" class="time">09:37</a></td></tr>
<tr id="t2017-07-21T09:45:51"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: that does sound like the correct implementation</td><td class="time"><a href="#t2017-07-21T09:45:51" class="time">09:45</a></td></tr>
<tr id="t2017-07-21T09:58:19"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">RP: however, there's a namespacing issue: the directories in ${BUILDSTATS_BASE} do not include the BB_CURRENT_MC prefix, so different variants overwrite each other's files.</td><td class="time"><a href="#t2017-07-21T09:58:19" class="time">09:58</a></td></tr>
<tr id="t2017-07-21T10:00:19"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">But I still think a single BUILDSTATS_BASE is the right solution. For example, the system monitor .log files only get written in the main build configuration.</td><td class="time"><a href="#t2017-07-21T10:00:19" class="time">10:00</a></td></tr>
<tr id="t2017-07-21T10:06:07"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: hmm, I'm torn on this to be honest...</td><td class="time"><a href="#t2017-07-21T10:06:07" class="time">10:06</a></td></tr>
<tr id="t2017-07-21T10:08:35"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">If it is per multiconfig, then pybootchartgui becomes less useful because it only shows a subset of what really went on.</td><td class="time"><a href="#t2017-07-21T10:08:35" class="time">10:08</a></td></tr>
<tr id="t2017-07-21T10:09:18"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">I'm not familiar enough with buildstats-diff to determine which approach would be better.</td><td class="time"><a href="#t2017-07-21T10:09:18" class="time">10:09</a></td></tr>
<tr id="t2017-07-21T10:10:31"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: you can run pybootchartgui on a set of directories iirc</td><td class="time"><a href="#t2017-07-21T10:10:31" class="time">10:10</a></td></tr>
<tr id="t2017-07-21T10:12:31"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">RP: then we have the name clash in the UI.</td><td class="time"><a href="#t2017-07-21T10:12:31" class="time">10:12</a></td></tr>
<tr id="t2017-07-21T10:13:30"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: hmm, true</td><td class="time"><a href="#t2017-07-21T10:13:30" class="time">10:13</a></td></tr>
<tr id="t2017-07-21T10:13:52"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: I did write <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/wip5&amp;id=917beaeecc83798e4853fceaafc09aeb87c17158" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/wip5&amp;id=917beaeecc83798e4853fceaafc09aeb87c17158</a></td><td class="time"><a href="#t2017-07-21T10:13:52" class="time">10:13</a></td></tr>
<tr id="t2017-07-21T10:14:11"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Speaking of pybootchartgui, it's complaining here with "empty state: ... does not contain a valid bootchart" even for the single directory case.</td><td class="time"><a href="#t2017-07-21T10:14:11" class="time">10:14</a></td></tr>
<tr id="t2017-07-21T10:14:30"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Perhaps it doesn't like short builds with only setscene tasks? Not sure.</td><td class="time"><a href="#t2017-07-21T10:14:30" class="time">10:14</a></td></tr>
<tr id="t2017-07-21T10:14:52"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: could be. sstate works better now than when it was originally written :)</td><td class="time"><a href="#t2017-07-21T10:14:52" class="time">10:14</a></td></tr>
<tr id="t2017-07-21T10:17:29"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">RP: about that patch: the terminology is getting confusing. The comment "Event fired once per multiconfig build completion" for MultiConfigBuildCompleted to me sounds more like "fired once for each of the multiconfigs", i.e. more than once per "bitbake" invocation.</td><td class="time"><a href="#t2017-07-21T10:17:29" class="time">10:17</a></td></tr>
<tr id="t2017-07-21T10:17:56"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">But it's the other way around, BuildCompleted fires more than once and MultiConfigBuildCompleted exactly once.</td><td class="time"><a href="#t2017-07-21T10:17:56" class="time">10:17</a></td></tr>
<tr id="t2017-07-21T10:18:54"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">We probably need a term for the building of a particular variant.</td><td class="time"><a href="#t2017-07-21T10:18:54" class="time">10:18</a></td></tr>
<tr id="t2017-07-21T10:19:52"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Then we can define "multiconfig build" = "a build where BBMULTICONFIG is set, ends when all variants are built -&gt; MultiConfigBuildCompleted".</td><td class="time"><a href="#t2017-07-21T10:19:52" class="time">10:19</a></td></tr>
<tr id="t2017-07-21T10:20:37"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e"><a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/wip5&amp;id=84954acf84fef77a613c83c8d309addf83875a3e" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/wip5&amp;id=84954acf84fef77a613c83c8d309addf83875a3e</a> better ?</td><td class="time"><a href="#t2017-07-21T10:20:37" class="time">10:20</a></td></tr>
<tr id="t2017-07-21T10:21:08"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Yes, that's better.</td><td class="time"><a href="#t2017-07-21T10:21:08" class="time">10:21</a></td></tr>
<tr id="t2017-07-21T10:22:43"><th class="nick" style="background: #8c4a4a">MarcWe</th><td class="text" style="color: #8c4a4a">Hi, how can run bitbake to show echo's from do_install functions in bb files</td><td class="time"><a href="#t2017-07-21T10:22:43" class="time">10:22</a></td></tr>
<tr id="t2017-07-21T10:22:52"><th class="nick" style="background: #4b904b">Axton</th><td class="text" style="color: #4b904b">Hi. I'm new to yocto and learning while I try to build a image for my CHIP Pro board. I have followed the guide from the Link, and I now have a login prompt from my CHIP pro. If I type root in the login prompt it gives "Login incorrect". I have looked at the rootfs tar file and can see a passwd file in the etc folder, but there is no shadow file? My question: is there some way of telling yocto NOT to include</td><td class="time"><a href="#t2017-07-21T10:22:52" class="time">10:22</a></td></tr>
<tr id="t2017-07-21T10:22:58"><th class="nick" style="background: #4b904b">Axton</th><td class="text" style="color: #4b904b">a shadow file?</td><td class="time"><a href="#t2017-07-21T10:22:58" class="time">10:22</a></td></tr>
<tr id="t2017-07-21T10:23:01"><th class="nick" style="background: #4b904b">Axton</th><td class="text" style="color: #4b904b">Link: <a href="https://github.com/texierp/meta-chip" rel="nofollow">https://github.com/texierp/meta-chip</a></td><td class="time"><a href="#t2017-07-21T10:23:01" class="time">10:23</a></td></tr>
<tr id="t2017-07-21T10:23:02"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">However, """Event when builds have completed (one event per multiconfig)""" for BuildCompleted is not quite correct in the current implementation. An event handler that registers for BuildCompleted will be invoked twice in a normal build, once for bb.event.BuildCompleted and once for MultiConfigBuildCompleted.</td><td class="time"><a href="#t2017-07-21T10:23:02" class="time">10:23</a></td></tr>
<tr id="t2017-07-21T10:23:02"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">MarcWe: use bbwarn instead of echo</td><td class="time"><a href="#t2017-07-21T10:23:02" class="time">10:23</a></td></tr>
<tr id="t2017-07-21T10:23:08"><th class="nick" style="background: #8c4a4a">MarcWe</th><td class="text" style="color: #8c4a4a">a oke</td><td class="time"><a href="#t2017-07-21T10:23:08" class="time">10:23</a></td></tr>
<tr id="t2017-07-21T10:23:10"><th class="nick" style="background: #8c4a4a">MarcWe</th><td class="text" style="color: #8c4a4a">tnx</td><td class="time"><a href="#t2017-07-21T10:23:10" class="time">10:23</a></td></tr>
<tr id="t2017-07-21T10:23:10"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">MarcWe: you should be able to see them in the WORKDIR/temp/log.do_install file</td><td class="time"><a href="#t2017-07-21T10:23:10" class="time">10:23</a></td></tr>
<tr id="t2017-07-21T10:23:33"><th class="nick" style="background: #8c4a4a">MarcWe</th><td class="text" style="color: #8c4a4a">tnx</td><td class="time"><a href="#t2017-07-21T10:23:33" class="time">10:23</a></td></tr>
<tr id="t2017-07-21T10:24:21"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: hmm, I guess I need to split that base class :(</td><td class="time"><a href="#t2017-07-21T10:24:21" class="time">10:24</a></td></tr>
<tr id="t2017-07-21T10:24:25"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">RP: to avoid that, we probably need a "class BuildCompletedBase" with the current BuildCompleted code and two leaf classes.</td><td class="time"><a href="#t2017-07-21T10:24:25" class="time">10:24</a></td></tr>
<tr id="t2017-07-21T10:24:39"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: yes, how ugly :(</td><td class="time"><a href="#t2017-07-21T10:24:39" class="time">10:24</a></td></tr>
<tr id="t2017-07-21T10:26:11"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/wip5&amp;id=6c5f525e34e9a424f749ed29acccb3478b64372f" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/wip5&amp;id=6c5f525e34e9a424f749ed29acccb3478b64372f</a></td><td class="time"><a href="#t2017-07-21T10:26:11" class="time">10:26</a></td></tr>
<tr id="t2017-07-21T10:27:55"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">pohly: well spotted though thanks</td><td class="time"><a href="#t2017-07-21T10:27:55" class="time">10:27</a></td></tr>
<tr id="t2017-07-21T11:03:08"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">rburton: this patch seems to be forgotten: <a href="http://lists.openembedded.org/pipermail/openembedded-core/2017-July/139389.html" rel="nofollow">http://lists.openembedded.org/pipermail/openembedded-core/2017-July/139389.html</a></td><td class="time"><a href="#t2017-07-21T11:03:08" class="time">11:03</a></td></tr>
<tr id="t2017-07-21T11:03:33"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">rburton: I don't see it in any of pre-branches (checked master-next, ross/mut, ross/mut2)</td><td class="time"><a href="#t2017-07-21T11:03:33" class="time">11:03</a></td></tr>
<tr id="t2017-07-21T11:07:21"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">rburton: and unlucky /boot patchset too: <a href="http://lists.openembedded.org/pipermail/openembedded-core/2017-June/138802.html" rel="nofollow">http://lists.openembedded.org/pipermail/openembedded-core/2017-June/138802.html</a> (this fixes M2 Medium+ bug)</td><td class="time"><a href="#t2017-07-21T11:07:21" class="time">11:07</a></td></tr>
<tr id="t2017-07-21T11:07:32"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">thanks ed2, sorry about that</td><td class="time"><a href="#t2017-07-21T11:07:32" class="time">11:07</a></td></tr>
<tr id="t2017-07-21T11:08:07"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">rburton: no prob, just wanted to point out</td><td class="time"><a href="#t2017-07-21T11:08:07" class="time">11:08</a></td></tr>
<tr id="t2017-07-21T11:08:39"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">RP: did you see ed2 sent a patchelf patch?</td><td class="time"><a href="#t2017-07-21T11:08:39" class="time">11:08</a></td></tr>
<tr id="t2017-07-21T11:09:55"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">rburton: we talked about it earlier, looks good to me</td><td class="time"><a href="#t2017-07-21T11:09:55" class="time">11:09</a></td></tr>
<tr id="t2017-07-21T11:10:12"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">cool</td><td class="time"><a href="#t2017-07-21T11:10:12" class="time">11:10</a></td></tr>
<tr id="t2017-07-21T11:10:35"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">ed2: Isn't the status there submitted?</td><td class="time"><a href="#t2017-07-21T11:10:35" class="time">11:10</a></td></tr>
<tr id="t2017-07-21T11:39:07"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">rburton: I tracked that mesa failure to the vulkan distro change. I've therefore added mut to -next minus that and will see how that build goes</td><td class="time"><a href="#t2017-07-21T11:39:07" class="time">11:39</a></td></tr>
<tr id="t2017-07-21T12:11:20"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">RP: sent v2. thanks for pointing it out.</td><td class="time"><a href="#t2017-07-21T12:11:20" class="time">12:11</a></td></tr>
<tr id="t2017-07-21T12:15:06"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">RP: +1</td><td class="time"><a href="#t2017-07-21T12:15:06" class="time">12:15</a></td></tr>
<tr id="t2017-07-21T12:20:22"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">ed2: "runqemu: rework of exception handling" is already in master.&nbsp;&nbsp;merged the rootfs changes to mut now.</td><td class="time"><a href="#t2017-07-21T12:20:22" class="time">12:20</a></td></tr>
<tr id="t2017-07-21T12:20:38"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">rburton: gstreamer is moving to meson too, so I'm not at all interested in sending them our pending patches, which are all fixing stuff in autotools. Fair enough? :)</td><td class="time"><a href="#t2017-07-21T12:20:38" class="time">12:20</a></td></tr>
<tr id="t2017-07-21T12:20:46"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">yeah :)</td><td class="time"><a href="#t2017-07-21T12:20:46" class="time">12:20</a></td></tr>
<tr id="t2017-07-21T12:20:55"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">kanavin: now you're back...</td><td class="time"><a href="#t2017-07-21T12:20:55" class="time">12:20</a></td></tr>
<tr id="t2017-07-21T12:21:02"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">want to play "how to make meson build gtk-doc"</td><td class="time"><a href="#t2017-07-21T12:21:02" class="time">12:21</a></td></tr>
<tr id="t2017-07-21T12:21:03"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">:)</td><td class="time"><a href="#t2017-07-21T12:21:03" class="time">12:21</a></td></tr>
<tr id="t2017-07-21T12:21:50"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">meson has built in support for "i need this command to run a target binary", so in theory if we set that and then tell meson to use that when it invokes stuff it builds, it should just work and all be upstreamable</td><td class="time"><a href="#t2017-07-21T12:21:50" class="time">12:21</a></td></tr>
<tr id="t2017-07-21T12:22:11"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">(or g-i but i suspect gtkdoc is the easier case to start with)</td><td class="time"><a href="#t2017-07-21T12:22:11" class="time">12:22</a></td></tr>
<tr id="t2017-07-21T12:22:37"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">rburton: I have never used meson before (but I bloody should)</td><td class="time"><a href="#t2017-07-21T12:22:37" class="time">12:22</a></td></tr>
<tr id="t2017-07-21T12:22:59"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">just seeing if all my patches to the class/recipe in meta-oe have landed now</td><td class="time"><a href="#t2017-07-21T12:22:59" class="time">12:22</a></td></tr>
<tr id="t2017-07-21T12:23:15"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">theres a ross/meson in poky-contrib which has some relevant work in too</td><td class="time"><a href="#t2017-07-21T12:23:15" class="time">12:23</a></td></tr>
<tr id="t2017-07-21T12:23:37"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">rburton: just reading the meson's developer post called "why autotools is not my favorite build system". He has a finnish name btw, Jussi Pakkanen.</td><td class="time"><a href="#t2017-07-21T12:23:37" class="time">12:23</a></td></tr>
<tr id="t2017-07-21T12:24:23"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">yeah, i'm pretty sure i've worked near him in the past.&nbsp;&nbsp;then again about 80% of finnish engineers worked at nokia...</td><td class="time"><a href="#t2017-07-21T12:24:23" class="time">12:24</a></td></tr>
<tr id="t2017-07-21T12:24:48"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">rburton: the remaining 20% worked for nokia subcontractors</td><td class="time"><a href="#t2017-07-21T12:24:48" class="time">12:24</a></td></tr>
<tr id="t2017-07-21T12:25:29"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">his linkedin doesn't have any nokia contractors in :O</td><td class="time"><a href="#t2017-07-21T12:25:29" class="time">12:25</a></td></tr>
<tr id="t2017-07-21T12:43:21"><th class="nick" style="background: #9b519b">TafThorne</th><td class="text" style="color: #9b519b">kergoth: I got the Python script I wanted to use to execute.&nbsp;&nbsp;Then I found out it was not updated for Pi3 so I am working with the author to get the GitHub code tested and updated with a pull request someone else made that seems to have Pi3 support.&nbsp;&nbsp;Then he can push it to pypi and I can make a further recipie update to get the new version.</td><td class="time"><a href="#t2017-07-21T12:43:21" class="time">12:43</a></td></tr>
<tr id="t2017-07-21T12:44:53"><th class="nick" style="background: #9b519b">TafThorne</th><td class="text" style="color: #9b519b">kergoth: Then I can get the image build, on my Pi and I'll finally be able to turn and LED on and off via the GPIO.&nbsp;&nbsp;Simples.&nbsp;&nbsp;Thank you for your help yesterday.&nbsp;&nbsp;I'll commit an updated recipie file&nbsp;&nbsp;that fixed the missing python dependencies soon.</td><td class="time"><a href="#t2017-07-21T12:44:53" class="time">12:44</a></td></tr>
<tr id="t2017-07-21T12:55:01"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">ed2: props for the patchelf debugging</td><td class="time"><a href="#t2017-07-21T12:55:01" class="time">12:55</a></td></tr>
<tr id="t2017-07-21T12:55:37"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">rburton: I'll spend some time playing with meson next week. Right now my daily rhythm is seriously crooked :-/</td><td class="time"><a href="#t2017-07-21T12:55:37" class="time">12:55</a></td></tr>
<tr id="t2017-07-21T12:55:53"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">(which is something of a lifetime struggle :(</td><td class="time"><a href="#t2017-07-21T12:55:53" class="time">12:55</a></td></tr>
<tr id="t2017-07-21T12:56:19"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">kanavin: sure, no problem.&nbsp;&nbsp;the irc channel is friendly and i've a few more patches building up for meta-oe</td><td class="time"><a href="#t2017-07-21T12:56:19" class="time">12:56</a></td></tr>
<tr id="t2017-07-21T13:06:18"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">rburton: I better stop trying to do mentally intense work, and tidy up the apartment instead :D</td><td class="time"><a href="#t2017-07-21T13:06:18" class="time">13:06</a></td></tr>
<tr id="t2017-07-21T13:07:36"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">rburton: thanks. it was interesting challenge</td><td class="time"><a href="#t2017-07-21T13:07:36" class="time">13:07</a></td></tr>
<tr id="t2017-07-21T13:08:19"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">ed2: made it seem easy :)</td><td class="time"><a href="#t2017-07-21T13:08:19" class="time">13:08</a></td></tr>
<tr id="t2017-07-21T13:08:41"><td class="action" colspan="2">* Tartarus hopes over here</td><td><a href="#t2017-07-21T13:08:41" class="time">13:08</a></td></tr>
<tr id="t2017-07-21T13:09:08"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">pohly: ping when you're around again</td><td class="time"><a href="#t2017-07-21T13:09:08" class="time">13:09</a></td></tr>
<tr id="t2017-07-21T13:09:56"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Tartarus: hi. I'm around briefly - was about to run an errand.</td><td class="time"><a href="#t2017-07-21T13:09:56" class="time">13:09</a></td></tr>
<tr id="t2017-07-21T13:10:20"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">pohly: k.&nbsp;&nbsp;So, as I was saying on the ML, I'm not convinced we need to push vmdk stuff in a different direction</td><td class="time"><a href="#t2017-07-21T13:10:20" class="time">13:10</a></td></tr>
<tr id="t2017-07-21T13:10:30"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">I was telling RP over in #oe that we do use vmdk/etc as distinct types</td><td class="time"><a href="#t2017-07-21T13:10:30" class="time">13:10</a></td></tr>
<tr id="t2017-07-21T13:10:45"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ie in AGL we build the various target images as vmdk and pass them to qemu/vmware/virtualbox</td><td class="time"><a href="#t2017-07-21T13:10:45" class="time">13:10</a></td></tr>
<tr id="t2017-07-21T13:11:43"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: pohly: +1 for making vmdk a conversion type.</td><td class="time"><a href="#t2017-07-21T13:11:43" class="time">13:11</a></td></tr>
<tr id="t2017-07-21T13:12:40"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Tartarus: so did we with Ostro. But we didn't want to be limited to images created with the image-vm.bbclass, and therefore introduced the conversion command.</td><td class="time"><a href="#t2017-07-21T13:12:40" class="time">13:12</a></td></tr>
<tr id="t2017-07-21T13:12:58"><td class="action" colspan="2">* RP moves his conversation here</td><td><a href="#t2017-07-21T13:12:58" class="time">13:12</a></td></tr>
<tr id="t2017-07-21T13:13:10"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">It's simply more flexible that way. The conversion is always the same, just the base raw image isn't.</td><td class="time"><a href="#t2017-07-21T13:13:10" class="time">13:13</a></td></tr>
<tr id="t2017-07-21T13:13:26"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">I can see this from both sides. The current approach is rather hardcoded and less flexible and I can see why it could be difficult to use</td><td class="time"><a href="#t2017-07-21T13:13:26" class="time">13:13</a></td></tr>
<tr id="t2017-07-21T13:13:29"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Yeah, I can see how being able to use vmdk as a conversion too is useful</td><td class="time"><a href="#t2017-07-21T13:13:29" class="time">13:13</a></td></tr>
<tr id="t2017-07-21T13:13:53"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Tartarus: also note that you don't need to keep the intermediate raw image if you don't want - the current code already throws it away if its not listed separately in IMAGE_FSTYPES.</td><td class="time"><a href="#t2017-07-21T13:13:53" class="time">13:13</a></td></tr>
<tr id="t2017-07-21T13:14:17"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">pohly: The current code does not throw away hdddirects</td><td class="time"><a href="#t2017-07-21T13:14:17" class="time">13:14</a></td></tr>
<tr id="t2017-07-21T13:14:29"><th class="nick" style="background: #a25555">Chocobo</th><td class="text" style="color: #a25555">Hi all.&nbsp;&nbsp;I am relatively new to Yocto (moving from buildroot).&nbsp;&nbsp;I have a layer (meta-xilinx) that generates a devicetree file with a horrendous name.&nbsp;&nbsp;Is it possible to create another layer that I apply that renames it something more manageable?</td><td class="time"><a href="#t2017-07-21T13:14:29" class="time">13:14</a></td></tr>
<tr id="t2017-07-21T13:14:35"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">(ok, unless something changed somewhat recently, I did this initially vs morty, I'm bad, just testing it a bit now vs master)</td><td class="time"><a href="#t2017-07-21T13:14:35" class="time">13:14</a></td></tr>
<tr id="t2017-07-21T13:14:53"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Tartarus: what I meant is that if you ask for foo.vmdk, the "foo" image will be deleted once foo.vmdk is produced.</td><td class="time"><a href="#t2017-07-21T13:14:53" class="time">13:14</a></td></tr>
<tr id="t2017-07-21T13:15:29"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">pohly: Er, again, unless things changed for pyro/master, we have the foo.ext4 and foo.hdddirects around</td><td class="time"><a href="#t2017-07-21T13:15:29" class="time">13:15</a></td></tr>
<tr id="t2017-07-21T13:15:35"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">but some of the intermediate bits do get nuked</td><td class="time"><a href="#t2017-07-21T13:15:35" class="time">13:15</a></td></tr>
<tr id="t2017-07-21T13:17:02"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Tartarus: I think we are talking about different things. What I have in mind is the solution where image-vm.bbclass is responsible for creating a .hddirect image, and nothing else.</td><td class="time"><a href="#t2017-07-21T13:17:02" class="time">13:17</a></td></tr>
<tr id="t2017-07-21T13:17:24"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Then a conversion commands produces .hddirect.vmdk.</td><td class="time"><a href="#t2017-07-21T13:17:24" class="time">13:17</a></td></tr>
<tr id="t2017-07-21T13:17:49"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">When a user selects IMAGE_FSTYPES = hddirect.vmdk, that's all that will be in the image deploy directory.</td><td class="time"><a href="#t2017-07-21T13:17:49" class="time">13:17</a></td></tr>
<tr id="t2017-07-21T13:18:05"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">pohly: Right.&nbsp;&nbsp;I don't think that's quite the right direction</td><td class="time"><a href="#t2017-07-21T13:18:05" class="time">13:18</a></td></tr>
<tr id="t2017-07-21T13:18:21"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">It's not obvious that users want "hdddirect.foo" to get something for $VM to use</td><td class="time"><a href="#t2017-07-21T13:18:21" class="time">13:18</a></td></tr>
<tr id="t2017-07-21T13:18:31"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">vmdk is a distinct known type</td><td class="time"><a href="#t2017-07-21T13:18:31" class="time">13:18</a></td></tr>
<tr id="t2017-07-21T13:18:54"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">How we implement that under the hood, yes, we need to allow for converting anything, easily, to vmdk/etc</td><td class="time"><a href="#t2017-07-21T13:18:54" class="time">13:18</a></td></tr>
<tr id="t2017-07-21T13:19:08"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">wic.vmdk/wic.qcow2/etc should happen, I agree</td><td class="time"><a href="#t2017-07-21T13:19:08" class="time">13:19</a></td></tr>
<tr id="t2017-07-21T13:19:39"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Tartarus: so you are arguing that IMAGE_FSTYPES = vmdk is a thing (= hddirect converted to vmdk format), and that has to be kept. Right?</td><td class="time"><a href="#t2017-07-21T13:19:39" class="time">13:19</a></td></tr>
<tr id="t2017-07-21T13:19:46"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">pohly: Yes</td><td class="time"><a href="#t2017-07-21T13:19:46" class="time">13:19</a></td></tr>
<tr id="t2017-07-21T13:19:57"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">vmdk/qcow2 are well known types</td><td class="time"><a href="#t2017-07-21T13:19:57" class="time">13:19</a></td></tr>
<tr id="t2017-07-21T13:20:53"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">RP: does this look like something related to those bitbake changes? it's build I haven't run for a while and today it fails with:</td><td class="time"><a href="#t2017-07-21T13:20:53" class="time">13:20</a></td></tr>
<tr id="t2017-07-21T13:20:56"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">ERROR: Failed to spawn fakeroot worker to run /OE/build/owpb/webos-ports/meta-qt5/recipes-qt/qt5/qtxmlpatterns_git.bb:do_install_ptest: [Errno 2] No such file or directory: '/OE/build/owpb/webos-ports/tmp-glibc/sysroots-components/x86_64/pseudo-native/usr/bin/pseudo'</td><td class="time"><a href="#t2017-07-21T13:20:56" class="time">13:20</a></td></tr>
<tr id="t2017-07-21T13:21:09"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">I get your point. I'm just not sure how important it is to preserve that. To me it seems more like an accident how these types were implemented initially.</td><td class="time"><a href="#t2017-07-21T13:21:09" class="time">13:21</a></td></tr>
<tr id="t2017-07-21T13:21:30"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">pohly: I disagree it being an accident</td><td class="time"><a href="#t2017-07-21T13:21:30" class="time">13:21</a></td></tr>
<tr id="t2017-07-21T13:21:41"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">vmdk is an image type</td><td class="time"><a href="#t2017-07-21T13:21:41" class="time">13:21</a></td></tr>
<tr id="t2017-07-21T13:21:46"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Just like ext4 is an image type</td><td class="time"><a href="#t2017-07-21T13:21:46" class="time">13:21</a></td></tr>
<tr id="t2017-07-21T13:21:54"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">These are known quantities outside of the OE world</td><td class="time"><a href="#t2017-07-21T13:21:54" class="time">13:21</a></td></tr>
<tr id="t2017-07-21T13:22:02"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">When was vmdk introduced?</td><td class="time"><a href="#t2017-07-21T13:22:02" class="time">13:22</a></td></tr>
<tr id="t2017-07-21T13:22:10"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">googling</td><td class="time"><a href="#t2017-07-21T13:22:10" class="time">13:22</a></td></tr>
<tr id="t2017-07-21T13:22:20"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">RP: also shouldn't bitbake-cookerdaemon.log be in tmp-glibc/log? or it cannot be inside tmp-glibc?</td><td class="time"><a href="#t2017-07-21T13:22:20" class="time">13:22</a></td></tr>
<tr id="t2017-07-21T13:22:43"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">hmm, wikipedia doesn't say</td><td class="time"><a href="#t2017-07-21T13:22:43" class="time">13:22</a></td></tr>
<tr id="t2017-07-21T13:22:48"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">I mean, in OE-core.</td><td class="time"><a href="#t2017-07-21T13:22:48" class="time">13:22</a></td></tr>
<tr id="t2017-07-21T13:22:59"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">pohly: I think very long time ago</td><td class="time"><a href="#t2017-07-21T13:22:59" class="time">13:22</a></td></tr>
<tr id="t2017-07-21T13:23:02"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">90% sure it predates oe-core</td><td class="time"><a href="#t2017-07-21T13:23:02" class="time">13:23</a></td></tr>
<tr id="t2017-07-21T13:23:03"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">JaMa: good question. I just inherited the memres logging so its actually always been there for memres. Our logging needs a huge overhaul</td><td class="time"><a href="#t2017-07-21T13:23:03" class="time">13:23</a></td></tr>
<tr id="t2017-07-21T13:23:09"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">I know image-vm talks about 2004</td><td class="time"><a href="#t2017-07-21T13:23:09" class="time">13:23</a></td></tr>
<tr id="t2017-07-21T13:23:17"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">But that might have been iso stuff</td><td class="time"><a href="#t2017-07-21T13:23:17" class="time">13:23</a></td></tr>
<tr id="t2017-07-21T13:23:24"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">with the later VM conversions added on top late</td><td class="time"><a href="#t2017-07-21T13:23:24" class="time">13:23</a></td></tr>
<tr id="t2017-07-21T13:23:25"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">r</td><td class="time"><a href="#t2017-07-21T13:23:25" class="time">13:23</a></td></tr>
<tr id="t2017-07-21T13:23:39"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">RP: I'm just asking because I was reading the cooker logs in tmp-glibc/log/cooker/</td><td class="time"><a href="#t2017-07-21T13:23:39" class="time">13:23</a></td></tr>
<tr id="t2017-07-21T13:23:44"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">My problem with a user from outside OE coming and asking for "a vmdk image" is that it's completely underspecified.</td><td class="time"><a href="#t2017-07-21T13:23:44" class="time">13:23</a></td></tr>
<tr id="t2017-07-21T13:23:50"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">What should be inside the image?</td><td class="time"><a href="#t2017-07-21T13:23:50" class="time">13:23</a></td></tr>
<tr id="t2017-07-21T13:24:02"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">pohly: I again disagree</td><td class="time"><a href="#t2017-07-21T13:24:02" class="time">13:24</a></td></tr>
<tr id="t2017-07-21T13:24:16"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">A user coming from outside of OE and asking for a vmdk image of core-image-sato knows exactly what they're asking for</td><td class="time"><a href="#t2017-07-21T13:24:16" class="time">13:24</a></td></tr>
<tr id="t2017-07-21T13:24:30"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus:&nbsp;&nbsp;&lt;image&gt;.hdddirect.vmdk looks more informative than &lt;image&gt;.vmdk to me.</td><td class="time"><a href="#t2017-07-21T13:24:30" class="time">13:24</a></td></tr>
<tr id="t2017-07-21T13:24:32"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">they're expecting a vmdk file they can throw at vmware/etc that will boot up and have core-image-sato running</td><td class="time"><a href="#t2017-07-21T13:24:32" class="time">13:24</a></td></tr>
<tr id="t2017-07-21T13:24:52"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Do they want an image that can install itself?</td><td class="time"><a href="#t2017-07-21T13:24:52" class="time">13:24</a></td></tr>
<tr id="t2017-07-21T13:25:01"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Because that's what they are getting.</td><td class="time"><a href="#t2017-07-21T13:25:01" class="time">13:25</a></td></tr>
<tr id="t2017-07-21T13:25:09"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">What do you mean install itself?</td><td class="time"><a href="#t2017-07-21T13:25:09" class="time">13:25</a></td></tr>
<tr id="t2017-07-21T13:25:15"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Including all the extra baggage that comes with that.</td><td class="time"><a href="#t2017-07-21T13:25:15" class="time">13:25</a></td></tr>
<tr id="t2017-07-21T13:25:32"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">They're getting a disk image that can be used with a virtual machine</td><td class="time"><a href="#t2017-07-21T13:25:32" class="time">13:25</a></td></tr>
<tr id="t2017-07-21T13:25:36"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Tartarus: hddimg includes an enhanced initramfs that can partition disks and copy the rootfs to the new disk.</td><td class="time"><a href="#t2017-07-21T13:25:36" class="time">13:25</a></td></tr>
<tr id="t2017-07-21T13:25:43"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: It's informative in that it's exposing OE internals, yes</td><td class="time"><a href="#t2017-07-21T13:25:43" class="time">13:25</a></td></tr>
<tr id="t2017-07-21T13:25:51"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Tartarus: they get more than that.</td><td class="time"><a href="#t2017-07-21T13:25:51" class="time">13:25</a></td></tr>
<tr id="t2017-07-21T13:25:58"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">If they don't care, fine.</td><td class="time"><a href="#t2017-07-21T13:25:58" class="time">13:25</a></td></tr>
<tr id="t2017-07-21T13:25:59"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">pohly: hddimg != hdddirect</td><td class="time"><a href="#t2017-07-21T13:25:59" class="time">13:25</a></td></tr>
<tr id="t2017-07-21T13:26:24"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">That's another one of the internal things that we should sort out, we have too many ways to say "make a raw disk image"</td><td class="time"><a href="#t2017-07-21T13:26:24" class="time">13:26</a></td></tr>
<tr id="t2017-07-21T13:26:36"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: it's exposing type of the image. This is what pohly is also pointing out to, I believe.</td><td class="time"><a href="#t2017-07-21T13:26:36" class="time">13:26</a></td></tr>
<tr id="t2017-07-21T13:26:59"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: hdddirect.vmdk can be quite different to wic.vmdk</td><td class="time"><a href="#t2017-07-21T13:26:59" class="time">13:26</a></td></tr>
<tr id="t2017-07-21T13:27:21"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: which some users may prefer, btw.</td><td class="time"><a href="#t2017-07-21T13:27:21" class="time">13:27</a></td></tr>
<tr id="t2017-07-21T13:27:46"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: I agree that wic.vmdk should be a thing that's allowed to happen</td><td class="time"><a href="#t2017-07-21T13:27:46" class="time">13:27</a></td></tr>
<tr id="t2017-07-21T13:28:44"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">But I still think that we need to allow for users to just say "I want an image I can throw at my virtual machine" and that internals like "hdddirect" or "hddimg" are not going to lead to a better experience in that regard</td><td class="time"><a href="#t2017-07-21T13:28:44" class="time">13:28</a></td></tr>
<tr id="t2017-07-21T13:28:53"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Tartarus: it's quite possible that I have confused the live image with hdddirect. I've hardly ever used either of them.</td><td class="time"><a href="#t2017-07-21T13:28:53" class="time">13:28</a></td></tr>
<tr id="t2017-07-21T13:28:57"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: My point is that &lt;image type&gt;.vmdk is more flexible and more informative than .vmdk as it gives user a choice of image.</td><td class="time"><a href="#t2017-07-21T13:28:57" class="time">13:28</a></td></tr>
<tr id="t2017-07-21T13:29:21"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: current .vmdk hides underlying type and forces it.</td><td class="time"><a href="#t2017-07-21T13:29:21" class="time">13:29</a></td></tr>
<tr id="t2017-07-21T13:30:15"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Tartarus: anyway, I don't mind keeping "vmdk/vdi/qcow2" around as distinct types. I'm just worried that it'll make the code more complicated - but that remains to be seen.</td><td class="time"><a href="#t2017-07-21T13:30:15" class="time">13:30</a></td></tr>
<tr id="t2017-07-21T13:30:34"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">pohly: I'm attempting to see if we can add a conversion trivially atm</td><td class="time"><a href="#t2017-07-21T13:30:34" class="time">13:30</a></td></tr>
<tr id="t2017-07-21T13:30:47"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: Yes, I agree it does force a certain base type of "disk" onto the user</td><td class="time"><a href="#t2017-07-21T13:30:47" class="time">13:30</a></td></tr>
<tr id="t2017-07-21T13:31:10"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">I also don't think that hdddirect is necessarily the best starting point for such a type. It's mostly legacy code that has been superseeded by wic.</td><td class="time"><a href="#t2017-07-21T13:31:10" class="time">13:31</a></td></tr>
<tr id="t2017-07-21T13:31:36"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">But I need to go now...</td><td class="time"><a href="#t2017-07-21T13:31:36" class="time">13:31</a></td></tr>
<tr id="t2017-07-21T13:33:28"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ok</td><td class="time"><a href="#t2017-07-21T13:33:28" class="time">13:33</a></td></tr>
<tr id="t2017-07-21T13:33:45"><td class="action" colspan="2">* Tartarus fixes thinko, gets to the point of seeing if we can easily have vmdk and wic.vmdk</td><td><a href="#t2017-07-21T13:33:45" class="time">13:33</a></td></tr>
<tr id="t2017-07-21T13:34:06"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Good news is it's not failing early and obvious</td><td class="time"><a href="#t2017-07-21T13:34:06" class="time">13:34</a></td></tr>
<tr id="t2017-07-21T13:34:15"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">bad news I need a few min to build all of the new deps that wic.vmdk is adding in</td><td class="time"><a href="#t2017-07-21T13:34:15" class="time">13:34</a></td></tr>
<tr id="t2017-07-21T13:34:38"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Does wic default to something that supports BIOS rather than EFI?</td><td class="time"><a href="#t2017-07-21T13:34:38" class="time">13:34</a></td></tr>
<tr id="t2017-07-21T13:34:48"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">or at least both?</td><td class="time"><a href="#t2017-07-21T13:34:48" class="time">13:34</a></td></tr>
<tr id="t2017-07-21T13:35:07"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: it depends on which .wks config is used.</td><td class="time"><a href="#t2017-07-21T13:35:07" class="time">13:35</a></td></tr>
<tr id="t2017-07-21T13:35:20"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: it supports both</td><td class="time"><a href="#t2017-07-21T13:35:20" class="time">13:35</a></td></tr>
<tr id="t2017-07-21T13:35:59"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: even both at the same time sometimes</td><td class="time"><a href="#t2017-07-21T13:35:59" class="time">13:35</a></td></tr>
<tr id="t2017-07-21T13:36:28"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: My first hope for an outright "vmdk now is just doing wic.vmdk, really" would be function-for-functionl replacement</td><td class="time"><a href="#t2017-07-21T13:36:28" class="time">13:36</a></td></tr>
<tr id="t2017-07-21T13:36:33"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: it doesn't support initfs directly though, so if you need to load some disk modules it'd not be trivial to do.</td><td class="time"><a href="#t2017-07-21T13:36:33" class="time">13:36</a></td></tr>
<tr id="t2017-07-21T13:36:57"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ie if qemux86-64 is going to spit out a wic.vmdk that still just works on qemu/vmware/virtual box, just as well as it would have before and the user doesn't care, then I don't care :)</td><td class="time"><a href="#t2017-07-21T13:36:57" class="time">13:36</a></td></tr>
<tr id="t2017-07-21T13:37:28"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Otherwise I'd like to go with vmdk does what it does today, and wic.vmdk is now a real thing that exists too</td><td class="time"><a href="#t2017-07-21T13:37:28" class="time">13:37</a></td></tr>
<tr id="t2017-07-21T13:37:33"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">but is not a direct replacement of</td><td class="time"><a href="#t2017-07-21T13:37:33" class="time">13:37</a></td></tr>
<tr id="t2017-07-21T13:38:08"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: I thought hddimg.vmdk is a direct replacement, no?</td><td class="time"><a href="#t2017-07-21T13:38:08" class="time">13:38</a></td></tr>
<tr id="t2017-07-21T13:38:20"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: wic is a different beast.</td><td class="time"><a href="#t2017-07-21T13:38:20" class="time">13:38</a></td></tr>
<tr id="t2017-07-21T13:38:23"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: s/hddimg/hdddirect/ would be</td><td class="time"><a href="#t2017-07-21T13:38:23" class="time">13:38</a></td></tr>
<tr id="t2017-07-21T13:38:34"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">But gets back to exposing pointless details to the end user</td><td class="time"><a href="#t2017-07-21T13:38:34" class="time">13:38</a></td></tr>
<tr id="t2017-07-21T13:38:45"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Nobody knows what hdddirect is</td><td class="time"><a href="#t2017-07-21T13:38:45" class="time">13:38</a></td></tr>
<tr id="t2017-07-21T13:38:47"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: no it's not :)</td><td class="time"><a href="#t2017-07-21T13:38:47" class="time">13:38</a></td></tr>
<tr id="t2017-07-21T13:38:56"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Fine, I'm arguing it's a pointless detail :)</td><td class="time"><a href="#t2017-07-21T13:38:56" class="time">13:38</a></td></tr>
<tr id="t2017-07-21T13:39:04"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: it's a valuable detail from my point of view.</td><td class="time"><a href="#t2017-07-21T13:39:04" class="time">13:39</a></td></tr>
<tr id="t2017-07-21T13:39:28"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: especially when other underlying types support vmdk conversion</td><td class="time"><a href="#t2017-07-21T13:39:28" class="time">13:39</a></td></tr>
<tr id="t2017-07-21T13:39:56"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: the fact that they don't exist yet doesn't make the solution worse</td><td class="time"><a href="#t2017-07-21T13:39:56" class="time">13:39</a></td></tr>
<tr id="t2017-07-21T13:41:08"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: and as a programmer I'd love to see one .bbclass removed and replaced by couple of lines introducing vmdk conversion</td><td class="time"><a href="#t2017-07-21T13:41:08" class="time">13:41</a></td></tr>
<tr id="t2017-07-21T13:42:00"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: however, I udnerstand that it would not be easy to achieve. probably …</td><td class="time"><a href="#t2017-07-21T13:42:00" class="time">13:42</a></td></tr>
<tr id="t2017-07-21T13:42:10"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: Well, lets start with this.&nbsp;&nbsp;What do I need to do, to get core-image-minimal.wic for qemux86-64 to be functionally equivalent to core-image-minimal.vmdk, today?</td><td class="time"><a href="#t2017-07-21T13:42:10" class="time">13:42</a></td></tr>
<tr id="t2017-07-21T13:42:19"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">On just oe-core</td><td class="time"><a href="#t2017-07-21T13:42:19" class="time">13:42</a></td></tr>
<tr id="t2017-07-21T13:42:39"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">(which is why I started this over in #oe ;))</td><td class="time"><a href="#t2017-07-21T13:42:39" class="time">13:42</a></td></tr>
<tr id="t2017-07-21T13:44:09"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: I don't know which functionality is provided by vmdk. What kind of image is it?</td><td class="time"><a href="#t2017-07-21T13:44:09" class="time">13:44</a></td></tr>
<tr id="t2017-07-21T13:45:24"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: It's an at least PCBIOS bootable disk image, with syslinux</td><td class="time"><a href="#t2017-07-21T13:45:24" class="time">13:45</a></td></tr>
<tr id="t2017-07-21T13:45:53"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: how is it different from hddimg?</td><td class="time"><a href="#t2017-07-21T13:45:53" class="time">13:45</a></td></tr>
<tr id="t2017-07-21T13:46:29"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Lets see</td><td class="time"><a href="#t2017-07-21T13:46:29" class="time">13:46</a></td></tr>
<tr id="t2017-07-21T13:47:24"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: It looks like hddimg forces us to shove something into FAT?</td><td class="time"><a href="#t2017-07-21T13:47:24" class="time">13:47</a></td></tr>
<tr id="t2017-07-21T13:47:31"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: I'd start from hddirect.vmdk. It should be easier to make it workin.</td><td class="time"><a href="#t2017-07-21T13:47:31" class="time">13:47</a></td></tr>
<tr id="t2017-07-21T13:47:41"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: hdddirect will have an arbitrary ext4 (default) second partition and fat first partition</td><td class="time"><a href="#t2017-07-21T13:47:41" class="time">13:47</a></td></tr>
<tr id="t2017-07-21T13:47:52"><td class="part" colspan="2">*** csanchezdll &lt;csanchezdll!~user@galileo.kdpof.com&gt; has left #yocto</td><td><a href="#t2017-07-21T13:47:52" class="time">13:47</a></td></tr>
<tr id="t2017-07-21T13:50:06"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: so, if you add conversion types vmdk, gcow and vdi would you be able to build working hddirect.[vmdk, gcow, vdi] image without using image-vm.bbclass ?</td><td class="time"><a href="#t2017-07-21T13:50:06" class="time">13:50</a></td></tr>
<tr id="t2017-07-21T13:50:45"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: No, because image-vm.bbclass is where we have the logic for hdddirect</td><td class="time"><a href="#t2017-07-21T13:50:45" class="time">13:50</a></td></tr>
<tr id="t2017-07-21T13:52:03"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: ah, ok. If you move that logic to image_types_hdddirect.bbclass and add 3 conversion types would it be cleaner solution than current one?</td><td class="time"><a href="#t2017-07-21T13:52:03" class="time">13:52</a></td></tr>
<tr id="t2017-07-21T13:52:18"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: Take a look at the patches I posted please</td><td class="time"><a href="#t2017-07-21T13:52:18" class="time">13:52</a></td></tr>
<tr id="t2017-07-21T13:52:38"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">And then yes, a follow up could be a rename of image-vm to image_types_vm</td><td class="time"><a href="#t2017-07-21T13:52:38" class="time">13:52</a></td></tr>
<tr id="t2017-07-21T13:54:55"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: I did. This is not what I'm talking about.</td><td class="time"><a href="#t2017-07-21T13:54:55" class="time">13:54</a></td></tr>
<tr id="t2017-07-21T13:55:46"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: I'm talking about getting rid of main image types vmdk, gcow, vdi and replacing them with conversion types.</td><td class="time"><a href="#t2017-07-21T13:55:46" class="time">13:55</a></td></tr>
<tr id="t2017-07-21T13:56:01"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: and this is not what your patchset does.</td><td class="time"><a href="#t2017-07-21T13:56:01" class="time">13:56</a></td></tr>
<tr id="t2017-07-21T13:57:10"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">If that is in place the next step would be to look at wic</td><td class="time"><a href="#t2017-07-21T13:57:10" class="time">13:57</a></td></tr>
<tr id="t2017-07-21T13:57:24"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: What my patch does is 90% of that however</td><td class="time"><a href="#t2017-07-21T13:57:24" class="time">13:57</a></td></tr>
<tr id="t2017-07-21T13:57:41"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Since the hard part isn't making vmdk being a conversion type</td><td class="time"><a href="#t2017-07-21T13:57:41" class="time">13:57</a></td></tr>
<tr id="t2017-07-21T13:57:52"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">it's about making it still easy on end users to get what the expect</td><td class="time"><a href="#t2017-07-21T13:57:52" class="time">13:57</a></td></tr>
<tr id="t2017-07-21T13:58:07"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">And if we're lucky we can get dir of hddirect image type. However, I'm not expecting it to be easy. At least for now.</td><td class="time"><a href="#t2017-07-21T13:58:07" class="time">13:58</a></td></tr>
<tr id="t2017-07-21T13:58:20"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: So, lets cycle back to my question</td><td class="time"><a href="#t2017-07-21T13:58:20" class="time">13:58</a></td></tr>
<tr id="t2017-07-21T13:58:27"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">If I build core-image-minimal.wic</td><td class="time"><a href="#t2017-07-21T13:58:27" class="time">13:58</a></td></tr>
<tr id="t2017-07-21T13:58:33"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">For qemux86-64</td><td class="time"><a href="#t2017-07-21T13:58:33" class="time">13:58</a></td></tr>
<tr id="t2017-07-21T13:58:48"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Am I going to get something that'll just run, easily, on qemu/vmware/virtualbox?</td><td class="time"><a href="#t2017-07-21T13:58:48" class="time">13:58</a></td></tr>
<tr id="t2017-07-21T13:59:08"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">yes for qemu</td><td class="time"><a href="#t2017-07-21T13:59:08" class="time">13:59</a></td></tr>
<tr id="t2017-07-21T13:59:20"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">didn't try to run it on vmware/virtualbox</td><td class="time"><a href="#t2017-07-21T13:59:20" class="time">13:59</a></td></tr>
<tr id="t2017-07-21T13:59:35"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">runqemu script supports wic out of the box.</td><td class="time"><a href="#t2017-07-21T13:59:35" class="time">13:59</a></td></tr>
<tr id="t2017-07-21T13:59:54"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Not runqemu so much as users with qemu ;)</td><td class="time"><a href="#t2017-07-21T13:59:54" class="time">13:59</a></td></tr>
<tr id="t2017-07-21T13:59:58"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">But, yes, OK, documentation</td><td class="time"><a href="#t2017-07-21T13:59:58" class="time">13:59</a></td></tr>
<tr id="t2017-07-21T14:01:00"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">runqemu is just a wrapper around qemu I believe</td><td class="time"><a href="#t2017-07-21T14:01:00" class="time">14:01</a></td></tr>
<tr id="t2017-07-21T14:01:48"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Yeah, it buries various bits of logic</td><td class="time"><a href="#t2017-07-21T14:01:48" class="time">14:01</a></td></tr>
<tr id="t2017-07-21T14:02:08"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">But if wic is spitting out a functional disk image, it should just be seen as a raw disk</td><td class="time"><a href="#t2017-07-21T14:02:08" class="time">14:02</a></td></tr>
<tr id="t2017-07-21T14:03:11"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">yes, qemu runs it as a raw disk</td><td class="time"><a href="#t2017-07-21T14:03:11" class="time">14:03</a></td></tr>
<tr id="t2017-07-21T14:04:13"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">OK, seeing what vmware/vbox do with core-image-minimal.wic</td><td class="time"><a href="#t2017-07-21T14:04:13" class="time">14:04</a></td></tr>
<tr id="t2017-07-21T14:04:21"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">And then I'll move forward from that :)</td><td class="time"><a href="#t2017-07-21T14:04:21" class="time">14:04</a></td></tr>
<tr id="t2017-07-21T14:22:01"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: one more thing that I found confusing is that hdddirect seems to be not related to vm. please, correct me if I'm wrong here.</td><td class="time"><a href="#t2017-07-21T14:22:01" class="time">14:22</a></td></tr>
<tr id="t2017-07-21T14:22:30"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: No, it would make more sense as .raw rather than .hdddirect</td><td class="time"><a href="#t2017-07-21T14:22:30" class="time">14:22</a></td></tr>
<tr id="t2017-07-21T14:22:42"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">As it was initially for raw disk images / ISOs</td><td class="time"><a href="#t2017-07-21T14:22:42" class="time">14:22</a></td></tr>
<tr id="t2017-07-21T14:22:48"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">And VM got bolted on ages and ages ago</td><td class="time"><a href="#t2017-07-21T14:22:48" class="time">14:22</a></td></tr>
<tr id="t2017-07-21T14:23:01"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: FWIW, maybe we can just go with .wic.vmdk</td><td class="time"><a href="#t2017-07-21T14:23:01" class="time">14:23</a></td></tr>
<tr id="t2017-07-21T14:23:28"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: exactly. That's why it's underlying image type unlike vmdk, qcov and vdi</td><td class="time"><a href="#t2017-07-21T14:23:28" class="time">14:23</a></td></tr>
<tr id="t2017-07-21T14:23:29"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">I still want to see if we can hide the "wic" part to normal users in some ways</td><td class="time"><a href="#t2017-07-21T14:23:29" class="time">14:23</a></td></tr>
<tr id="t2017-07-21T14:24:10"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">My tester is reminding me that he wouldn't have any clue what wic means, were it not for some other JIRA issues he's been reading over of late</td><td class="time"><a href="#t2017-07-21T14:24:10" class="time">14:24</a></td></tr>
<tr id="t2017-07-21T14:25:14"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: we shouldn't hide it :) It gives user opportunity to tweak it using different .wks entries: have more partitions, support EFI, use different filesystems etc.</td><td class="time"><a href="#t2017-07-21T14:25:14" class="time">14:25</a></td></tr>
<tr id="t2017-07-21T14:25:51"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: IMAGE_FSTYPES += "wic.vmdk.xz" is not user friendly</td><td class="time"><a href="#t2017-07-21T14:25:51" class="time">14:25</a></td></tr>
<tr id="t2017-07-21T14:26:19"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">What is wic?</td><td class="time"><a href="#t2017-07-21T14:26:19" class="time">14:26</a></td></tr>
<tr id="t2017-07-21T14:26:31"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: why not? Pretty clear explains what's inside.</td><td class="time"><a href="#t2017-07-21T14:26:31" class="time">14:26</a></td></tr>
<tr id="t2017-07-21T14:26:56"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">To OE people, sure</td><td class="time"><a href="#t2017-07-21T14:26:56" class="time">14:26</a></td></tr>
<tr id="t2017-07-21T14:27:50"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: for oe users as well. for external users you can rename it if you want.</td><td class="time"><a href="#t2017-07-21T14:27:50" class="time">14:27</a></td></tr>
<tr id="t2017-07-21T14:28:34"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: directdisk or hdddisk are not very self-explanatory too, btw.</td><td class="time"><a href="#t2017-07-21T14:28:34" class="time">14:28</a></td></tr>
<tr id="t2017-07-21T14:28:57"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Agreed</td><td class="time"><a href="#t2017-07-21T14:28:57" class="time">14:28</a></td></tr>
<tr id="t2017-07-21T14:28:59"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">raw would be</td><td class="time"><a href="#t2017-07-21T14:28:59" class="time">14:28</a></td></tr>
<tr id="t2017-07-21T14:29:35"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: vmdk is just an image format. it doesn't tell anything about the structure or content of the image.</td><td class="time"><a href="#t2017-07-21T14:29:35" class="time">14:29</a></td></tr>
<tr id="t2017-07-21T14:30:08"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: I fear we're just going to go round and round on that part</td><td class="time"><a href="#t2017-07-21T14:30:08" class="time">14:30</a></td></tr>
<tr id="t2017-07-21T14:30:33"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">"core-image-minimal.vmdk" tells the user what they expect to know, "core-image-minimal.wic.vmdk" tells the user more or less the same thing</td><td class="time"><a href="#t2017-07-21T14:30:33" class="time">14:30</a></td></tr>
<tr id="t2017-07-21T14:30:42"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">except some people will know what wic means and some will not</td><td class="time"><a href="#t2017-07-21T14:30:42" class="time">14:30</a></td></tr>
<tr id="t2017-07-21T14:30:45"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: yes, agree. I think we've got each other points, jus don't agree. That's ok.</td><td class="time"><a href="#t2017-07-21T14:30:45" class="time">14:30</a></td></tr>
<tr id="t2017-07-21T14:30:55"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">For the moment I'm going to see why I have wic.vmdk spitting out</td><td class="time"><a href="#t2017-07-21T14:30:55" class="time">14:30</a></td></tr>
<tr id="t2017-07-21T14:30:58"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">but nto wic.vmdk.xz</td><td class="time"><a href="#t2017-07-21T14:30:58" class="time">14:30</a></td></tr>
<tr id="t2017-07-21T14:32:27"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: raw doesn't tell much about image structure(partitions, filesystems), btw.</td><td class="time"><a href="#t2017-07-21T14:32:27" class="time">14:32</a></td></tr>
<tr id="t2017-07-21T14:32:44"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: No, but it says it's a raw image :)</td><td class="time"><a href="#t2017-07-21T14:32:44" class="time">14:32</a></td></tr>
<tr id="t2017-07-21T14:33:14"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">raw disk image, people know that it's a raw disk image to poke at using usual tools</td><td class="time"><a href="#t2017-07-21T14:33:14" class="time">14:33</a></td></tr>
<tr id="t2017-07-21T14:33:40"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">grrr</td><td class="time"><a href="#t2017-07-21T14:33:40" class="time">14:33</a></td></tr>
<tr id="t2017-07-21T14:33:50"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">We are allowed normally to stack conversion/compression types, yes?</td><td class="time"><a href="#t2017-07-21T14:33:50" class="time">14:33</a></td></tr>
<tr id="t2017-07-21T14:33:56"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: yep, and pretty much can be called raw image. It doesn't matter if it's partitioned or not, has efi or syslinux, ext4 or btrfs partitions.</td><td class="time"><a href="#t2017-07-21T14:33:56" class="time">14:33</a></td></tr>
<tr id="t2017-07-21T14:34:27"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: yes, it's allowed to chain conversion types.</td><td class="time"><a href="#t2017-07-21T14:34:27" class="time">14:34</a></td></tr>
<tr id="t2017-07-21T14:34:56"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ok</td><td class="time"><a href="#t2017-07-21T14:34:56" class="time">14:34</a></td></tr>
<tr id="t2017-07-21T14:34:57"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">hmm</td><td class="time"><a href="#t2017-07-21T14:34:57" class="time">14:34</a></td></tr>
<tr id="t2017-07-21T14:35:04"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: raw doesn't tell user if the image contains installer either.</td><td class="time"><a href="#t2017-07-21T14:35:04" class="time">14:35</a></td></tr>
<tr id="t2017-07-21T14:35:22"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: No, image name should be telling the user if it's something that installs</td><td class="time"><a href="#t2017-07-21T14:35:22" class="time">14:35</a></td></tr>
<tr id="t2017-07-21T14:35:35"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Since that's extremely image context dependent</td><td class="time"><a href="#t2017-07-21T14:35:35" class="time">14:35</a></td></tr>
<tr id="t2017-07-21T14:36:40"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: it should, but it doesn't. core-mage-minimal only tells you about rootfs content.</td><td class="time"><a href="#t2017-07-21T14:36:40" class="time">14:36</a></td></tr>
<tr id="t2017-07-21T14:36:51"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Right</td><td class="time"><a href="#t2017-07-21T14:36:51" class="time">14:36</a></td></tr>
<tr id="t2017-07-21T14:37:01"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Or maybe let me try a different path</td><td class="time"><a href="#t2017-07-21T14:37:01" class="time">14:37</a></td></tr>
<tr id="t2017-07-21T14:37:26"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Why would images be able to "install" unless someone was very explicit about that being a use case they had?</td><td class="time"><a href="#t2017-07-21T14:37:26" class="time">14:37</a></td></tr>
<tr id="t2017-07-21T14:37:44"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">I'd be quite unhappy if suddenly my images could "install"</td><td class="time"><a href="#t2017-07-21T14:37:44" class="time">14:37</a></td></tr>
<tr id="t2017-07-21T14:37:59"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">when that's not anything I want them to be anywhere near as that's nonsense</td><td class="time"><a href="#t2017-07-21T14:37:59" class="time">14:37</a></td></tr>
<tr id="t2017-07-21T14:41:39"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: No, I'm not seeing arbitrary stacking</td><td class="time"><a href="#t2017-07-21T14:41:39" class="time">14:41</a></td></tr>
<tr id="t2017-07-21T14:42:21"><td class="action" colspan="2">* Tartarus pokes stuff harder to see whats up</td><td><a href="#t2017-07-21T14:42:21" class="time">14:42</a></td></tr>
<tr id="t2017-07-21T14:43:19"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: sorry, I don't follow. arbitrary stacking of what?</td><td class="time"><a href="#t2017-07-21T14:43:19" class="time">14:43</a></td></tr>
<tr id="t2017-07-21T14:43:31"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: Compression / conversion</td><td class="time"><a href="#t2017-07-21T14:43:31" class="time">14:43</a></td></tr>
<tr id="t2017-07-21T14:43:38"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ie I can't do ext3.gz.bz2</td><td class="time"><a href="#t2017-07-21T14:43:38" class="time">14:43</a></td></tr>
<tr id="t2017-07-21T14:43:41"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Nor wic.vmdk.xz</td><td class="time"><a href="#t2017-07-21T14:43:41" class="time">14:43</a></td></tr>
<tr id="t2017-07-21T14:44:00"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: looks like a bug to me.</td><td class="time"><a href="#t2017-07-21T14:44:00" class="time">14:44</a></td></tr>
<tr id="t2017-07-21T14:46:25"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: I remember pohly implemented it some time ago.</td><td class="time"><a href="#t2017-07-21T14:46:25" class="time">14:46</a></td></tr>
<tr id="t2017-07-21T14:46:52"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">pohly: back yet?</td><td class="time"><a href="#t2017-07-21T14:46:52" class="time">14:46</a></td></tr>
<tr id="t2017-07-21T14:47:28"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: just tried to build wic.gz.xz and it built only wic. Looks like it either didn't build compressed types or removed them.</td><td class="time"><a href="#t2017-07-21T14:47:28" class="time">14:47</a></td></tr>
<tr id="t2017-07-21T14:47:59"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Yeah, I don't think it's building them even :(</td><td class="time"><a href="#t2017-07-21T14:47:59" class="time">14:47</a></td></tr>
<tr id="t2017-07-21T14:48:07"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">When did this work last roughly?</td><td class="time"><a href="#t2017-07-21T14:48:07" class="time">14:48</a></td></tr>
<tr id="t2017-07-21T14:51:18"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">hard to say. I only saw it implemented. Didn't test it.</td><td class="time"><a href="#t2017-07-21T14:51:18" class="time">14:51</a></td></tr>
<tr id="t2017-07-21T14:53:40"><td class="part" colspan="2">*** prabhakarlad &lt;prabhakarlad!~prabhakar@194.75.40.178&gt; has left #yocto</td><td><a href="#t2017-07-21T14:53:40" class="time">14:53</a></td></tr>
<tr id="t2017-07-21T14:55:14"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">OK, fun times :)</td><td class="time"><a href="#t2017-07-21T14:55:14" class="time">14:55</a></td></tr>
<tr id="t2017-07-21T14:55:20"><td class="action" colspan="2">* Tartarus prepares to kick things around</td><td><a href="#t2017-07-21T14:55:20" class="time">14:55</a></td></tr>
<tr id="t2017-07-21T14:55:37"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2, was it in 2017 or 2016? :)</td><td class="time"><a href="#t2017-07-21T14:55:37" class="time">14:55</a></td></tr>
<tr id="t2017-07-21T15:01:14"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: commit ba57ba1942546045907a7e1831515ad2da420ab2</td><td class="time"><a href="#t2017-07-21T15:01:14" class="time">15:01</a></td></tr>
<tr id="t2017-07-21T15:01:14"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Author: Patrick Ohly &lt;patrick.ohly@intel.com&gt;</td><td class="time"><a href="#t2017-07-21T15:01:14" class="time">15:01</a></td></tr>
<tr id="t2017-07-21T15:01:14"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Date:&nbsp;&nbsp; Mon Mar 7 15:51:14 2016 +0100</td><td class="time"><a href="#t2017-07-21T15:01:14" class="time">15:01</a></td></tr>
<tr id="t2017-07-21T15:01:14"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">&nbsp;&nbsp;&nbsp;&nbsp;image.bbclass: support chaining compression (aka conversion) commands</td><td class="time"><a href="#t2017-07-21T15:01:14" class="time">15:01</a></td></tr>
<tr id="t2017-07-21T15:02:42"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">ed2, Tartarus: it definitely used to work. But I've not been involved in further changes to the code, so I can't say anything about the current state of affairs.</td><td class="time"><a href="#t2017-07-21T15:02:42" class="time">15:02</a></td></tr>
<tr id="t2017-07-21T15:03:01"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Ug, ok</td><td class="time"><a href="#t2017-07-21T15:03:01" class="time">15:03</a></td></tr>
<tr id="t2017-07-21T15:03:10"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">what bitbake version do I even need for that</td><td class="time"><a href="#t2017-07-21T15:03:10" class="time">15:03</a></td></tr>
<tr id="t2017-07-21T15:03:38"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Double ugh, lemme grab a yocto..</td><td class="time"><a href="#t2017-07-21T15:03:38" class="time">15:03</a></td></tr>
<tr id="t2017-07-21T15:03:38"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">pohly: some tests would ensure it works, I believe :)</td><td class="time"><a href="#t2017-07-21T15:03:38" class="time">15:03</a></td></tr>
<tr id="t2017-07-21T15:04:16"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: you don't need to grab a Yocto just for that.</td><td class="time"><a href="#t2017-07-21T15:04:16" class="time">15:04</a></td></tr>
<tr id="t2017-07-21T15:04:26"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: Yeah, found oe core rev</td><td class="time"><a href="#t2017-07-21T15:04:26" class="time">15:04</a></td></tr>
<tr id="t2017-07-21T15:04:27"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">ed2: I've learned about oe-selftest only later... but yeah, some tests would be needed.</td><td class="time"><a href="#t2017-07-21T15:04:27" class="time">15:04</a></td></tr>
<tr id="t2017-07-21T15:04:42"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: git log |grep "support chaining compression"</td><td class="time"><a href="#t2017-07-21T15:04:42" class="time">15:04</a></td></tr>
<tr id="t2017-07-21T15:04:46"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">I've heard rumors of a QA team adding tests after developers have implemented features...</td><td class="time"><a href="#t2017-07-21T15:04:46" class="time">15:04</a></td></tr>
<tr id="t2017-07-21T15:05:01"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">... but I guess it's better to not rely&nbsp;&nbsp;on that.</td><td class="time"><a href="#t2017-07-21T15:05:01" class="time">15:05</a></td></tr>
<tr id="t2017-07-21T15:05:55"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">OK, found an old bitbake version</td><td class="time"><a href="#t2017-07-21T15:05:55" class="time">15:05</a></td></tr>
<tr id="t2017-07-21T15:06:58"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: just file a bug. You don't need this right now. wic.vmdk would work if you define vmdk conversion.</td><td class="time"><a href="#t2017-07-21T15:06:58" class="time">15:06</a></td></tr>
<tr id="t2017-07-21T15:07:01"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">confirming it did work then, then let the bisect begin</td><td class="time"><a href="#t2017-07-21T15:07:01" class="time">15:07</a></td></tr>
<tr id="t2017-07-21T15:07:12"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: I need compressed vmdk upstream</td><td class="time"><a href="#t2017-07-21T15:07:12" class="time">15:07</a></td></tr>
<tr id="t2017-07-21T15:08:19"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: Do you have any hints on where to poke things to have wic change from passing root=/dev/sda2 to passing root=PARTUUID=${@generated_disk_signature()} or there-abouts ?</td><td class="time"><a href="#t2017-07-21T15:08:19" class="time">15:08</a></td></tr>
<tr id="t2017-07-21T15:08:33"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">That's that other thing to make these images easily passable between VMs</td><td class="time"><a href="#t2017-07-21T15:08:33" class="time">15:08</a></td></tr>
<tr id="t2017-07-21T15:11:24"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: <a href="http://lists.openembedded.org/pipermail/openembedded-core/2015-June/105759.html" rel="nofollow">http://lists.openembedded.org/pipermail/openembedded-core/2015-June/105759.html</a></td><td class="time"><a href="#t2017-07-21T15:11:24" class="time">15:11</a></td></tr>
<tr id="t2017-07-21T15:11:57"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: ... OK, and then to make that be the default used for a board?</td><td class="time"><a href="#t2017-07-21T15:11:57" class="time">15:11</a></td></tr>
<tr id="t2017-07-21T15:12:28"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: it depens on the board/machine.</td><td class="time"><a href="#t2017-07-21T15:12:28" class="time">15:12</a></td></tr>
<tr id="t2017-07-21T15:12:47"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: Well, the default seems to be sda2</td><td class="time"><a href="#t2017-07-21T15:12:47" class="time">15:12</a></td></tr>
<tr id="t2017-07-21T15:12:58"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Based on what's coming up as waiting for ..., when testing these wic images in VMs</td><td class="time"><a href="#t2017-07-21T15:12:58" class="time">15:12</a></td></tr>
<tr id="t2017-07-21T15:13:16"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Ugh</td><td class="time"><a href="#t2017-07-21T15:13:16" class="time">15:13</a></td></tr>
<tr id="t2017-07-21T15:13:17"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">I see</td><td class="time"><a href="#t2017-07-21T15:13:17" class="time">15:13</a></td></tr>
<tr id="t2017-07-21T15:13:28"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: it's specified in wks. here is an example: <a href="http://lists.openembedded.org/pipermail/openembedded-core/2016-October/127948.html" rel="nofollow">http://lists.openembedded.org/pipermail/openembedded-core/2016-October/127948.html</a></td><td class="time"><a href="#t2017-07-21T15:13:28" class="time">15:13</a></td></tr>
<tr id="t2017-07-21T15:13:31"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: Is there a reason we're not defaulting to PARTUUID for these canned things?</td><td class="time"><a href="#t2017-07-21T15:13:31" class="time">15:13</a></td></tr>
<tr id="t2017-07-21T15:13:52"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">scripts/lib/wic/canned-wks/directdisk-bootloader-config.cfg and scripts/lib/wic/canned-wks/qemux86-directdisk.wks</td><td class="time"><a href="#t2017-07-21T15:13:52" class="time">15:13</a></td></tr>
<tr id="t2017-07-21T15:13:57"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">shouldn't default to sda</td><td class="time"><a href="#t2017-07-21T15:13:57" class="time">15:13</a></td></tr>
<tr id="t2017-07-21T15:15:16"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">well 1st thing is legacy. 2nd - I prefer to have wic configs in layers as there you can be more specific with its content.</td><td class="time"><a href="#t2017-07-21T15:15:16" class="time">15:15</a></td></tr>
<tr id="t2017-07-21T15:15:46"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">3rd - directdisk is not efi image. it uses mbr and partuuids for mbr are a bit unusual.</td><td class="time"><a href="#t2017-07-21T15:15:46" class="time">15:15</a></td></tr>
<tr id="t2017-07-21T15:16:04"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: Legacy what?</td><td class="time"><a href="#t2017-07-21T15:16:04" class="time">15:16</a></td></tr>
<tr id="t2017-07-21T15:16:16"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Everything as PARTUUID</td><td class="time"><a href="#t2017-07-21T15:16:16" class="time">15:16</a></td></tr>
<tr id="t2017-07-21T15:16:20"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">s/as/has/</td><td class="time"><a href="#t2017-07-21T15:16:20" class="time">15:16</a></td></tr>
<tr id="t2017-07-21T15:16:35"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">MBR ones are just not awesome ones</td><td class="time"><a href="#t2017-07-21T15:16:35" class="time">15:16</a></td></tr>
<tr id="t2017-07-21T15:16:38"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">But they're valid</td><td class="time"><a href="#t2017-07-21T15:16:38" class="time">15:16</a></td></tr>
<tr id="t2017-07-21T15:17:16"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">meta/classes/image-vm.bbclass even makes better-than-normal ones for MBR</td><td class="time"><a href="#t2017-07-21T15:17:16" class="time">15:17</a></td></tr>
<tr id="t2017-07-21T15:18:39"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: wic also supports them. I was just afraid of adding them to canned wks as they're widely used.</td><td class="time"><a href="#t2017-07-21T15:18:39" class="time">15:18</a></td></tr>
<tr id="t2017-07-21T15:18:58"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: PARTUUID is part of the kernel, has been for forever</td><td class="time"><a href="#t2017-07-21T15:18:58" class="time">15:18</a></td></tr>
<tr id="t2017-07-21T15:19:03"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">someone asked me about this here couple of months ago.</td><td class="time"><a href="#t2017-07-21T15:19:03" class="time">15:19</a></td></tr>
<tr id="t2017-07-21T15:19:05"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">uuid does sound a like a hell of a lot better default</td><td class="time"><a href="#t2017-07-21T15:19:05" class="time">15:19</a></td></tr>
<tr id="t2017-07-21T15:19:12"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">That's why we use them by default in U-Boot whenever we can</td><td class="time"><a href="#t2017-07-21T15:19:12" class="time">15:19</a></td></tr>
<tr id="t2017-07-21T15:19:16"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Can't rely on kernel ordering</td><td class="time"><a href="#t2017-07-21T15:19:16" class="time">15:19</a></td></tr>
<tr id="t2017-07-21T15:19:24"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">and promised to send a patch :)</td><td class="time"><a href="#t2017-07-21T15:19:24" class="time">15:19</a></td></tr>
<tr id="t2017-07-21T15:19:26"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">can't rely on sdX vs hdX</td><td class="time"><a href="#t2017-07-21T15:19:26" class="time">15:19</a></td></tr>
<tr id="t2017-07-21T15:19:45"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">refkit-image-common-intel-corei7-64-20170721150939.wic.xz was just created fine for me.</td><td class="time"><a href="#t2017-07-21T15:19:45" class="time">15:19</a></td></tr>
<tr id="t2017-07-21T15:19:46"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: So where would I need to start kicking things to move those to use --use-uuid by default?</td><td class="time"><a href="#t2017-07-21T15:19:46" class="time">15:19</a></td></tr>
<tr id="t2017-07-21T15:19:56"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">pohly: Yes, but that's not stacking</td><td class="time"><a href="#t2017-07-21T15:19:56" class="time">15:19</a></td></tr>
<tr id="t2017-07-21T15:20:03"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">pohly: wic.gz.xz will fail</td><td class="time"><a href="#t2017-07-21T15:20:03" class="time">15:20</a></td></tr>
<tr id="t2017-07-21T15:20:06"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">pohly: wic.xz is using one conversion type</td><td class="time"><a href="#t2017-07-21T15:20:06" class="time">15:20</a></td></tr>
<tr id="t2017-07-21T15:20:13"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Okay, just one level. Right, you wanted more.</td><td class="time"><a href="#t2017-07-21T15:20:13" class="time">15:20</a></td></tr>
<tr id="t2017-07-21T15:20:14"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">pohly: We got there since it's "trivial" to get wic.vmdk going</td><td class="time"><a href="#t2017-07-21T15:20:14" class="time">15:20</a></td></tr>
<tr id="t2017-07-21T15:20:21"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">with vmdk as conversion typ</td><td class="time"><a href="#t2017-07-21T15:20:21" class="time">15:20</a></td></tr>
<tr id="t2017-07-21T15:20:21"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">e</td><td class="time"><a href="#t2017-07-21T15:20:21" class="time">15:20</a></td></tr>
<tr id="t2017-07-21T15:20:47"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">i kind of hate IMAGE_CMD and all of that, the use of bitbake variables is a bit silly, we should have just used shell functions that accept arguments</td><td class="time"><a href="#t2017-07-21T15:20:47" class="time">15:20</a></td></tr>
<tr id="t2017-07-21T15:20:54"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">&lt;/random complaint&gt;</td><td class="time"><a href="#t2017-07-21T15:20:54" class="time">15:20</a></td></tr>
<tr id="t2017-07-21T15:21:40"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: if you think this change is harmless - just send a patch. if you want to be careful you can start from discussing it on architecture mailing list and then send a patch.</td><td class="time"><a href="#t2017-07-21T15:21:40" class="time">15:21</a></td></tr>
<tr id="t2017-07-21T15:22:07"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: Patch to what?&nbsp;&nbsp;root=/dev/sda2 is in a bunch of places</td><td class="time"><a href="#t2017-07-21T15:22:07" class="time">15:22</a></td></tr>
<tr id="t2017-07-21T15:22:11"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Do I just need to drop those?</td><td class="time"><a href="#t2017-07-21T15:22:11" class="time">15:22</a></td></tr>
<tr id="t2017-07-21T15:22:39"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">It's jsut automatic insertion?</td><td class="time"><a href="#t2017-07-21T15:22:39" class="time">15:22</a></td></tr>
<tr id="t2017-07-21T15:23:16"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">it's automatic as far as I remember. just use —use-uuid for root</td><td class="time"><a href="#t2017-07-21T15:23:16" class="time">15:23</a></td></tr>
<tr id="t2017-07-21T15:23:26"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">for root partition</td><td class="time"><a href="#t2017-07-21T15:23:26" class="time">15:23</a></td></tr>
<tr id="t2017-07-21T15:23:28"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Right-o</td><td class="time"><a href="#t2017-07-21T15:23:28" class="time">15:23</a></td></tr>
<tr id="t2017-07-21T15:23:56"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">Indeed, wic.xz.sha1sum no longer works.</td><td class="time"><a href="#t2017-07-21T15:23:56" class="time">15:23</a></td></tr>
<tr id="t2017-07-21T15:24:05"><th class="nick" style="background: #407a40">pohly</th><td class="text" style="color: #407a40">ed2: are you going to file a bug?</td><td class="time"><a href="#t2017-07-21T15:24:05" class="time">15:24</a></td></tr>
<tr id="t2017-07-21T15:25:41"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">pohly: I proposed Tartarus to do that :)</td><td class="time"><a href="#t2017-07-21T15:25:41" class="time">15:25</a></td></tr>
<tr id="t2017-07-21T15:25:51"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: can you?</td><td class="time"><a href="#t2017-07-21T15:25:51" class="time">15:25</a></td></tr>
<tr id="t2017-07-21T15:25:54"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">I'm attempting a bisect atm</td><td class="time"><a href="#t2017-07-21T15:25:54" class="time">15:25</a></td></tr>
<tr id="t2017-07-21T15:27:50"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: —ondisk=sda should be removed as well. it's not mandatory, but less confusing.</td><td class="time"><a href="#t2017-07-21T15:27:50" class="time">15:27</a></td></tr>
<tr id="t2017-07-21T15:28:06"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ok</td><td class="time"><a href="#t2017-07-21T15:28:06" class="time">15:28</a></td></tr>
<tr id="t2017-07-21T15:29:00"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: did you try if wic.vmdk is functional under vmware?</td><td class="time"><a href="#t2017-07-21T15:29:00" class="time">15:29</a></td></tr>
<tr id="t2017-07-21T15:29:17"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: Yes, wic.vmdk functioned, aside from root= 'issues'</td><td class="time"><a href="#t2017-07-21T15:29:17" class="time">15:29</a></td></tr>
<tr id="t2017-07-21T15:29:26"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">as in, need to make sure to pass the right bits so it shows up as scsi</td><td class="time"><a href="#t2017-07-21T15:29:26" class="time">15:29</a></td></tr>
<tr id="t2017-07-21T15:30:05"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: that's what I expected. you'd need initfs for ide drivers or include them into kernel.</td><td class="time"><a href="#t2017-07-21T15:30:05" class="time">15:30</a></td></tr>
<tr id="t2017-07-21T15:30:40"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: how does it work with current .vmdk images? does they work for all disk drive types?</td><td class="time"><a href="#t2017-07-21T15:30:40" class="time">15:30</a></td></tr>
<tr id="t2017-07-21T15:30:42"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: Kernel should be as functional as ever</td><td class="time"><a href="#t2017-07-21T15:30:42" class="time">15:30</a></td></tr>
<tr id="t2017-07-21T15:30:58"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: They 'just work', once the PARTUUID bit is passed in</td><td class="time"><a href="#t2017-07-21T15:30:58" class="time">15:30</a></td></tr>
<tr id="t2017-07-21T15:31:05"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">my coworker with the setup is helping his MIL atm</td><td class="time"><a href="#t2017-07-21T15:31:05" class="time">15:31</a></td></tr>
<tr id="t2017-07-21T15:32:13"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">Tartarus: hm, intersting. Someone told me that only scsi disk drive is supported. I didn't try it myself though.</td><td class="time"><a href="#t2017-07-21T15:32:13" class="time">15:32</a></td></tr>
<tr id="t2017-07-21T15:32:29"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ed2: Yes, I think that's part of the fun</td><td class="time"><a href="#t2017-07-21T15:32:29" class="time">15:32</a></td></tr>
<tr id="t2017-07-21T15:49:18"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2017-07-21T15:49:18" class="time">15:49</a></td></tr>
<tr id="t2017-07-21T15:59:59"><th class="nick" style="background: #adad5b">halstead</th><td class="text" style="color: #adad5b">Starting maintenance on main AB.</td><td class="time"><a href="#t2017-07-21T15:59:59" class="time">15:59</a></td></tr>
<tr id="t2017-07-21T16:21:39"><th class="nick" style="background: #adad5b">halstead</th><td class="text" style="color: #adad5b">Main AB ready for use.</td><td class="time"><a href="#t2017-07-21T16:21:39" class="time">16:21</a></td></tr>
<tr id="t2017-07-21T16:24:30"><th class="nick" style="background: #b15db1">clown_</th><td class="text" style="color: #b15db1">Can't see why in meta-qt5 layer qtchooser is not native ant thus doesn't populate sysroot with /usr/bin/*. Anyone, what I'm missing?</td><td class="time"><a href="#t2017-07-21T16:24:30" class="time">16:24</a></td></tr>
<tr id="t2017-07-21T16:30:27"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Wow, been broken for a long time it looks like :(</td><td class="time"><a href="#t2017-07-21T16:30:27" class="time">16:30</a></td></tr>
<tr id="t2017-07-21T16:30:29"><td class="action" colspan="2">* Tartarus continues the bisect</td><td><a href="#t2017-07-21T16:30:29" class="time">16:30</a></td></tr>
<tr id="t2017-07-21T16:31:35"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">clown_: per recipe sysroot unfun and you're missing DEPENDS ?</td><td class="time"><a href="#t2017-07-21T16:31:35" class="time">16:31</a></td></tr>
<tr id="t2017-07-21T16:32:27"><td class="action" colspan="2">* Tartarus gets on with zucchini bread making, idly wonders where the (ex)Mentor folks are that would appreciate bread talk</td><td><a href="#t2017-07-21T16:32:27" class="time">16:32</a></td></tr>
<tr id="t2017-07-21T16:38:36"><th class="nick" style="background: #b15db1">clown_</th><td class="text" style="color: #b15db1">Tartarus: I have DEPENDS on qtchooser. But qchooser:do_populate_sysroot don't care about /usr/bin at all. Do you think it's a bug, or I'm wearing a shoe on my head?</td><td class="time"><a href="#t2017-07-21T16:38:36" class="time">16:38</a></td></tr>
<tr id="t2017-07-21T16:40:41"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">clown_: DEPENDS += qtchoser-native ?</td><td class="time"><a href="#t2017-07-21T16:40:41" class="time">16:40</a></td></tr>
<tr id="t2017-07-21T16:43:41"><th class="nick" style="background: #b15db1">clown_</th><td class="text" style="color: #b15db1">Tartarus: ...and a complimentary qtchooser-native.bbappend, I recon?</td><td class="time"><a href="#t2017-07-21T16:43:41" class="time">16:43</a></td></tr>
<tr id="t2017-07-21T16:43:56"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">errr</td><td class="time"><a href="#t2017-07-21T16:43:56" class="time">16:43</a></td></tr>
<tr id="t2017-07-21T16:44:20"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">qtchooser_...bb should BBCLASSEXTENDS native or whatever the right syntax is</td><td class="time"><a href="#t2017-07-21T16:44:20" class="time">16:44</a></td></tr>
<tr id="t2017-07-21T16:44:41"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">And if some qt5 class doesn't already say you DEPENDS on qtchooser-native</td><td class="time"><a href="#t2017-07-21T16:44:41" class="time">16:44</a></td></tr>
<tr id="t2017-07-21T16:44:43"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Your recipe should</td><td class="time"><a href="#t2017-07-21T16:44:43" class="time">16:44</a></td></tr>
<tr id="t2017-07-21T16:44:50"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">I don't do qt enough to know if that's a common tool or not, sorry</td><td class="time"><a href="#t2017-07-21T16:44:50" class="time">16:44</a></td></tr>
<tr id="t2017-07-21T16:46:14"><th class="nick" style="background: #b15db1">clown_</th><td class="text" style="color: #b15db1">Tartarus: yes, that was the original issue. qtchooser does not BBCLASSEXTEND native. Ignore any garbage I said after that</td><td class="time"><a href="#t2017-07-21T16:46:14" class="time">16:46</a></td></tr>
<tr id="t2017-07-21T16:46:48"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">ah, kk :)</td><td class="time"><a href="#t2017-07-21T16:46:48" class="time">16:46</a></td></tr>
<tr id="t2017-07-21T19:06:32"><th class="nick" style="background: #5fb4b4">garbados</th><td class="text" style="color: #5fb4b4">hello! i'm having issues with 'testimage'. i've added 'INHERIT += testimage' to conf/local.conf, among other test-related options, and run `bitbake core-image-sato-sdk -c testimage -v` which yields an error that asks `Have you built the image with INHERIT+="testimage" in the conf/local.conf?`</td><td class="time"><a href="#t2017-07-21T19:06:32" class="time">19:06</a></td></tr>
<tr id="t2017-07-21T19:06:53"><th class="nick" style="background: #5fb4b4">garbados</th><td class="text" style="color: #5fb4b4">since 'INHERIT += testimage' is indeed in conf/local.conf, i don't know how to interpret or act on the error message</td><td class="time"><a href="#t2017-07-21T19:06:53" class="time">19:06</a></td></tr>
<tr id="t2017-07-21T19:16:09"><th class="nick" style="background: #b86161">clsulliv</th><td class="text" style="color: #b86161">garbados: make sure core-image-sato-sdk has been built already, so no -c testimage</td><td class="time"><a href="#t2017-07-21T19:16:09" class="time">19:16</a></td></tr>
<tr id="t2017-07-21T19:16:23"><th class="nick" style="background: #b86161">clsulliv</th><td class="text" style="color: #b86161">garbados: with 'INHERIT += testimage'&nbsp;&nbsp;still in local.conf</td><td class="time"><a href="#t2017-07-21T19:16:23" class="time">19:16</a></td></tr>
<tr id="t2017-07-21T19:17:13"><th class="nick" style="background: #5fb4b4">garbados</th><td class="text" style="color: #5fb4b4">clsulliv, thanks, i'll try that :)</td><td class="time"><a href="#t2017-07-21T19:17:13" class="time">19:17</a></td></tr>
<tr id="t2017-07-21T19:25:35"><td class="part" colspan="2">*** jwessel &lt;jwessel!~jwessel@128.224.252.2&gt; has left #yocto</td><td><a href="#t2017-07-21T19:25:35" class="time">19:25</a></td></tr>
<tr id="t2017-07-21T19:29:41"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Down to 7 steps to go</td><td class="time"><a href="#t2017-07-21T19:29:41" class="time">19:29</a></td></tr>
<tr id="t2017-07-21T20:19:43"><th class="nick" style="background: #5fb4b4">garbados</th><td class="text" style="color: #5fb4b4">clsulliv, hey, that got me to a different error! thanks for your help getting out of one jam :)</td><td class="time"><a href="#t2017-07-21T20:19:43" class="time">20:19</a></td></tr>
<tr id="t2017-07-21T20:20:12"><th class="nick" style="background: #5fb4b4">garbados</th><td class="text" style="color: #5fb4b4">getting these errors now: `core-image-sato-sdk-1.0-r0 do_testimage: Couldn't get ip from qemu command line and runqemu output!`</td><td class="time"><a href="#t2017-07-21T20:20:12" class="time">20:20</a></td></tr>
<tr id="t2017-07-21T20:21:05"><th class="nick" style="background: #adad5b">halstead</th><td class="text" style="color: #adad5b">.io AB ready for use.</td><td class="time"><a href="#t2017-07-21T20:21:05" class="time">20:21</a></td></tr>
<tr id="t2017-07-21T20:21:17"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">3 steps to go</td><td class="time"><a href="#t2017-07-21T20:21:17" class="time">20:21</a></td></tr>
<tr id="t2017-07-21T20:21:35"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">and it's now basically a cleansstate, check, repeat loop, woo</td><td class="time"><a href="#t2017-07-21T20:21:35" class="time">20:21</a></td></tr>
<tr id="t2017-07-21T20:22:38"><th class="nick" style="background: #adad5b">halstead</th><td class="text" style="color: #adad5b">garbados, Your VM doesn't have nested KVM enabled. Let me know if you need that for accelerated sanity testing.</td><td class="time"><a href="#t2017-07-21T20:22:38" class="time">20:22</a></td></tr>
<tr id="t2017-07-21T20:23:16"><th class="nick" style="background: #5fb4b4">garbados</th><td class="text" style="color: #5fb4b4">halstead, KVM? all i'm trying to do is `bitbake core-image-sato-sdk -c testimage -v`</td><td class="time"><a href="#t2017-07-21T20:23:16" class="time">20:23</a></td></tr>
<tr id="t2017-07-21T20:24:25"><th class="nick" style="background: #adad5b">halstead</th><td class="text" style="color: #adad5b">garbados, I don't think it should be an issue unless you are working on sanity tests but I wanted to mention it since I saw you here talking about qemu.</td><td class="time"><a href="#t2017-07-21T20:24:25" class="time">20:24</a></td></tr>
<tr id="t2017-07-21T20:27:05"><th class="nick" style="background: #5fb4b4">garbados</th><td class="text" style="color: #5fb4b4">i'm not quite sure if i'm working on sanity tests. just trying to follow through on steps in yocto guides regarding testing images</td><td class="time"><a href="#t2017-07-21T20:27:05" class="time">20:27</a></td></tr>
<tr id="t2017-07-21T20:27:42"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">commit 46bc438374de74af76d288520c6252c9b7840767</td><td class="time"><a href="#t2017-07-21T20:27:42" class="time">20:27</a></td></tr>
<tr id="t2017-07-21T20:27:42"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Author: Zhenhua Luo &lt;zhenhua.luo@nxp.com&gt;</td><td class="time"><a href="#t2017-07-21T20:27:42" class="time">20:27</a></td></tr>
<tr id="t2017-07-21T20:27:42"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Date:&nbsp;&nbsp; Mon Jun 13 19:47:34 2016 +0800</td><td class="time"><a href="#t2017-07-21T20:27:42" class="time">20:27</a></td></tr>
<tr id="t2017-07-21T20:27:42"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">&nbsp;&nbsp;&nbsp;&nbsp;image.bbclass: do exact match for rootfs type</td><td class="time"><a href="#t2017-07-21T20:27:42" class="time">20:27</a></td></tr>
<tr id="t2017-07-21T20:27:53"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Now to think about those changes a bit :)</td><td class="time"><a href="#t2017-07-21T20:27:53" class="time">20:27</a></td></tr>
<tr id="t2017-07-21T20:33:10"><th class="nick" style="background: #b86161">clsulliv</th><td class="text" style="color: #b86161">garbados: this is a shot in the dark since I've only done testing on real hardware, but you might need to set the TEST_TARGET_IP variable to your host's IP address</td><td class="time"><a href="#t2017-07-21T20:33:10" class="time">20:33</a></td></tr>
<tr id="t2017-07-21T20:33:22"><th class="nick" style="background: #b86161">clsulliv</th><td class="text" style="color: #b86161">could be completely wrong here</td><td class="time"><a href="#t2017-07-21T20:33:22" class="time">20:33</a></td></tr>
<tr id="t2017-07-21T20:33:56"><th class="nick" style="background: #b86161">clsulliv</th><td class="text" style="color: #b86161">err, TEST_SERVER_IP</td><td class="time"><a href="#t2017-07-21T20:33:56" class="time">20:33</a></td></tr>
<tr id="t2017-07-21T20:34:06"><th class="nick" style="background: #b86161">clsulliv</th><td class="text" style="color: #b86161">target is used for the hardware target IIRC</td><td class="time"><a href="#t2017-07-21T20:34:06" class="time">20:34</a></td></tr>
<tr id="t2017-07-21T20:35:46"><th class="nick" style="background: #5fb4b4">garbados</th><td class="text" style="color: #5fb4b4">clsulliv, thanks, i'll try that</td><td class="time"><a href="#t2017-07-21T20:35:46" class="time">20:35</a></td></tr>
<tr id="t2017-07-21T20:38:35"><th class="nick" style="background: #539e9e">Tartarus</th><td class="text" style="color: #539e9e">Also, ugh, need to stop making the uboot image stuff second class citizen</td><td class="time"><a href="#t2017-07-21T20:38:35" class="time">20:38</a></td></tr>
<tr id="t2017-07-21T21:22:53"><td class="part" colspan="2">*** scottrif &lt;scottrif!~scottrif@66.191.24.12&gt; has left #yocto</td><td><a href="#t2017-07-21T21:22:53" class="time">21:22</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2017-07-20.log.html">&#171; Thursday, 2017-07-20</a> <a href="index.html">Index</a> <a href="%23yocto.2017-07-22.log.html">Saturday, 2017-07-22 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
