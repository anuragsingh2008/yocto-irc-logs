<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Monday, 2017-04-03</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Monday, 2017-04-03</h1>
<div class="navigation"> <a href="%23yocto.2017-04-02.log.html">&#171; Sunday, 2017-04-02</a> <a href="index.html">Index</a> <a href="%23yocto.2017-04-04.log.html">Tuesday, 2017-04-04 &#187;</a> </div>
<table class="irclog">
<tr id="t2017-04-03T03:06:06"><td class="part" colspan="2">*** JPEWhacker &lt;JPEWhacker!883fd8cb@gateway/web/freenode/ip.136.63.216.203&gt; has left #yocto</td><td><a href="#t2017-04-03T03:06:06" class="time">03:06</a></td></tr>
<tr id="t2017-04-03T05:50:33"><td class="part" colspan="2">*** IRCFrEAK &lt;IRCFrEAK!~gk.1wm.su@185.93.181.102&gt; has left #yocto</td><td><a href="#t2017-04-03T05:50:33" class="time">05:50</a></td></tr>
<tr id="t2017-04-03T06:21:16"><td class="other" colspan="2">-YoctoAutoBuilder- build #1161 of nightly-x86-64 is complete: Failure [failed BuildImages_1 SendErrorReport]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64/builds/1161" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64/builds/1161</a></td><td><a href="#t2017-04-03T06:21:16" class="time">06:21</a></td></tr>
<tr id="t2017-04-03T06:36:19"><td class="other" colspan="2">-YoctoAutoBuilder- build #1104 of nightly-mips is complete: Failure [failed BuildImages_1 SendErrorReport]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-mips/builds/1104" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-mips/builds/1104</a></td><td><a href="#t2017-04-03T06:36:19" class="time">06:36</a></td></tr>
<tr id="t2017-04-03T06:59:17"><td class="nickchange" colspan="2">*** heliocastro is now known as helio|afk</td><td><a href="#t2017-04-03T06:59:17" class="time">06:59</a></td></tr>
<tr id="t2017-04-03T08:11:54"><th class="nick" style="background: #407a40">ionte</th><td class="text" style="color: #407a40">hi. i'm putting some finishing touches on an embedded distro based on yocto. one thing i would want is to have the rootfs read-only with a second, writable partition with user data.</td><td class="time"><a href="#t2017-04-03T08:11:54" class="time">08:11</a></td></tr>
<tr id="t2017-04-03T08:13:45"><th class="nick" style="background: #407a40">ionte</th><td class="text" style="color: #407a40">what is the most common way to handle writable regions? my current idea is to mount the writable partition at /mnt/userdata and make all directories/files that must be writable links to that mount point</td><td class="time"><a href="#t2017-04-03T08:13:45" class="time">08:13</a></td></tr>
<tr id="t2017-04-03T08:14:35"><th class="nick" style="background: #42427e">paulbarker</th><td class="text" style="color: #42427e">ionte: That makes sense. You could also mount /var as writable and link any other writable directories under there</td><td class="time"><a href="#t2017-04-03T08:14:35" class="time">08:14</a></td></tr>
<tr id="t2017-04-03T08:14:52"><th class="nick" style="background: #407a40">ionte</th><td class="text" style="color: #407a40">paulbarker good idea</td><td class="time"><a href="#t2017-04-03T08:14:52" class="time">08:14</a></td></tr>
<tr id="t2017-04-03T08:15:27"><th class="nick" style="background: #407a40">ionte</th><td class="text" style="color: #407a40">also, where would you put that link creation? i mean in which recipe?</td><td class="time"><a href="#t2017-04-03T08:15:27" class="time">08:15</a></td></tr>
<tr id="t2017-04-03T08:15:59"><th class="nick" style="background: #42427e">paulbarker</th><td class="text" style="color: #42427e">probably the image recipe</td><td class="time"><a href="#t2017-04-03T08:15:59" class="time">08:15</a></td></tr>
<tr id="t2017-04-03T08:16:29"><th class="nick" style="background: #42427e">paulbarker</th><td class="text" style="color: #42427e">look at ROOTFS_POSTPROCESS_COMMAND if you haven't already</td><td class="time"><a href="#t2017-04-03T08:16:29" class="time">08:16</a></td></tr>
<tr id="t2017-04-03T08:17:33"><th class="nick" style="background: #407a40">ionte</th><td class="text" style="color: #407a40">nice, thanks!</td><td class="time"><a href="#t2017-04-03T08:17:33" class="time">08:17</a></td></tr>
<tr id="t2017-04-03T08:18:58"><th class="nick" style="background: #407a40">ionte</th><td class="text" style="color: #407a40">hm. if i decide to mount the writable partition as /var, how should i make sure the required subdirectories and files are created there? by default they are created in the root filesystem tarball...</td><td class="time"><a href="#t2017-04-03T08:18:58" class="time">08:18</a></td></tr>
<tr id="t2017-04-03T08:20:49"><th class="nick" style="background: #407a40">ionte</th><td class="text" style="color: #407a40">perhaps i should just put that creation outside of yocto, in my deploy script...</td><td class="time"><a href="#t2017-04-03T08:20:49" class="time">08:20</a></td></tr>
<tr id="t2017-04-03T08:27:30"><td class="nickchange" colspan="2">*** helio|afk is now known as heliocastro</td><td><a href="#t2017-04-03T08:27:30" class="time">08:27</a></td></tr>
<tr id="t2017-04-03T08:53:07"><th class="nick" style="background: #818144">kanavin</th><td class="text" style="color: #818144">Son_Goku: yes, and your point is?</td><td class="time"><a href="#t2017-04-03T08:53:07" class="time">08:53</a></td></tr>
<tr id="t2017-04-03T08:56:18"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">What is the relationship between SRCREV ?= "${AUTOREV}" and PV="...${SRCPV}". What significance has the AUTOREV and the SRCREV variable in this?</td><td class="time"><a href="#t2017-04-03T08:56:18" class="time">08:56</a></td></tr>
<tr id="t2017-04-03T08:56:48"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">The manual sais "We need to document AUTOREV and SRCREV_FORMAT here."...</td><td class="time"><a href="#t2017-04-03T08:56:48" class="time">08:56</a></td></tr>
<tr id="t2017-04-03T08:58:12"><th class="nick" style="background: #488888">jku</th><td class="text" style="color: #488888">sveinse: which manual is this?</td><td class="time"><a href="#t2017-04-03T08:58:12" class="time">08:58</a></td></tr>
<tr id="t2017-04-03T08:59:11"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">jku: Bitbake user manual, section 4.4. version 2.2</td><td class="time"><a href="#t2017-04-03T08:59:11" class="time">08:59</a></td></tr>
<tr id="t2017-04-03T09:00:02"><th class="nick" style="background: #488888">jku</th><td class="text" style="color: #488888">sveinse: current dev-manual and reference manual do talk about autorev a bit</td><td class="time"><a href="#t2017-04-03T09:00:02" class="time">09:00</a></td></tr>
<tr id="t2017-04-03T09:01:11"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2017-04-03T09:01:11" class="time">09:01</a></td></tr>
<tr id="t2017-04-03T09:01:44"><th class="nick" style="background: #488888">jku</th><td class="text" style="color: #488888">e.g. <a href="http://www.yoctoproject.org/docs/latest/ref-manual/ref-manual.html#var-AUTOREV" rel="nofollow">http://www.yoctoproject.org/docs/latest/ref-manual/ref-manual.html#var-AUTOREV</a></td><td class="time"><a href="#t2017-04-03T09:01:44" class="time">09:01</a></td></tr>
<tr id="t2017-04-03T09:04:14"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">What follows what wrt SRCREV? If I have rev=.. in SRC_URI, does that imply that AUTOREV contains this rev, or is setting SRCREV overriding any rev=... statements in SRC_URI?</td><td class="time"><a href="#t2017-04-03T09:04:14" class="time">09:04</a></td></tr>
<tr id="t2017-04-03T09:06:35"><th class="nick" style="background: #818144">kanavin</th><td class="text" style="color: #818144">Son_Goku: we'll update libdnf to latest version later, right now is a pre-release freeze</td><td class="time"><a href="#t2017-04-03T09:06:35" class="time">09:06</a></td></tr>
<tr id="t2017-04-03T09:08:28"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">Grepping oe and poky, it seems SRCREV is a specifier of which version to use from the SCM, where AUTOREV is some kind of "pick latest" identifier. So rev should not be used in SRC_URI if SRCREV is used, right?</td><td class="time"><a href="#t2017-04-03T09:08:28" class="time">09:08</a></td></tr>
<tr id="t2017-04-03T09:12:05"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">When do you use the "python pyfn () {" vs "def pyfn():" syntax? I see a mix of both types</td><td class="time"><a href="#t2017-04-03T09:12:05" class="time">09:12</a></td></tr>
<tr id="t2017-04-03T09:49:51"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">Is there a way to override this: ERROR: ParseError in ../sp/yocto/classes/../../VERSION: not a BitBake file from a include or require statement? The file contains a SP_VERSION="1.3.0" that I'd like read into the recipe. Otherwise I'd have to write a py function around it</td><td class="time"><a href="#t2017-04-03T09:49:51" class="time">09:49</a></td></tr>
<tr id="t2017-04-03T09:58:15"><th class="nick" style="background: #8c4a4a">d3xter</th><td class="text" style="color: #8c4a4a">so i'm trying to run matchbox-keyboard + iceweasel on debian stable. but it seems like firefox reports password-fields incorrectly and so matchbox-keyboard doesn't pop up. its working fine in chromium. is there a way to work-around that inside matchbox-keyboard?</td><td class="time"><a href="#t2017-04-03T09:58:15" class="time">09:58</a></td></tr>
<tr id="t2017-04-03T09:59:01"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">d3xter: probably not, likely a bug in how firefox exposes the keyboard to the IM plugin.</td><td class="time"><a href="#t2017-04-03T09:59:01" class="time">09:59</a></td></tr>
<tr id="t2017-04-03T09:59:17"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">feel free to delve into the plugin though, maybe there's a case that isn't being handled</td><td class="time"><a href="#t2017-04-03T09:59:17" class="time">09:59</a></td></tr>
<tr id="t2017-04-03T10:00:03"><th class="nick" style="background: #8c4a4a">d3xter</th><td class="text" style="color: #8c4a4a">rburton: ok thanks, will give it a try :)</td><td class="time"><a href="#t2017-04-03T10:00:03" class="time">10:00</a></td></tr>
<tr id="t2017-04-03T10:03:19"><th class="nick" style="background: #8c4a4a">d3xter</th><td class="text" style="color: #8c4a4a">rburton: oh and another question. i've tried configuring matchbox-keyboard-0.1.1 on debian, but i get "./configure: line 13504: syntax error near unexpected token `FAKEKEY,' ./configure: line 13504: `PKG_CHECK_MODULES(FAKEKEY, libfakekey,,". what would be an easy fix for that?</td><td class="time"><a href="#t2017-04-03T10:03:19" class="time">10:03</a></td></tr>
<tr id="t2017-04-03T10:27:40"><th class="nick" style="background: #488888">jku</th><td class="text" style="color: #488888">d3xter: do you have pkg-config installed?</td><td class="time"><a href="#t2017-04-03T10:27:40" class="time">10:27</a></td></tr>
<tr id="t2017-04-03T10:32:32"><td class="part" colspan="2">*** jku &lt;jku!~jku@192.198.151.44&gt; has left #yocto</td><td><a href="#t2017-04-03T10:32:32" class="time">10:32</a></td></tr>
<tr id="t2017-04-03T10:45:33"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">hm wic.filemap.ErrorNotSupp: FilemapFiemap: the FIEMAP ioctl is not supported by the file-system</td><td class="time"><a href="#t2017-04-03T10:45:33" class="time">10:45</a></td></tr>
<tr id="t2017-04-03T10:47:29"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">ed2: can fiemap be optional?</td><td class="time"><a href="#t2017-04-03T10:47:29" class="time">10:47</a></td></tr>
<tr id="t2017-04-03T10:47:43"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">my tmp is a tmpfs</td><td class="time"><a href="#t2017-04-03T10:47:43" class="time">10:47</a></td></tr>
<tr id="t2017-04-03T10:47:56"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">and that's not an uncommon environment</td><td class="time"><a href="#t2017-04-03T10:47:56" class="time">10:47</a></td></tr>
<tr id="t2017-04-03T10:51:35"><th class="nick" style="background: #4d4d93">ed2</th><td class="text" style="color: #4d4d93">rburton: Do you have this patch applied: <a href="http://lists.openembedded.org/pipermail/openembedded-core/2017-March/134764.html" rel="nofollow">http://lists.openembedded.org/pipermail/openembedded-core/2017-March/134764.html</a> ?</td><td class="time"><a href="#t2017-04-03T10:51:35" class="time">10:51</a></td></tr>
<tr id="t2017-04-03T10:52:09"><th class="nick" style="background: #4d4d93">ed2</th><td class="text" style="color: #4d4d93">rburton: just guessing here if SEEK_HOLE is supported by tmpfs.</td><td class="time"><a href="#t2017-04-03T10:52:09" class="time">10:52</a></td></tr>
<tr id="t2017-04-03T10:53:17"><th class="nick" style="background: #4d4d93">ed2</th><td class="text" style="color: #4d4d93">rburton: If not - I'll make FIEMAP optional. If it's not supported then wic will just copy a file without preserving sparceness.</td><td class="time"><a href="#t2017-04-03T10:53:17" class="time">10:53</a></td></tr>
<tr id="t2017-04-03T10:54:29"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">yes</td><td class="time"><a href="#t2017-04-03T10:54:29" class="time">10:54</a></td></tr>
<tr id="t2017-04-03T10:54:54"><th class="nick" style="background: #4d4d93">ed2</th><td class="text" style="color: #4d4d93">rburton: looks like SEEK_HOLE/SEEK_DATA is supported. Please, revert that patch then.</td><td class="time"><a href="#t2017-04-03T10:54:54" class="time">10:54</a></td></tr>
<tr id="t2017-04-03T11:01:16"><th class="nick" style="background: #8c4a4a">d3xter</th><td class="text" style="color: #8c4a4a">jku: silly me, thank you</td><td class="time"><a href="#t2017-04-03T11:01:16" class="time">11:01</a></td></tr>
<tr id="t2017-04-03T11:06:02"><th class="nick" style="background: #4d4d93">ed2</th><td class="text" style="color: #4d4d93">rburton: I'll send a patch. sorry for this.</td><td class="time"><a href="#t2017-04-03T11:06:02" class="time">11:06</a></td></tr>
<tr id="t2017-04-03T11:07:13"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">np</td><td class="time"><a href="#t2017-04-03T11:07:13" class="time">11:07</a></td></tr>
<tr id="t2017-04-03T11:07:26"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">obviously i didn't actually test those patches before they landed in next.</td><td class="time"><a href="#t2017-04-03T11:07:26" class="time">11:07</a></td></tr>
<tr id="t2017-04-03T11:07:33"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">maybe we need a tmpfs run on the AB somewhere</td><td class="time"><a href="#t2017-04-03T11:07:33" class="time">11:07</a></td></tr>
<tr id="t2017-04-03T11:08:02"><th class="nick" style="background: #4d4d93">ed2</th><td class="text" style="color: #4d4d93">rburton: I'll add test case to test both methods: FIEMAP and SEEK_HOLE</td><td class="time"><a href="#t2017-04-03T11:08:02" class="time">11:08</a></td></tr>
<tr id="t2017-04-03T11:08:33"><th class="nick" style="background: #4d4d93">ed2</th><td class="text" style="color: #4d4d93">rburton: I thought they're both supported everywhere and SEEK_HOLE is not used at all.</td><td class="time"><a href="#t2017-04-03T11:08:33" class="time">11:08</a></td></tr>
<tr id="t2017-04-03T11:09:26"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">hm a post from 2012 suggests that tmpfs has seek_hole in</td><td class="time"><a href="#t2017-04-03T11:09:26" class="time">11:09</a></td></tr>
<tr id="t2017-04-03T11:10:02"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">oh got it backwards</td><td class="time"><a href="#t2017-04-03T11:10:02" class="time">11:10</a></td></tr>
<tr id="t2017-04-03T11:57:27"><th class="nick" style="background: #97974f">Son_Goku</th><td class="text" style="color: #97974f">kanavin: it's an informational fix</td><td class="time"><a href="#t2017-04-03T11:57:27" class="time">11:57</a></td></tr>
<tr id="t2017-04-03T11:57:31"><th class="nick" style="background: #97974f">Son_Goku</th><td class="text" style="color: #97974f">it's already at 0.8.x</td><td class="time"><a href="#t2017-04-03T11:57:31" class="time">11:57</a></td></tr>
<tr id="t2017-04-03T12:15:52"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">Is it possible to (force) include a non-bitbake file into a recipe? What defines a bitbake file, btw? Its suffix?</td><td class="time"><a href="#t2017-04-03T12:15:52" class="time">12:15</a></td></tr>
<tr id="t2017-04-03T12:17:24"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">I'd like to read a VERSION file, which is formatted exactly as a bb file; # for comments and KEY="data"</td><td class="time"><a href="#t2017-04-03T12:17:24" class="time">12:17</a></td></tr>
<tr id="t2017-04-03T12:18:12"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">sveinse: I don't think so no, but you could read it in without too much trouble within an anonymous python function though</td><td class="time"><a href="#t2017-04-03T12:18:12" class="time">12:18</a></td></tr>
<tr id="t2017-04-03T12:18:38"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">bluelightning: yeah, sure, reading it from py is no problem</td><td class="time"><a href="#t2017-04-03T12:18:38" class="time">12:18</a></td></tr>
<tr id="t2017-04-03T12:18:49"><th class="nick" style="background: #488888">jku</th><td class="text" style="color: #488888">bluelightning: why wouldn't an include/require work?</td><td class="time"><a href="#t2017-04-03T12:18:49" class="time">12:18</a></td></tr>
<tr id="t2017-04-03T12:18:57"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">er</td><td class="time"><a href="#t2017-04-03T12:18:57" class="time">12:18</a></td></tr>
<tr id="t2017-04-03T12:19:05"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">actually yes include/require should work</td><td class="time"><a href="#t2017-04-03T12:19:05" class="time">12:19</a></td></tr>
<tr id="t2017-04-03T12:19:13"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">I get ParseError in ../sp/yocto/classes/../../VERSION: not a BitBake file</td><td class="time"><a href="#t2017-04-03T12:19:13" class="time">12:19</a></td></tr>
<tr id="t2017-04-03T12:19:28"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">hmm</td><td class="time"><a href="#t2017-04-03T12:19:28" class="time">12:19</a></td></tr>
<tr id="t2017-04-03T12:19:41"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">Perhaps I need to add it as a layer file?</td><td class="time"><a href="#t2017-04-03T12:19:41" class="time">12:19</a></td></tr>
<tr id="t2017-04-03T12:20:47"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">ah, no... I see it now in bitbake/lib/bb/parse/parse_py/bbhandler.py</td><td class="time"><a href="#t2017-04-03T12:20:47" class="time">12:20</a></td></tr>
<tr id="t2017-04-03T12:21:12"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">I confirm adding it to BBFILES did not help</td><td class="time"><a href="#t2017-04-03T12:21:12" class="time">12:21</a></td></tr>
<tr id="t2017-04-03T12:21:17"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">it explicitly specifies .bb, .bbclass, .inc as the extensions it handles</td><td class="time"><a href="#t2017-04-03T12:21:17" class="time">12:21</a></td></tr>
<tr id="t2017-04-03T12:21:22"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">right</td><td class="time"><a href="#t2017-04-03T12:21:22" class="time">12:21</a></td></tr>
<tr id="t2017-04-03T12:42:04"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">What is the second argument to d.getVar() ?</td><td class="time"><a href="#t2017-04-03T12:42:04" class="time">12:42</a></td></tr>
<tr id="t2017-04-03T12:43:11"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">whether to expand or not</td><td class="time"><a href="#t2017-04-03T12:43:11" class="time">12:43</a></td></tr>
<tr id="t2017-04-03T12:43:22"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">ie do you get ${PN} or somerecipename</td><td class="time"><a href="#t2017-04-03T12:43:22" class="time">12:43</a></td></tr>
<tr id="t2017-04-03T12:43:32"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">got it, thanks</td><td class="time"><a href="#t2017-04-03T12:43:32" class="time">12:43</a></td></tr>
<tr id="t2017-04-03T12:48:26"><th class="nick" style="background: #488888">jku</th><td class="text" style="color: #488888">I think I need help with fixed-distro-features-for-native ... RP: anyone you'd suggest I talk to? or do you want to give some pointers on what to try ?</td><td class="time"><a href="#t2017-04-03T12:48:26" class="time">12:48</a></td></tr>
<tr id="t2017-04-03T12:50:52"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">Is there a list or hash in py for all variables readable by d.getVar()? I'm trying to help myself to figure out if there are any variables that might hold the root path of the current layer</td><td class="time"><a href="#t2017-04-03T12:50:52" class="time">12:50</a></td></tr>
<tr id="t2017-04-03T12:53:23"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">Specifically, how to read '../../VERSION' from a py fn in a bbclass file. current directory is the build dir and the environment does not give any clues, so I must rely on a hint from a bb variable to the abs location of this file.</td><td class="time"><a href="#t2017-04-03T12:53:23" class="time">12:53</a></td></tr>
<tr id="t2017-04-03T12:55:12"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">for my first q: d.keys()</td><td class="time"><a href="#t2017-04-03T12:55:12" class="time">12:55</a></td></tr>
<tr id="t2017-04-03T13:00:12"><th class="nick" style="background: #488888">jku</th><td class="text" style="color: #488888">sveinse: layer directory isn't available AFAIK. THISDIR should be the directory of the currently parsed recipe... that said, are you sure what you are doing is a good solution to whatever your problem is?</td><td class="time"><a href="#t2017-04-03T13:00:12" class="time">13:00</a></td></tr>
<tr id="t2017-04-03T13:00:44"><th class="nick" style="background: #539e9e">YCN-</th><td class="text" style="color: #539e9e">Hi guys,</td><td class="time"><a href="#t2017-04-03T13:00:44" class="time">13:00</a></td></tr>
<tr id="t2017-04-03T13:01:20"><th class="nick" style="background: #539e9e">YCN-</th><td class="text" style="color: #539e9e">I was wondering if anyone has a recipe that does the installation of .deb files?</td><td class="time"><a href="#t2017-04-03T13:01:20" class="time">13:01</a></td></tr>
<tr id="t2017-04-03T13:02:07"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">jku, well it depends :P, I simply want to read the VERSION file which is located in the root of the layer. You see PV depends on this file</td><td class="time"><a href="#t2017-04-03T13:02:07" class="time">13:02</a></td></tr>
<tr id="t2017-04-03T13:04:14"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">our layer is somewhat special, as it blends the actual application repo and its meta layer. And the application targets many other platform than Yocto, so I cannot make this "bitbakeized"</td><td class="time"><a href="#t2017-04-03T13:04:14" class="time">13:04</a></td></tr>
<tr id="t2017-04-03T13:05:36"><th class="nick" style="background: #488888">jku</th><td class="text" style="color: #488888">targetting non-yocto platforms doesn't prevent most software from having sensible version numbers but I'll take your word for it</td><td class="time"><a href="#t2017-04-03T13:05:36" class="time">13:05</a></td></tr>
<tr id="t2017-04-03T13:06:52"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">This is how I ended up by building the sources without using SRC_URI, btw, <a href="https://bpaste.net/show/8c1e7ff3bfc3" rel="nofollow">https://bpaste.net/show/8c1e7ff3bfc3</a> - it seems to be working. Anyone see anything obviously errors here?</td><td class="time"><a href="#t2017-04-03T13:06:52" class="time">13:06</a></td></tr>
<tr id="t2017-04-03T13:13:24"><th class="nick" style="background: #488888">jku</th><td class="text" style="color: #488888">sveinse: are you aware that bitbake will have no idea about your sources when you do that?</td><td class="time"><a href="#t2017-04-03T13:13:24" class="time">13:13</a></td></tr>
<tr id="t2017-04-03T13:14:16"><th class="nick" style="background: #488888">jku</th><td class="text" style="color: #488888">so can't figure out when to re-build</td><td class="time"><a href="#t2017-04-03T13:14:16" class="time">13:14</a></td></tr>
<tr id="t2017-04-03T13:15:20"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">the change of SRCPV might be enough</td><td class="time"><a href="#t2017-04-03T13:15:20" class="time">13:15</a></td></tr>
<tr id="t2017-04-03T13:15:22"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">*might*</td><td class="time"><a href="#t2017-04-03T13:15:22" class="time">13:15</a></td></tr>
<tr id="t2017-04-03T13:15:22"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">jku: How is this any different from SCM based rebuild? Is it hashing every file?</td><td class="time"><a href="#t2017-04-03T13:15:22" class="time">13:15</a></td></tr>
<tr id="t2017-04-03T13:16:01"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">sveinse: how will it know to rebuild if you have local changes?&nbsp;&nbsp;or is that not a concern</td><td class="time"><a href="#t2017-04-03T13:16:01" class="time">13:16</a></td></tr>
<tr id="t2017-04-03T13:16:34"><th class="nick" style="background: #488888">jku</th><td class="text" style="color: #488888">sveinse: e.g. with git it has a git commit hash</td><td class="time"><a href="#t2017-04-03T13:16:34" class="time">13:16</a></td></tr>
<tr id="t2017-04-03T13:16:46"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">which is calculated for: On the build server, there is never any local edits of the sources, so it will get a new SRCPV when it changes, and this seems to work</td><td class="time"><a href="#t2017-04-03T13:16:46" class="time">13:16</a></td></tr>
<tr id="t2017-04-03T13:17:41"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">I've read the fetch2 py sources, and I do somewhat the same thing here. Because SRCPV will change due to hg's (hash)id will also change on source changes.</td><td class="time"><a href="#t2017-04-03T13:17:41" class="time">13:17</a></td></tr>
<tr id="t2017-04-03T13:17:42"><th class="nick" style="background: #488888">jku</th><td class="text" style="color: #488888">innovative</td><td class="time"><a href="#t2017-04-03T13:17:42" class="time">13:17</a></td></tr>
<tr id="t2017-04-03T13:18:08"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">sveinse: are local modifications to the sources out of scope here?</td><td class="time"><a href="#t2017-04-03T13:18:08" class="time">13:18</a></td></tr>
<tr id="t2017-04-03T13:18:36"><th class="nick" style="background: #a25555">maxin</th><td class="text" style="color: #a25555"><a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=11288" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=11288</a></td><td class="time"><a href="#t2017-04-03T13:18:36" class="time">13:18</a></td></tr>
<tr id="t2017-04-03T13:18:37"><th class="nick" style="background: #57a657">yocti</th><td class="text" style="color: #57a657">Bug 11288: normal, Undecided, ---, richard.purdie, NEW , X Server fails to start on qemuarm64</td><td class="time"><a href="#t2017-04-03T13:18:37" class="time">13:18</a></td></tr>
<tr id="t2017-04-03T13:18:55"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">partly. A limitation that is acceptable. Note that hg id will return a suffix of '+' if its locally edited, so it will work once for any local edits</td><td class="time"><a href="#t2017-04-03T13:18:55" class="time">13:18</a></td></tr>
<tr id="t2017-04-03T13:19:41"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">maxin: reassign to bruce?</td><td class="time"><a href="#t2017-04-03T13:19:41" class="time">13:19</a></td></tr>
<tr id="t2017-04-03T13:20:17"><th class="nick" style="background: #a25555">maxin</th><td class="text" style="color: #a25555">rburton: looks like kernel configs missing.. yes</td><td class="time"><a href="#t2017-04-03T13:20:17" class="time">13:20</a></td></tr>
<tr id="t2017-04-03T13:21:03"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">The reason for this scheme is that we want to have the recipe located in the same repo as the source code, a use case which is somewhat on the side of bitbake thinking. We used to have the metas in a separate repo, but it was very unpopular, as devs had to update two repos all the time.</td><td class="time"><a href="#t2017-04-03T13:21:03" class="time">13:21</a></td></tr>
<tr id="t2017-04-03T13:22:58"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">The repo is 800Mb, so doing SRC_URI and file:// leads to an unessesary copy of the sources into build/tmp -- which qmake never needs copied as it locates build output separate of the sources anyways.</td><td class="time"><a href="#t2017-04-03T13:22:58" class="time">13:22</a></td></tr>
<tr id="t2017-04-03T13:25:08"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">Is there a THISDIR that works for bbclass files? THISDIR reports the path to the calling bb recipe even for code inside a class file</td><td class="time"><a href="#t2017-04-03T13:25:08" class="time">13:25</a></td></tr>
<tr id="t2017-04-03T13:29:14"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">set a variable based on thisdir in the recipe that the class assumes has been set?</td><td class="time"><a href="#t2017-04-03T13:29:14" class="time">13:29</a></td></tr>
<tr id="t2017-04-03T13:30:00"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">rburton: yeah, good idea</td><td class="time"><a href="#t2017-04-03T13:30:00" class="time">13:30</a></td></tr>
<tr id="t2017-04-03T13:34:19"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">Has any of you guys here any corporate system/tools for product versioning that you need to integrate with yocto? E.g. how do you version the top-level product artefacts? Manual rename of the dated output images, automatic scripts, or just use them as they are?</td><td class="time"><a href="#t2017-04-03T13:34:19" class="time">13:34</a></td></tr>
<tr id="t2017-04-03T13:35:40"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">Because I need to build a scheme for handling output artefacts, and since we're building three different MACHINES, I can't do this from within a yocto recipe -- I need to make a post-build system on top of bitbake</td><td class="time"><a href="#t2017-04-03T13:35:40" class="time">13:35</a></td></tr>
<tr id="t2017-04-03T13:36:33"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">I'm not trying to leech anything, just curious to how other might do this</td><td class="time"><a href="#t2017-04-03T13:36:33" class="time">13:36</a></td></tr>
<tr id="t2017-04-03T13:37:33"><th class="nick" style="background: #5959a9">LetoThe2nd</th><td class="text" style="color: #5959a9">sveinse: automatic build with jenkins, including automatic renaming and archiving the artefacts it is here.</td><td class="time"><a href="#t2017-04-03T13:37:33" class="time">13:37</a></td></tr>
<tr id="t2017-04-03T13:38:45"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">LetoThe2nd: Do you embed a product version into the image, or is a image just a collection/manifest of individual packages with their versions?</td><td class="time"><a href="#t2017-04-03T13:38:45" class="time">13:38</a></td></tr>
<tr id="t2017-04-03T13:39:46"><th class="nick" style="background: #5959a9">LetoThe2nd</th><td class="text" style="color: #5959a9">sveinse: we also embed complete manifests into the images.</td><td class="time"><a href="#t2017-04-03T13:39:46" class="time">13:39</a></td></tr>
<tr id="t2017-04-03T14:59:35"><td class="part" colspan="2">*** blitz00 &lt;blitz00!~stefan@unaffiliated/blitz00&gt; has left #yocto</td><td><a href="#t2017-04-03T14:59:35" class="time">14:59</a></td></tr>
<tr id="t2017-04-03T15:04:23"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">Does yocto have some tool or setting to erase all sstate cache versions but the latest? Like a if rebuilding a recipe, then wipe the old ones first?</td><td class="time"><a href="#t2017-04-03T15:04:23" class="time">15:04</a></td></tr>
<tr id="t2017-04-03T15:05:06"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">sstate-cache-management or something in scripts</td><td class="time"><a href="#t2017-04-03T15:05:06" class="time">15:05</a></td></tr>
<tr id="t2017-04-03T15:05:18"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">or just remove anything that hasn't been touched in a week with a find call</td><td class="time"><a href="#t2017-04-03T15:05:18" class="time">15:05</a></td></tr>
<tr id="t2017-04-03T15:05:39"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">wiping old caches immediately would negate the point of being a cache</td><td class="time"><a href="#t2017-04-03T15:05:39" class="time">15:05</a></td></tr>
<tr id="t2017-04-03T15:08:15"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">yes, I can see that. Yet this recipe is the most volatile package (will be rebuilt in 98% of the builds, so the cache will be dominated by its artefacts). But I'll find a solution, thanks.</td><td class="time"><a href="#t2017-04-03T15:08:15" class="time">15:08</a></td></tr>
<tr id="t2017-04-03T15:18:57"><th class="nick" style="background: #adad5b">ddora</th><td class="text" style="color: #adad5b">anyone knows how to fix "Warning when extracting archive entry: Can't set UID=0" - &gt; opkg-0.3.0 and libarchive &gt;= 3.2.1</td><td class="time"><a href="#t2017-04-03T15:18:57" class="time">15:18</a></td></tr>
<tr id="t2017-04-03T15:27:45"><td class="nickchange" colspan="2">*** ed21 is now known as ed2</td><td><a href="#t2017-04-03T15:27:45" class="time">15:27</a></td></tr>
<tr id="t2017-04-03T15:28:13"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">Have I understood this right: if I have a compile time setting 'EXTRA_QMAKEVARS_PRE = "-r VERSION=${ANY}"', I can add EXTRA_QMAKEVARS_PRE[vardepsexclude] = "ANY" to prevent that any updates to ANY will trigger a rebuild, right?</td><td class="time"><a href="#t2017-04-03T15:28:13" class="time">15:28</a></td></tr>
<tr id="t2017-04-03T15:28:54"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">sveinse: correct, yes.</td><td class="time"><a href="#t2017-04-03T15:28:54" class="time">15:28</a></td></tr>
<tr id="t2017-04-03T15:29:09"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">kergoth: great, thanks</td><td class="time"><a href="#t2017-04-03T15:29:09" class="time">15:29</a></td></tr>
<tr id="t2017-04-03T15:30:48"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">And append ANY to BB_HASHBASE_WHITELIST to remove it from the taskhash?</td><td class="time"><a href="#t2017-04-03T15:30:48" class="time">15:30</a></td></tr>
<tr id="t2017-04-03T15:34:04"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">sveinse: vardepsexclude removes it from the checksums when pulled in via that variable already</td><td class="time"><a href="#t2017-04-03T15:34:04" class="time">15:34</a></td></tr>
<tr id="t2017-04-03T15:34:20"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">the whitelist is global, to remove it from *everywhere*, it's brute force, and usually unnecessary</td><td class="time"><a href="#t2017-04-03T15:34:20" class="time">15:34</a></td></tr>
<tr id="t2017-04-03T15:35:12"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">hashbase_whitelist is vardepsexclude for every variable, really :)</td><td class="time"><a href="#t2017-04-03T15:35:12" class="time">15:35</a></td></tr>
<tr id="t2017-04-03T15:35:14"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">afk</td><td class="time"><a href="#t2017-04-03T15:35:14" class="time">15:35</a></td></tr>
<tr id="t2017-04-03T15:37:45"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">I'm doing something like ANY:="${@get_myversion(d)}", but if it is pulled from the recipe when I use it with vardepsexclude, then I get what I need</td><td class="time"><a href="#t2017-04-03T15:37:45" class="time">15:37</a></td></tr>
<tr id="t2017-04-03T15:45:27"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2017-04-03T15:45:27" class="time">15:45</a></td></tr>
<tr id="t2017-04-03T15:46:55"><th class="nick" style="background: #adad5b">ddora</th><td class="text" style="color: #adad5b">kergoth: any idea? Warning when extracting archive entry: Can't set UID=0</td><td class="time"><a href="#t2017-04-03T15:46:55" class="time">15:46</a></td></tr>
<tr id="t2017-04-03T15:47:42"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">Not a clue, sorry. when exactly are you seeing this?</td><td class="time"><a href="#t2017-04-03T15:47:42" class="time">15:47</a></td></tr>
<tr id="t2017-04-03T15:49:24"><th class="nick" style="background: #adad5b">ddora</th><td class="text" style="color: #adad5b">when installing ipks into offline sysroot</td><td class="time"><a href="#t2017-04-03T15:49:24" class="time">15:49</a></td></tr>
<tr id="t2017-04-03T15:50:43"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">what exactly are you trying to accomplish here?</td><td class="time"><a href="#t2017-04-03T15:50:43" class="time">15:50</a></td></tr>
<tr id="t2017-04-03T15:51:08"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">obviously manually installing packages as a user will result in files with wrong permissions, since you aren't root, which is likely exactly what that warning is telling you</td><td class="time"><a href="#t2017-04-03T15:51:08" class="time">15:51</a></td></tr>
<tr id="t2017-04-03T15:51:21"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">s/installing packages/installing packages on the host rather than target/</td><td class="time"><a href="#t2017-04-03T15:51:21" class="time">15:51</a></td></tr>
<tr id="t2017-04-03T15:53:20"><td class="part" colspan="2">*** csanchezdll &lt;csanchezdll!~user@galileo.kdpof.com&gt; has left #yocto</td><td><a href="#t2017-04-03T15:53:20" class="time">15:53</a></td></tr>
<tr id="t2017-04-03T15:55:17"><th class="nick" style="background: #adad5b">ddora</th><td class="text" style="color: #adad5b">kergoth: i try to install nativesdk ipks manually to sysroot using opkg-cl and -o option. I am wondering why libarchive (or opkg-0.3.0) (poky-2.0) is trying to install with UID 0, i never had this with libarchive from fido</td><td class="time"><a href="#t2017-04-03T15:55:17" class="time">15:55</a></td></tr>
<tr id="t2017-04-03T15:55:35"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">ddora: there are files owned by uid 0 in the tarball in the ipk</td><td class="time"><a href="#t2017-04-03T15:55:35" class="time">15:55</a></td></tr>
<tr id="t2017-04-03T15:55:45"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">presumably, anyway</td><td class="time"><a href="#t2017-04-03T15:55:45" class="time">15:55</a></td></tr>
<tr id="t2017-04-03T15:56:10"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">seems pretty straightforward to me. just ignore the warning and move on if it's not a concern</td><td class="time"><a href="#t2017-04-03T15:56:10" class="time">15:56</a></td></tr>
<tr id="t2017-04-03T15:56:11"><th class="nick" style="background: #adad5b">ddora</th><td class="text" style="color: #adad5b">control files?</td><td class="time"><a href="#t2017-04-03T15:56:11" class="time">15:56</a></td></tr>
<tr id="t2017-04-03T15:56:20"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">if you're curious, examine the ownership of the files in the ipk</td><td class="time"><a href="#t2017-04-03T15:56:20" class="time">15:56</a></td></tr>
<tr id="t2017-04-03T15:56:29"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">ar x foo.ipk; tar -tzf data.tar.gz; tar -tzf control.tar.gz</td><td class="time"><a href="#t2017-04-03T15:56:29" class="time">15:56</a></td></tr>
<tr id="t2017-04-03T15:56:46"><th class="nick" style="background: #adad5b">ddora</th><td class="text" style="color: #adad5b">thanks!</td><td class="time"><a href="#t2017-04-03T15:56:46" class="time">15:56</a></td></tr>
<tr id="t2017-04-03T15:57:07"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">np</td><td class="time"><a href="#t2017-04-03T15:57:07" class="time">15:57</a></td></tr>
<tr id="t2017-04-03T15:58:57"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">ddora: <a href="https://github.com/kergoth/dotfiles/blob/master/scripts/ipkcontents," rel="nofollow">https://github.com/kergoth/dotfiles/blob/master/scripts/ipkcontents,</a> <a href="https://github.com/kergoth/dotfiles/blob/master/scripts/ipkinfo," rel="nofollow">https://github.com/kergoth/dotfiles/blob/master/scripts/ipkinfo,</a> <a href="https://github.com/kergoth/dotfiles/blob/master/scripts/ipkunpack" rel="nofollow">https://github.com/kergoth/dotfiles/blob/master/scripts/ipkunpack</a></td><td class="time"><a href="#t2017-04-03T15:58:57" class="time">15:58</a></td></tr>
<tr id="t2017-04-03T15:59:06"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">might be of interest, for convenience</td><td class="time"><a href="#t2017-04-03T15:59:06" class="time">15:59</a></td></tr>
<tr id="t2017-04-03T15:59:39"><th class="nick" style="background: #adad5b">ddora</th><td class="text" style="color: #adad5b">thank you very much for sharing!</td><td class="time"><a href="#t2017-04-03T15:59:39" class="time">15:59</a></td></tr>
<tr id="t2017-04-03T15:59:44"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">does bitbake have an option for printing what variable change that triggered rebuild?</td><td class="time"><a href="#t2017-04-03T15:59:44" class="time">15:59</a></td></tr>
<tr id="t2017-04-03T16:02:04"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">sveinse: bitbake -S printdiff will print "why sstate isn't used" basically. bitbake-whatchanged used to be of interest, but i don't think it's maintained anymore. bitbake-diffsigs -t is likely also of interest, you can bitbake foo; bitbake foo; bitbake-diffsigs -t foo build -&gt; compare the previous two builds of foo</td><td class="time"><a href="#t2017-04-03T16:02:04" class="time">16:02</a></td></tr>
<tr id="t2017-04-03T16:02:20"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">ddora: np</td><td class="time"><a href="#t2017-04-03T16:02:20" class="time">16:02</a></td></tr>
<tr id="t2017-04-03T16:20:01"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">Must a recipe always result in packages? Can a recipe be a service, like executing a build step, e.g. upload to a staging server?</td><td class="time"><a href="#t2017-04-03T16:20:01" class="time">16:20</a></td></tr>
<tr id="t2017-04-03T16:21:48"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">sveinse: if you want to change what tasks run, you can.</td><td class="time"><a href="#t2017-04-03T16:21:48" class="time">16:21</a></td></tr>
<tr id="t2017-04-03T16:21:51"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">see deltask and addtask</td><td class="time"><a href="#t2017-04-03T16:21:51" class="time">16:21</a></td></tr>
<tr id="t2017-04-03T16:22:04"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">base.bbclass and package.bbclass &amp; friends define the defaults, that's all</td><td class="time"><a href="#t2017-04-03T16:22:04" class="time">16:22</a></td></tr>
<tr id="t2017-04-03T16:24:21"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">Basically I have two choices when it comes to our post build deployment: Either write it completely outside yocto, or make a recipe for it and run it with -c deploy or something.</td><td class="time"><a href="#t2017-04-03T16:24:21" class="time">16:24</a></td></tr>
<tr id="t2017-04-03T16:24:31"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">yep</td><td class="time"><a href="#t2017-04-03T16:24:31" class="time">16:24</a></td></tr>
<tr id="t2017-04-03T16:24:50"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">I know it's slightly outside the scope for the recipes, but then again it is convenient to have all in the same environment</td><td class="time"><a href="#t2017-04-03T16:24:50" class="time">16:24</a></td></tr>
<tr id="t2017-04-03T16:29:43"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">heh, Cooker is so busy doing the bitbake -S printdiff for me that it does not respons to SIGINT or SIGTERM...</td><td class="time"><a href="#t2017-04-03T16:29:43" class="time">16:29</a></td></tr>
<tr id="t2017-04-03T16:35:28"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">sveinse: image recipes don't result in packages, so yes they can do anything.&nbsp;&nbsp;another example is the package-index recipe.</td><td class="time"><a href="#t2017-04-03T16:35:28" class="time">16:35</a></td></tr>
<tr id="t2017-04-03T16:38:14"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">rburton: perfect, thanks</td><td class="time"><a href="#t2017-04-03T16:38:14" class="time">16:38</a></td></tr>
<tr id="t2017-04-03T16:39:34"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">I notice it uses do_fetch[noexec] = "1" instead of deltask do_fetch</td><td class="time"><a href="#t2017-04-03T16:39:34" class="time">16:39</a></td></tr>
<tr id="t2017-04-03T16:44:35"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">it's easier to undo a noexec if need be than to undo a deltask, as deltask removes task dependencies in both directions, to re-add would require re-adding the deps too</td><td class="time"><a href="#t2017-04-03T16:44:35" class="time">16:44</a></td></tr>
<tr id="t2017-04-03T16:44:39"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">case by case thing</td><td class="time"><a href="#t2017-04-03T16:44:39" class="time">16:44</a></td></tr>
<tr id="t2017-04-03T16:49:49"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">right</td><td class="time"><a href="#t2017-04-03T16:49:49" class="time">16:49</a></td></tr>
<tr id="t2017-04-03T16:51:01"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">btw, I've already fallen in my own trap of requiring a path variable to be set before calling a function in a bbclass :( I wish there were someway I could get the retrieve for the current bbclass file or directory.</td><td class="time"><a href="#t2017-04-03T16:51:01" class="time">16:51</a></td></tr>
<tr id="t2017-04-03T16:53:13"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">...some way I could retrieve the current bbclass file or directory... (I can't write today)</td><td class="time"><a href="#t2017-04-03T16:53:13" class="time">16:53</a></td></tr>
<tr id="t2017-04-03T16:55:35"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">sveinse: hard to do directly, normally FILE is the currently parsed file, but it doesn't apply to bbclasses. if you don't mind hardcoding the class relative path, you could easily use inline python to find the absolute path by searching BBPATH for it.</td><td class="time"><a href="#t2017-04-03T16:55:35" class="time">16:55</a></td></tr>
<tr id="t2017-04-03T16:56:40"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">kergoth: how do I know the name for the bbclass file? Hardcoding?</td><td class="time"><a href="#t2017-04-03T16:56:40" class="time">16:56</a></td></tr>
<tr id="t2017-04-03T16:57:33"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">it may be possible to dig into bitbake internal variables to get it, as is used in bitbake to implement EXPORT_FUNCTIONS, but that wouldn't be ideal either</td><td class="time"><a href="#t2017-04-03T16:57:33" class="time">16:57</a></td></tr>
<tr id="t2017-04-03T16:59:45"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">right. an odd limitation, iirc, as moving functions to bbclass is encourages, but the system don't scale along with it. I can get the path to the caller's bb-file, but I don't know my own path relationship to it.</td><td class="time"><a href="#t2017-04-03T16:59:45" class="time">16:59</a></td></tr>
<tr id="t2017-04-03T16:59:54"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">s/iirc/imho/</td><td class="time"><a href="#t2017-04-03T16:59:54" class="time">16:59</a></td></tr>
<tr id="t2017-04-03T17:04:12"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">sveinse: iirc it was slightly more complex conceptually just because bbclass parsing involves a cache, to avoid reparsing a class that has multipl e'inherit' lines around, but it just means we should add a new variable for the current bbclass. i'd suggest opening a bug to add that feature to bitbake. it'd be trivial to add</td><td class="time"><a href="#t2017-04-03T17:04:12" class="time">17:04</a></td></tr>
<tr id="t2017-04-03T17:06:53"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">kergoth: ok, noted. thanks</td><td class="time"><a href="#t2017-04-03T17:06:53" class="time">17:06</a></td></tr>
<tr id="t2017-04-03T17:24:10"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">I get a taskhash mismatch which I'm trying to debug. When I call bitbake-diffsigs -t recipe task I get nothing</td><td class="time"><a href="#t2017-04-03T17:24:10" class="time">17:24</a></td></tr>
<tr id="t2017-04-03T17:24:44"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">Ah, perhaps due to the the taskhash mismatch, which is an error, then the data isn't updated fully</td><td class="time"><a href="#t2017-04-03T17:24:44" class="time">17:24</a></td></tr>
<tr id="t2017-04-03T17:30:28"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">what is a good apprach for debugging taskhash mismatches?</td><td class="time"><a href="#t2017-04-03T17:30:28" class="time">17:30</a></td></tr>
<tr id="t2017-04-03T17:39:10"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">I have this generic recipe whose purpose is to run do_increase_version every time. I added do_increase_version[nostamp] = "1", but *that* causes the recipe to die in task hash mismatch every time. Any clues to why?</td><td class="time"><a href="#t2017-04-03T17:39:10" class="time">17:39</a></td></tr>
<tr id="t2017-04-03T17:39:18"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">Here's the full recipe: <a href="https://bpaste.net/show/68b2ecc1f649" rel="nofollow">https://bpaste.net/show/68b2ecc1f649</a></td><td class="time"><a href="#t2017-04-03T17:39:18" class="time">17:39</a></td></tr>
<tr id="t2017-04-03T17:49:13"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">hmm, nostamp seems to be toxic</td><td class="time"><a href="#t2017-04-03T17:49:13" class="time">17:49</a></td></tr>
<tr id="t2017-04-03T17:52:04"><td class="other" colspan="2">-YoctoAutoBuilder- build #1122 of nightly-x86-64-lsb is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64-lsb/builds/1122" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64-lsb/builds/1122</a></td><td><a href="#t2017-04-03T17:52:04" class="time">17:52</a></td></tr>
<tr id="t2017-04-03T17:52:38"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">anything depending on a nostamp task will have its checksums change every time, it can't do otherwise, afaik</td><td class="time"><a href="#t2017-04-03T17:52:38" class="time">17:52</a></td></tr>
<tr id="t2017-04-03T17:53:09"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">are you sure you want to do that in a task rather than at parse time?</td><td class="time"><a href="#t2017-04-03T17:53:09" class="time">17:53</a></td></tr>
<tr id="t2017-04-03T17:54:57"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">kergoth: yes I think so, because this task must be run explicitly. We build run bitbake over three MACHINE= iterations, and the version must not change between them</td><td class="time"><a href="#t2017-04-03T17:54:57" class="time">17:54</a></td></tr>
<tr id="t2017-04-03T17:55:36"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">likely don't want anything depending on that task, then</td><td class="time"><a href="#t2017-04-03T17:55:36" class="time">17:55</a></td></tr>
<tr id="t2017-04-03T17:55:45"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">Likewise, the release deployment tasks after build must also be run separately since krogoth can't bundle these three MACHINE builds into one invocation</td><td class="time"><a href="#t2017-04-03T17:55:45" class="time">17:55</a></td></tr>
<tr id="t2017-04-03T17:55:55"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">Absolutely nothing shall depend on them, no</td><td class="time"><a href="#t2017-04-03T17:55:55" class="time">17:55</a></td></tr>
<tr id="t2017-04-03T17:58:20"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">Think I found it with your hint, kergoth: I have a recipe and a class with the same basename. Apparently that created some dependency linking. Renaming the recipe seems to fix the issue</td><td class="time"><a href="#t2017-04-03T17:58:20" class="time">17:58</a></td></tr>
<tr id="t2017-04-03T17:58:38"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">huh, that's interesting</td><td class="time"><a href="#t2017-04-03T17:58:38" class="time">17:58</a></td></tr>
<tr id="t2017-04-03T17:58:52"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">if you can repro that reliably, report a bug, that should not be the case</td><td class="time"><a href="#t2017-04-03T17:58:52" class="time">17:58</a></td></tr>
<tr id="t2017-04-03T17:59:00"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">ideally produce a minimal test case, if possible</td><td class="time"><a href="#t2017-04-03T17:59:00" class="time">17:59</a></td></tr>
<tr id="t2017-04-03T17:59:14"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">obviously you have higher priority stuff to address now, but later maybe, if you would :)</td><td class="time"><a href="#t2017-04-03T17:59:14" class="time">17:59</a></td></tr>
<tr id="t2017-04-03T17:59:54"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">no sorry, now it's gone</td><td class="time"><a href="#t2017-04-03T17:59:54" class="time">17:59</a></td></tr>
<tr id="t2017-04-03T18:00:30"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">I can't get it to fail anymore</td><td class="time"><a href="#t2017-04-03T18:00:30" class="time">18:00</a></td></tr>
<tr id="t2017-04-03T18:01:54"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">and for the record I will... if I get it to fail consistently again</td><td class="time"><a href="#t2017-04-03T18:01:54" class="time">18:01</a></td></tr>
<tr id="t2017-04-03T18:02:20"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">np :)</td><td class="time"><a href="#t2017-04-03T18:02:20" class="time">18:02</a></td></tr>
<tr id="t2017-04-03T18:22:21"><th class="nick" style="background: #854685">sveinse</th><td class="text" style="color: #854685">When is the DEPENDS items fulfilled in a recipe? E.g. if I add a task that has no dependencies and no connection to do_build, does bb always satisfy DEPENDS first?</td><td class="time"><a href="#t2017-04-03T18:22:21" class="time">18:22</a></td></tr>
<tr id="t2017-04-03T18:25:43"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">sveinse: see deptask flag in base.bbclass</td><td class="time"><a href="#t2017-04-03T18:25:43" class="time">18:25</a></td></tr>
<tr id="t2017-04-03T18:27:40"><th class="nick" style="background: #5fb4b4">malconxx</th><td class="text" style="color: #5fb4b4">hi</td><td class="time"><a href="#t2017-04-03T18:27:40" class="time">18:27</a></td></tr>
<tr id="t2017-04-03T18:29:15"><th class="nick" style="background: #5fb4b4">malconxx</th><td class="text" style="color: #5fb4b4">tenho o simatic2000 da simemens. quero saber como instalar o postgresql. Alguem tem ideia ?</td><td class="time"><a href="#t2017-04-03T18:29:15" class="time">18:29</a></td></tr>
<tr id="t2017-04-03T18:29:27"><th class="nick" style="background: #5fb4b4">malconxx</th><td class="text" style="color: #5fb4b4">I have simemens simatic2000. I want to know how to install postgresql. Anyone have an idea?</td><td class="time"><a href="#t2017-04-03T18:29:27" class="time">18:29</a></td></tr>
<tr id="t2017-04-03T18:29:31"><th class="nick" style="background: #5fb4b4">malconxx</th><td class="text" style="color: #5fb4b4">:)</td><td class="time"><a href="#t2017-04-03T18:29:31" class="time">18:29</a></td></tr>
<tr id="t2017-04-03T18:44:03"><th class="nick" style="background: #b86161">ayaka</th><td class="text" style="color: #b86161">I want switch stable poky to master, so I checkout the master branch and meet this <a href="https://paste.fedoraproject.org/paste/I6qtPd6~-8B~lVBsn0LGQl5M1UNdIGYhyRLivL9gydE=" rel="nofollow">https://paste.fedoraproject.org/paste/I6qtPd6~-8B~lVBsn0LGQl5M1UNdIGYhyRLivL9gydE=</a></td><td class="time"><a href="#t2017-04-03T18:44:03" class="time">18:44</a></td></tr>
<tr id="t2017-04-03T18:44:19"><th class="nick" style="background: #b86161">ayaka</th><td class="text" style="color: #b86161">what should I do to clean up the cache without clean up the download cache?</td><td class="time"><a href="#t2017-04-03T18:44:19" class="time">18:44</a></td></tr>
<tr id="t2017-04-03T18:48:08"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">ayaka: you just need to delete whatever you set TMPDIR to, usually tmp/ under the build directory.</td><td class="time"><a href="#t2017-04-03T18:48:08" class="time">18:48</a></td></tr>
<tr id="t2017-04-03T18:48:16"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">ayaka: (also it says your networking is broken)</td><td class="time"><a href="#t2017-04-03T18:48:16" class="time">18:48</a></td></tr>
<tr id="t2017-04-03T18:48:30"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">maybe that error should tell you *what* tmpdir is…</td><td class="time"><a href="#t2017-04-03T18:48:30" class="time">18:48</a></td></tr>
<tr id="t2017-04-03T18:48:47"><th class="nick" style="background: #b86161">ayaka</th><td class="text" style="color: #b86161">rburton, I see thank you</td><td class="time"><a href="#t2017-04-03T18:48:47" class="time">18:48</a></td></tr>
<tr id="t2017-04-03T18:49:10"><th class="nick" style="background: #b86161">ayaka</th><td class="text" style="color: #b86161">btw, how to select the C libraries in yocto system?</td><td class="time"><a href="#t2017-04-03T18:49:10" class="time">18:49</a></td></tr>
<tr id="t2017-04-03T18:49:25"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">TCLIBC</td><td class="time"><a href="#t2017-04-03T18:49:25" class="time">18:49</a></td></tr>
<tr id="t2017-04-03T18:49:28"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">defaults to glibc</td><td class="time"><a href="#t2017-04-03T18:49:28" class="time">18:49</a></td></tr>
<tr id="t2017-04-03T18:49:32"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">you can also set it to musl</td><td class="time"><a href="#t2017-04-03T18:49:32" class="time">18:49</a></td></tr>
<tr id="t2017-04-03T18:50:27"><th class="nick" style="background: #b86161">ayaka</th><td class="text" style="color: #b86161">rburton, those thing doesn't cover in the documents</td><td class="time"><a href="#t2017-04-03T18:50:27" class="time">18:50</a></td></tr>
<tr id="t2017-04-03T18:51:03"><th class="nick" style="background: #b86161">ayaka</th><td class="text" style="color: #b86161">rburton, sorry it is</td><td class="time"><a href="#t2017-04-03T18:51:03" class="time">18:51</a></td></tr>
<tr id="t2017-04-03T18:58:18"><td class="other" colspan="2">-YoctoAutoBuilder- build #660 of nightly-wic is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-wic/builds/660" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-wic/builds/660</a></td><td><a href="#t2017-04-03T18:58:18" class="time">18:58</a></td></tr>
<tr id="t2017-04-03T19:07:26"><th class="nick" style="background: #b86161">ayaka</th><td class="text" style="color: #b86161">rburton, I remove it but it still not work for me</td><td class="time"><a href="#t2017-04-03T19:07:26" class="time">19:07</a></td></tr>
<tr id="t2017-04-03T19:07:38"><th class="nick" style="background: #b86161">ayaka</th><td class="text" style="color: #b86161">I didn't set any TMPDIR at my local.conf</td><td class="time"><a href="#t2017-04-03T19:07:38" class="time">19:07</a></td></tr>
<tr id="t2017-04-03T19:08:31"><th class="nick" style="background: #62bb62">lsandov</th><td class="text" style="color: #62bb62">ayaka: start with a new build folder</td><td class="time"><a href="#t2017-04-03T19:08:31" class="time">19:08</a></td></tr>
<tr id="t2017-04-03T19:09:04"><th class="nick" style="background: #b86161">ayaka</th><td class="text" style="color: #b86161">lsandov, doesn't use oe-init-build-env?</td><td class="time"><a href="#t2017-04-03T19:09:04" class="time">19:09</a></td></tr>
<tr id="t2017-04-03T19:09:28"><th class="nick" style="background: #62bb62">lsandov</th><td class="text" style="color: #62bb62">ayaka: source oe-init-build-env build-krohogth, for example</td><td class="time"><a href="#t2017-04-03T19:09:28" class="time">19:09</a></td></tr>
<tr id="t2017-04-03T19:09:53"><th class="nick" style="background: #62bb62">lsandov</th><td class="text" style="color: #62bb62">where build-krogoth is the new build folder, basically empty except for conf</td><td class="time"><a href="#t2017-04-03T19:09:53" class="time">19:09</a></td></tr>
<tr id="t2017-04-03T19:14:03"><th class="nick" style="background: #b86161">ayaka</th><td class="text" style="color: #b86161">lsandov, no it doesn't work either</td><td class="time"><a href="#t2017-04-03T19:14:03" class="time">19:14</a></td></tr>
<tr id="t2017-04-03T19:14:39"><th class="nick" style="background: #62bb62">lsandov</th><td class="text" style="color: #62bb62">ayaka: same error?</td><td class="time"><a href="#t2017-04-03T19:14:39" class="time">19:14</a></td></tr>
<tr id="t2017-04-03T19:14:46"><th class="nick" style="background: #b86161">ayaka</th><td class="text" style="color: #b86161">lsandov, yes</td><td class="time"><a href="#t2017-04-03T19:14:46" class="time">19:14</a></td></tr>
<tr id="t2017-04-03T19:15:45"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">the networking bit?&nbsp;&nbsp;that's unrelated to tmpdir, and means your proxies are not configured</td><td class="time"><a href="#t2017-04-03T19:15:45" class="time">19:15</a></td></tr>
<tr id="t2017-04-03T19:16:12"><td class="action" colspan="2">* fray notes 19 bitbake builds on the same machine doesn't work will if the inotify is limited to 8k files..</td><td><a href="#t2017-04-03T19:16:12" class="time">19:16</a></td></tr>
<tr id="t2017-04-03T19:16:25"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">but I did get the load on the machine over 2400 before it stopped.. ;)</td><td class="time"><a href="#t2017-04-03T19:16:25" class="time">19:16</a></td></tr>
<tr id="t2017-04-03T19:21:30"><th class="nick" style="background: #b86161">ayaka</th><td class="text" style="color: #b86161">lsandov, I add that variable and run bitbake</td><td class="time"><a href="#t2017-04-03T19:21:30" class="time">19:21</a></td></tr>
<tr id="t2017-04-03T19:21:37"><th class="nick" style="background: #b86161">ayaka</th><td class="text" style="color: #b86161">then remove it, it seems work now</td><td class="time"><a href="#t2017-04-03T19:21:37" class="time">19:21</a></td></tr>
<tr id="t2017-04-03T19:21:57"><th class="nick" style="background: #62bb62">lsandov</th><td class="text" style="color: #62bb62">ayaka: TCLIBC?</td><td class="time"><a href="#t2017-04-03T19:21:57" class="time">19:21</a></td></tr>
<tr id="t2017-04-03T19:22:22"><th class="nick" style="background: #b86161">ayaka</th><td class="text" style="color: #b86161">lsandov, BB_NO_NETWORK = "1"</td><td class="time"><a href="#t2017-04-03T19:22:22" class="time">19:22</a></td></tr>
<tr id="t2017-04-03T19:23:01"><th class="nick" style="background: #62bb62">lsandov</th><td class="text" style="color: #62bb62">ayaka: ok, so apparently you have all in your DL_DIR</td><td class="time"><a href="#t2017-04-03T19:23:01" class="time">19:23</a></td></tr>
<tr id="t2017-04-03T19:23:46"><th class="nick" style="background: #62bb62">lsandov</th><td class="text" style="color: #62bb62">fray: using an AB?</td><td class="time"><a href="#t2017-04-03T19:23:46" class="time">19:23</a></td></tr>
<tr id="t2017-04-03T19:23:54"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">no, just on the machine I've got</td><td class="time"><a href="#t2017-04-03T19:23:54" class="time">19:23</a></td></tr>
<tr id="t2017-04-03T19:23:58"><th class="nick" style="background: #b86161">ayaka</th><td class="text" style="color: #b86161">lsandov, not actually I am downloading those new source code since I upgrade to master from morty</td><td class="time"><a href="#t2017-04-03T19:23:58" class="time">19:23</a></td></tr>
<tr id="t2017-04-03T19:24:22"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">running 9 builds at once (more reasonable number), my load is consistently around 200-400 range..</td><td class="time"><a href="#t2017-04-03T19:24:22" class="time">19:24</a></td></tr>
<tr id="t2017-04-03T19:24:48"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">so machine is a bit overloaded, but not too bad.. but it's not using swap yet -- so that is keeping the performance up</td><td class="time"><a href="#t2017-04-03T19:24:48" class="time">19:24</a></td></tr>
<tr id="t2017-04-03T19:25:17"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">(I'm running some test builds against the YP 2.2.1 release.. nothing too big)</td><td class="time"><a href="#t2017-04-03T19:25:17" class="time">19:25</a></td></tr>
<tr id="t2017-04-03T19:25:23"><th class="nick" style="background: #62bb62">lsandov</th><td class="text" style="color: #62bb62">fray: look at these plots for a simple build (core-image-minimal) <a href="https://wiki.yoctoproject.org/wiki/Vmstat" rel="nofollow">https://wiki.yoctoproject.org/wiki/Vmstat</a></td><td class="time"><a href="#t2017-04-03T19:25:23" class="time">19:25</a></td></tr>
<tr id="t2017-04-03T19:25:48"><th class="nick" style="background: #62bb62">lsandov</th><td class="text" style="color: #62bb62">fray: what you have is that x 9, too much</td><td class="time"><a href="#t2017-04-03T19:25:48" class="time">19:25</a></td></tr>
<tr id="t2017-04-03T19:26:44"><th class="nick" style="background: #62bb62">lsandov</th><td class="text" style="color: #62bb62">fray: are you doing some kind of performance test?</td><td class="time"><a href="#t2017-04-03T19:26:44" class="time">19:26</a></td></tr>
<tr id="t2017-04-03T19:27:08"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">I've got 144 threads and 256 GB of ram.. (and a whole lotta raid)</td><td class="time"><a href="#t2017-04-03T19:27:08" class="time">19:27</a></td></tr>
<tr id="t2017-04-03T19:27:17"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">so a load of 200 isn't too bad..</td><td class="time"><a href="#t2017-04-03T19:27:17" class="time">19:27</a></td></tr>
<tr id="t2017-04-03T19:27:31"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">400 is a bit much, but if most of that is I/O bound then it's actually not all that bad either</td><td class="time"><a href="#t2017-04-03T19:27:31" class="time">19:27</a></td></tr>
<tr id="t2017-04-03T19:27:34"><th class="nick" style="background: #62bb62">lsandov</th><td class="text" style="color: #62bb62">fray: that is something :)</td><td class="time"><a href="#t2017-04-03T19:27:34" class="time">19:27</a></td></tr>
<tr id="t2017-04-03T19:28:05"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">model name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: Intel(R) Xeon(R) CPU E7-8890 v3 @ 2.50GHz</td><td class="time"><a href="#t2017-04-03T19:28:05" class="time">19:28</a></td></tr>
<tr id="t2017-04-03T19:28:07"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">* 4</td><td class="time"><a href="#t2017-04-03T19:28:07" class="time">19:28</a></td></tr>
<tr id="t2017-04-03T19:28:18"><th class="nick" style="background: #62bb62">lsandov</th><td class="text" style="color: #62bb62">fray: you are basically creating fork bombs</td><td class="time"><a href="#t2017-04-03T19:28:18" class="time">19:28</a></td></tr>
<tr id="t2017-04-03T19:28:35"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">load of 2410 was a fork bomb.. this is just a 'busy system'</td><td class="time"><a href="#t2017-04-03T19:28:35" class="time">19:28</a></td></tr>
<tr id="t2017-04-03T19:29:21"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">(interactive wise, the system is responsive for such a high load -- currently around 220)</td><td class="time"><a href="#t2017-04-03T19:29:21" class="time">19:29</a></td></tr>
<tr id="t2017-04-03T19:29:43"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">I'd say each build is probably running at about 75-80% based on just watching the screen..</td><td class="time"><a href="#t2017-04-03T19:29:43" class="time">19:29</a></td></tr>
<tr id="t2017-04-03T19:29:49"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">so that isn't bad performance..</td><td class="time"><a href="#t2017-04-03T19:29:49" class="time">19:29</a></td></tr>
<tr id="t2017-04-03T19:30:00"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">I just have to make sure these 9 sets of builds complete</td><td class="time"><a href="#t2017-04-03T19:30:00" class="time">19:30</a></td></tr>
<tr id="t2017-04-03T19:32:00"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">load right now is in the 130 range... says I'm currently about 23% idle as well....</td><td class="time"><a href="#t2017-04-03T19:32:00" class="time">19:32</a></td></tr>
<tr id="t2017-04-03T19:32:17"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">(not sure I trust Linux process accounting)</td><td class="time"><a href="#t2017-04-03T19:32:17" class="time">19:32</a></td></tr>
<tr id="t2017-04-03T19:36:22"><th class="nick" style="background: #c3c366">Crofton|work</th><td class="text" style="color: #c3c366">fake accounting</td><td class="time"><a href="#t2017-04-03T19:36:22" class="time">19:36</a></td></tr>
<tr id="t2017-04-03T19:36:37"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">'Make the server great again...'</td><td class="time"><a href="#t2017-04-03T19:36:37" class="time">19:36</a></td></tr>
<tr id="t2017-04-03T19:37:12"><th class="nick" style="background: #c668c6">paulg</th><td class="text" style="color: #c668c6">"Make MN have a brown-out again."</td><td class="time"><a href="#t2017-04-03T19:37:12" class="time">19:37</a></td></tr>
<tr id="t2017-04-03T19:37:37"><td class="action" colspan="2">* fray should check the temps on that machine....</td><td><a href="#t2017-04-03T19:37:37" class="time">19:37</a></td></tr>
<tr id="t2017-04-03T19:38:27"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">room.. 'incoming air' to the sevrer is 86F..&nbsp;&nbsp;air at my shoulder height is 91F..</td><td class="time"><a href="#t2017-04-03T19:38:27" class="time">19:38</a></td></tr>
<tr id="t2017-04-03T19:39:14"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">CPU1-4 temps, 62C, 60C, 57C and 59C</td><td class="time"><a href="#t2017-04-03T19:39:14" class="time">19:39</a></td></tr>
<tr id="t2017-04-03T19:39:29"><th class="nick" style="background: #c668c6">paulg</th><td class="text" style="color: #c668c6">with the electric bill and the thermal signature of the building, they'll be busting your door down thinking you are a grow-op.</td><td class="time"><a href="#t2017-04-03T19:39:29" class="time">19:39</a></td></tr>
<tr id="t2017-04-03T19:39:44"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">Ohh I should check power usage.. ;)</td><td class="time"><a href="#t2017-04-03T19:39:44" class="time">19:39</a></td></tr>
<tr id="t2017-04-03T19:39:58"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">power consumption....</td><td class="time"><a href="#t2017-04-03T19:39:58" class="time">19:39</a></td></tr>
<tr id="t2017-04-03T19:40:11"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">machine 'all-time high' is right now..&nbsp;&nbsp;1220 Watts..</td><td class="time"><a href="#t2017-04-03T19:40:11" class="time">19:40</a></td></tr>
<tr id="t2017-04-03T19:40:36"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">average for the last hour is 1000 watts.. average for past 7 days is 562 watts</td><td class="time"><a href="#t2017-04-03T19:40:36" class="time">19:40</a></td></tr>
<tr id="t2017-04-03T19:41:55"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">AC input power is just under 300 W (* 4 power supplied).. output power is around 260W (* 4 power supplies)</td><td class="time"><a href="#t2017-04-03T19:41:55" class="time">19:41</a></td></tr>
<tr id="t2017-04-03T19:42:04"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">that is more lossy then I would have expected</td><td class="time"><a href="#t2017-04-03T19:42:04" class="time">19:42</a></td></tr>
<tr id="t2017-04-03T19:42:45"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">13% power loss seems 'excessive' for supplies that are '90 Platinum rated'</td><td class="time"><a href="#t2017-04-03T19:42:45" class="time">19:42</a></td></tr>
<tr id="t2017-04-03T19:45:50"><td class="action" colspan="2">* fray wonders how loud the office is right now.. (probably unbearable)</td><td><a href="#t2017-04-03T19:45:50" class="time">19:45</a></td></tr>
<tr id="t2017-04-03T19:47:13"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">fray: i just got a power monitor thingy on my domestic mains and now wonder what sort of idle tuning xeons have as my build machine appears to idle at about 150W</td><td class="time"><a href="#t2017-04-03T19:47:13" class="time">19:47</a></td></tr>
<tr id="t2017-04-03T19:47:38"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">if i just run laptop-mode will that do the right thing i wonder</td><td class="time"><a href="#t2017-04-03T19:47:38" class="time">19:47</a></td></tr>
<tr id="t2017-04-03T19:47:55"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">ya, I wish this only idled at 150W.. when I'm not using it, I often power it down.. but even then (with the BMC only) it draws about 120 watts)</td><td class="time"><a href="#t2017-04-03T19:47:55" class="time">19:47</a></td></tr>
<tr id="t2017-04-03T19:48:08"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">ouch</td><td class="time"><a href="#t2017-04-03T19:48:08" class="time">19:48</a></td></tr>
<tr id="t2017-04-03T19:48:26"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">thats a hell of a lot for a bmc</td><td class="time"><a href="#t2017-04-03T19:48:26" class="time">19:48</a></td></tr>
<tr id="t2017-04-03T19:48:26"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">luckily I have a remote power switch on the box, so I can actually power it off</td><td class="time"><a href="#t2017-04-03T19:48:26" class="time">19:48</a></td></tr>
<tr id="t2017-04-03T19:48:57"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">ya.. I don't think the BMC really takes 120 watts.. but I suspect between the 4 power supplies, all of the fans and the BMC controller that accounts for it..</td><td class="time"><a href="#t2017-04-03T19:48:57" class="time">19:48</a></td></tr>
<tr id="t2017-04-03T19:49:09"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">I almost wonder if I yanked 2 of the 4 supplies if the power efficiency would go up</td><td class="time"><a href="#t2017-04-03T19:49:09" class="time">19:49</a></td></tr>
<tr id="t2017-04-03T19:49:34"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">the machine is capable of running off one supply, but there is a warning that 1 supply may not have enough power if the chassis is loaded full of drives and ram</td><td class="time"><a href="#t2017-04-03T19:49:34" class="time">19:49</a></td></tr>
<tr id="t2017-04-03T19:49:43"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">(I'm nowhere near loaded on either...)</td><td class="time"><a href="#t2017-04-03T19:49:43" class="time">19:49</a></td></tr>
<tr id="t2017-04-03T19:50:54"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">Intel defines the TDP for each CPU at 165W...</td><td class="time"><a href="#t2017-04-03T19:50:54" class="time">19:50</a></td></tr>
<tr id="t2017-04-03T19:51:18"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">so that is 660 of the 1200 right there.. then add the cooling, drives, ram, raid card, etc..&nbsp;&nbsp;1200 isn't 'unreasonable'</td><td class="time"><a href="#t2017-04-03T19:51:18" class="time">19:51</a></td></tr>
<tr id="t2017-04-03T19:52:23"><td class="action" colspan="2">* fray should be able to shut down two of the supplies (remotely) and check....</td><td><a href="#t2017-04-03T19:52:23" class="time">19:52</a></td></tr>
<tr id="t2017-04-03T19:55:27"><th class="nick" style="background: #6464bf">fray</th><td class="text" style="color: #6464bf">ya, even with 2 of the supplied down -- it's showing input (AC) vs output (DC) power is still a 13% loss..</td><td class="time"><a href="#t2017-04-03T19:55:27" class="time">19:55</a></td></tr>
<tr id="t2017-04-03T20:16:25"><td class="other" colspan="2">-YoctoAutoBuilder- build #1080 of nightly-mips-lsb is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-mips-lsb/builds/1080" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-mips-lsb/builds/1080</a></td><td><a href="#t2017-04-03T20:16:25" class="time">20:16</a></td></tr>
<tr id="t2017-04-03T20:44:04"><td class="part" colspan="2">*** jairglez &lt;jairglez!~jairdeje@134.134.139.82&gt; has left #yocto</td><td><a href="#t2017-04-03T20:44:04" class="time">20:44</a></td></tr>
<tr id="t2017-04-03T21:02:52"><td class="other" colspan="2">-YoctoAutoBuilder- build #730 of nightly-arm64 is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-arm64/builds/730" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-arm64/builds/730</a></td><td><a href="#t2017-04-03T21:02:52" class="time">21:02</a></td></tr>
<tr id="t2017-04-03T21:03:59"><td class="nickchange" colspan="2">*** balister_ is now known as Crofton|work</td><td><a href="#t2017-04-03T21:03:59" class="time">21:03</a></td></tr>
<tr id="t2017-04-03T21:06:39"><td class="other" colspan="2">-YoctoAutoBuilder- build #1103 of nightly-x86-lsb is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x86-lsb/builds/1103" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x86-lsb/builds/1103</a></td><td><a href="#t2017-04-03T21:06:39" class="time">21:06</a></td></tr>
<tr id="t2017-04-03T21:08:58"><td class="other" colspan="2">-YoctoAutoBuilder- build #1105 of nightly-mips is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-mips/builds/1105" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-mips/builds/1105</a></td><td><a href="#t2017-04-03T21:08:58" class="time">21:08</a></td></tr>
<tr id="t2017-04-03T21:10:42"><td class="other" colspan="2">-YoctoAutoBuilder- build #1162 of nightly-x86-64 is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64/builds/1162" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64/builds/1162</a></td><td><a href="#t2017-04-03T21:10:42" class="time">21:10</a></td></tr>
<tr id="t2017-04-03T21:33:48"><td class="other" colspan="2">-YoctoAutoBuilder- build #1123 of nightly-x86 is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x86/builds/1123" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x86/builds/1123</a></td><td><a href="#t2017-04-03T21:33:48" class="time">21:33</a></td></tr>
<tr id="t2017-04-03T23:30:07"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">bluelightning: nice</td><td class="time"><a href="#t2017-04-03T23:30:07" class="time">23:30</a></td></tr>
<tr id="t2017-04-03T23:30:22"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">bluelightning: one issue, i think you accidentally depend on a newer python than bitbake acxtually requires right now:</td><td class="time"><a href="#t2017-04-03T23:30:22" class="time">23:30</a></td></tr>
<tr id="t2017-04-03T23:30:26"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">&nbsp;&nbsp;File "/data/kergoth/mel/elm/test/poky/bitbake/lib/bb/siggen.py", line 426</td><td class="time"><a href="#t2017-04-03T23:30:26" class="time">23:30</a></td></tr>
<tr id="t2017-04-03T23:30:26"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">&nbsp;&nbsp;&nbsp;&nbsp;return formatstr.format(**colors, **values)</td><td class="time"><a href="#t2017-04-03T23:30:26" class="time">23:30</a></td></tr>
<tr id="t2017-04-03T23:30:26"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^</td><td class="time"><a href="#t2017-04-03T23:30:26" class="time">23:30</a></td></tr>
<tr id="t2017-04-03T23:30:26"><th class="nick" style="background: #b15db1">kergoth</th><td class="text" style="color: #b15db1">SyntaxError: invalid syntax</td><td class="time"><a href="#t2017-04-03T23:30:26" class="time">23:30</a></td></tr>
<tr id="t2017-04-03T23:42:28"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">kergoth: argh, really?</td><td class="time"><a href="#t2017-04-03T23:42:28" class="time">23:42</a></td></tr>
<tr id="t2017-04-03T23:42:40"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">damn</td><td class="time"><a href="#t2017-04-03T23:42:40" class="time">23:42</a></td></tr>
<tr id="t2017-04-03T23:43:52"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">well, fairly easy to work around, at least with the way I structured it I only need to do it in one place...</td><td class="time"><a href="#t2017-04-03T23:43:52" class="time">23:43</a></td></tr>
<tr id="t2017-04-03T23:49:04"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">kergoth: fix pushed</td><td class="time"><a href="#t2017-04-03T23:49:04" class="time">23:49</a></td></tr>
<tr id="t2017-04-03T23:49:08"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">thanks</td><td class="time"><a href="#t2017-04-03T23:49:08" class="time">23:49</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2017-04-02.log.html">&#171; Sunday, 2017-04-02</a> <a href="index.html">Index</a> <a href="%23yocto.2017-04-04.log.html">Tuesday, 2017-04-04 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
