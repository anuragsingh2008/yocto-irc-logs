<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Wednesday, 2017-04-12</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Wednesday, 2017-04-12</h1>
<div class="navigation"> <a href="%23yocto.2017-04-11.log.html">&#171; Tuesday, 2017-04-11</a> <a href="index.html">Index</a> <a href="%23yocto.2017-04-13.log.html">Thursday, 2017-04-13 &#187;</a> </div>
<table class="irclog">
<tr id="t2017-04-12T00:04:49"><th class="nick" style="background: #407a40">m4t</th><td class="text" style="color: #407a40">khem: yes that's as far as i've gotten. even after setting DEB_BUILD_HARDENING=0 before running bitbake, i want to say that env variable is dropped somehow by the time host gcc is called. with that set to 0 and hardening-wrapper still installed, the builds continued to fail with Werror=format-string. i uninstalled the hardening-wrapper package and the build succeeded. not sure what's going on there...</td><td class="time"><a href="#t2017-04-12T00:04:49" class="time">00:04</a></td></tr>
<tr id="t2017-04-12T00:05:50"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">DEB_BUILD_HARDENING=0 is when you are using debian build system to do builds which OE doesnt</td><td class="time"><a href="#t2017-04-12T00:05:50" class="time">00:05</a></td></tr>
<tr id="t2017-04-12T00:06:38"><th class="nick" style="background: #407a40">m4t</th><td class="text" style="color: #407a40">it affects standalone calls to 'gcc' as well, from what i can tell. since gcc is just a symlink to hardening-wrapper on the host filesystem, it affects anything that uses gcc.</td><td class="time"><a href="#t2017-04-12T00:06:38" class="time">00:06</a></td></tr>
<tr id="t2017-04-12T00:07:23"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">hmm IIRC we called out to /usr/bin/gcc directly but you are saying thats a wrapper ?</td><td class="time"><a href="#t2017-04-12T00:07:23" class="time">00:07</a></td></tr>
<tr id="t2017-04-12T00:07:40"><th class="nick" style="background: #407a40">m4t</th><td class="text" style="color: #407a40">yes debian/ubuntu uses dpkg-divert and moves it to gcc.real or similar</td><td class="time"><a href="#t2017-04-12T00:07:40" class="time">00:07</a></td></tr>
<tr id="t2017-04-12T00:07:55"><th class="nick" style="background: #407a40">m4t</th><td class="text" style="color: #407a40">(only with the hardening-wrapper package installed)</td><td class="time"><a href="#t2017-04-12T00:07:55" class="time">00:07</a></td></tr>
<tr id="t2017-04-12T00:08:10"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">hmm, why cant they harden the toolchain default options</td><td class="time"><a href="#t2017-04-12T00:08:10" class="time">00:08</a></td></tr>
<tr id="t2017-04-12T00:08:13"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">like gentoo</td><td class="time"><a href="#t2017-04-12T00:08:13" class="time">00:08</a></td></tr>
<tr id="t2017-04-12T00:08:32"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">in anycase, we should try to fix these packages</td><td class="time"><a href="#t2017-04-12T00:08:32" class="time">00:08</a></td></tr>
<tr id="t2017-04-12T00:08:39"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">once for all</td><td class="time"><a href="#t2017-04-12T00:08:39" class="time">00:08</a></td></tr>
<tr id="t2017-04-12T00:08:56"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">instead of bypassing these compiler options IMO</td><td class="time"><a href="#t2017-04-12T00:08:56" class="time">00:08</a></td></tr>
<tr id="t2017-04-12T00:09:21"><th class="nick" style="background: #407a40">m4t</th><td class="text" style="color: #407a40">there are 2 patches in the patchwork queue that fixes gettext</td><td class="time"><a href="#t2017-04-12T00:09:21" class="time">00:09</a></td></tr>
<tr id="t2017-04-12T00:09:36"><th class="nick" style="background: #407a40">m4t</th><td class="text" style="color: #407a40">but yeah it's more than just that apparently..</td><td class="time"><a href="#t2017-04-12T00:09:36" class="time">00:09</a></td></tr>
<tr id="t2017-04-12T00:10:07"><th class="nick" style="background: #407a40">m4t</th><td class="text" style="color: #407a40"><a href="https://patchwork.openembedded.org/patch/137322/" rel="nofollow">https://patchwork.openembedded.org/patch/137322/</a> and <a href="https://patchwork.openembedded.org/patch/137323/" rel="nofollow">https://patchwork.openembedded.org/patch/137323/</a></td><td class="time"><a href="#t2017-04-12T00:10:07" class="time">00:10</a></td></tr>
<tr id="t2017-04-12T00:12:04"><th class="nick" style="background: #407a40">m4t</th><td class="text" style="color: #407a40">btw khem this is what hardening-wrapper does when it's installed, if you're curious: <a href="https://pastebin.com/4TLrV6UW" rel="nofollow">https://pastebin.com/4TLrV6UW</a></td><td class="time"><a href="#t2017-04-12T00:12:04" class="time">00:12</a></td></tr>
<tr id="t2017-04-12T00:13:56"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">yeah no worries I got the idea how its working</td><td class="time"><a href="#t2017-04-12T00:13:56" class="time">00:13</a></td></tr>
<tr id="t2017-04-12T00:14:28"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">but one could modify gcc defaults to enable certain options by default</td><td class="time"><a href="#t2017-04-12T00:14:28" class="time">00:14</a></td></tr>
<tr id="t2017-04-12T00:14:33"><th class="nick" style="background: #407a40">m4t</th><td class="text" style="color: #407a40">yep</td><td class="time"><a href="#t2017-04-12T00:14:33" class="time">00:14</a></td></tr>
<tr id="t2017-04-12T00:14:36"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">which they dont seem to have done</td><td class="time"><a href="#t2017-04-12T00:14:36" class="time">00:14</a></td></tr>
<tr id="t2017-04-12T00:20:25"><th class="nick" style="background: #407a40">m4t</th><td class="text" style="color: #407a40">i was able to get it working with the wrapper installed and enabled by adding this to /etc/hardening-wrapper.conf: DEB_BUILD_HARDENING_FORMAT=0. so ssp etc is still there but just not the -Werror=format-string.</td><td class="time"><a href="#t2017-04-12T00:20:25" class="time">00:20</a></td></tr>
<tr id="t2017-04-12T00:21:01"><th class="nick" style="background: #407a40">m4t</th><td class="text" style="color: #407a40">i guess bitbake strips environmental variables at some point before gcc is called? that'd explain why it was still failing before</td><td class="time"><a href="#t2017-04-12T00:21:01" class="time">00:21</a></td></tr>
<tr id="t2017-04-12T00:41:01"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">yes it flushes defaults</td><td class="time"><a href="#t2017-04-12T00:41:01" class="time">00:41</a></td></tr>
<tr id="t2017-04-12T00:41:20"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">you can add them to whitelist</td><td class="time"><a href="#t2017-04-12T00:41:20" class="time">00:41</a></td></tr>
<tr id="t2017-04-12T01:01:19"><th class="nick" style="background: #407a40">m4t</th><td class="text" style="color: #407a40">ah, thanks. i'll look into that.</td><td class="time"><a href="#t2017-04-12T01:01:19" class="time">01:01</a></td></tr>
<tr id="t2017-04-12T04:39:21"><td class="nickchange" colspan="2">*** dlan_ is now known as dlan</td><td><a href="#t2017-04-12T04:39:21" class="time">04:39</a></td></tr>
<tr id="t2017-04-12T05:46:20"><td class="other" colspan="2">-YoctoAutoBuilder- build #831 of nightly-world-lsb is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-world-lsb/builds/831" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-world-lsb/builds/831</a></td><td><a href="#t2017-04-12T05:46:20" class="time">05:46</a></td></tr>
<tr id="t2017-04-12T05:52:58"><th class="nick" style="background: #818144">piotr_</th><td class="text" style="color: #818144">I would like to have two different toochains for different architectures available and build selected recipies using this specific toolchain. What is the best/proposed way to do this?</td><td class="time"><a href="#t2017-04-12T05:52:58" class="time">05:52</a></td></tr>
<tr id="t2017-04-12T06:01:15"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">piotr_: inside a single build, you mean?</td><td class="time"><a href="#t2017-04-12T06:01:15" class="time">06:01</a></td></tr>
<tr id="t2017-04-12T06:07:09"><th class="nick" style="background: #818144">piotr_</th><td class="text" style="color: #818144">yes</td><td class="time"><a href="#t2017-04-12T06:07:09" class="time">06:07</a></td></tr>
<tr id="t2017-04-12T06:07:38"><th class="nick" style="background: #818144">piotr_</th><td class="text" style="color: #818144">i have a special SoC, which has 3 CPUs, dual A9 and CM3</td><td class="time"><a href="#t2017-04-12T06:07:38" class="time">06:07</a></td></tr>
<tr id="t2017-04-12T06:07:48"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">piotr_: care to explain the usecase a bit? like, compiling and bundling in firmware?</td><td class="time"><a href="#t2017-04-12T06:07:48" class="time">06:07</a></td></tr>
<tr id="t2017-04-12T06:08:05"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">ah well a9 and cm3 are no different arches, but only tunes :-)</td><td class="time"><a href="#t2017-04-12T06:08:05" class="time">06:08</a></td></tr>
<tr id="t2017-04-12T06:08:50"><th class="nick" style="background: #818144">piotr_</th><td class="text" style="color: #818144">the default tune is cortexa9, so the SDK and apps are build using this tune</td><td class="time"><a href="#t2017-04-12T06:08:50" class="time">06:08</a></td></tr>
<tr id="t2017-04-12T06:09:06"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">except maybe if the cm3 need none-eabi, hmmm.</td><td class="time"><a href="#t2017-04-12T06:09:06" class="time">06:09</a></td></tr>
<tr id="t2017-04-12T06:09:28"><th class="nick" style="background: #818144">piotr_</th><td class="text" style="color: #818144">in my case what i need to do is to build a CM3 SW, and include the binary in the A9 rootfs</td><td class="time"><a href="#t2017-04-12T06:09:28" class="time">06:09</a></td></tr>
<tr id="t2017-04-12T06:10:08"><th class="nick" style="background: #818144">piotr_</th><td class="text" style="color: #818144">and i would like to build it using one command, like bitbake my-image</td><td class="time"><a href="#t2017-04-12T06:10:08" class="time">06:10</a></td></tr>
<tr id="t2017-04-12T06:10:36"><th class="nick" style="background: #818144">piotr_</th><td class="text" style="color: #818144">and at the same time i would like to have an sdk from CM3</td><td class="time"><a href="#t2017-04-12T06:10:36" class="time">06:10</a></td></tr>
<tr id="t2017-04-12T06:11:05"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">i see. my first idea would be to see if you can leverage something from <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/log/?h=juro/meta-zephyr" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/log/?h=juro/meta-zephyr</a></td><td class="time"><a href="#t2017-04-12T06:11:05" class="time">06:11</a></td></tr>
<tr id="t2017-04-12T06:11:47"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">because thats basically what you just described: building firmware (in that case, zephyr) for some simpler SoC</td><td class="time"><a href="#t2017-04-12T06:11:47" class="time">06:11</a></td></tr>
<tr id="t2017-04-12T06:12:08"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">the rest should be just packageing and dependencies in my understanding</td><td class="time"><a href="#t2017-04-12T06:12:08" class="time">06:12</a></td></tr>
<tr id="t2017-04-12T06:21:53"><th class="nick" style="background: #818144">piotr_</th><td class="text" style="color: #818144">hmm, maybe i could just change the default tunes for the CM3 recipe?</td><td class="time"><a href="#t2017-04-12T06:21:53" class="time">06:21</a></td></tr>
<tr id="t2017-04-12T06:22:27"><th class="nick" style="background: #818144">piotr_</th><td class="text" style="color: #818144">and add dependency to the new cross compiler just like it is done in zephyr?</td><td class="time"><a href="#t2017-04-12T06:22:27" class="time">06:22</a></td></tr>
<tr id="t2017-04-12T06:23:05"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">piotr_: i don't know the inner workings all too well, sorry. it was just my first thought.</td><td class="time"><a href="#t2017-04-12T06:23:05" class="time">06:23</a></td></tr>
<tr id="t2017-04-12T07:00:46"><th class="nick" style="background: #488888">Tamis</th><td class="text" style="color: #488888">If I want to submit a patch to poky. What's the official way? Is this guide valid? <a href="https://wiki.yoctoproject.org/wiki/Poky_Contributions" rel="nofollow">https://wiki.yoctoproject.org/wiki/Poky_Contributions</a></td><td class="time"><a href="#t2017-04-12T07:00:46" class="time">07:00</a></td></tr>
<tr id="t2017-04-12T07:04:00"><th class="nick" style="background: #8c4a4a">nrossi</th><td class="text" style="color: #8c4a4a">Tamis: you don't submit to poky, you will need to submit to one of the sub-projects (bitbake, oe-core, meta-yocto)</td><td class="time"><a href="#t2017-04-12T07:04:00" class="time">07:04</a></td></tr>
<tr id="t2017-04-12T07:04:46"><th class="nick" style="background: #8c4a4a">nrossi</th><td class="text" style="color: #8c4a4a">(well they are not sub-projects, but poky is just a git repo which is a merge of those three projects)</td><td class="time"><a href="#t2017-04-12T07:04:46" class="time">07:04</a></td></tr>
<tr id="t2017-04-12T07:10:59"><th class="nick" style="background: #488888">Tamis</th><td class="text" style="color: #488888">nrossi: ok I think I found it. I have to submit oe-core</td><td class="time"><a href="#t2017-04-12T07:10:59" class="time">07:10</a></td></tr>
<tr id="t2017-04-12T07:12:09"><th class="nick" style="background: #488888">Tamis</th><td class="text" style="color: #488888">nrossi: Thanks a lot. I will search of how to do it there, first.</td><td class="time"><a href="#t2017-04-12T07:12:09" class="time">07:12</a></td></tr>
<tr id="t2017-04-12T07:13:52"><th class="nick" style="background: #8c4a4a">nrossi</th><td class="text" style="color: #8c4a4a">Tamis: There is a nice wiki page that describes how to go about it <a href="http://www.openembedded.org/wiki/How_to_submit_a_patch_to_OpenEmbedded" rel="nofollow">http://www.openembedded.org/wiki/How_to_submit_a_patch_to_OpenEmbedded</a></td><td class="time"><a href="#t2017-04-12T07:13:52" class="time">07:13</a></td></tr>
<tr id="t2017-04-12T07:14:19"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">nrossi: did you manage to send that patch? I have someone else with that issue :/</td><td class="time"><a href="#t2017-04-12T07:14:19" class="time">07:14</a></td></tr>
<tr id="t2017-04-12T07:14:39"><th class="nick" style="background: #8c4a4a">nrossi</th><td class="text" style="color: #8c4a4a">RP: i sent both out yesterday, even Cc'd you on both :)</td><td class="time"><a href="#t2017-04-12T07:14:39" class="time">07:14</a></td></tr>
<tr id="t2017-04-12T07:15:08"><th class="nick" style="background: #488888">Tamis</th><td class="text" style="color: #488888">nrossi: Thanks a lot again!</td><td class="time"><a href="#t2017-04-12T07:15:08" class="time">07:15</a></td></tr>
<tr id="t2017-04-12T07:15:44"><th class="nick" style="background: #8c4a4a">nrossi</th><td class="text" style="color: #8c4a4a">RP: bitbake one -&gt; <a href="https://patchwork.openembedded.org/patch/139031/" rel="nofollow">https://patchwork.openembedded.org/patch/139031/</a></td><td class="time"><a href="#t2017-04-12T07:15:44" class="time">07:15</a></td></tr>
<tr id="t2017-04-12T07:16:08"><th class="nick" style="background: #8c4a4a">nrossi</th><td class="text" style="color: #8c4a4a">RP: oe busybox one -&gt; <a href="https://patchwork.openembedded.org/patch/139036/" rel="nofollow">https://patchwork.openembedded.org/patch/139036/</a></td><td class="time"><a href="#t2017-04-12T07:16:08" class="time">07:16</a></td></tr>
<tr id="t2017-04-12T07:16:57"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">nrossi: I'm pleased I asked as I have no record of these in my email :/</td><td class="time"><a href="#t2017-04-12T07:16:57" class="time">07:16</a></td></tr>
<tr id="t2017-04-12T07:17:55"><th class="nick" style="background: #8c4a4a">nrossi</th><td class="text" style="color: #8c4a4a">RP: hmm odd, they didn't get put in your spam folder ?</td><td class="time"><a href="#t2017-04-12T07:17:55" class="time">07:17</a></td></tr>
<tr id="t2017-04-12T07:20:45"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">nrossi: literally no mention of these even in my mail logs on the server :/</td><td class="time"><a href="#t2017-04-12T07:20:45" class="time">07:20</a></td></tr>
<tr id="t2017-04-12T07:22:01"><th class="nick" style="background: #8c4a4a">nrossi</th><td class="text" style="color: #8c4a4a">RP: let me send you an email directly, let me know if you get it.</td><td class="time"><a href="#t2017-04-12T07:22:01" class="time">07:22</a></td></tr>
<tr id="t2017-04-12T07:30:21"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">nrossi: I can see if on my mail server but its deferred, not sure why. Something isn't right :(</td><td class="time"><a href="#t2017-04-12T07:30:21" class="time">07:30</a></td></tr>
<tr id="t2017-04-12T07:32:17"><th class="nick" style="background: #8c4a4a">nrossi</th><td class="text" style="color: #8c4a4a">RP: sounds odd, if you get any more info let me know. If it matters I am using gmail for smtp</td><td class="time"><a href="#t2017-04-12T07:32:17" class="time">07:32</a></td></tr>
<tr id="t2017-04-12T07:41:38"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2017-04-12T07:41:38" class="time">07:41</a></td></tr>
<tr id="t2017-04-12T08:07:57"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">nrossi: it did come through in the end, unlike these list emails which I can't find</td><td class="time"><a href="#t2017-04-12T08:07:57" class="time">08:07</a></td></tr>
<tr id="t2017-04-12T08:25:51"><th class="nick" style="background: #4d4d93">mcfrisk</th><td class="text" style="color: #4d4d93">Hi, is there a way to detect recipes which have do_compile[noexec] = "1"? I run some static analysis tools over all recipes in our build and would like to skip all which don't have a do_compile task. grepping 'bitbake -e' output for every recipe feels a bit wrong..</td><td class="time"><a href="#t2017-04-12T08:25:51" class="time">08:25</a></td></tr>
<tr id="t2017-04-12T10:56:30"><td class="nickchange" colspan="2">*** morphis_ is now known as morphis</td><td><a href="#t2017-04-12T10:56:30" class="time">10:56</a></td></tr>
<tr id="t2017-04-12T11:02:42"><th class="nick" style="background: #97974f">JoiF</th><td class="text" style="color: #97974f">I modified a dtsi and I'm trying to do a rebuild..</td><td class="time"><a href="#t2017-04-12T11:02:42" class="time">11:02</a></td></tr>
<tr id="t2017-04-12T11:02:47"><th class="nick" style="background: #97974f">JoiF</th><td class="text" style="color: #97974f">But it won't&nbsp;&nbsp;:/</td><td class="time"><a href="#t2017-04-12T11:02:47" class="time">11:02</a></td></tr>
<tr id="t2017-04-12T11:09:03"><th class="nick" style="background: #97974f">JoiF</th><td class="text" style="color: #97974f">So I'm wondering what I need to "touch" or do to make it rebuild?</td><td class="time"><a href="#t2017-04-12T11:09:03" class="time">11:09</a></td></tr>
<tr id="t2017-04-12T11:46:44"><th class="nick" style="background: #9b519b">jku</th><td class="text" style="color: #9b519b">JoiF: you modified source code in workdir? "bitbake -C compile &lt;recipe&gt;" will invalidate the compile stamp and run default task</td><td class="time"><a href="#t2017-04-12T11:46:44" class="time">11:46</a></td></tr>
<tr id="t2017-04-12T11:48:42"><th class="nick" style="background: #9b519b">jku</th><td class="text" style="color: #9b519b">ah "dtsi". I should really start reading whole lines. That was the 3rd time responding without reading the whole thing today...</td><td class="time"><a href="#t2017-04-12T11:48:42" class="time">11:48</a></td></tr>
<tr id="t2017-04-12T11:52:17"><th class="nick" style="background: #9b519b">jku</th><td class="text" style="color: #9b519b">is this really the cleanest oneliner for this purpose:</td><td class="time"><a href="#t2017-04-12T11:52:17" class="time">11:52</a></td></tr>
<tr id="t2017-04-12T11:52:20"><th class="nick" style="background: #9b519b">jku</th><td class="text" style="color: #9b519b">EXTRA_OECONF_append_class-target = "${@['', ' --disable-gettext '][(d.getVar('USE_NLS') == 'no')]}"</td><td class="time"><a href="#t2017-04-12T11:52:20" class="time">11:52</a></td></tr>
<tr id="t2017-04-12T11:52:48"><th class="nick" style="background: #9b519b">jku</th><td class="text" style="color: #9b519b">I'd like to do pretty much that but that line makes my head hurt</td><td class="time"><a href="#t2017-04-12T11:52:48" class="time">11:52</a></td></tr>
<tr id="t2017-04-12T11:59:40"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">jku: ${@ ' --disable-gettext ' if d.getVar('USE_NLS') == 'no' else '--enable-gettext' }</td><td class="time"><a href="#t2017-04-12T11:59:40" class="time">11:59</a></td></tr>
<tr id="t2017-04-12T12:00:15"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">Or empty&nbsp;&nbsp;string instead of --enable-gettext, as in your array.</td><td class="time"><a href="#t2017-04-12T12:00:15" class="time">12:00</a></td></tr>
<tr id="t2017-04-12T12:00:58"><th class="nick" style="background: #9b519b">jku</th><td class="text" style="color: #9b519b">pohly: thanks, that looks much more reasonable</td><td class="time"><a href="#t2017-04-12T12:00:58" class="time">12:00</a></td></tr>
<tr id="t2017-04-12T12:01:49"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">I think the array trick pre-dates the if ... else construct in Python.</td><td class="time"><a href="#t2017-04-12T12:01:49" class="time">12:01</a></td></tr>
<tr id="t2017-04-12T12:17:10"><td class="nickchange" colspan="2">*** RP1 is now known as RP</td><td><a href="#t2017-04-12T12:17:10" class="time">12:17</a></td></tr>
<tr id="t2017-04-12T12:20:56"><th class="nick" style="background: #a25555">phako[m]</th><td class="text" style="color: #a25555">what would you recommend as a beginners guide to yocto?</td><td class="time"><a href="#t2017-04-12T12:20:56" class="time">12:20</a></td></tr>
<tr id="t2017-04-12T12:21:17"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">phako[m]: the yocto quick start :)</td><td class="time"><a href="#t2017-04-12T12:21:17" class="time">12:21</a></td></tr>
<tr id="t2017-04-12T12:21:19"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">phako[m]: <a href="https://www.yoctoproject.org/docs/current/yocto-project-qs/yocto-project-qs.html" rel="nofollow">https://www.yoctoproject.org/docs/current/yocto-project-qs/yocto-project-qs.html</a></td><td class="time"><a href="#t2017-04-12T12:21:19" class="time">12:21</a></td></tr>
<tr id="t2017-04-12T12:22:30"><th class="nick" style="background: #a25555">phako[m]</th><td class="text" style="color: #a25555">ah</td><td class="time"><a href="#t2017-04-12T12:22:30" class="time">12:22</a></td></tr>
<tr id="t2017-04-12T12:22:30"><th class="nick" style="background: #a25555">phako[m]</th><td class="text" style="color: #a25555">thx</td><td class="time"><a href="#t2017-04-12T12:22:30" class="time">12:22</a></td></tr>
<tr id="t2017-04-12T13:07:00"><th class="nick" style="background: #57a657">yourfate</th><td class="text" style="color: #57a657">if I want to compile a device tree for a dev board, do I need to use a dtc specifically for that board or can I use any?</td><td class="time"><a href="#t2017-04-12T13:07:00" class="time">13:07</a></td></tr>
<tr id="t2017-04-12T13:14:35"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jku: Can I squash <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/wip-rss2&amp;id=73173211f1a53d3fea18dbd93a3254dae203e893" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/wip-rss2&amp;id=73173211f1a53d3fea18dbd93a3254dae203e893</a> into your nativesdk distro_features change?</td><td class="time"><a href="#t2017-04-12T13:14:35" class="time">13:14</a></td></tr>
<tr id="t2017-04-12T13:16:23"><th class="nick" style="background: #9b519b">jku</th><td class="text" style="color: #9b519b">RP: sure</td><td class="time"><a href="#t2017-04-12T13:16:23" class="time">13:16</a></td></tr>
<tr id="t2017-04-12T13:16:42"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jku: that fixed issues the AB tests identified</td><td class="time"><a href="#t2017-04-12T13:16:42" class="time">13:16</a></td></tr>
<tr id="t2017-04-12T13:20:59"><th class="nick" style="background: #9b519b">jku</th><td class="text" style="color: #9b519b">RP: out of interest, what was the issue that needs libc-locales et al?</td><td class="time"><a href="#t2017-04-12T13:20:59" class="time">13:20</a></td></tr>
<tr id="t2017-04-12T13:21:38"><th class="nick" style="background: #9b519b">jku</th><td class="text" style="color: #9b519b">or is that just because it's sensible</td><td class="time"><a href="#t2017-04-12T13:21:38" class="time">13:21</a></td></tr>
<tr id="t2017-04-12T13:23:17"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jku: nativesdk-glibc-locales won't build without it</td><td class="time"><a href="#t2017-04-12T13:23:17" class="time">13:23</a></td></tr>
<tr id="t2017-04-12T14:02:47"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">pohly: why the long list of hardcoded tasks in the compat script?</td><td class="time"><a href="#t2017-04-12T14:02:47" class="time">14:02</a></td></tr>
<tr id="t2017-04-12T14:03:06"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">RP: because determining them at runtime is harder.</td><td class="time"><a href="#t2017-04-12T14:03:06" class="time">14:03</a></td></tr>
<tr id="t2017-04-12T14:03:17"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">pohly: why do we need a list at all?</td><td class="time"><a href="#t2017-04-12T14:03:17" class="time">14:03</a></td></tr>
<tr id="t2017-04-12T14:04:29"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">So that the tool knows that it should look at do_fetch before do_compile when both have signature differences, and then can prune do_compile entirely if the machine tuples are the same.</td><td class="time"><a href="#t2017-04-12T14:04:29" class="time">14:04</a></td></tr>
<tr id="t2017-04-12T14:04:50"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">In other words, start looking for a relevant difference at the start of building a recipe.</td><td class="time"><a href="#t2017-04-12T14:04:50" class="time">14:04</a></td></tr>
<tr id="t2017-04-12T14:05:58"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">pohly: I don't like having a hardcoded list like this at all, especially if it encodes relationships between the tasks :(</td><td class="time"><a href="#t2017-04-12T14:05:58" class="time">14:05</a></td></tr>
<tr id="t2017-04-12T14:07:12"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">RP: it's not crucial to have the list absolutely correct. If a task isn't found or the order is slightly off, then it just won't pick the best task to look at.</td><td class="time"><a href="#t2017-04-12T14:07:12" class="time">14:07</a></td></tr>
<tr id="t2017-04-12T14:08:00"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">The alternative is to pick one machine, generate the depgraph, and derive the current list from that. Doable.</td><td class="time"><a href="#t2017-04-12T14:08:00" class="time">14:08</a></td></tr>
<tr id="t2017-04-12T14:08:41"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">pohly: I think that sounds better, I have a very strong dislike of maintaining two sets of the same information</td><td class="time"><a href="#t2017-04-12T14:08:41" class="time">14:08</a></td></tr>
<tr id="t2017-04-12T14:09:03"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">Can we treat that as an enhancement for 2.4 in Bugzilla, with me as owner so that we don't forget?</td><td class="time"><a href="#t2017-04-12T14:09:03" class="time">14:09</a></td></tr>
<tr id="t2017-04-12T14:09:25"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">pohly: We can certainly do that but I don't think I can take the current patch</td><td class="time"><a href="#t2017-04-12T14:09:25" class="time">14:09</a></td></tr>
<tr id="t2017-04-12T14:09:57"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">Can you take it without the hard-coded list?</td><td class="time"><a href="#t2017-04-12T14:09:57" class="time">14:09</a></td></tr>
<tr id="t2017-04-12T14:11:07"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">pohly: yes</td><td class="time"><a href="#t2017-04-12T14:11:07" class="time">14:11</a></td></tr>
<tr id="t2017-04-12T14:11:53"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">pohly: signature change stuff looks good, passed the tests and is merged btw, thanks</td><td class="time"><a href="#t2017-04-12T14:11:53" class="time">14:11</a></td></tr>
<tr id="t2017-04-12T14:11:54"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">I can see how much work it is to create the list dynamically. What's my deadline for such a patch (besides me "going on vacation on Friday")? If I don't get it done, plan B is to fall back to sorting alphabetically (not very developer friendly, but better than nothing).</td><td class="time"><a href="#t2017-04-12T14:11:54" class="time">14:11</a></td></tr>
<tr id="t2017-04-12T14:12:22"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">pohly: it depends how long it takes to get the fixes for runqemu really</td><td class="time"><a href="#t2017-04-12T14:12:22" class="time">14:12</a></td></tr>
<tr id="t2017-04-12T14:35:23"><td class="part" colspan="2">*** csanchezdll &lt;csanchezdll!~user@galileo.kdpof.com&gt; has left #yocto</td><td><a href="#t2017-04-12T14:35:23" class="time">14:35</a></td></tr>
<tr id="t2017-04-12T14:52:30"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">RP: "fixes for runqemu" = running in commands via serial console fails? That's that I'm currently seeing.</td><td class="time"><a href="#t2017-04-12T14:52:30" class="time">14:52</a></td></tr>
<tr id="t2017-04-12T14:52:40"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">in oe-selftest</td><td class="time"><a href="#t2017-04-12T14:52:40" class="time">14:52</a></td></tr>
<tr id="t2017-04-12T14:53:19"><th class="nick" style="background: #5959a9">ed2</th><td class="text" style="color: #5959a9">pohly: in which branch?</td><td class="time"><a href="#t2017-04-12T14:53:19" class="time">14:53</a></td></tr>
<tr id="t2017-04-12T14:54:05"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">ed2: master from yesterday</td><td class="time"><a href="#t2017-04-12T14:54:05" class="time">14:54</a></td></tr>
<tr id="t2017-04-12T14:54:18"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">I haven't looked at it in detail.</td><td class="time"><a href="#t2017-04-12T14:54:18" class="time">14:54</a></td></tr>
<tr id="t2017-04-12T14:54:31"><th class="nick" style="background: #5959a9">ed2</th><td class="text" style="color: #5959a9">pohly: I'll check it out. I'm working on it anyway.</td><td class="time"><a href="#t2017-04-12T14:54:31" class="time">14:54</a></td></tr>
<tr id="t2017-04-12T14:54:41"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">For me, it'</td><td class="time"><a href="#t2017-04-12T14:54:41" class="time">14:54</a></td></tr>
<tr id="t2017-04-12T14:55:11"><th class="nick" style="background: #5959a9">ed2</th><td class="text" style="color: #5959a9">pohly: any details on how exactly it breaks?</td><td class="time"><a href="#t2017-04-12T14:55:11" class="time">14:55</a></td></tr>
<tr id="t2017-04-12T14:55:55"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">run_serial fails to execute a command, leading to:</td><td class="time"><a href="#t2017-04-12T14:55:55" class="time">14:55</a></td></tr>
<tr id="t2017-04-12T14:55:55"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">AssertionError: 1 != 0 : Failed to run command "findmnt / --output SOURCE --noheadings":</td><td class="time"><a href="#t2017-04-12T14:55:55" class="time">14:55</a></td></tr>
<tr id="t2017-04-12T14:55:55"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">t</td><td class="time"><a href="#t2017-04-12T14:55:55" class="time">14:55</a></td></tr>
<tr id="t2017-04-12T14:56:04"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">Apparently "t" is the output that it got.</td><td class="time"><a href="#t2017-04-12T14:56:04" class="time">14:56</a></td></tr>
<tr id="t2017-04-12T14:56:45"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">I also have the "command: not found" error when logging in manually. Perhaps that's it.</td><td class="time"><a href="#t2017-04-12T14:56:45" class="time">14:56</a></td></tr>
<tr id="t2017-04-12T14:57:24"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">Is that fixed in current master(-next)? RP pointed it out on the list, at least, so it is a known issue.</td><td class="time"><a href="#t2017-04-12T14:57:24" class="time">14:57</a></td></tr>
<tr id="t2017-04-12T14:57:56"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">Either way, I need to update before investigating.</td><td class="time"><a href="#t2017-04-12T14:57:56" class="time">14:57</a></td></tr>
<tr id="t2017-04-12T15:01:34"><th class="nick" style="background: #5959a9">ed2</th><td class="text" style="color: #5959a9">I looked at runqemu code today. it looks like when runqemu runs from bitbake, it still tries to use global sysroot. I don't know how does it work at all.</td><td class="time"><a href="#t2017-04-12T15:01:34" class="time">15:01</a></td></tr>
<tr id="t2017-04-12T15:19:01"><td class="other" colspan="2">-YoctoAutoBuilder- build #1209 of nightly is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly/builds/1209" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly/builds/1209</a></td><td><a href="#t2017-04-12T15:19:01" class="time">15:19</a></td></tr>
<tr id="t2017-04-12T15:22:02"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur: Any idea on timescales on the useradd issue? I'm getting a bit worried about when I can run the release build as this is looking like the blocker :/</td><td class="time"><a href="#t2017-04-12T15:22:02" class="time">15:22</a></td></tr>
<tr id="t2017-04-12T15:24:48"><th class="nick" style="background: #adad5b">Saur</th><td class="text" style="color: #adad5b"> RP: I worked on it all through the night, and made some progress. But I still have a hard time to untangle all combinations of prepare_recipe_sysroot, populate_sysroot, various setscene tasks, etc...</td><td class="time"><a href="#t2017-04-12T15:24:48" class="time">15:24</a></td></tr>
<tr id="t2017-04-12T15:25:01"><th class="nick" style="background: #539e9e">pohly</th><td class="text" style="color: #539e9e">RP: FYI, I'm about to send a revised patch series with the task list determined dynamically.</td><td class="time"><a href="#t2017-04-12T15:25:01" class="time">15:25</a></td></tr>
<tr id="t2017-04-12T15:26:50"><th class="nick" style="background: #adad5b">Saur</th><td class="text" style="color: #adad5b">RP: There is code in useradd_sysroot_sstate() to create a ${RECIPE_SYSROOT}${bindir}/postinst-useradd-${PN} file. I tried to create that as ${SYSROOT_DESTDIR}${bindir}/postinst-useradd-${PN} from SYSROOT_PREPROCESS_FUNCS instead and that improved things a little. Then I had to get an hour of sleep...</td><td class="time"><a href="#t2017-04-12T15:26:50" class="time">15:26</a></td></tr>
<tr id="t2017-04-12T15:30:57"><th class="nick" style="background: #adad5b">Saur</th><td class="text" style="color: #adad5b">RP: I have pushed what I have to pkj/fix_useradd on git@git.yoctoproject.org:poky-contrib</td><td class="time"><a href="#t2017-04-12T15:30:57" class="time">15:30</a></td></tr>
<tr id="t2017-04-12T15:31:38"><th class="nick" style="background: #adad5b">Saur</th><td class="text" style="color: #adad5b">RP: I split your commit in two since I really liked what you did with useradd.py regardless of the other matter.</td><td class="time"><a href="#t2017-04-12T15:31:38" class="time">15:31</a></td></tr>
<tr id="t2017-04-12T15:32:47"><th class="nick" style="background: #adad5b">Saur</th><td class="text" style="color: #adad5b">RP: I have fixed some minor problems and renamed the two split_ functions to give them more appropriate names.</td><td class="time"><a href="#t2017-04-12T15:32:47" class="time">15:32</a></td></tr>
<tr id="t2017-04-12T15:33:17"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur: makes sense, you can see where I was going with it</td><td class="time"><a href="#t2017-04-12T15:33:17" class="time">15:33</a></td></tr>
<tr id="t2017-04-12T15:36:05"><th class="nick" style="background: #adad5b">Saur</th><td class="text" style="color: #adad5b">RP: Not really, actually. :) To me, having a postinst-useradd-${PN} file in the sysroot for all recipes that add users/groups and running them after copying ${datadir}/base-passwd/passwd.master to ${sysconfdir} should do the trick, as&nbsp;&nbsp;long as it is done in all possible situations where the sysroot is setup...</td><td class="time"><a href="#t2017-04-12T15:36:05" class="time">15:36</a></td></tr>
<tr id="t2017-04-12T15:39:23"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur: hmm, I'm just looking at this all again and I think I'm misremembering details :/</td><td class="time"><a href="#t2017-04-12T15:39:23" class="time">15:39</a></td></tr>
<tr id="t2017-04-12T15:39:54"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur: I'll spend a few minutes on this, see if I can get anywhere</td><td class="time"><a href="#t2017-04-12T15:39:54" class="time">15:39</a></td></tr>
<tr id="t2017-04-12T15:40:19"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur: I'd forgotten that useradd now creates those postinst files</td><td class="time"><a href="#t2017-04-12T15:40:19" class="time">15:40</a></td></tr>
<tr id="t2017-04-12T15:40:21"><th class="nick" style="background: #adad5b">Saur</th><td class="text" style="color: #adad5b">Please do, I will not have any time to work on it today anyway.</td><td class="time"><a href="#t2017-04-12T15:40:21" class="time">15:40</a></td></tr>
<tr id="t2017-04-12T15:40:34"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur: having those available helps a lot</td><td class="time"><a href="#t2017-04-12T15:40:34" class="time">15:40</a></td></tr>
<tr id="t2017-04-12T15:41:14"><th class="nick" style="background: #adad5b">Saur</th><td class="text" style="color: #adad5b">RP: But I have not been able to see them being used, at least not until I added my code to create them in ${SYSROOT_DESTDIR} instead of ${RECIPE_SYSROOT}...</td><td class="time"><a href="#t2017-04-12T15:41:14" class="time">15:41</a></td></tr>
<tr id="t2017-04-12T15:43:27"><th class="nick" style="background: #adad5b">Saur</th><td class="text" style="color: #adad5b">RP: Btw, another thing. AFAICT, with the current implementation, users/groups created in a dependency are never being made available in the sysroot for the recipe with the dependencies. This is a change compared to before. However, personally I like it as I think each recipe should be responsible for creating all users/groups it needs, but others may disagree. Anyway you need to decide whether this is how it should be or not...</td><td class="time"><a href="#t2017-04-12T15:43:27" class="time">15:43</a></td></tr>
<tr id="t2017-04-12T15:45:53"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur: your change looks right. How this works at all I'm also not sure :/</td><td class="time"><a href="#t2017-04-12T15:45:53" class="time">15:45</a></td></tr>
<tr id="t2017-04-12T15:46:30"><th class="nick" style="background: #adad5b">Saur</th><td class="text" style="color: #adad5b">RP: Well, that's kinda the problem. It doesn't work as it was. ;)</td><td class="time"><a href="#t2017-04-12T15:46:30" class="time">15:46</a></td></tr>
<tr id="t2017-04-12T15:47:55"><th class="nick" style="background: #adad5b">Saur</th><td class="text" style="color: #adad5b">RP: But even with my change, things are not working as I expect them to. I can see the postinst function of a recipe I depend on being run, but still the users it creates do not appear in the passwd file of my sysroot...</td><td class="time"><a href="#t2017-04-12T15:47:55" class="time">15:47</a></td></tr>
<tr id="t2017-04-12T15:49:06"><th class="nick" style="background: #adad5b">Saur</th><td class="text" style="color: #adad5b">RP: Unfortunately I have to run now to drive my son to floorball practice.</td><td class="time"><a href="#t2017-04-12T15:49:06" class="time">15:49</a></td></tr>
<tr id="t2017-04-12T15:49:57"><th class="nick" style="background: #adad5b">Saur</th><td class="text" style="color: #adad5b">RP: But if you make any more findings, keep me posted.</td><td class="time"><a href="#t2017-04-12T15:49:57" class="time">15:49</a></td></tr>
<tr id="t2017-04-12T15:56:46"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur: will do</td><td class="time"><a href="#t2017-04-12T15:56:46" class="time">15:56</a></td></tr>
<tr id="t2017-04-12T16:10:53"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2017-04-12T16:10:53" class="time">16:10</a></td></tr>
<tr id="t2017-04-12T16:50:32"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Say recipe A creates a user and recipe B depends on A. We can make recipe B create recipe A's users in it sysroot but we need the useradd tools. We don't want to have to markup up every recipe which indirectly depends on a recipe which uses adduser. So how do we solve this in an RSS world? :(</td><td class="time"><a href="#t2017-04-12T16:50:32" class="time">16:50</a></td></tr>
<tr id="t2017-04-12T16:50:43"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur: ^^^</td><td class="time"><a href="#t2017-04-12T16:50:43" class="time">16:50</a></td></tr>
<tr id="t2017-04-12T16:51:57"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">Doesn't recipe B have a depednency on the useradd tools?</td><td class="time"><a href="#t2017-04-12T16:51:57" class="time">16:51</a></td></tr>
<tr id="t2017-04-12T16:54:55"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">fray: no, why would it?</td><td class="time"><a href="#t2017-04-12T16:54:55" class="time">16:54</a></td></tr>
<tr id="t2017-04-12T16:55:17"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">fray: A does the user creation and B may or may not care about that</td><td class="time"><a href="#t2017-04-12T16:55:17" class="time">16:55</a></td></tr>
<tr id="t2017-04-12T16:55:36"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">Sorry then A..</td><td class="time"><a href="#t2017-04-12T16:55:36" class="time">16:55</a></td></tr>
<tr id="t2017-04-12T16:55:47"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">If B requires A, and A has to add a user.. then A needs a dependency on the useradd tooling</td><td class="time"><a href="#t2017-04-12T16:55:47" class="time">16:55</a></td></tr>
<tr id="t2017-04-12T16:56:02"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">fray: so the tools are in the RSS for A, however when we create the sysroot for B, we need the tools</td><td class="time"><a href="#t2017-04-12T16:56:02" class="time">16:56</a></td></tr>
<tr id="t2017-04-12T16:56:22"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">they are not in the RSS for B, nor is there a dependency to pull them in</td><td class="time"><a href="#t2017-04-12T16:56:22" class="time">16:56</a></td></tr>
<tr id="t2017-04-12T16:56:28"><th class="nick" style="background: #5fb4b4">lsandov</th><td class="text" style="color: #5fb4b4"><a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=7724" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=7724</a></td><td class="time"><a href="#t2017-04-12T16:56:28" class="time">16:56</a></td></tr>
<tr id="t2017-04-12T16:56:29"><th class="nick" style="background: #b86161">yocti</th><td class="text" style="color: #b86161">Bug 7724: major, Medium, 2.4 M1, leonardo.sandoval.gonzalez, NEW , useradd.bbclass users cannot be safely referred to by dependent recipes due to sstate-induced race with base-passwd</td><td class="time"><a href="#t2017-04-12T16:56:29" class="time">16:56</a></td></tr>
<tr id="t2017-04-12T16:57:29"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">The tools for adding users is small enough, why can't they be available to all RSS?&nbsp;&nbsp;Since we know that all RSS will need at least minimal users being created (base-files), if not more.</td><td class="time"><a href="#t2017-04-12T16:57:29" class="time">16:57</a></td></tr>
<tr id="t2017-04-12T16:58:08"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">Dependency inheritance of certain types is really needed for these types of host tools that are not generally available otherwise</td><td class="time"><a href="#t2017-04-12T16:58:08" class="time">16:58</a></td></tr>
<tr id="t2017-04-12T16:58:14"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">fray: there is no such mechanism and you'd have to remove circular dependencies</td><td class="time"><a href="#t2017-04-12T16:58:14" class="time">16:58</a></td></tr>
<tr id="t2017-04-12T16:58:34"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">fray: the dependency chain turns out not to be so small either iirc</td><td class="time"><a href="#t2017-04-12T16:58:34" class="time">16:58</a></td></tr>
<tr id="t2017-04-12T16:59:06"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">I realize there is no mechanism -- but requiring Package A, that has a need for some tool as part of a postinstall script.. is pretty standard behavior.....&nbsp;&nbsp;adduser of course is the most common that we have where this is needed, but it's a general problem elsewhere..</td><td class="time"><a href="#t2017-04-12T16:59:06" class="time">16:59</a></td></tr>
<tr id="t2017-04-12T16:59:16"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">lsandov: indeed, I remember that. The patch I have may help fix things</td><td class="time"><a href="#t2017-04-12T16:59:16" class="time">16:59</a></td></tr>
<tr id="t2017-04-12T16:59:22"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">the alternative is that each package that uses a 'non-standard user' (not sure even how to define that) would need to have their own addusers..</td><td class="time"><a href="#t2017-04-12T16:59:22" class="time">16:59</a></td></tr>
<tr id="t2017-04-12T16:59:38"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">this will cause a lot of extra overhead on the package install side</td><td class="time"><a href="#t2017-04-12T16:59:38" class="time">16:59</a></td></tr>
<tr id="t2017-04-12T16:59:58"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">fray: well, postinsts were meant to be used at all for these reasons in the rss/sstate context</td><td class="time"><a href="#t2017-04-12T16:59:58" class="time">16:59</a></td></tr>
<tr id="t2017-04-12T17:00:08"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">meant not to be</td><td class="time"><a href="#t2017-04-12T17:00:08" class="time">17:00</a></td></tr>
<tr id="t2017-04-12T17:00:41"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">then there has to be an alternative way (for rss) to setup users.&nbsp;&nbsp;The values are known, could they be put into an sstate-cache control file and inherited/executed that way</td><td class="time"><a href="#t2017-04-12T17:00:41" class="time">17:00</a></td></tr>
<tr id="t2017-04-12T17:04:56"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">fray: without writing our own script version of useradd I'm not sure how to do that</td><td class="time"><a href="#t2017-04-12T17:04:56" class="time">17:04</a></td></tr>
<tr id="t2017-04-12T17:05:20"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">Doesn't rss populate the items based ont he sstate-cache files?</td><td class="time"><a href="#t2017-04-12T17:05:20" class="time">17:05</a></td></tr>
<tr id="t2017-04-12T17:07:15"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">fray: it currently stores the same useradd commands as would get used on target or when creating the sysroot originally</td><td class="time"><a href="#t2017-04-12T17:07:15" class="time">17:07</a></td></tr>
<tr id="t2017-04-12T17:07:46"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">yes, but couldn't you store something that says "I need the useradd tooling... after installing that into the rss, now run this script'?</td><td class="time"><a href="#t2017-04-12T17:07:46" class="time">17:07</a></td></tr>
<tr id="t2017-04-12T17:08:21"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">then the adduser class can set whatever values are needed to write that special depednency into the sstate control file(s)...</td><td class="time"><a href="#t2017-04-12T17:08:21" class="time">17:08</a></td></tr>
<tr id="t2017-04-12T17:08:37"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">it does mean there will be a dependency that is not known at dep processing..</td><td class="time"><a href="#t2017-04-12T17:08:37" class="time">17:08</a></td></tr>
<tr id="t2017-04-12T17:09:43"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">fray: and that is the problem, we can't have deps we don't know about</td><td class="time"><a href="#t2017-04-12T17:09:43" class="time">17:09</a></td></tr>
<tr id="t2017-04-12T17:10:04"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">I think I know how we can make a gross hack and avoid most problems</td><td class="time"><a href="#t2017-04-12T17:10:04" class="time">17:10</a></td></tr>
<tr id="t2017-04-12T17:10:04"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">in this case, what is the problem having a (native) dep that isn't know during early processing?</td><td class="time"><a href="#t2017-04-12T17:10:04" class="time">17:10</a></td></tr>
<tr id="t2017-04-12T17:10:32"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">since we know we have to install A to build B.. and A already will have a dep on the (native) useradd.. we can assume it exists</td><td class="time"><a href="#t2017-04-12T17:10:32" class="time">17:10</a></td></tr>
<tr id="t2017-04-12T17:12:39"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">fray: we can't since A may come from sstate and not have it deps extracted</td><td class="time"><a href="#t2017-04-12T17:12:39" class="time">17:12</a></td></tr>
<tr id="t2017-04-12T17:13:39"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">Either B has to inherit A's deps (on select items) or we have to make sure that the tool is always avaialble to be loaded..</td><td class="time"><a href="#t2017-04-12T17:13:39" class="time">17:13</a></td></tr>
<tr id="t2017-04-12T17:13:45"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">I can't think of any other option</td><td class="time"><a href="#t2017-04-12T17:13:45" class="time">17:13</a></td></tr>
<tr id="t2017-04-12T17:14:23"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">fray: as I said, I think we can actually make this work in a reasonable way</td><td class="time"><a href="#t2017-04-12T17:14:23" class="time">17:14</a></td></tr>
<tr id="t2017-04-12T17:14:35"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">fray: only add users if the tools are available</td><td class="time"><a href="#t2017-04-12T17:14:35" class="time">17:14</a></td></tr>
<tr id="t2017-04-12T17:15:11"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">but if we don't add the users, then the resulting packages won't have the users in them and we've got non-deterministic behavior</td><td class="time"><a href="#t2017-04-12T17:15:11" class="time">17:15</a></td></tr>
<tr id="t2017-04-12T17:15:38"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">fray: packages don't matter here its about sysroots and the behaviour is entirely deterministic</td><td class="time"><a href="#t2017-04-12T17:15:38" class="time">17:15</a></td></tr>
<tr id="t2017-04-12T17:16:41"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">the package is generated from 'B' (which required A, which needed the adduser).&nbsp;&nbsp;How will 'B' do a chown if it doesn't have the users..&nbsp;&nbsp;if it allows that to fail then we've got non-deterministic package gen</td><td class="time"><a href="#t2017-04-12T17:16:41" class="time">17:16</a></td></tr>
<tr id="t2017-04-12T17:27:50"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">fray: we make the assumption that B doesn't change ownerships to non-default users/groups unless it inherits useradd</td><td class="time"><a href="#t2017-04-12T17:27:50" class="time">17:27</a></td></tr>
<tr id="t2017-04-12T17:29:08"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">do we have a verification in insane on that?</td><td class="time"><a href="#t2017-04-12T17:29:08" class="time">17:29</a></td></tr>
<tr id="t2017-04-12T17:29:19"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">fray: not sure</td><td class="time"><a href="#t2017-04-12T17:29:19" class="time">17:29</a></td></tr>
<tr id="t2017-04-12T17:29:21"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">if you inherit useradd, but don't actually set any users -- I thought that errored</td><td class="time"><a href="#t2017-04-12T17:29:21" class="time">17:29</a></td></tr>
<tr id="t2017-04-12T17:29:49"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">fray: well, it would be enough to add a depends on the useradd/groupadd tools</td><td class="time"><a href="#t2017-04-12T17:29:49" class="time">17:29</a></td></tr>
<tr id="t2017-04-12T17:39:40"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">fray, Saur: <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/wip-rss2&amp;id=1b192559734ae3718da79fd09568a2bb93cb879e" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/wip-rss2&amp;id=1b192559734ae3718da79fd09568a2bb93cb879e</a></td><td class="time"><a href="#t2017-04-12T17:39:40" class="time">17:39</a></td></tr>
<tr id="t2017-04-12T17:43:29"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">I don't see anything obviously wrong with it.&nbsp;&nbsp; It should trigger faults if a package tries to chown w/o the user being there.. and also prevent implicit users/groups</td><td class="time"><a href="#t2017-04-12T17:43:29" class="time">17:43</a></td></tr>
<tr id="t2017-04-12T18:31:20"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">lsandov: care to try the above patch with that bug you mentioned?</td><td class="time"><a href="#t2017-04-12T18:31:20" class="time">18:31</a></td></tr>
<tr id="t2017-04-12T18:34:12"><th class="nick" style="background: #5fb4b4">lsandov</th><td class="text" style="color: #5fb4b4">RP: sure, let me try it</td><td class="time"><a href="#t2017-04-12T18:34:12" class="time">18:34</a></td></tr>
<tr id="t2017-04-12T19:07:38"><td class="other" colspan="2">-YoctoAutoBuilder- build #501 of nightly-checkuri is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-checkuri/builds/501" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-checkuri/builds/501</a></td><td><a href="#t2017-04-12T19:07:38" class="time">19:07</a></td></tr>
<tr id="t2017-04-12T20:12:39"><th class="nick" style="background: #62bb62">halstead</th><td class="text" style="color: #62bb62">nrossi, Can I get your help troubleshooting an e-mail issue?</td><td class="time"><a href="#t2017-04-12T20:12:39" class="time">20:12</a></td></tr>
<tr id="t2017-04-12T20:13:21"><th class="nick" style="background: #62bb62">halstead</th><td class="text" style="color: #62bb62">nrossi, Could you forward me the original message, [PATCH] lib/bb/{data, siggen}: Don't warn on SkipRecipe exceptions, from your sent mail?</td><td class="time"><a href="#t2017-04-12T20:13:21" class="time">20:13</a></td></tr>
<tr id="t2017-04-12T20:13:57"><th class="nick" style="background: #62bb62">halstead</th><td class="text" style="color: #62bb62">nrossi, Forward to mhalstead@linuxfoundation.org if you could. Thank you!</td><td class="time"><a href="#t2017-04-12T20:13:57" class="time">20:13</a></td></tr>
<tr id="t2017-04-12T20:42:48"><td class="part" colspan="2">*** lsandov &lt;lsandov!lsandov1@nat/intel/x-fogoemiiheiethal&gt; has left #yocto</td><td><a href="#t2017-04-12T20:42:48" class="time">20:42</a></td></tr>
<tr id="t2017-04-12T21:57:49"><td class="part" colspan="2">*** jairglez &lt;jairglez!jairdeje@nat/intel/x-irvjhvkhyaprksoq&gt; has left #yocto</td><td><a href="#t2017-04-12T21:57:49" class="time">21:57</a></td></tr>
<tr id="t2017-04-12T21:59:44"><th class="nick" style="background: #6464bf">majuk</th><td class="text" style="color: #6464bf">So I built a wandboard image based on Morty, and it appears that ALSA is hanging at startup.</td><td class="time"><a href="#t2017-04-12T21:59:44" class="time">21:59</a></td></tr>
<tr id="t2017-04-12T21:59:54"><th class="nick" style="background: #6464bf">majuk</th><td class="text" style="color: #6464bf">Not sure where to go from here. Any questions or suggestions appreciated.</td><td class="time"><a href="#t2017-04-12T21:59:54" class="time">21:59</a></td></tr>
<tr id="t2017-04-12T22:01:37"><th class="nick" style="background: #6464bf">majuk</th><td class="text" style="color: #6464bf"><a href="https://pastebin.com/bsTEtzi0" rel="nofollow">https://pastebin.com/bsTEtzi0</a></td><td class="time"><a href="#t2017-04-12T22:01:37" class="time">22:01</a></td></tr>
<tr id="t2017-04-12T22:03:04"><th class="nick" style="background: #6464bf">majuk</th><td class="text" style="color: #6464bf">I say ALSA is hanging, but it could be the next thing in the boot process. Not sure what that might be.</td><td class="time"><a href="#t2017-04-12T22:03:04" class="time">22:03</a></td></tr>
<tr id="t2017-04-12T22:04:24"><th class="nick" style="background: #6464bf">majuk</th><td class="text" style="color: #6464bf">UBoot's bad CRC warning doesn't inspire much confidence either.</td><td class="time"><a href="#t2017-04-12T22:04:24" class="time">22:04</a></td></tr>
<tr id="t2017-04-12T22:08:06"><th class="nick" style="background: #6464bf">majuk</th><td class="text" style="color: #6464bf">So next step in the boot process should be mounting the file system.</td><td class="time"><a href="#t2017-04-12T22:08:06" class="time">22:08</a></td></tr>
<tr id="t2017-04-12T22:08:26"><th class="nick" style="background: #6464bf">majuk</th><td class="text" style="color: #6464bf">According to a working system compiled on Krogoth, anyhow.</td><td class="time"><a href="#t2017-04-12T22:08:26" class="time">22:08</a></td></tr>
<tr id="t2017-04-12T22:08:47"><th class="nick" style="background: #c3c366">Crofton|work</th><td class="text" style="color: #c3c366">CRC warning is OK, run saveenv and it will go away</td><td class="time"><a href="#t2017-04-12T22:08:47" class="time">22:08</a></td></tr>
<tr id="t2017-04-12T22:09:36"><th class="nick" style="background: #6464bf">majuk</th><td class="text" style="color: #6464bf">Crofton|work: rgr, thanks.</td><td class="time"><a href="#t2017-04-12T22:09:36" class="time">22:09</a></td></tr>
<tr id="t2017-04-12T22:10:01"><th class="nick" style="background: #c3c366">Crofton|work</th><td class="text" style="color: #c3c366">I don't have any ideas about the real problem :)</td><td class="time"><a href="#t2017-04-12T22:10:01" class="time">22:10</a></td></tr>
<tr id="t2017-04-12T22:10:12"><th class="nick" style="background: #6464bf">majuk</th><td class="text" style="color: #6464bf">lol, nuts.</td><td class="time"><a href="#t2017-04-12T22:10:12" class="time">22:10</a></td></tr>
<tr id="t2017-04-12T23:07:15"><td class="part" colspan="2">*** jairglez &lt;jairglez!~jairdeje@134.134.139.72&gt; has left #yocto</td><td><a href="#t2017-04-12T23:07:15" class="time">23:07</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2017-04-11.log.html">&#171; Tuesday, 2017-04-11</a> <a href="index.html">Index</a> <a href="%23yocto.2017-04-13.log.html">Thursday, 2017-04-13 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
