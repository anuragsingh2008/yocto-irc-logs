<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Thursday, 2017-04-13</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Thursday, 2017-04-13</h1>
<div class="navigation"> <a href="%23yocto.2017-04-12.log.html">&#171; Wednesday, 2017-04-12</a> <a href="index.html">Index</a> <a href="%23yocto.2017-04-14.log.html">Friday, 2017-04-14 &#187;</a> </div>
<table class="irclog">
<tr id="t2017-04-13T07:21:20"><th class="nick" style="background: #407a40">g0hl1n</th><td class="text" style="color: #407a40">Good morning. I have a question regarding linux kernel fitImages: Is it somehow possible to include 2 kernel images and 2 dtb's (from 2 different branches) in ONE fitImage using yocto/oe?</td><td class="time"><a href="#t2017-04-13T07:21:20" class="time">07:21</a></td></tr>
<tr id="t2017-04-13T07:33:48"><th class="nick" style="background: #42427e">mcfrisk</th><td class="text" style="color: #42427e">g0hl1n: with master it might be possible. in jethro we ended up copying poky kernel classes to another layer and renaming all paths, variables and tasks so that multiple kernels can be built for one machine target.</td><td class="time"><a href="#t2017-04-13T07:33:48" class="time">07:33</a></td></tr>
<tr id="t2017-04-13T07:36:43"><th class="nick" style="background: #407a40">g0hl1n</th><td class="text" style="color: #407a40">mcfrisk: now that's good news :-) I'm currently migrating my stuff from jehro to master (pyro then). Is there somewhere some documentation on that?</td><td class="time"><a href="#t2017-04-13T07:36:43" class="time">07:36</a></td></tr>
<tr id="t2017-04-13T07:39:32"><th class="nick" style="background: #42427e">mcfrisk</th><td class="text" style="color: #42427e">g0hl1n: I'm not following master so closely but I remember seeing major kernel class refactoring patches. check latest docs for kernel class details.</td><td class="time"><a href="#t2017-04-13T07:39:32" class="time">07:39</a></td></tr>
<tr id="t2017-04-13T08:27:56"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2017-04-13T08:27:56" class="time">08:27</a></td></tr>
<tr id="t2017-04-13T08:35:51"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144">Hi all, Oke this is a big step in the ounknown for me.</td><td class="time"><a href="#t2017-04-13T08:35:51" class="time">08:35</a></td></tr>
<tr id="t2017-04-13T08:36:13"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144">I have a question about output files after creating an image with Yocto</td><td class="time"><a href="#t2017-04-13T08:36:13" class="time">08:36</a></td></tr>
<tr id="t2017-04-13T08:37:37"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144">I use a TI AM335x SBC from goembed</td><td class="time"><a href="#t2017-04-13T08:37:37" class="time">08:37</a></td></tr>
<tr id="t2017-04-13T08:37:45"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144"><a href="http://goembed.com/index.php/Products/detail/tpid/25" rel="nofollow">http://goembed.com/index.php/Products/detail/tpid/25</a></td><td class="time"><a href="#t2017-04-13T08:37:45" class="time">08:37</a></td></tr>
<tr id="t2017-04-13T08:38:17"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144">Now first of all I tested the board with the image which has been delivered with the board.</td><td class="time"><a href="#t2017-04-13T08:38:17" class="time">08:38</a></td></tr>
<tr id="t2017-04-13T08:39:00"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144">All worked like a charm. Until the point that I tried to make my own image</td><td class="time"><a href="#t2017-04-13T08:39:00" class="time">08:39</a></td></tr>
<tr id="t2017-04-13T08:39:35"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144">The board doesn't recognize the image on the SD card.</td><td class="time"><a href="#t2017-04-13T08:39:35" class="time">08:39</a></td></tr>
<tr id="t2017-04-13T08:39:43"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144">I think the problem is the following:</td><td class="time"><a href="#t2017-04-13T08:39:43" class="time">08:39</a></td></tr>
<tr id="t2017-04-13T08:40:27"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144">Goembed uses the following files to boot : - MLO - u-boot.img - uImage - uEnv.txt - rootfs.tar.bz2</td><td class="time"><a href="#t2017-04-13T08:40:27" class="time">08:40</a></td></tr>
<tr id="t2017-04-13T08:41:16"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144">when I create an image with yocto, there is no uEnv and image file. only a zImage. So I think this is the problem</td><td class="time"><a href="#t2017-04-13T08:41:16" class="time">08:41</a></td></tr>
<tr id="t2017-04-13T08:41:35"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144">But I can't find a solution.</td><td class="time"><a href="#t2017-04-13T08:41:35" class="time">08:41</a></td></tr>
<tr id="t2017-04-13T08:42:00"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144">This is probably a very stupid question, but I'm a beginner and trying to learn this by my self.</td><td class="time"><a href="#t2017-04-13T08:42:00" class="time">08:42</a></td></tr>
<tr id="t2017-04-13T09:00:57"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">TMJJ: for getting started, you should be able to just keep the mlo, uboot and uenv from the original. the kernel image type is controlled like that: <a href="https://www.openembedded.org/wiki/Kernel_Building#Kernel_image_type" rel="nofollow">https://www.openembedded.org/wiki/Kernel_Building#Kernel_image_type</a></td><td class="time"><a href="#t2017-04-13T09:00:57" class="time">09:00</a></td></tr>
<tr id="t2017-04-13T09:01:14"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">oh oops, outdated info. second please.</td><td class="time"><a href="#t2017-04-13T09:01:14" class="time">09:01</a></td></tr>
<tr id="t2017-04-13T09:04:29"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">TMJJ: the config variable is still called KERNEL_IMAGETYPE :)</td><td class="time"><a href="#t2017-04-13T09:04:29" class="time">09:04</a></td></tr>
<tr id="t2017-04-13T09:05:42"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144">Oke Thanks I will have a look at it straight away! thanks for the quick support! have a nice day!</td><td class="time"><a href="#t2017-04-13T09:05:42" class="time">09:05</a></td></tr>
<tr id="t2017-04-13T09:06:02"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">TMJJ: doesn't the supplier provide a proper BSP layer for you to use?</td><td class="time"><a href="#t2017-04-13T09:06:02" class="time">09:06</a></td></tr>
<tr id="t2017-04-13T09:10:14"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144">Not yet. I sended an email to the supplier, but no respons yet. On the website they say it's fully 'compatible' with beaglebone. So I downloaded the beaglebone BSP. I want to start with this BSP and then start to modify the layers to my preferences. Is this smart or not?</td><td class="time"><a href="#t2017-04-13T09:10:14" class="time">09:10</a></td></tr>
<tr id="t2017-04-13T09:14:14"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">pohly: you're mentioning some runqemu issue yesterday evening. what was it?</td><td class="time"><a href="#t2017-04-13T09:14:14" class="time">09:14</a></td></tr>
<tr id="t2017-04-13T09:15:26"><th class="nick" style="background: #8c4a4a">pohly</th><td class="text" style="color: #8c4a4a">ed2: for refkit, the "runqemu: do not rely on grepping images" patch changed the drive device type from "virtio" (the fallback when grep didn't find anything) to "SCSI" (the new default in qemuboot.bbclass).</td><td class="time"><a href="#t2017-04-13T09:15:26" class="time">09:15</a></td></tr>
<tr id="t2017-04-13T09:15:58"><th class="nick" style="background: #8c4a4a">pohly</th><td class="text" style="color: #8c4a4a">My tests were written based on the assumption that there is a /dev/vda and /dev/vdb, so they started to fail.</td><td class="time"><a href="#t2017-04-13T09:15:58" class="time">09:15</a></td></tr>
<tr id="t2017-04-13T09:16:09"><th class="nick" style="background: #8c4a4a">pohly</th><td class="text" style="color: #8c4a4a">Not really a bug, just some change in behavior.</td><td class="time"><a href="#t2017-04-13T09:16:09" class="time">09:16</a></td></tr>
<tr id="t2017-04-13T09:16:21"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">pohly: yes, the same happened to my tests. I had to change device names.</td><td class="time"><a href="#t2017-04-13T09:16:21" class="time">09:16</a></td></tr>
<tr id="t2017-04-13T09:16:41"><th class="nick" style="background: #8c4a4a">pohly</th><td class="text" style="color: #8c4a4a">ed2: I suspected that you might have had similar issues.</td><td class="time"><a href="#t2017-04-13T09:16:41" class="time">09:16</a></td></tr>
<tr id="t2017-04-13T09:18:29"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">TMJJ: depends. the point is what artifacts you do expect... a complete sdcard image, or something to write into the ROM, etc. if its really fully compatible, you maby jsut need to look up the available building target for the BBB</td><td class="time"><a href="#t2017-04-13T09:18:29" class="time">09:18</a></td></tr>
<tr id="t2017-04-13T09:18:43"><th class="nick" style="background: #488888">ed2</th><td class="text" style="color: #488888">pohly: yes, i pointed Robert to this and he fixed it: <a href="http://lists.openembedded.org/pipermail/openembedded-core/2017-April/135509.html" rel="nofollow">http://lists.openembedded.org/pipermail/openembedded-core/2017-April/135509.html</a></td><td class="time"><a href="#t2017-04-13T09:18:43" class="time">09:18</a></td></tr>
<tr id="t2017-04-13T09:21:25"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">TMJJ: this should give you an idea how the BBB sdcards can be generated: <a href="https://www.yoctoproject.org/downloads/bsps/morty22/beaglebone" rel="nofollow">https://www.yoctoproject.org/downloads/bsps/morty22/beaglebone</a></td><td class="time"><a href="#t2017-04-13T09:21:25" class="time">09:21</a></td></tr>
<tr id="t2017-04-13T09:22:52"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144">Thanks, I will go trough all of this.</td><td class="time"><a href="#t2017-04-13T09:22:52" class="time">09:22</a></td></tr>
<tr id="t2017-04-13T10:24:08"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2017-04-13T10:24:08" class="time">10:24</a></td></tr>
<tr id="t2017-04-13T12:11:32"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">hello there</td><td class="time"><a href="#t2017-04-13T12:11:32" class="time">12:11</a></td></tr>
<tr id="t2017-04-13T12:11:38"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144">anybody an Idea where I can find KERNEL_IMAGETYPE ?= "..."</td><td class="time"><a href="#t2017-04-13T12:11:38" class="time">12:11</a></td></tr>
<tr id="t2017-04-13T12:11:52"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144">It should be some where under machine I think</td><td class="time"><a href="#t2017-04-13T12:11:52" class="time">12:11</a></td></tr>
<tr id="t2017-04-13T12:12:27"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">the error message: "do_kernel_checkout: S is not set to the linux source directory. Check the recipe and set S to the proper extracted subdirectory" likes me to do WHAT????</td><td class="time"><a href="#t2017-04-13T12:12:27" class="time">12:12</a></td></tr>
<tr id="t2017-04-13T12:12:43"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">i don't use a git source for the kernel but at tar ball</td><td class="time"><a href="#t2017-04-13T12:12:43" class="time">12:12</a></td></tr>
<tr id="t2017-04-13T12:12:58"><th class="nick" style="background: #4d4d93">crzier</th><td class="text" style="color: #4d4d93">TMJJ: did you try this: bitbake -e | grep ^KERNEL_IMAGETYPE=</td><td class="time"><a href="#t2017-04-13T12:12:58" class="time">12:12</a></td></tr>
<tr id="t2017-04-13T12:13:52"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144">I will try it straight away</td><td class="time"><a href="#t2017-04-13T12:13:52" class="time">12:13</a></td></tr>
<tr id="t2017-04-13T12:14:25"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">the checkout untar the archive in tmp/work/.../4.4.x-r1/ but not in tmp/work-shared/../kernel_source</td><td class="time"><a href="#t2017-04-13T12:14:25" class="time">12:14</a></td></tr>
<tr id="t2017-04-13T12:15:30"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">what is S and where do i set it? in recipes-kernel/linux/*.bb file??</td><td class="time"><a href="#t2017-04-13T12:15:30" class="time">12:15</a></td></tr>
<tr id="t2017-04-13T12:17:50"><th class="nick" style="background: #818144">TMJJ</th><td class="text" style="color: #818144">crzier : this returns me the current Image type : bzImage. I would like to change it. is there a command for this as well?</td><td class="time"><a href="#t2017-04-13T12:17:50" class="time">12:17</a></td></tr>
<tr id="t2017-04-13T12:17:50"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">would be nice if one of the 258 people in here could give me the right hints</td><td class="time"><a href="#t2017-04-13T12:17:50" class="time">12:17</a></td></tr>
<tr id="t2017-04-13T12:34:33"><td class="action" colspan="2">* beeker23 sighs</td><td><a href="#t2017-04-13T12:34:33" class="time">12:34</a></td></tr>
<tr id="t2017-04-13T12:36:33"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">beeker23, maybe pastebin the recipe you are using</td><td class="time"><a href="#t2017-04-13T12:36:33" class="time">12:36</a></td></tr>
<tr id="t2017-04-13T12:43:56"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b"> Crofton|work&nbsp;&nbsp;<a href="https://paste.debian.net/927415/" rel="nofollow">https://paste.debian.net/927415/</a></td><td class="time"><a href="#t2017-04-13T12:43:56" class="time">12:43</a></td></tr>
<tr id="t2017-04-13T12:52:27"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">what is S and where do i set it?</td><td class="time"><a href="#t2017-04-13T12:52:27" class="time">12:52</a></td></tr>
<tr id="t2017-04-13T12:54:06"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">is S the path where the kernel source gets unpacked? is it a relative path or a absolute path? is it a file:// url notation?</td><td class="time"><a href="#t2017-04-13T12:54:06" class="time">12:54</a></td></tr>
<tr id="t2017-04-13T12:55:49"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">beeker23: S is the path where it has been unpacked to, which includes any subdirectory that may be within the tarball that was unpacked</td><td class="time"><a href="#t2017-04-13T12:55:49" class="time">12:55</a></td></tr>
<tr id="t2017-04-13T12:56:18"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">you would set it in the recipe you are working on</td><td class="time"><a href="#t2017-04-13T12:56:18" class="time">12:56</a></td></tr>
<tr id="t2017-04-13T12:56:36"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">e.g. S = "${WORKDIR}/something"</td><td class="time"><a href="#t2017-04-13T12:56:36" class="time">12:56</a></td></tr>
<tr id="t2017-04-13T12:56:39"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">bluelightning: is the path relative to the build directory or absolute?</td><td class="time"><a href="#t2017-04-13T12:56:39" class="time">12:56</a></td></tr>
<tr id="t2017-04-13T12:57:02"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">absolute, but you specify the work directory using ${WORKDIR} like in the above example</td><td class="time"><a href="#t2017-04-13T12:57:02" class="time">12:57</a></td></tr>
<tr id="t2017-04-13T12:57:44"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">the work directory is where the source gets unpacked, then if the tarball contains a subdirectory, that's what you'd be pointing to with S</td><td class="time"><a href="#t2017-04-13T12:57:44" class="time">12:57</a></td></tr>
<tr id="t2017-04-13T12:57:51"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">hopefully that makes sense</td><td class="time"><a href="#t2017-04-13T12:57:51" class="time">12:57</a></td></tr>
<tr id="t2017-04-13T12:57:51"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">${WORKDIR} is so to say the absolute path to the build dir?</td><td class="time"><a href="#t2017-04-13T12:57:51" class="time">12:57</a></td></tr>
<tr id="t2017-04-13T12:58:04"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">aha, ok!</td><td class="time"><a href="#t2017-04-13T12:58:04" class="time">12:58</a></td></tr>
<tr id="t2017-04-13T12:58:12"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">lets try it</td><td class="time"><a href="#t2017-04-13T12:58:12" class="time">12:58</a></td></tr>
<tr id="t2017-04-13T12:58:21"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">${WORKDIR} will be substituted by bitbake for the work directory for the recipe</td><td class="time"><a href="#t2017-04-13T12:58:21" class="time">12:58</a></td></tr>
<tr id="t2017-04-13T12:58:34"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">I'm goin gto make a guerss something like</td><td class="time"><a href="#t2017-04-13T12:58:34" class="time">12:58</a></td></tr>
<tr id="t2017-04-13T12:58:49"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">S = ${WORKDIR}/tinker-4.4.6 ...</td><td class="time"><a href="#t2017-04-13T12:58:49" class="time">12:58</a></td></tr>
<tr id="t2017-04-13T12:59:11"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">the kernel ends up in a "funny" work dor?</td><td class="time"><a href="#t2017-04-13T12:59:11" class="time">12:59</a></td></tr>
<tr id="t2017-04-13T12:59:20"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">well, with quotes around the value, but yes</td><td class="time"><a href="#t2017-04-13T12:59:20" class="time">12:59</a></td></tr>
<tr id="t2017-04-13T12:59:32"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">"something like"</td><td class="time"><a href="#t2017-04-13T12:59:32" class="time">12:59</a></td></tr>
<tr id="t2017-04-13T13:00:59"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">TY</td><td class="time"><a href="#t2017-04-13T13:00:59" class="time">13:00</a></td></tr>
<tr id="t2017-04-13T13:01:23"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">for me it is S = "${WORKDIR}"</td><td class="time"><a href="#t2017-04-13T13:01:23" class="time">13:01</a></td></tr>
<tr id="t2017-04-13T13:01:48"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">hmm</td><td class="time"><a href="#t2017-04-13T13:01:48" class="time">13:01</a></td></tr>
<tr id="t2017-04-13T13:01:51"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">seems odd</td><td class="time"><a href="#t2017-04-13T13:01:51" class="time">13:01</a></td></tr>
<tr id="t2017-04-13T13:01:58"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">but unlike a git clone it unpacks the stuff in work/.... and not in work-shared/..</td><td class="time"><a href="#t2017-04-13T13:01:58" class="time">13:01</a></td></tr>
<tr id="t2017-04-13T13:02:28"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">I would expect tarbal to unpack into a ./tinker-4.4.16 directory</td><td class="time"><a href="#t2017-04-13T13:02:28" class="time">13:02</a></td></tr>
<tr id="t2017-04-13T13:02:51"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">ok that is what I was wondering, but WORKDIR should do the right thing</td><td class="time"><a href="#t2017-04-13T13:02:51" class="time">13:02</a></td></tr>
<tr id="t2017-04-13T13:03:49"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">Crofton|work: it unpacks directly in tmp/work/tinker_rk3288-rk-linux-gnueabi/linux-rockchip/4.4.16-r1</td><td class="time"><a href="#t2017-04-13T13:03:49" class="time">13:03</a></td></tr>
<tr id="t2017-04-13T13:04:11"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">which is $WORKDIR, i guess</td><td class="time"><a href="#t2017-04-13T13:04:11" class="time">13:04</a></td></tr>
<tr id="t2017-04-13T13:04:22"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">so the Makefile is in WORKDIR?</td><td class="time"><a href="#t2017-04-13T13:04:22" class="time">13:04</a></td></tr>
<tr id="t2017-04-13T13:04:27"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">yes</td><td class="time"><a href="#t2017-04-13T13:04:27" class="time">13:04</a></td></tr>
<tr id="t2017-04-13T13:04:29"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">ouch</td><td class="time"><a href="#t2017-04-13T13:04:29" class="time">13:04</a></td></tr>
<tr id="t2017-04-13T13:04:35"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">see how things work out</td><td class="time"><a href="#t2017-04-13T13:04:35" class="time">13:04</a></td></tr>
<tr id="t2017-04-13T13:04:35"><td class="nickchange" colspan="2">*** Kakounet1 is now known as Kakounet</td><td><a href="#t2017-04-13T13:04:35" class="time">13:04</a></td></tr>
<tr id="t2017-04-13T13:04:41"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">it compiles now</td><td class="time"><a href="#t2017-04-13T13:04:41" class="time">13:04</a></td></tr>
<tr id="t2017-04-13T13:05:01"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">this error message is not very useful</td><td class="time"><a href="#t2017-04-13T13:05:01" class="time">13:05</a></td></tr>
<tr id="t2017-04-13T13:05:09"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">some other direcotris end up in workdir, I'd worry about strange interactions</td><td class="time"><a href="#t2017-04-13T13:05:09" class="time">13:05</a></td></tr>
<tr id="t2017-04-13T13:05:15"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">but if it works ....</td><td class="time"><a href="#t2017-04-13T13:05:15" class="time">13:05</a></td></tr>
<tr id="t2017-04-13T13:05:42"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">Crofton|work: i repacked the kernel tar ball because i was unsure what yocto expected</td><td class="time"><a href="#t2017-04-13T13:05:42" class="time">13:05</a></td></tr>
<tr id="t2017-04-13T13:06:18"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">well armed with this info, you should be able to sort things out better</td><td class="time"><a href="#t2017-04-13T13:06:18" class="time">13:06</a></td></tr>
<tr id="t2017-04-13T13:07:49"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">yepp, would be nice if the error message would hint to the solutions and not to an obfuscating blahblah</td><td class="time"><a href="#t2017-04-13T13:07:49" class="time">13:07</a></td></tr>
<tr id="t2017-04-13T13:09:41"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">it makes a do_package now</td><td class="time"><a href="#t2017-04-13T13:09:41" class="time">13:09</a></td></tr>
<tr id="t2017-04-13T13:09:49"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">done</td><td class="time"><a href="#t2017-04-13T13:09:49" class="time">13:09</a></td></tr>
<tr id="t2017-04-13T13:11:47"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">bluelightning, Crofton|work: ty very much</td><td class="time"><a href="#t2017-04-13T13:11:47" class="time">13:11</a></td></tr>
<tr id="t2017-04-13T13:16:15"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">beeker23: np</td><td class="time"><a href="#t2017-04-13T13:16:15" class="time">13:16</a></td></tr>
<tr id="t2017-04-13T13:16:46"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">bluelightning: dude go to bed</td><td class="time"><a href="#t2017-04-13T13:16:46" class="time">13:16</a></td></tr>
<tr id="t2017-04-13T13:16:53"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">beeker23: your tarball is non-standard; pretty much all tarballs people release contain a subdirectory so they don't explode files all over your current dir when you unpack them</td><td class="time"><a href="#t2017-04-13T13:16:53" class="time">13:16</a></td></tr>
<tr id="t2017-04-13T13:17:04"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">rburton: flaming MSR still needs writing :/</td><td class="time"><a href="#t2017-04-13T13:17:04" class="time">13:17</a></td></tr>
<tr id="t2017-04-13T13:17:23"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">why do I leave it to past midnight? oh yeah, I have actual work to do...</td><td class="time"><a href="#t2017-04-13T13:17:23" class="time">13:17</a></td></tr>
<tr id="t2017-04-13T13:17:35"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">I shouldn't complain, really</td><td class="time"><a href="#t2017-04-13T13:17:35" class="time">13:17</a></td></tr>
<tr id="t2017-04-13T13:17:57"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">bluelightning: you are right. it's like i said above. i wasn't sure what S is and hadn't any clue that there is also a $WORKDIR</td><td class="time"><a href="#t2017-04-13T13:17:57" class="time">13:17</a></td></tr>
<tr id="t2017-04-13T13:18:18"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">beeker23: no worries</td><td class="time"><a href="#t2017-04-13T13:18:18" class="time">13:18</a></td></tr>
<tr id="t2017-04-13T13:23:09"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">yay! even wlan0 is up now</td><td class="time"><a href="#t2017-04-13T13:23:09" class="time">13:23</a></td></tr>
<tr id="t2017-04-13T13:24:56"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">MSR?</td><td class="time"><a href="#t2017-04-13T13:24:56" class="time">13:24</a></td></tr>
<tr id="t2017-04-13T13:26:38"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">Crofton|work: Monthly Status Report, in this case (not to be confused with Model-Specific Register)</td><td class="time"><a href="#t2017-04-13T13:26:38" class="time">13:26</a></td></tr>
<tr id="t2017-04-13T13:26:45"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">lol</td><td class="time"><a href="#t2017-04-13T13:26:45" class="time">13:26</a></td></tr>
<tr id="t2017-04-13T13:26:47"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">Intel loves loves loves its acronyms</td><td class="time"><a href="#t2017-04-13T13:26:47" class="time">13:26</a></td></tr>
<tr id="t2017-04-13T13:26:51"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">yeah</td><td class="time"><a href="#t2017-04-13T13:26:51" class="time">13:26</a></td></tr>
<tr id="t2017-04-13T13:29:43"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">ok, i'm off</td><td class="time"><a href="#t2017-04-13T13:29:43" class="time">13:29</a></td></tr>
<tr id="t2017-04-13T13:37:34"><th class="nick" style="background: #407a40">g0hl1n</th><td class="text" style="color: #407a40">I'm still searching for a way to include 2 kernel images and 2 dtb's (from 2 different branches) in ONE fitImage... According to mcfrisk this should be possible in current master, but I'm unable to find anything in the manual or git history. Anybody has some ideas/pointers? Thanks!</td><td class="time"><a href="#t2017-04-13T13:37:34" class="time">13:37</a></td></tr>
<tr id="t2017-04-13T13:49:42"><td class="part" colspan="2">*** zeeblex &lt;zeeblex!~zeeblex@gate-zro.freescale.com&gt; has left #yocto</td><td><a href="#t2017-04-13T13:49:42" class="time">13:49</a></td></tr>
<tr id="t2017-04-13T13:49:51"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">kergoth: hm pkgconf looks interesting</td><td class="time"><a href="#t2017-04-13T13:49:51" class="time">13:49</a></td></tr>
<tr id="t2017-04-13T14:24:55"><th class="nick" style="background: #a25555">mdnneo</th><td class="text" style="color: #a25555">is there an easy / recommended way of getting rid of the /opt/poky/... prefix in the nativesdk packages?</td><td class="time"><a href="#t2017-04-13T14:24:55" class="time">14:24</a></td></tr>
<tr id="t2017-04-13T14:40:21"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">mdnneo: no because thats the prefix</td><td class="time"><a href="#t2017-04-13T14:40:21" class="time">14:40</a></td></tr>
<tr id="t2017-04-13T14:41:40"><th class="nick" style="background: #a25555">mdnneo</th><td class="text" style="color: #a25555">rburton: so I cannot use them in a kind of chroot env with opkg or is this just the wrong way?</td><td class="time"><a href="#t2017-04-13T14:41:40" class="time">14:41</a></td></tr>
<tr id="t2017-04-13T14:43:00"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">they're designed to be standalone so why do you need a chroot?</td><td class="time"><a href="#t2017-04-13T14:43:00" class="time">14:43</a></td></tr>
<tr id="t2017-04-13T14:45:12"><th class="nick" style="background: #a25555">mdnneo</th><td class="text" style="color: #a25555">rburton: basically I want to use opkg with -o to create a kind of new one and use the created packages stored on a server</td><td class="time"><a href="#t2017-04-13T14:45:12" class="time">14:45</a></td></tr>
<tr id="t2017-04-13T14:45:47"><th class="nick" style="background: #a25555">mdnneo</th><td class="text" style="color: #a25555">I know I need to do the relocate afterwards but thats another story</td><td class="time"><a href="#t2017-04-13T14:45:47" class="time">14:45</a></td></tr>
<tr id="t2017-04-13T14:48:05"><th class="nick" style="background: #a25555">mdnneo</th><td class="text" style="color: #a25555">also I just wonder how it works if I try to extend an existing SDK via opkg if it is not installed to the default location</td><td class="time"><a href="#t2017-04-13T14:48:05" class="time">14:48</a></td></tr>
<tr id="t2017-04-13T14:52:01"><th class="nick" style="background: #57a657">nrossi</th><td class="text" style="color: #57a657">so question regarding EXTRA_IMAGEDEPENDS, should it be translating to &lt;foo&gt;:do_populate_sysroot task depends? this appears to trigger population of the sysroot from those targets which seem like it might be undesirable?</td><td class="time"><a href="#t2017-04-13T14:52:01" class="time">14:52</a></td></tr>
<tr id="t2017-04-13T14:52:40"><th class="nick" style="background: #5959a9">ChrysD</th><td class="text" style="color: #5959a9">Hi everyone, maybe someone know but how do we know the plugins used during à gst-play ? thx :)</td><td class="time"><a href="#t2017-04-13T14:52:40" class="time">14:52</a></td></tr>
<tr id="t2017-04-13T14:53:19"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">ChrysD: #gstreamer would be more helpful</td><td class="time"><a href="#t2017-04-13T14:53:19" class="time">14:53</a></td></tr>
<tr id="t2017-04-13T14:56:20"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">ChrysD: i think there's a logging mode where gst-play will tell you what plugins it is building into a pipeline</td><td class="time"><a href="#t2017-04-13T14:56:20" class="time">14:56</a></td></tr>
<tr id="t2017-04-13T14:56:42"><th class="nick" style="background: #5959a9">ChrysD</th><td class="text" style="color: #5959a9">rburton : Good to know, i will check it thanks.</td><td class="time"><a href="#t2017-04-13T14:56:42" class="time">14:56</a></td></tr>
<tr id="t2017-04-13T15:03:10"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">mdnneo: presumably you could also treat your server as your target/MACHINE rather than SDKMACHINE, build an image with the file format as tar.gz, and unpack it on the server as root and chroot in</td><td class="time"><a href="#t2017-04-13T15:03:10" class="time">15:03</a></td></tr>
<tr id="t2017-04-13T15:06:50"><th class="nick" style="background: #a25555">mdnneo</th><td class="text" style="color: #a25555">kergoth: so if I got it right you say building not an SDK but an x86_64 image containing the stuff I want ... the server stuff you maybe got wrong ... this is a ipk repository where I push all my ipk's to use them with a host opkg</td><td class="time"><a href="#t2017-04-13T15:06:50" class="time">15:06</a></td></tr>
<tr id="t2017-04-13T15:07:02"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">ahh</td><td class="time"><a href="#t2017-04-13T15:07:02" class="time">15:07</a></td></tr>
<tr id="t2017-04-13T15:07:20"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">yeah, not 100% clear on your usage, but something along those lines might be an option, yes</td><td class="time"><a href="#t2017-04-13T15:07:20" class="time">15:07</a></td></tr>
<tr id="t2017-04-13T15:07:31"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">worth consideration, anyway</td><td class="time"><a href="#t2017-04-13T15:07:31" class="time">15:07</a></td></tr>
<tr id="t2017-04-13T15:10:10"><th class="nick" style="background: #a25555">mdnneo</th><td class="text" style="color: #a25555">so yes maybe the easiest use case I try to do is extending an existing SDK installed not in the default folder via a host opkg and the ipk package</td><td class="time"><a href="#t2017-04-13T15:10:10" class="time">15:10</a></td></tr>
<tr id="t2017-04-13T15:11:04"><td class="nickchange" colspan="2">*** mtas__ is now known as mtas</td><td><a href="#t2017-04-13T15:11:04" class="time">15:11</a></td></tr>
<tr id="t2017-04-13T15:11:23"><td class="nickchange" colspan="2">*** Flow86_ is now known as Flow86</td><td><a href="#t2017-04-13T15:11:23" class="time">15:11</a></td></tr>
<tr id="t2017-04-13T15:12:34"><td class="nickchange" colspan="2">*** miceopede_ is now known as miceopede</td><td><a href="#t2017-04-13T15:12:34" class="time">15:12</a></td></tr>
<tr id="t2017-04-13T15:12:55"><td class="nickchange" colspan="2">*** robher_ is now known as robher</td><td><a href="#t2017-04-13T15:12:55" class="time">15:12</a></td></tr>
<tr id="t2017-04-13T15:18:08"><td class="part" colspan="2">*** maxin &lt;maxin!~maxin@134.134.139.78&gt; has left #yocto</td><td><a href="#t2017-04-13T15:18:08" class="time">15:18</a></td></tr>
<tr id="t2017-04-13T15:20:30"><th class="nick" style="background: #b15db1">neverpanic</th><td class="text" style="color: #b15db1">mdnneo: so if I understand correctly, you want to install additional packages into your SDK using opkg, but your SDK location does not match $somepath/opt/poky and installing additional nativesdk packages with opkg -o $somepath creates stuff in /opt/poky, but you want the files in $somepath directly?</td><td class="time"><a href="#t2017-04-13T15:20:30" class="time">15:20</a></td></tr>
<tr id="t2017-04-13T15:21:02"><th class="nick" style="background: #a25555">mdnneo</th><td class="text" style="color: #a25555">neverpanic: exactly</td><td class="time"><a href="#t2017-04-13T15:21:02" class="time">15:21</a></td></tr>
<tr id="t2017-04-13T15:21:51"><th class="nick" style="background: #b15db1">neverpanic</th><td class="text" style="color: #b15db1">Couldn't you just bind-mount $somepath to $somepath/opt/poky?</td><td class="time"><a href="#t2017-04-13T15:21:51" class="time">15:21</a></td></tr>
<tr id="t2017-04-13T15:32:04"><th class="nick" style="background: #a25555">mdnneo</th><td class="text" style="color: #a25555">neverpanic: :) works ... for now seems like a solution ... enough for today .. happy easter to everyone</td><td class="time"><a href="#t2017-04-13T15:32:04" class="time">15:32</a></td></tr>
<tr id="t2017-04-13T15:35:02"><td class="nickchange" colspan="2">*** halstead_ is now known as halstead</td><td><a href="#t2017-04-13T15:35:02" class="time">15:35</a></td></tr>
<tr id="t2017-04-13T17:04:42"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">RP: FYI. I am seeing a couple of weird errors with the new useradd changes. I will work through them and get back to you once I know more, but just so you know that we are not done there yet...</td><td class="time"><a href="#t2017-04-13T17:04:42" class="time">17:04</a></td></tr>
<tr id="t2017-04-13T17:12:42"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">hello again. has anyone experience with the meta-debian minimal core image? can i add the standard debian.org repository to apt sources to complete the running system?</td><td class="time"><a href="#t2017-04-13T17:12:42" class="time">17:12</a></td></tr>
<tr id="t2017-04-13T17:41:26"><th class="nick" style="background: #b86161">Strike5150</th><td class="text" style="color: #b86161">Goodday gents, I am trying to build qemuarm and I've got FSTYPES += " vdi,vdmk".&nbsp;&nbsp;I've somehow got a dependancy on syslinux which is not compatible with arm-poky-linux-gnueabi.&nbsp;&nbsp;This is in krogoth.</td><td class="time"><a href="#t2017-04-13T17:41:26" class="time">17:41</a></td></tr>
<tr id="t2017-04-13T17:41:33"><th class="nick" style="background: #b86161">Strike5150</th><td class="text" style="color: #b86161">I don't need syslinux is there a way to remove it?</td><td class="time"><a href="#t2017-04-13T17:41:33" class="time">17:41</a></td></tr>
<tr id="t2017-04-13T17:44:06"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">what's the point of building a vmdk for a non-intel arch? maybe i'm missing something</td><td class="time"><a href="#t2017-04-13T17:44:06" class="time">17:44</a></td></tr>
<tr id="t2017-04-13T18:15:19"><th class="nick" style="background: #4d4d93">crzier</th><td class="text" style="color: #4d4d93">How to add en_US.UTF-8 locale to image?</td><td class="time"><a href="#t2017-04-13T18:15:19" class="time">18:15</a></td></tr>
<tr id="t2017-04-13T18:15:45"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">IMAGE_LINGUAS</td><td class="time"><a href="#t2017-04-13T18:15:45" class="time">18:15</a></td></tr>
<tr id="t2017-04-13T18:16:06"><th class="nick" style="background: #4d4d93">crzier</th><td class="text" style="color: #4d4d93">I've tried change GLIBC_GENERATE_LOCALES and IMAGE_LINGUAS but `locale -a` still just C and POSIX (no en_US.UTF-8 at all)</td><td class="time"><a href="#t2017-04-13T18:16:06" class="time">18:16</a></td></tr>
<tr id="t2017-04-13T18:16:59"><th class="nick" style="background: #4d4d93">crzier</th><td class="text" style="color: #4d4d93">kergoth: I tried that also: GLIBC_GENERATE_LOCALES = "en_GB.UTF-8 en_US.UTF-8" and IMAGE_LINGUAS = "en-us"</td><td class="time"><a href="#t2017-04-13T18:16:59" class="time">18:16</a></td></tr>
<tr id="t2017-04-13T18:17:16"><th class="nick" style="background: #4d4d93">crzier</th><td class="text" style="color: #4d4d93">but `locale -a` command shows just C and POSIX</td><td class="time"><a href="#t2017-04-13T18:17:16" class="time">18:17</a></td></tr>
<tr id="t2017-04-13T18:17:17"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">did you look at what packages were installed?</td><td class="time"><a href="#t2017-04-13T18:17:17" class="time">18:17</a></td></tr>
<tr id="t2017-04-13T18:17:24"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">check the package manager</td><td class="time"><a href="#t2017-04-13T18:17:24" class="time">18:17</a></td></tr>
<tr id="t2017-04-13T18:18:19"><th class="nick" style="background: #4d4d93">crzier</th><td class="text" style="color: #4d4d93">kergoth: what do you mean by what packages were installed?</td><td class="time"><a href="#t2017-04-13T18:18:19" class="time">18:18</a></td></tr>
<tr id="t2017-04-13T18:18:30"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">images are built by installing packages</td><td class="time"><a href="#t2017-04-13T18:18:30" class="time">18:18</a></td></tr>
<tr id="t2017-04-13T18:18:33"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">rpm, ipk, deb</td><td class="time"><a href="#t2017-04-13T18:18:33" class="time">18:18</a></td></tr>
<tr id="t2017-04-13T18:18:44"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">run opkg, rpm, or dpkg to list the installed packages</td><td class="time"><a href="#t2017-04-13T18:18:44" class="time">18:18</a></td></tr>
<tr id="t2017-04-13T18:18:57"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">specifically glibc-locale*</td><td class="time"><a href="#t2017-04-13T18:18:57" class="time">18:18</a></td></tr>
<tr id="t2017-04-13T18:19:08"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">the exact command depends on nwhat package manager you're using</td><td class="time"><a href="#t2017-04-13T18:19:08" class="time">18:19</a></td></tr>
<tr id="t2017-04-13T18:20:36"><th class="nick" style="background: #4d4d93">crzier</th><td class="text" style="color: #4d4d93">kergoth: thank you, opkg list | grep glibc-locale return nothing, so does that mean locales weren't installed?</td><td class="time"><a href="#t2017-04-13T18:20:36" class="time">18:20</a></td></tr>
<tr id="t2017-04-13T18:20:43"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">what image is this?</td><td class="time"><a href="#t2017-04-13T18:20:43" class="time">18:20</a></td></tr>
<tr id="t2017-04-13T18:21:09"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">core-image-minimal will likely not install them by design</td><td class="time"><a href="#t2017-04-13T18:21:09" class="time">18:21</a></td></tr>
<tr id="t2017-04-13T18:21:30"><th class="nick" style="background: #4d4d93">crzier</th><td class="text" style="color: #4d4d93">I'm building image for Intel Edison, the image is edison-image, I think it inherit from core-image</td><td class="time"><a href="#t2017-04-13T18:21:30" class="time">18:21</a></td></tr>
<tr id="t2017-04-13T18:22:05"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">make sure the image recipe isn't overriding you, or anyone else. use bitbake -e edison-image|grep IMAGE_LINGUAS=</td><td class="time"><a href="#t2017-04-13T18:22:05" class="time">18:22</a></td></tr>
<tr id="t2017-04-13T18:23:45"><th class="nick" style="background: #4d4d93">crzier</th><td class="text" style="color: #4d4d93">kergoth: it return IMAGE_LINGUAS=" "</td><td class="time"><a href="#t2017-04-13T18:23:45" class="time">18:23</a></td></tr>
<tr id="t2017-04-13T18:23:49"><th class="nick" style="background: #4d4d93">crzier</th><td class="text" style="color: #4d4d93">weird</td><td class="time"><a href="#t2017-04-13T18:23:49" class="time">18:23</a></td></tr>
<tr id="t2017-04-13T18:24:18"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">run bitbake -e edison-image | less and type /IMAGE_LINGUAS=, then scroll up. it'll show exactly what set it to that, and where</td><td class="time"><a href="#t2017-04-13T18:24:18" class="time">18:24</a></td></tr>
<tr id="t2017-04-13T18:25:06"><th class="nick" style="background: #4d4d93">crzier</th><td class="text" style="color: #4d4d93">let me try</td><td class="time"><a href="#t2017-04-13T18:25:06" class="time">18:25</a></td></tr>
<tr id="t2017-04-13T18:26:10"><th class="nick" style="background: #4d4d93">crzier</th><td class="text" style="color: #4d4d93">I see it here, but how to know which file this line defined?</td><td class="time"><a href="#t2017-04-13T18:26:10" class="time">18:26</a></td></tr>
<tr id="t2017-04-13T18:26:51"><th class="nick" style="background: #4d4d93">crzier</th><td class="text" style="color: #4d4d93">Ok, I see, it defined in meta-intel-edison/meta-intel-edison-distro/recipes-core/images/edison-image.bb</td><td class="time"><a href="#t2017-04-13T18:26:51" class="time">18:26</a></td></tr>
<tr id="t2017-04-13T18:27:11"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">set IMAGE_LINGUAS_pn-edison-image = "en-us"</td><td class="time"><a href="#t2017-04-13T18:27:11" class="time">18:27</a></td></tr>
<tr id="t2017-04-13T18:27:16"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">that'll override what the image is setting</td><td class="time"><a href="#t2017-04-13T18:27:16" class="time">18:27</a></td></tr>
<tr id="t2017-04-13T18:27:23"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">though i'd be curious why it was set that way</td><td class="time"><a href="#t2017-04-13T18:27:23" class="time">18:27</a></td></tr>
<tr id="t2017-04-13T18:27:38"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">you should likely create yourself a layer and an image in that layer (can copy edison-image) for any further customization</td><td class="time"><a href="#t2017-04-13T18:27:38" class="time">18:27</a></td></tr>
<tr id="t2017-04-13T18:27:49"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">the _pn- method in local.conf is really best for a temporary hack</td><td class="time"><a href="#t2017-04-13T18:27:49" class="time">18:27</a></td></tr>
<tr id="t2017-04-13T18:29:02"><th class="nick" style="background: #4d4d93">crzier</th><td class="text" style="color: #4d4d93">kergoth: Thank you very much, I'll try it now</td><td class="time"><a href="#t2017-04-13T18:29:02" class="time">18:29</a></td></tr>
<tr id="t2017-04-13T18:31:40"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">np</td><td class="time"><a href="#t2017-04-13T18:31:40" class="time">18:31</a></td></tr>
<tr id="t2017-04-13T18:42:43"><th class="nick" style="background: #4d4d93">crzier</th><td class="text" style="color: #4d4d93">kergoth: its work! en_US shown, thank you very much for your help!</td><td class="time"><a href="#t2017-04-13T18:42:43" class="time">18:42</a></td></tr>
<tr id="t2017-04-13T18:43:41"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">np, happy to help</td><td class="time"><a href="#t2017-04-13T18:43:41" class="time">18:43</a></td></tr>
<tr id="t2017-04-13T18:43:56"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">might want to ask the meta-intel folks why they empty it, though :)</td><td class="time"><a href="#t2017-04-13T18:43:56" class="time">18:43</a></td></tr>
<tr id="t2017-04-13T18:49:42"><th class="nick" style="background: #4d4d93">crzier</th><td class="text" style="color: #4d4d93">I have the same question :D</td><td class="time"><a href="#t2017-04-13T18:49:42" class="time">18:49</a></td></tr>
<tr id="t2017-04-13T20:44:32"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">well, i guess i forget the frankenstein yocto and go with debian from scratch again</td><td class="time"><a href="#t2017-04-13T20:44:32" class="time">20:44</a></td></tr>
<tr id="t2017-04-13T20:45:35"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">it's easier ;-)</td><td class="time"><a href="#t2017-04-13T20:45:35" class="time">20:45</a></td></tr>
<tr id="t2017-04-13T20:53:55"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">beeker23, I wouldn't recommend meta-debian</td><td class="time"><a href="#t2017-04-13T20:53:55" class="time">20:53</a></td></tr>
<tr id="t2017-04-13T20:54:37"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">Crofton|work: what would you recommend?</td><td class="time"><a href="#t2017-04-13T20:54:37" class="time">20:54</a></td></tr>
<tr id="t2017-04-13T20:54:47"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">and why</td><td class="time"><a href="#t2017-04-13T20:54:47" class="time">20:54</a></td></tr>
<tr id="t2017-04-13T20:54:51"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">well, I do not know what you are tryin gto do :)</td><td class="time"><a href="#t2017-04-13T20:54:51" class="time">20:54</a></td></tr>
<tr id="t2017-04-13T20:55:32"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">but as I recal, meta-debian trie sto make something debian like with OE, and that just seems like a path to make everyone unhapppy :)</td><td class="time"><a href="#t2017-04-13T20:55:32" class="time">20:55</a></td></tr>
<tr id="t2017-04-13T20:57:46"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">Crofton|work: why unhappy? i'm not sure if it is good for me to compile packages day-in, day-out. from different repositories.</td><td class="time"><a href="#t2017-04-13T20:57:46" class="time">20:57</a></td></tr>
<tr id="t2017-04-13T20:58:25"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">liek i aid, I don't understand what you are trying to do</td><td class="time"><a href="#t2017-04-13T20:58:25" class="time">20:58</a></td></tr>
<tr id="t2017-04-13T20:59:18"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">i don't know why you'd want a frankenstein monstrosity when you can just build a regular distro with oe like most people do, most things already have recipes anyway.. but as Crofton|work says, not familiar with your particular requirements</td><td class="time"><a href="#t2017-04-13T20:59:18" class="time">20:59</a></td></tr>
<tr id="t2017-04-13T21:00:25"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">Crofton|work: actually i'm just playing around with my newest gadget (tinker board). integrated the asus kernel source in yocto and made some packages. yocto is over complicated. find all the dependencies and setup a own repository... could be more straight forward.</td><td class="time"><a href="#t2017-04-13T21:00:25" class="time">21:00</a></td></tr>
<tr id="t2017-04-13T21:01:11"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">so I'm glad the tinker board works</td><td class="time"><a href="#t2017-04-13T21:01:11" class="time">21:01</a></td></tr>
<tr id="t2017-04-13T21:01:40"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">i don't see how it's that much more complex than building *any* distro from scratch, including debian. if you don't care about long term maintenance, buildroot would work, and if you don't care about building from source, you could certainly assemble filesystems from debian binaries</td><td class="time"><a href="#t2017-04-13T21:01:40" class="time">21:01</a></td></tr>
<tr id="t2017-04-13T21:01:49"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">Although you can build something that beahves like a traditional desktop image with YP, most of us are focus on application specific images</td><td class="time"><a href="#t2017-04-13T21:01:49" class="time">21:01</a></td></tr>
<tr id="t2017-04-13T21:01:50"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">works well, afaik.</td><td class="time"><a href="#t2017-04-13T21:01:50" class="time">21:01</a></td></tr>
<tr id="t2017-04-13T21:01:52"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">but homerolling is pointless IMO, you'd just be wasting time reinventing wheels</td><td class="time"><a href="#t2017-04-13T21:01:52" class="time">21:01</a></td></tr>
<tr id="t2017-04-13T21:02:00"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">and being able to maintain them over a period of years</td><td class="time"><a href="#t2017-04-13T21:02:00" class="time">21:02</a></td></tr>
<tr id="t2017-04-13T21:02:48"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">kergoth: thats what i said. debian from scratch is my way, i guess.</td><td class="time"><a href="#t2017-04-13T21:02:48" class="time">21:02</a></td></tr>
<tr id="t2017-04-13T21:02:56"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">Anyone know anything about how pseudo works?</td><td class="time"><a href="#t2017-04-13T21:02:56" class="time">21:02</a></td></tr>
<tr id="t2017-04-13T21:02:58"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">trying to make buildroot work for long term distro maintenance is why oe exists, because that sucked</td><td class="time"><a href="#t2017-04-13T21:02:58" class="time">21:02</a></td></tr>
<tr id="t2017-04-13T21:04:22"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">Saur: worst case you can just talk to its maintainer..</td><td class="time"><a href="#t2017-04-13T21:04:22" class="time">21:04</a></td></tr>
<tr id="t2017-04-13T21:04:28"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">but what exactly is your question?</td><td class="time"><a href="#t2017-04-13T21:04:28" class="time">21:04</a></td></tr>
<tr id="t2017-04-13T21:04:53"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">kergoth: u see the point with bitbake and these layers and recipes. it's cool and things work well. just bitbake this and that. but i'm not sure if i like to maintain all these sources.</td><td class="time"><a href="#t2017-04-13T21:04:53" class="time">21:04</a></td></tr>
<tr id="t2017-04-13T21:05:09"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">^u^i</td><td class="time"><a href="#t2017-04-13T21:05:09" class="time">21:05</a></td></tr>
<tr id="t2017-04-13T21:05:29"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">kergoth: Well, I am looking into some problems with the useradd changes RP and I did, and now I have ended up in a weird problem with pseudo. If I am in a devshell, and execute a script that contains the following two lines:</td><td class="time"><a href="#t2017-04-13T21:05:29" class="time">21:05</a></td></tr>
<tr id="t2017-04-13T21:05:29"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">no, i have no idea what your point is. the whole point of the layer structure and open source metadata is collaboration, so *you* aren't the one maintaining it all</td><td class="time"><a href="#t2017-04-13T21:05:29" class="time">21:05</a></td></tr>
<tr id="t2017-04-13T21:05:35"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">export PSEUDO_UNLOAD="1"</td><td class="time"><a href="#t2017-04-13T21:05:35" class="time">21:05</a></td></tr>
<tr id="t2017-04-13T21:05:36"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">in that it's no different than any other distro</td><td class="time"><a href="#t2017-04-13T21:05:36" class="time">21:05</a></td></tr>
<tr id="t2017-04-13T21:05:42"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">echo "$(echo hi all | tr -d '[:space:]')"</td><td class="time"><a href="#t2017-04-13T21:05:42" class="time">21:05</a></td></tr>
<tr id="t2017-04-13T21:06:07"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">kergoth: Then the echo will print an empty line. If I remove the export line, then it works as expected...</td><td class="time"><a href="#t2017-04-13T21:06:07" class="time">21:06</a></td></tr>
<tr id="t2017-04-13T21:06:11"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">Saur: seebs in this channel is peter seebach, the pseudo maintainer, he'd be the expert</td><td class="time"><a href="#t2017-04-13T21:06:11" class="time">21:06</a></td></tr>
<tr id="t2017-04-13T21:06:15"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">ah, interesting</td><td class="time"><a href="#t2017-04-13T21:06:15" class="time">21:06</a></td></tr>
<tr id="t2017-04-13T21:06:19"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">not a clue :)</td><td class="time"><a href="#t2017-04-13T21:06:19" class="time">21:06</a></td></tr>
<tr id="t2017-04-13T21:07:11"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">beeker23: debian has a repository of debian source packages just as we have repositories of recipes, and both include patches. the only difference is how they're distributed</td><td class="time"><a href="#t2017-04-13T21:07:11" class="time">21:07</a></td></tr>
<tr id="t2017-04-13T21:07:19"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">If I trace the script, it never even forks the tr in the first case...</td><td class="time"><a href="#t2017-04-13T21:07:19" class="time">21:07</a></td></tr>
<tr id="t2017-04-13T21:07:19"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">and the particular tools used to build them</td><td class="time"><a href="#t2017-04-13T21:07:19" class="time">21:07</a></td></tr>
<tr id="t2017-04-13T21:07:20"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">kergoth: well. i need to maintain my own yocto / oe project</td><td class="time"><a href="#t2017-04-13T21:07:20" class="time">21:07</a></td></tr>
<tr id="t2017-04-13T21:07:26"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">beeker23, are you working from a tarball or a git clone of a layer?</td><td class="time"><a href="#t2017-04-13T21:07:26" class="time">21:07</a></td></tr>
<tr id="t2017-04-13T21:09:05"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Saur: That's really interesting!</td><td class="time"><a href="#t2017-04-13T21:09:05" class="time">21:09</a></td></tr>
<tr id="t2017-04-13T21:09:08"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">Crofton|work: the kernel for the tinker board was from a tar. but the whole packages got compiled via meta layers, more or less</td><td class="time"><a href="#t2017-04-13T21:09:08" class="time">21:09</a></td></tr>
<tr id="t2017-04-13T21:09:16"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: You don't say. ;)</td><td class="time"><a href="#t2017-04-13T21:09:16" class="time">21:09</a></td></tr>
<tr id="t2017-04-13T21:09:32"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Off the top of my head, I have a vague recollection of there being some weirdness to do with locale issues, but I can't immediately see why that would matter.</td><td class="time"><a href="#t2017-04-13T21:09:32" class="time">21:09</a></td></tr>
<tr id="t2017-04-13T21:10:23"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Just trying it in a plain old command prompt running under pseudo, I don't see that behavior.</td><td class="time"><a href="#t2017-04-13T21:10:23" class="time">21:10</a></td></tr>
<tr id="t2017-04-13T21:11:27"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: I have no idea how to run pseudo directly, I only run it through bitbake -c devshell ...</td><td class="time"><a href="#t2017-04-13T21:11:27" class="time">21:11</a></td></tr>
<tr id="t2017-04-13T21:12:14"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Most of the time, my actual work on pseudo isn't in yocto at all, I have it as a standalone program.</td><td class="time"><a href="#t2017-04-13T21:12:14" class="time">21:12</a></td></tr>
<tr id="t2017-04-13T21:12:20"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">but i learned bitbake and the whole concept. it's good. but it's also tough work.</td><td class="time"><a href="#t2017-04-13T21:12:20" class="time">21:12</a></td></tr>
<tr id="t2017-04-13T21:12:22"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">So I just run "bin/pseudo" and get a prompt.</td><td class="time"><a href="#t2017-04-13T21:12:22" class="time">21:12</a></td></tr>
<tr id="t2017-04-13T21:13:16"><td class="nickchange" colspan="2">*** tlwoerner_ is now known as tlwoerner</td><td><a href="#t2017-04-13T21:13:16" class="time">21:13</a></td></tr>
<tr id="t2017-04-13T21:14:32"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">beeker23, gets easier with time</td><td class="time"><a href="#t2017-04-13T21:14:32" class="time">21:14</a></td></tr>
<tr id="t2017-04-13T21:14:40"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: Any tips on how I can debug this?</td><td class="time"><a href="#t2017-04-13T21:14:40" class="time">21:14</a></td></tr>
<tr id="t2017-04-13T21:14:44"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">you have something that basically works</td><td class="time"><a href="#t2017-04-13T21:14:44" class="time">21:14</a></td></tr>
<tr id="t2017-04-13T21:15:36"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">Crofton|work: yeah, i see it. in the and is just bitkae this &amp; that and install the package with whatever you prefer</td><td class="time"><a href="#t2017-04-13T21:15:36" class="time">21:15</a></td></tr>
<tr id="t2017-04-13T21:15:45"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">^and^end</td><td class="time"><a href="#t2017-04-13T21:15:45" class="time">21:15</a></td></tr>
<tr id="t2017-04-13T21:16:58"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f"><a href="https://www.amazon.com/Embedded-Systems-Prentice-Software-Development/dp/0133443248" rel="nofollow">https://www.amazon.com/Embedded-Systems-Prentice-Software-Development/dp/0133443248</a></td><td class="time"><a href="#t2017-04-13T21:16:58" class="time">21:16</a></td></tr>
<tr id="t2017-04-13T21:17:02"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">is a recent book</td><td class="time"><a href="#t2017-04-13T21:17:02" class="time">21:17</a></td></tr>
<tr id="t2017-04-13T21:23:50"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">Crofton|work: i'm not so much into books anymore. my fear with oe / yocto is, that you have to trust the providers of the SRC_URI's, somehow. and thats why i think the steady work of the debian folk is trustworthy when it comes to qa. don't know the social structure of yocto/oe yet. and thats another point.</td><td class="time"><a href="#t2017-04-13T21:23:50" class="time">21:23</a></td></tr>
<tr id="t2017-04-13T21:24:19"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">ours as as good or better than debian :)</td><td class="time"><a href="#t2017-04-13T21:24:19" class="time">21:24</a></td></tr>
<tr id="t2017-04-13T21:24:46"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">:-)</td><td class="time"><a href="#t2017-04-13T21:24:46" class="time">21:24</a></td></tr>
<tr id="t2017-04-13T21:25:05"><th class="nick" style="background: #9b519b">bluelightning</th><td class="text" style="color: #9b519b">beeker23: source is checksummed, so you only have to trust the authors of the recipes, not that no upstream will be compromised</td><td class="time"><a href="#t2017-04-13T21:25:05" class="time">21:25</a></td></tr>
<tr id="t2017-04-13T21:25:14"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Saur: I'm honestly not totally sure. I guess the first thing I'd probably do is try to reproduce it with just pseudo instead of the whole build environment, in case that's somehow part of whatever's happening.</td><td class="time"><a href="#t2017-04-13T21:25:14" class="time">21:25</a></td></tr>
<tr id="t2017-04-13T21:25:32"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">I've been involved for around 10 years, we have come a long way and continue to improve</td><td class="time"><a href="#t2017-04-13T21:25:32" class="time">21:25</a></td></tr>
<tr id="t2017-04-13T21:25:52"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">I don't recall how compatible the build environment usually is with the host, but if you can find the pseudo binary, which is in principle host native, you should be able to just run it directly</td><td class="time"><a href="#t2017-04-13T21:25:52" class="time">21:25</a></td></tr>
<tr id="t2017-04-13T21:25:59"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">$ /path/to/pseudo sh</td><td class="time"><a href="#t2017-04-13T21:25:59" class="time">21:25</a></td></tr>
<tr id="t2017-04-13T21:26:04"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">should give you a root-ish prompt.</td><td class="time"><a href="#t2017-04-13T21:26:04" class="time">21:26</a></td></tr>
<tr id="t2017-04-13T21:27:13"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: Yes, tried that now. I get the same result that way...</td><td class="time"><a href="#t2017-04-13T21:27:13" class="time">21:27</a></td></tr>
<tr id="t2017-04-13T21:31:01"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">bluelightning: you know what i mean. not all recipes come from the archive. some from github, some tar balls and so on.. ok. don't like to make bad vibes. and there is also no reason to. you are nice people and the project is a good approach. i really loved to make progress and if you are serious about keep your own distro maintained yocto would be a recommended way to go. i admit that.</td><td class="time"><a href="#t2017-04-13T21:31:01" class="time">21:31</a></td></tr>
<tr id="t2017-04-13T21:31:27"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: If I run "pseudo sh testscript.sh" then it works as it should, but if I run "pseudo sh" and then run testscript.sh from the prompt then it fails...</td><td class="time"><a href="#t2017-04-13T21:31:27" class="time">21:31</a></td></tr>
<tr id="t2017-04-13T21:33:02"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">beeker23: as you say, it's just a different approach. whatever works best for your situation.</td><td class="time"><a href="#t2017-04-13T21:33:02" class="time">21:33</a></td></tr>
<tr id="t2017-04-13T21:33:06"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">Crofton|work: and if i need to build a package from source, than it's a little step to write a recipe and contribute it</td><td class="time"><a href="#t2017-04-13T21:33:06" class="time">21:33</a></td></tr>
<tr id="t2017-04-13T21:33:11"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">regarding SRC_URI, though, its worth noting that yocto project maintains a source mirror</td><td class="time"><a href="#t2017-04-13T21:33:11" class="time">21:33</a></td></tr>
<tr id="t2017-04-13T21:33:46"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: However, if I create a second script and let it call the first script, then "pseudo sh testscript2.sh" fails...</td><td class="time"><a href="#t2017-04-13T21:33:46" class="time">21:33</a></td></tr>
<tr id="t2017-04-13T21:34:21"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">i still rather like the idea of trying an oe-based distro where everything is built out of self hosted git repositories, no reliance upon upstream hosting at all</td><td class="time"><a href="#t2017-04-13T21:34:21" class="time">21:34</a></td></tr>
<tr id="t2017-04-13T21:34:35"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">don't know if anyone has tried such a thing yet</td><td class="time"><a href="#t2017-04-13T21:34:35" class="time">21:34</a></td></tr>
<tr id="t2017-04-13T21:34:53"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">kergoth: thats what i mean. and thats serious work.</td><td class="time"><a href="#t2017-04-13T21:34:53" class="time">21:34</a></td></tr>
<tr id="t2017-04-13T21:35:13"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">i think most just maintain their own mirrors of the upstream sources, so their builds never have to contact upstream</td><td class="time"><a href="#t2017-04-13T21:35:13" class="time">21:35</a></td></tr>
<tr id="t2017-04-13T21:35:17"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">that's what mentor does</td><td class="time"><a href="#t2017-04-13T21:35:17" class="time">21:35</a></td></tr>
<tr id="t2017-04-13T21:35:31"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">heh, we should have a kickstarter to raise money to let kergoth work freely on all hi sideas :)</td><td class="time"><a href="#t2017-04-13T21:35:31" class="time">21:35</a></td></tr>
<tr id="t2017-04-13T21:35:36"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">hah</td><td class="time"><a href="#t2017-04-13T21:35:36" class="time">21:35</a></td></tr>
<tr id="t2017-04-13T21:36:23"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">that is really, really, odd</td><td class="time"><a href="#t2017-04-13T21:36:23" class="time">21:36</a></td></tr>
<tr id="t2017-04-13T21:36:43"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">anything in pseudo.log?</td><td class="time"><a href="#t2017-04-13T21:36:43" class="time">21:36</a></td></tr>
<tr id="t2017-04-13T21:37:11"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: Where do I find it?</td><td class="time"><a href="#t2017-04-13T21:37:11" class="time">21:37</a></td></tr>
<tr id="t2017-04-13T21:38:01"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">So pseudo will have a default pseudo path (something similar to /var/pseudo) which should have a pseudo.log in it.</td><td class="time"><a href="#t2017-04-13T21:38:01" class="time">21:38</a></td></tr>
<tr id="t2017-04-13T21:38:11"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">I think you can run it as PSEUDO_PATH=/tmp pseudo [...]</td><td class="time"><a href="#t2017-04-13T21:38:11" class="time">21:38</a></td></tr>
<tr id="t2017-04-13T21:38:18"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">and then it should be /tmp/pseudo.log.</td><td class="time"><a href="#t2017-04-13T21:38:18" class="time">21:38</a></td></tr>
<tr id="t2017-04-13T21:38:43"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">It's a pretty strange behavior, though, because I can't think of any way pseudo should be breaking piping or anything like it.</td><td class="time"><a href="#t2017-04-13T21:38:43" class="time">21:38</a></td></tr>
<tr id="t2017-04-13T21:39:12"><th class="nick" style="background: #4b904b">beeker23</th><td class="text" style="color: #4b904b">ok, it's bed time. have nice days</td><td class="time"><a href="#t2017-04-13T21:39:12" class="time">21:39</a></td></tr>
<tr id="t2017-04-13T21:39:36"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: Nothing in the log that seems relevant...</td><td class="time"><a href="#t2017-04-13T21:39:36" class="time">21:39</a></td></tr>
<tr id="t2017-04-13T21:40:52"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">bluelightning: do you know if the devtool modify issues with bbclassextend have been resolved? i remember issues if you attempt to modify foo-native, not knowing any better, for example</td><td class="time"><a href="#t2017-04-13T21:40:52" class="time">21:40</a></td></tr>
<tr id="t2017-04-13T21:42:18"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Can you dump your test scripts somewhere (e.g., gist.github.com) for me to try? What's the host environment?</td><td class="time"><a href="#t2017-04-13T21:42:18" class="time">21:42</a></td></tr>
<tr id="t2017-04-13T21:42:24"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: Ok, I have devtool'd pseudo-native now, so I can make any changes to it now.</td><td class="time"><a href="#t2017-04-13T21:42:24" class="time">21:42</a></td></tr>
<tr id="t2017-04-13T21:42:53"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: A reeeeally old fedora core 17...</td><td class="time"><a href="#t2017-04-13T21:42:53" class="time">21:42</a></td></tr>
<tr id="t2017-04-13T21:43:19"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">we had to keep stuff running on RHEL 4 for an unreasonably long time, so that *shouldn't* matter, I don't think.</td><td class="time"><a href="#t2017-04-13T21:43:19" class="time">21:43</a></td></tr>
<tr id="t2017-04-13T21:43:28"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Unless there's a missing syscall or something? But that doesn't seem likely.</td><td class="time"><a href="#t2017-04-13T21:43:28" class="time">21:43</a></td></tr>
<tr id="t2017-04-13T21:44:11"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: Well, my test script is only the two lines: export PSEUDO_UNLOAD="1&nbsp;&nbsp;&nbsp;&nbsp;and:&nbsp;&nbsp;echo "$(echo hi all | tr -d '[:space:]')</td><td class="time"><a href="#t2017-04-13T21:44:11" class="time">21:44</a></td></tr>
<tr id="t2017-04-13T21:44:30"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">and the tr can be replaced with cat or anything else with the same result...</td><td class="time"><a href="#t2017-04-13T21:44:30" class="time">21:44</a></td></tr>
<tr id="t2017-04-13T21:45:23"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">huh</td><td class="time"><a href="#t2017-04-13T21:45:23" class="time">21:45</a></td></tr>
<tr id="t2017-04-13T21:45:28"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: Any debug flags to pseudo that I can enable that could be relevant?</td><td class="time"><a href="#t2017-04-13T21:45:28" class="time">21:45</a></td></tr>
<tr id="t2017-04-13T21:46:27"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">hmm.</td><td class="time"><a href="#t2017-04-13T21:46:27" class="time">21:46</a></td></tr>
<tr id="t2017-04-13T21:47:46"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">okay so what happens if you replace "| tr..." with "| blah", where "blah" is a command that doesn't exist, and thus can't be executed?</td><td class="time"><a href="#t2017-04-13T21:47:46" class="time">21:47</a></td></tr>
<tr id="t2017-04-13T21:47:58"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Does that fail in an expected way?</td><td class="time"><a href="#t2017-04-13T21:47:58" class="time">21:47</a></td></tr>
<tr id="t2017-04-13T21:48:57"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: Yes, it does.</td><td class="time"><a href="#t2017-04-13T21:48:57" class="time">21:48</a></td></tr>
<tr id="t2017-04-13T21:49:12"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">I'm trying to figure out what could be actually failing, and nothing obvious is showing up. I guess you could run with "-x w" to get wrapper logging, and then compare the output of two ways of invoking the script.</td><td class="time"><a href="#t2017-04-13T21:49:12" class="time">21:49</a></td></tr>
<tr id="t2017-04-13T21:50:10"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">What's odd is that it's not spawning the tr command in your other testing, but it's getting far enough to try but fail.</td><td class="time"><a href="#t2017-04-13T21:50:10" class="time">21:50</a></td></tr>
<tr id="t2017-04-13T21:50:13"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">huh.</td><td class="time"><a href="#t2017-04-13T21:50:13" class="time">21:50</a></td></tr>
<tr id="t2017-04-13T21:50:23"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">what about $(echo hi all | echo hello)</td><td class="time"><a href="#t2017-04-13T21:50:23" class="time">21:50</a></td></tr>
<tr id="t2017-04-13T21:51:04"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: That outputs hello...</td><td class="time"><a href="#t2017-04-13T21:51:04" class="time">21:51</a></td></tr>
<tr id="t2017-04-13T21:52:04"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Okay, that gives us some information, it's running the second command. Hmm. But that might be using a builtin, maybe?</td><td class="time"><a href="#t2017-04-13T21:52:04" class="time">21:52</a></td></tr>
<tr id="t2017-04-13T21:52:32"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: Ah, the shell messing up. If I use /bin/echo then it is empty again.</td><td class="time"><a href="#t2017-04-13T21:52:32" class="time">21:52</a></td></tr>
<tr id="t2017-04-13T21:52:34"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">I wonder whether builtins are involved. Might be useful to make a tiny hello, world C program for comparison.</td><td class="time"><a href="#t2017-04-13T21:52:34" class="time">21:52</a></td></tr>
<tr id="t2017-04-13T21:52:37"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Oooh.</td><td class="time"><a href="#t2017-04-13T21:52:37" class="time">21:52</a></td></tr>
<tr id="t2017-04-13T21:52:40"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">That's informative!</td><td class="time"><a href="#t2017-04-13T21:52:40" class="time">21:52</a></td></tr>
<tr id="t2017-04-13T21:52:59"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">How about $(/bin/echo foo)?</td><td class="time"><a href="#t2017-04-13T21:52:59" class="time">21:52</a></td></tr>
<tr id="t2017-04-13T21:53:26"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">if that expands to "foo", then it's actually running the command and the problem is specific to the pipe case. If it's empty, something else is going wrong possibly specific to command substitution.</td><td class="time"><a href="#t2017-04-13T21:53:26" class="time">21:53</a></td></tr>
<tr id="t2017-04-13T21:54:00"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">Aha, that failed as well..</td><td class="time"><a href="#t2017-04-13T21:54:00" class="time">21:54</a></td></tr>
<tr id="t2017-04-13T21:55:55"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">Btw, echo "$(/bin/echox hi all)" gives the same empty result...</td><td class="time"><a href="#t2017-04-13T21:55:55" class="time">21:55</a></td></tr>
<tr id="t2017-04-13T21:56:22"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">It's obviously not running anything inside $(...) at all...</td><td class="time"><a href="#t2017-04-13T21:56:22" class="time">21:56</a></td></tr>
<tr id="t2017-04-13T21:59:42"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Wait, now I'm confused. I thought that the "| blah" test failed in the expected way (... by which I meant "command not found" or something similar.)</td><td class="time"><a href="#t2017-04-13T21:59:42" class="time">21:59</a></td></tr>
<tr id="t2017-04-13T22:00:18"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Hmm. Okay, next experiment: What if you try the same thing with a different sh? Like, /bin/sh, /bin/bash, install ksh and try that, etc.</td><td class="time"><a href="#t2017-04-13T22:00:18" class="time">22:00</a></td></tr>
<tr id="t2017-04-13T22:00:30"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: It did when I used echo ... | foo, so I guess the shell was doing stuff internally</td><td class="time"><a href="#t2017-04-13T22:00:30" class="time">22:00</a></td></tr>
<tr id="t2017-04-13T22:01:12"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">oh neat, if your sdk name has a space, it won't install :)</td><td class="time"><a href="#t2017-04-13T22:01:12" class="time">22:01</a></td></tr>
<tr id="t2017-04-13T22:03:57"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: It is a bash problem. If I use dash or zsh it works as expected...</td><td class="time"><a href="#t2017-04-13T22:03:57" class="time">22:03</a></td></tr>
<tr id="t2017-04-13T22:05:16"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">Crofton|work: doesn't surprise me, the sdk shell archive scripts are .. not great</td><td class="time"><a href="#t2017-04-13T22:05:16" class="time">22:05</a></td></tr>
<tr id="t2017-04-13T22:05:51"><th class="nick" style="background: #97974f">Crofton|work</th><td class="text" style="color: #97974f">yeah</td><td class="time"><a href="#t2017-04-13T22:05:51" class="time">22:05</a></td></tr>
<tr id="t2017-04-13T22:08:24"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">i have bits to let the sdk auto-re-run the relocate scripts whenever you move it, but they just pile more ugliness on the existing ugliness, need to do a lot of cleanup on the baseline first</td><td class="time"><a href="#t2017-04-13T22:08:24" class="time">22:08</a></td></tr>
<tr id="t2017-04-13T22:08:24"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">heh</td><td class="time"><a href="#t2017-04-13T22:08:24" class="time">22:08</a></td></tr>
<tr id="t2017-04-13T22:16:28"><td class="nickchange" colspan="2">*** Snert__ is now known as Snert_</td><td><a href="#t2017-04-13T22:16:28" class="time">22:16</a></td></tr>
<tr id="t2017-04-13T22:31:03"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: Ok, I have another clue: the forked bash shell that is supposed to execve the code inside $(...) segmentation faults...</td><td class="time"><a href="#t2017-04-13T22:31:03" class="time">22:31</a></td></tr>
<tr id="t2017-04-13T22:39:34"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">oooh.</td><td class="time"><a href="#t2017-04-13T22:39:34" class="time">22:39</a></td></tr>
<tr id="t2017-04-13T22:39:56"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">I have a suspicion about that.</td><td class="time"><a href="#t2017-04-13T22:39:56" class="time">22:39</a></td></tr>
<tr id="t2017-04-13T22:40:07"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: Ok?</td><td class="time"><a href="#t2017-04-13T22:40:07" class="time">22:40</a></td></tr>
<tr id="t2017-04-13T22:40:27"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">So we've run into some weird stuff in the past with bash and environment variables.</td><td class="time"><a href="#t2017-04-13T22:40:27" class="time">22:40</a></td></tr>
<tr id="t2017-04-13T22:40:51"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">The bash code actually *redefines* setenv/getenv/etc., differently from libc's versions.</td><td class="time"><a href="#t2017-04-13T22:40:51" class="time">22:40</a></td></tr>
<tr id="t2017-04-13T22:43:04"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Hmm. But that *shouldn't* be breaking anything, I don't think.</td><td class="time"><a href="#t2017-04-13T22:43:04" class="time">22:43</a></td></tr>
<tr id="t2017-04-13T22:45:01"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Anyway, you'd probably need to build a copy of bash with debugging symbols and get a core file or something similar.</td><td class="time"><a href="#t2017-04-13T22:45:01" class="time">22:45</a></td></tr>
<tr id="t2017-04-13T22:45:26"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: Hmm, not exactly what I had planned for... :P</td><td class="time"><a href="#t2017-04-13T22:45:26" class="time">22:45</a></td></tr>
<tr id="t2017-04-13T22:46:02"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">yeah. alternatively, upgrade system to newer version and hope for the best. :P</td><td class="time"><a href="#t2017-04-13T22:46:02" class="time">22:46</a></td></tr>
<tr id="t2017-04-13T22:46:31"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">That's... Nearly five years old, so it may well be an older version of bash with different weird internal magic.</td><td class="time"><a href="#t2017-04-13T22:46:31" class="time">22:46</a></td></tr>
<tr id="t2017-04-13T22:46:33"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: Yeah, who else is stupid enough to run this old a system...</td><td class="time"><a href="#t2017-04-13T22:46:33" class="time">22:46</a></td></tr>
<tr id="t2017-04-13T22:47:06"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">FWIW, there actually ARE reasons for the strange getenv/setenv behavior; basically, bash wants to be able to manipulate its environment table efficiently, which it can't do if using raw setenv/getenv, especially because the POSIX API doesn't give you a way to do that without memory leaks.</td><td class="time"><a href="#t2017-04-13T22:47:06" class="time">22:47</a></td></tr>
<tr id="t2017-04-13T22:47:47"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: bash version is 4.3.30</td><td class="time"><a href="#t2017-04-13T22:47:47" class="time">22:47</a></td></tr>
<tr id="t2017-04-13T22:47:49"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">So there's extra magic to intercept those calls (in case they're made by code bash is linked with), and shove things into the bash data structures, and then update the actual environment only right before an actual exec.</td><td class="time"><a href="#t2017-04-13T22:47:49" class="time">22:47</a></td></tr>
<tr id="t2017-04-13T22:47:54"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">huh!</td><td class="time"><a href="#t2017-04-13T22:47:54" class="time">22:47</a></td></tr>
<tr id="t2017-04-13T22:48:02"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">that is recent enough that it shouldn't be significantly different.</td><td class="time"><a href="#t2017-04-13T22:48:02" class="time">22:48</a></td></tr>
<tr id="t2017-04-13T22:48:15"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Like, I'm on 4.3.46, which is... 2013, anyway.</td><td class="time"><a href="#t2017-04-13T22:48:15" class="time">22:48</a></td></tr>
<tr id="t2017-04-13T22:48:29"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">ah-hah</td><td class="time"><a href="#t2017-04-13T22:48:29" class="time">22:48</a></td></tr>
<tr id="t2017-04-13T22:48:53"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">I can reproduce this on modern bash, now that I know to actually invoke bash.</td><td class="time"><a href="#t2017-04-13T22:48:53" class="time">22:48</a></td></tr>
<tr id="t2017-04-13T22:49:20"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: Ok, so it is not only me then. Good to know... :)</td><td class="time"><a href="#t2017-04-13T22:49:20" class="time">22:49</a></td></tr>
<tr id="t2017-04-13T22:50:31"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">i'll see if i can reproduce the thing, but as a workaround, don't use bash? :P</td><td class="time"><a href="#t2017-04-13T22:50:31" class="time">22:50</a></td></tr>
<tr id="t2017-04-13T22:51:16"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: Unfortunately I do not think that works as a generic solution...</td><td class="time"><a href="#t2017-04-13T22:51:16" class="time">22:51</a></td></tr>
<tr id="t2017-04-13T22:52:54"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">huh</td><td class="time"><a href="#t2017-04-13T22:52:54" class="time">22:52</a></td></tr>
<tr id="t2017-04-13T22:53:30"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: I do not think we can tell all users of bitbake that they must not use bash as /bin/sh...</td><td class="time"><a href="#t2017-04-13T22:53:30" class="time">22:53</a></td></tr>
<tr id="t2017-04-13T22:54:08"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">well, yeah</td><td class="time"><a href="#t2017-04-13T22:54:08" class="time">22:54</a></td></tr>
<tr id="t2017-04-13T22:54:28"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">it's pretty weird, i'm not at all sure what's happening.</td><td class="time"><a href="#t2017-04-13T22:54:28" class="time">22:54</a></td></tr>
<tr id="t2017-04-13T22:54:59"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">4094&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (STREQN (assign, export_env[i], equal_offset + 1))</td><td class="time"><a href="#t2017-04-13T22:54:59" class="time">22:54</a></td></tr>
<tr id="t2017-04-13T22:54:59"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">(gdb) p assign</td><td class="time"><a href="#t2017-04-13T22:54:59" class="time">22:54</a></td></tr>
<tr id="t2017-04-13T22:54:59"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">$1 = 0x979828 "_=/bin/cat"</td><td class="time"><a href="#t2017-04-13T22:54:59" class="time">22:54</a></td></tr>
<tr id="t2017-04-13T22:54:59"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">(gdb) p export_env[i]</td><td class="time"><a href="#t2017-04-13T22:54:59" class="time">22:54</a></td></tr>
<tr id="t2017-04-13T22:54:59"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">$2 = 0x0</td><td class="time"><a href="#t2017-04-13T22:54:59" class="time">22:54</a></td></tr>
<tr id="t2017-04-13T22:55:01"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">welp</td><td class="time"><a href="#t2017-04-13T22:55:01" class="time">22:55</a></td></tr>
<tr id="t2017-04-13T22:56:10"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: You're debugging bash?</td><td class="time"><a href="#t2017-04-13T22:56:10" class="time">22:56</a></td></tr>
<tr id="t2017-04-13T22:56:43"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">yeah</td><td class="time"><a href="#t2017-04-13T22:56:43" class="time">22:56</a></td></tr>
<tr id="t2017-04-13T22:56:55"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: Better you than me I guess. :)</td><td class="time"><a href="#t2017-04-13T22:56:55" class="time">22:56</a></td></tr>
<tr id="t2017-04-13T22:57:56"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Okay, so, I think I sort of see what's happening. It looks like, when pseudo tries to drop the LD_PRELOAD variable for PSEUDO_UNLOAD, it ends up zeroing out an entry in environ... but bash was tracking how many things it thought were in environ.</td><td class="time"><a href="#t2017-04-13T22:57:56" class="time">22:57</a></td></tr>
<tr id="t2017-04-13T22:58:34"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">ah</td><td class="time"><a href="#t2017-04-13T22:58:34" class="time">22:58</a></td></tr>
<tr id="t2017-04-13T22:58:35"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">So the problem is we're bypassing bash's fancy management... And thus breaking what it thinks it knows about the environment.</td><td class="time"><a href="#t2017-04-13T22:58:35" class="time">22:58</a></td></tr>
<tr id="t2017-04-13T23:06:14"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: I modified pseudo_dropenv() to always call SETENV() regardless of whether strlen(ld_preload) is 0 or not, and now it works...</td><td class="time"><a href="#t2017-04-13T23:06:14" class="time">23:06</a></td></tr>
<tr id="t2017-04-13T23:08:55"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Yeah.</td><td class="time"><a href="#t2017-04-13T23:08:55" class="time">23:08</a></td></tr>
<tr id="t2017-04-13T23:09:17"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">I would really prefer to actually drop the environment entry if it's going to be empty, but that may be unsafe for bash.</td><td class="time"><a href="#t2017-04-13T23:09:17" class="time">23:09</a></td></tr>
<tr id="t2017-04-13T23:11:03"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">I should possibly also be catching execvpe, which is currently ignored.</td><td class="time"><a href="#t2017-04-13T23:11:03" class="time">23:11</a></td></tr>
<tr id="t2017-04-13T23:11:24"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">... but honestly this is a nice easy one-liner so I think I'll go with it for now.</td><td class="time"><a href="#t2017-04-13T23:11:24" class="time">23:11</a></td></tr>
<tr id="t2017-04-13T23:14:23"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">I've pushed a proposed fix (which is basically yours) to master, it's commit b6b68db896f9963558334aff7fca61adde4ec10f.</td><td class="time"><a href="#t2017-04-13T23:14:23" class="time">23:14</a></td></tr>
<tr id="t2017-04-13T23:14:26"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">Nice catch!</td><td class="time"><a href="#t2017-04-13T23:14:26" class="time">23:14</a></td></tr>
<tr id="t2017-04-13T23:18:37"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: Could be simplified to:</td><td class="time"><a href="#t2017-04-13T23:18:37" class="time">23:18</a></td></tr>
<tr id="t2017-04-13T23:18:38"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">if (ld_preload) {</td><td class="time"><a href="#t2017-04-13T23:18:38" class="time">23:18</a></td></tr>
<tr id="t2017-04-13T23:18:38"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">SETENV(PRELINK_LIBRARIES, ld_preload, 1);</td><td class="time"><a href="#t2017-04-13T23:18:38" class="time">23:18</a></td></tr>
<tr id="t2017-04-13T23:18:38"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">}</td><td class="time"><a href="#t2017-04-13T23:18:38" class="time">23:18</a></td></tr>
<tr id="t2017-04-13T23:19:06"><th class="nick" style="background: #5fb4b4">Saur</th><td class="text" style="color: #5fb4b4">seebs: Anyway, as long as it is fixed, I am happy. :)</td><td class="time"><a href="#t2017-04-13T23:19:06" class="time">23:19</a></td></tr>
<tr id="t2017-04-13T23:23:15"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">except that if ld_preload is empty, we probably want to write an empty string rather than leaving the environment alone.</td><td class="time"><a href="#t2017-04-13T23:23:15" class="time">23:23</a></td></tr>
<tr id="t2017-04-13T23:23:27"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">... although i suppose the check for non-empty contents is now pointless.</td><td class="time"><a href="#t2017-04-13T23:23:27" class="time">23:23</a></td></tr>
<tr id="t2017-04-13T23:23:41"><th class="nick" style="background: #62bb62">seebs</th><td class="text" style="color: #62bb62">this is why i try not to do anything by thursday afternoon or later in a week, i'm usually stupid by now</td><td class="time"><a href="#t2017-04-13T23:23:41" class="time">23:23</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2017-04-12.log.html">&#171; Wednesday, 2017-04-12</a> <a href="index.html">Index</a> <a href="%23yocto.2017-04-14.log.html">Friday, 2017-04-14 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
