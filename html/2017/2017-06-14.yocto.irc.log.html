<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Wednesday, 2017-06-14</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Wednesday, 2017-06-14</h1>
<div class="navigation"> <a href="%23yocto.2017-06-13.log.html">&#171; Tuesday, 2017-06-13</a> <a href="index.html">Index</a> <a href="%23yocto.2017-06-15.log.html">Thursday, 2017-06-15 &#187;</a> </div>
<table class="irclog">
<tr id="t2017-06-14T04:16:32"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">hello, everyone, good afternoon...</td><td class="time"><a href="#t2017-06-14T04:16:32" class="time">04:16</a></td></tr>
<tr id="t2017-06-14T04:20:10"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">I have a question related with meta-web-kiosk, does anyone have a knowledge about it ? thanks</td><td class="time"><a href="#t2017-06-14T04:20:10" class="time">04:20</a></td></tr>
<tr id="t2017-06-14T04:40:58"><td class="part" colspan="2">*** ghs39ghsggf &lt;ghs39ghsggf!~ghs39ghsg@186.223.250.179&gt; has left #yocto</td><td><a href="#t2017-06-14T04:40:58" class="time">04:40</a></td></tr>
<tr id="t2017-06-14T05:16:57"><td class="other" colspan="2">-YoctoAutoBuilder- build #546 of nightly-checkuri is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-checkuri/builds/546" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-checkuri/builds/546</a></td><td><a href="#t2017-06-14T05:16:57" class="time">05:16</a></td></tr>
<tr id="t2017-06-14T05:23:17"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">rick1: what questions do you have specific to that layer</td><td class="time"><a href="#t2017-06-14T05:23:17" class="time">05:23</a></td></tr>
<tr id="t2017-06-14T05:55:44"><td class="other" colspan="2">-YoctoAutoBuilder- build #15 of nightly-refkit is complete: Failure [failed RunPreamble CreateAutoConf Create BBLayers Configuration BuildImages Running oe-selftest]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-refkit/builds/15" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-refkit/builds/15</a></td><td><a href="#t2017-06-14T05:55:44" class="time">05:55</a></td></tr>
<tr id="t2017-06-14T05:56:06"><th class="nick" style="background: #818144">phako[m]</th><td class="text" style="color: #818144">Hi, I'm trying to convince the qtbase recipe to put the bearer plugins into a separate package... so what I did in a .bbappend is <a href="https://paste.gnome.org/phzqqnnjw" rel="nofollow">https://paste.gnome.org/phzqqnnjw</a> - I see the folders being created in packages-split, but the .so files still end up in the generic -plugins package...</td><td class="time"><a href="#t2017-06-14T05:56:06" class="time">05:56</a></td></tr>
<tr id="t2017-06-14T05:58:31"><th class="nick" style="background: #854685">CostinC</th><td class="text" style="color: #854685">morning all</td><td class="time"><a href="#t2017-06-14T05:58:31" class="time">05:58</a></td></tr>
<tr id="t2017-06-14T06:32:43"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">I want to add chromium browser into core-image-sato...The step : 1 .I had made core-image-sato-custom.bb</td><td class="time"><a href="#t2017-06-14T06:32:43" class="time">06:32</a></td></tr>
<tr id="t2017-06-14T06:33:09"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">2. Add add bblayer.conf ==&gt; meta-browser</td><td class="time"><a href="#t2017-06-14T06:33:09" class="time">06:33</a></td></tr>
<tr id="t2017-06-14T06:33:52"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">3. Add IMAGE_INSTALL += "chromium" inside core-image-sato-custom.bb ?</td><td class="time"><a href="#t2017-06-14T06:33:52" class="time">06:33</a></td></tr>
<tr id="t2017-06-14T06:34:09"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">sounds about right?</td><td class="time"><a href="#t2017-06-14T06:34:09" class="time">06:34</a></td></tr>
<tr id="t2017-06-14T06:34:11"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">doesn't it work?</td><td class="time"><a href="#t2017-06-14T06:34:11" class="time">06:34</a></td></tr>
<tr id="t2017-06-14T06:34:46"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">correct me if I'm wrong, I can't do that yet because I 've been compiling something else here..</td><td class="time"><a href="#t2017-06-14T06:34:46" class="time">06:34</a></td></tr>
<tr id="t2017-06-14T06:35:34"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">just make sure the meta-browser layer is before your own layer, iirc that matters</td><td class="time"><a href="#t2017-06-14T06:35:34" class="time">06:35</a></td></tr>
<tr id="t2017-06-14T06:36:34"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">I don't have much layer, only default in bblayers.conf..I'll keep posted if I can or can not that..</td><td class="time"><a href="#t2017-06-14T06:36:34" class="time">06:36</a></td></tr>
<tr id="t2017-06-14T06:36:43"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">many layers..</td><td class="time"><a href="#t2017-06-14T06:36:43" class="time">06:36</a></td></tr>
<tr id="t2017-06-14T06:36:54"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">I don't have many layers</td><td class="time"><a href="#t2017-06-14T06:36:54" class="time">06:36</a></td></tr>
<tr id="t2017-06-14T06:37:36"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">I'm learning so I'm not sure...</td><td class="time"><a href="#t2017-06-14T06:37:36" class="time">06:37</a></td></tr>
<tr id="t2017-06-14T06:37:49"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">sandsmark: nah that actually not *that* important.</td><td class="time"><a href="#t2017-06-14T06:37:49" class="time">06:37</a></td></tr>
<tr id="t2017-06-14T06:38:10"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">way more important is that the release branches are coherent. e.g. all morty, all krogoth, you get it.</td><td class="time"><a href="#t2017-06-14T06:38:10" class="time">06:38</a></td></tr>
<tr id="t2017-06-14T06:38:42"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">ah, my bad</td><td class="time"><a href="#t2017-06-14T06:38:42" class="time">06:38</a></td></tr>
<tr id="t2017-06-14T06:39:18"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">sandsmark: no bad. AFAIK there can be edge cases where the order matters, and its good practise :)</td><td class="time"><a href="#t2017-06-14T06:39:18" class="time">06:39</a></td></tr>
<tr id="t2017-06-14T06:40:01"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">ok, so I wasn't misremembering completely :p</td><td class="time"><a href="#t2017-06-14T06:40:01" class="time">06:40</a></td></tr>
<tr id="t2017-06-14T06:40:50"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">sandsmark: not at all. its just in most cases not important when adding some package that does not already see appends or such.</td><td class="time"><a href="#t2017-06-14T06:40:50" class="time">06:40</a></td></tr>
<tr id="t2017-06-14T06:41:07"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">I'm following the book 5.2. Customizing Images yoctoproject 2.3 mega manual</td><td class="time"><a href="#t2017-06-14T06:41:07" class="time">06:41</a></td></tr>
<tr id="t2017-06-14T06:41:10"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">ah, of course</td><td class="time"><a href="#t2017-06-14T06:41:10" class="time">06:41</a></td></tr>
<tr id="t2017-06-14T06:42:02"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">so yeah, keep it after the meta-browser layer, you're probably going to bbappend to the chromium recipe</td><td class="time"><a href="#t2017-06-14T06:42:02" class="time">06:42</a></td></tr>
<tr id="t2017-06-14T06:42:13"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">rick1: btw, the chromium recipe in the meta-browser layer was very outdated last I looked</td><td class="time"><a href="#t2017-06-14T06:42:13" class="time">06:42</a></td></tr>
<tr id="t2017-06-14T06:42:16"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">it used gyp for example</td><td class="time"><a href="#t2017-06-14T06:42:16" class="time">06:42</a></td></tr>
<tr id="t2017-06-14T06:42:45"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">rick1: all is well. just for completeness, your core-image-sato-custom recipe should go into your custom layer, not into one of the existing upstream ones.</td><td class="time"><a href="#t2017-06-14T06:42:45" class="time">06:42</a></td></tr>
<tr id="t2017-06-14T06:43:02"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">rick1: this is up to date: <a href="https://github.com/rakuco/meta-crosswalk/tree/chromium59/recipes-browser/chromium" rel="nofollow">https://github.com/rakuco/meta-crosswalk/tree/chromium59/recipes-browser/chromium</a></td><td class="time"><a href="#t2017-06-14T06:43:02" class="time">06:43</a></td></tr>
<tr id="t2017-06-14T06:43:33"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">thanks sandmark...</td><td class="time"><a href="#t2017-06-14T06:43:33" class="time">06:43</a></td></tr>
<tr id="t2017-06-14T06:43:51"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">leto: how can I use custom layer ?</td><td class="time"><a href="#t2017-06-14T06:43:51" class="time">06:43</a></td></tr>
<tr id="t2017-06-14T06:44:31"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">rick1: there's a command that creates the basic directory structure for it</td><td class="time"><a href="#t2017-06-14T06:44:31" class="time">06:44</a></td></tr>
<tr id="t2017-06-14T06:44:57"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">rick1: poky comes with a script called yocto-layer. so, "yocto-layer create mystuff" should create a layer where you are, in a directory called "meta-mystuff"</td><td class="time"><a href="#t2017-06-14T06:44:57" class="time">06:44</a></td></tr>
<tr id="t2017-06-14T06:45:10"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">my experiment now, put custom-image-sato-custom.bb, inside poky/meta/recipes-sato/images</td><td class="time"><a href="#t2017-06-14T06:45:10" class="time">06:45</a></td></tr>
<tr id="t2017-06-14T06:45:18"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">rick1: add that to bblayers.conf, and use it just like the existing ones.</td><td class="time"><a href="#t2017-06-14T06:45:18" class="time">06:45</a></td></tr>
<tr id="t2017-06-14T06:45:29"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">and bitbake it.....it's running now with</td><td class="time"><a href="#t2017-06-14T06:45:29" class="time">06:45</a></td></tr>
<tr id="t2017-06-14T06:46:00"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">IMAGE_FEATURES += "splash package-management x11-base x11-sato ssh-server-dropbear hwcodecs ssh-server-openssh" and IMAGE_INSTALL += "strace nano"</td><td class="time"><a href="#t2017-06-14T06:46:00" class="time">06:46</a></td></tr>
<tr id="t2017-06-14T06:46:20"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">rick1: for a first test tinkering in poky is all fine. its just once you modify more than one place, want to keep your changes, want to pull updates, then it becomes nasty. so basically, in all real-world usage cases.</td><td class="time"><a href="#t2017-06-14T06:46:20" class="time">06:46</a></td></tr>
<tr id="t2017-06-14T06:46:55"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">Leto : I see...I don't have your skill yet</td><td class="time"><a href="#t2017-06-14T06:46:55" class="time">06:46</a></td></tr>
<tr id="t2017-06-14T06:47:16"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">rick1: it's very straightforward to use a custom layer</td><td class="time"><a href="#t2017-06-14T06:47:16" class="time">06:47</a></td></tr>
<tr id="t2017-06-14T06:47:20"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">rick1: all is well as long as you're willing to learn :)</td><td class="time"><a href="#t2017-06-14T06:47:20" class="time">06:47</a></td></tr>
<tr id="t2017-06-14T06:47:34"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">and it gets harder to move stuff over later, so better start with it right away (from experience)</td><td class="time"><a href="#t2017-06-14T06:47:34" class="time">06:47</a></td></tr>
<tr id="t2017-06-14T06:47:54"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">but another unrelated issue that I've been stuck with half a day (and a night); I added a wpa-supplicant_%.bbappend and put in «SYSTEMD_SERVICE_${PN} = "wpa_supplicant@wlan0.service"» and «SYSTEMD_AUTO_ENABLE = "enable"», to try to get it to auto-enable wifi on boot, but for some reason my image ends up with «wpa_supplicant@%i.service» in the multi-user.target.wants folder</td><td class="time"><a href="#t2017-06-14T06:47:54" class="time">06:47</a></td></tr>
<tr id="t2017-06-14T06:48:39"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">sandsmark: were all those underscores intended?</td><td class="time"><a href="#t2017-06-14T06:48:39" class="time">06:48</a></td></tr>
<tr id="t2017-06-14T06:48:40"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">the pkg post_inst script seems to do the right stuff («systemctl $OPTS enable wpa_supplicant@wlan0.service»), and if I run that manually after booting it enables it correctly</td><td class="time"><a href="#t2017-06-14T06:48:40" class="time">06:48</a></td></tr>
<tr id="t2017-06-14T06:48:43"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">sandmark : yup...I'll make my "meta-stuff" and get back again...</td><td class="time"><a href="#t2017-06-14T06:48:43" class="time">06:48</a></td></tr>
<tr id="t2017-06-14T06:48:56"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">LetoThe2nd: yeah, they are from the original wpa_supplicant_foo.bb</td><td class="time"><a href="#t2017-06-14T06:48:56" class="time">06:48</a></td></tr>
<tr id="t2017-06-14T06:49:15"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">eh, the .bb is called wpa-supplicant_foo, but all the scripts and service files are wpa_supplicant</td><td class="time"><a href="#t2017-06-14T06:49:15" class="time">06:49</a></td></tr>
<tr id="t2017-06-14T06:49:19"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">I've read yocto-layer create mystuff before, but not yet in practice...</td><td class="time"><a href="#t2017-06-14T06:49:19" class="time">06:49</a></td></tr>
<tr id="t2017-06-14T06:49:49"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">sandsmark: it its really call "_SYSTEMD_SERVICE_${PN}"? that sounds weird. let me have a look</td><td class="time"><a href="#t2017-06-14T06:49:49" class="time">06:49</a></td></tr>
<tr id="t2017-06-14T06:50:06"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">thank you</td><td class="time"><a href="#t2017-06-14T06:50:06" class="time">06:50</a></td></tr>
<tr id="t2017-06-14T06:50:31"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">anyway...what time is it there ?</td><td class="time"><a href="#t2017-06-14T06:50:31" class="time">06:50</a></td></tr>
<tr id="t2017-06-14T06:50:32"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">I'm fairly sure it is the correct way to do it, but I think I've been looking too long at it, probably overlooking something simple</td><td class="time"><a href="#t2017-06-14T06:50:32" class="time">06:50</a></td></tr>
<tr id="t2017-06-14T06:51:09"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">rick1: 08:51</td><td class="time"><a href="#t2017-06-14T06:51:09" class="time">06:51</a></td></tr>
<tr id="t2017-06-14T06:51:09"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">sandsmark: i don't see none of the lot of underscores that were in your snippets here: <a href="http://cgit.openembedded.org/openembedded-core/tree/meta/recipes-connectivity/wpa-supplicant/wpa-supplicant_2.6.bb?h=master" rel="nofollow">http://cgit.openembedded.org/openembedded-core/tree/meta/recipes-connectivity/wpa-supplicant/wpa-supplicant_2.6.bb?h=master</a></td><td class="time"><a href="#t2017-06-14T06:51:09" class="time">06:51</a></td></tr>
<tr id="t2017-06-14T06:51:33"><td class="nickchange" colspan="2">*** rperier_ is now known as rperier</td><td><a href="#t2017-06-14T06:51:33" class="time">06:51</a></td></tr>
<tr id="t2017-06-14T06:51:52"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">LetoThe2nd: these?: <a href="http://cgit.openembedded.org/openembedded-core/tree/meta/recipes-connectivity/wpa-supplicant/wpa-supplicant_2.6.bb?h=master#n18" rel="nofollow">http://cgit.openembedded.org/openembedded-core/tree/meta/recipes-connectivity/wpa-supplicant/wpa-supplicant_2.6.bb?h=master#n18</a></td><td class="time"><a href="#t2017-06-14T06:51:52" class="time">06:51</a></td></tr>
<tr id="t2017-06-14T06:52:21"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">this is my entire wpa-supplicant_%.bbappend: <a href="http://ix.io/xsc" rel="nofollow">http://ix.io/xsc</a></td><td class="time"><a href="#t2017-06-14T06:52:21" class="time">06:52</a></td></tr>
<tr id="t2017-06-14T06:52:55"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">erh, ignore the rm -f, I was testing if it worked if I removed the extra .service files</td><td class="time"><a href="#t2017-06-14T06:52:55" class="time">06:52</a></td></tr>
<tr id="t2017-06-14T06:53:14"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">sandmark : Let me guess, you're somewhere in europe ...</td><td class="time"><a href="#t2017-06-14T06:53:14" class="time">06:53</a></td></tr>
<tr id="t2017-06-14T06:53:20"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">rick1: norway :)</td><td class="time"><a href="#t2017-06-14T06:53:20" class="time">06:53</a></td></tr>
<tr id="t2017-06-14T06:53:59"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">few thousands K away from me..:)</td><td class="time"><a href="#t2017-06-14T06:53:59" class="time">06:53</a></td></tr>
<tr id="t2017-06-14T06:54:07"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">I'm in Aus</td><td class="time"><a href="#t2017-06-14T06:54:07" class="time">06:54</a></td></tr>
<tr id="t2017-06-14T06:54:09"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">bah, it's probably easier to just ignore the systemd.bbclass and ln -s manually</td><td class="time"><a href="#t2017-06-14T06:54:09" class="time">06:54</a></td></tr>
<tr id="t2017-06-14T06:54:11"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">ah, nice</td><td class="time"><a href="#t2017-06-14T06:54:11" class="time">06:54</a></td></tr>
<tr id="t2017-06-14T06:54:44"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">oceania is one of the few regions of the world I haven't been in</td><td class="time"><a href="#t2017-06-14T06:54:44" class="time">06:54</a></td></tr>
<tr id="t2017-06-14T06:56:09"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">I've never been in Norway as well...</td><td class="time"><a href="#t2017-06-14T06:56:09" class="time">06:56</a></td></tr>
<tr id="t2017-06-14T06:56:38"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">sandsmark: the replacement failure rings a bell, but i donÄt know which. maybe just put it onto the ml and do something else today, waiting for a response?</td><td class="time"><a href="#t2017-06-14T06:56:38" class="time">06:56</a></td></tr>
<tr id="t2017-06-14T06:57:31"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">I suck at putting a half-solved problem away, hard to concentrate on something else then :p</td><td class="time"><a href="#t2017-06-14T06:57:31" class="time">06:57</a></td></tr>
<tr id="t2017-06-14T06:57:44"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">but yeah, I should probably do that</td><td class="time"><a href="#t2017-06-14T06:57:44" class="time">06:57</a></td></tr>
<tr id="t2017-06-14T06:57:53"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">sandsmark: :-)</td><td class="time"><a href="#t2017-06-14T06:57:53" class="time">06:57</a></td></tr>
<tr id="t2017-06-14T06:59:45"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">sandmark ==&gt; any debug message from your WPA stuff ? I don't exactly but if you have debug stuff..echo "something" ?</td><td class="time"><a href="#t2017-06-14T06:59:45" class="time">06:59</a></td></tr>
<tr id="t2017-06-14T07:00:30"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">I don't exactly know..</td><td class="time"><a href="#t2017-06-14T07:00:30" class="time">07:00</a></td></tr>
<tr id="t2017-06-14T07:01:25"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">not sure where it would help to put debug output, the «wpa-supplicant/latest.pkg_postinst» shows the correct stuff</td><td class="time"><a href="#t2017-06-14T07:01:25" class="time">07:01</a></td></tr>
<tr id="t2017-06-14T07:01:38"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">maybe in the systemd.bbclass code that tries to parse stuff</td><td class="time"><a href="#t2017-06-14T07:01:38" class="time">07:01</a></td></tr>
<tr id="t2017-06-14T07:01:49"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">auto-enable wifi ==&gt; do you have the driver running already ?</td><td class="time"><a href="#t2017-06-14T07:01:49" class="time">07:01</a></td></tr>
<tr id="t2017-06-14T07:02:06"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">yup</td><td class="time"><a href="#t2017-06-14T07:02:06" class="time">07:02</a></td></tr>
<tr id="t2017-06-14T07:02:25"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">and if you manually call / ping it's working isn't it ?</td><td class="time"><a href="#t2017-06-14T07:02:25" class="time">07:02</a></td></tr>
<tr id="t2017-06-14T07:02:26"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">I managed to get our odm to use a chip that's well-supported by the mainline kernel, luckily</td><td class="time"><a href="#t2017-06-14T07:02:26" class="time">07:02</a></td></tr>
<tr id="t2017-06-14T07:02:45"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">yeah, it works well if I start or enable wpa_supplicant manually on the device</td><td class="time"><a href="#t2017-06-14T07:02:45" class="time">07:02</a></td></tr>
<tr id="t2017-06-14T07:03:01"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">but I want an image from yocto I can just stuff into delta_generator without having to do manual stuff</td><td class="time"><a href="#t2017-06-14T07:03:01" class="time">07:03</a></td></tr>
<tr id="t2017-06-14T07:04:36"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">it's just my idea...can you create a service calling that device on /etc/systemd/system ..manually ?</td><td class="time"><a href="#t2017-06-14T07:04:36" class="time">07:04</a></td></tr>
<tr id="t2017-06-14T07:04:56"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">I can see some services in that directory...what I</td><td class="time"><a href="#t2017-06-14T07:04:56" class="time">07:04</a></td></tr>
<tr id="t2017-06-14T07:05:16"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">well, I could just ln -s the file manually in do_install_append(), but I wanted to do it The Right Way (TM)</td><td class="time"><a href="#t2017-06-14T07:05:16" class="time">07:05</a></td></tr>
<tr id="t2017-06-14T07:06:08"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">I see..</td><td class="time"><a href="#t2017-06-14T07:06:08" class="time">07:06</a></td></tr>
<tr id="t2017-06-14T07:07:03"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">so the image should have a script running that service ( auto wifi )</td><td class="time"><a href="#t2017-06-14T07:07:03" class="time">07:07</a></td></tr>
<tr id="t2017-06-14T07:07:11"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">correct me if I'm wrong..</td><td class="time"><a href="#t2017-06-14T07:07:11" class="time">07:07</a></td></tr>
<tr id="t2017-06-14T07:08:13"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">I'm thinking to put that "auto script" inside the image...but I don't know exactly what you want..</td><td class="time"><a href="#t2017-06-14T07:08:13" class="time">07:08</a></td></tr>
<tr id="t2017-06-14T07:10:40"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">sysctl status "auto wifi script" ?</td><td class="time"><a href="#t2017-06-14T07:10:40" class="time">07:10</a></td></tr>
<tr id="t2017-06-14T07:11:48"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">ah, systemd is basically like a script like that</td><td class="time"><a href="#t2017-06-14T07:11:48" class="time">07:11</a></td></tr>
<tr id="t2017-06-14T07:12:46"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">yup</td><td class="time"><a href="#t2017-06-14T07:12:46" class="time">07:12</a></td></tr>
<tr id="t2017-06-14T07:14:01"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">sandsmark: to me it just sounds like the script name replacement doesn't work correctly. you can always bitbake -e the recipe to see what going on internally.</td><td class="time"><a href="#t2017-06-14T07:14:01" class="time">07:14</a></td></tr>
<tr id="t2017-06-14T07:15:33"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">it will be something :</td><td class="time"><a href="#t2017-06-14T07:15:33" class="time">07:15</a></td></tr>
<tr id="t2017-06-14T07:15:39"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">LetoThe2nd: ah, good idea</td><td class="time"><a href="#t2017-06-14T07:15:39" class="time">07:15</a></td></tr>
<tr id="t2017-06-14T07:16:04"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">[Service]</td><td class="time"><a href="#t2017-06-14T07:16:04" class="time">07:16</a></td></tr>
<tr id="t2017-06-14T07:16:04"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">ExecStart=your autowifi script</td><td class="time"><a href="#t2017-06-14T07:16:04" class="time">07:16</a></td></tr>
<tr id="t2017-06-14T07:16:08"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">[Install]</td><td class="time"><a href="#t2017-06-14T07:16:08" class="time">07:16</a></td></tr>
<tr id="t2017-06-14T07:16:08"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">WantedBy=default.target</td><td class="time"><a href="#t2017-06-14T07:16:08" class="time">07:16</a></td></tr>
<tr id="t2017-06-14T07:16:53"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">inside /etc/systemd/system</td><td class="time"><a href="#t2017-06-14T07:16:53" class="time">07:16</a></td></tr>
<tr id="t2017-06-14T07:17:11"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">rick1: yeah, I'm just using the default .service files that wpa_supplicant ships with, the problem is that for some reason the bitbake script that's supposed to automatically set them up for me fails to install it with the correct name</td><td class="time"><a href="#t2017-06-14T07:17:11" class="time">07:17</a></td></tr>
<tr id="t2017-06-14T07:18:21"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2017-06-14T07:18:21" class="time">07:18</a></td></tr>
<tr id="t2017-06-14T07:19:03"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">ok, if you put a hardcode on your bitbake script, will it do it correctly ? probably you miss a variable ?</td><td class="time"><a href="#t2017-06-14T07:19:03" class="time">07:19</a></td></tr>
<tr id="t2017-06-14T07:19:34"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">it's getting complicated as it gets :)</td><td class="time"><a href="#t2017-06-14T07:19:34" class="time">07:19</a></td></tr>
<tr id="t2017-06-14T07:20:46"><th class="nick" style="background: #488888">sandsmark</th><td class="text" style="color: #488888">yeah, it will work correctly if I hardcode the ln -s, but it feels wrong :p</td><td class="time"><a href="#t2017-06-14T07:20:46" class="time">07:20</a></td></tr>
<tr id="t2017-06-14T07:21:08"><th class="nick" style="background: #407a40">rick1</th><td class="text" style="color: #407a40">scratch my head....</td><td class="time"><a href="#t2017-06-14T07:21:08" class="time">07:21</a></td></tr>
<tr id="t2017-06-14T07:58:59"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">did anybody ever saw the message "[log_check] Failed to set locale, defaulting to C" while building rootfs ?</td><td class="time"><a href="#t2017-06-14T07:58:59" class="time">07:58</a></td></tr>
<tr id="t2017-06-14T07:59:35"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">can't find the source of the problem. my image won't build at the final step</td><td class="time"><a href="#t2017-06-14T07:59:35" class="time">07:59</a></td></tr>
<tr id="t2017-06-14T08:04:08"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">i've got message "[log_check] Failed to set locale, defaulting to C" at the final step of do_rootfs. anybody can help?</td><td class="time"><a href="#t2017-06-14T08:04:08" class="time">08:04</a></td></tr>
<tr id="t2017-06-14T08:07:46"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">Dvorkin: what host distro is this on? is it inside a container?</td><td class="time"><a href="#t2017-06-14T08:07:46" class="time">08:07</a></td></tr>
<tr id="t2017-06-14T08:08:51"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">bluelightning, it's Mageia 4</td><td class="time"><a href="#t2017-06-14T08:08:51" class="time">08:08</a></td></tr>
<tr id="t2017-06-14T08:08:59"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">my host locale is not EN</td><td class="time"><a href="#t2017-06-14T08:08:59" class="time">08:08</a></td></tr>
<tr id="t2017-06-14T08:09:09"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">Dvorkin: what's LANG set to?</td><td class="time"><a href="#t2017-06-14T08:09:09" class="time">08:09</a></td></tr>
<tr id="t2017-06-14T08:09:33"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">ru_RU.UTF-8 I tryed en_US.UTF-8 without success</td><td class="time"><a href="#t2017-06-14T08:09:33" class="time">08:09</a></td></tr>
<tr id="t2017-06-14T08:10:04"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">is the en_US.UTF-8 locale installed? I'm not sure how that's handled on Mageia to be honest but it may be packaged separately</td><td class="time"><a href="#t2017-06-14T08:10:04" class="time">08:10</a></td></tr>
<tr id="t2017-06-14T08:10:26"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">it may be a sub-package of glibc perhaps</td><td class="time"><a href="#t2017-06-14T08:10:26" class="time">08:10</a></td></tr>
<tr id="t2017-06-14T08:13:08"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">(we ought to be checking to ensure whatever is needed is installed, so there is definitely a bug here, just a matter of figuring out where exactly)</td><td class="time"><a href="#t2017-06-14T08:13:08" class="time">08:13</a></td></tr>
<tr id="t2017-06-14T08:17:53"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">bluelightning, yes, en_US is in stalled on my PC</td><td class="time"><a href="#t2017-06-14T08:17:53" class="time">08:17</a></td></tr>
<tr id="t2017-06-14T08:18:41"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">as I said, I tryed to set LANG and LC_* to en_US without success</td><td class="time"><a href="#t2017-06-14T08:18:41" class="time">08:18</a></td></tr>
<tr id="t2017-06-14T08:19:56"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">kanavin: ^ google suggests this might be dnf complaining, any ideas?</td><td class="time"><a href="#t2017-06-14T08:19:56" class="time">08:19</a></td></tr>
<tr id="t2017-06-14T08:20:05"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">I even can't find who sais that? dnf-native? maybe I should set some host packet to build with DNF?</td><td class="time"><a href="#t2017-06-14T08:20:05" class="time">08:20</a></td></tr>
<tr id="t2017-06-14T08:20:55"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">Dvorkin: just checking, is that the only failure message or are there other errors?</td><td class="time"><a href="#t2017-06-14T08:20:55" class="time">08:20</a></td></tr>
<tr id="t2017-06-14T08:21:50"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">there are one more error, but it doesn't shown in console. I see it in the logfile:</td><td class="time"><a href="#t2017-06-14T08:21:50" class="time">08:21</a></td></tr>
<tr id="t2017-06-14T08:22:28"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">NOTE: /etc/host.conf: line 3: bad command `nospoof on' /etc/host.conf: line 4: bad command `spoofalert on'&nbsp;&nbsp;NOTE: /etc/host.conf: line 3: bad command `nospoof on' /etc/host.conf: line 4: bad command `spoofalert on' Added oe-repo repo from /home/dv/workspace/tpp.17/poky/x.tpp/tmp/work/tpp-tps-li Last metadata expiration check: 0:00:00 ago on Wed Jun 14 07:42:46 2017 UTC. Metadata cache created. Failed to set locale, defaulting to C</td><td class="time"><a href="#t2017-06-14T08:22:28" class="time">08:22</a></td></tr>
<tr id="t2017-06-14T08:23:05"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">but it doesn't shown in console. I see it in the logfile of do_rootfs</td><td class="time"><a href="#t2017-06-14T08:23:05" class="time">08:23</a></td></tr>
<tr id="t2017-06-14T08:24:54"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">"Failed to set locale" appeared right after&nbsp;&nbsp; Verifying&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: kbd-keymaps-2.0.4-r0.cortexa8hf_neon&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 814/814&nbsp;&nbsp;&nbsp;&nbsp;Installed: ....&nbsp;&nbsp; wireless-regdb.cortexa8hf_neon 2017.03.07-AUTOINC............................&nbsp;&nbsp;&nbsp;&nbsp;Complete! Failed to set locale, defaulting to C</td><td class="time"><a href="#t2017-06-14T08:24:54" class="time">08:24</a></td></tr>
<tr id="t2017-06-14T08:25:59"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">It says Complete! after verying packages. and then immediately says "Fail" about locale.</td><td class="time"><a href="#t2017-06-14T08:25:59" class="time">08:25</a></td></tr>
<tr id="t2017-06-14T08:30:50"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">Dvorkin: I think the operation did succeed, it's just our code is assuming something failed and is failing do_rootfs as a result</td><td class="time"><a href="#t2017-06-14T08:30:50" class="time">08:30</a></td></tr>
<tr id="t2017-06-14T08:31:42"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">Dvorkin: if you run export LC_ALL="en_US.UTF-8" does it give any error?</td><td class="time"><a href="#t2017-06-14T08:31:42" class="time">08:31</a></td></tr>
<tr id="t2017-06-14T08:32:16"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">looks like! trying...</td><td class="time"><a href="#t2017-06-14T08:32:16" class="time">08:32</a></td></tr>
<tr id="t2017-06-14T08:32:50"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">the other strange thing - where NOTE: /etc/host.conf: line 3: bad command `nospoof on' comes from?</td><td class="time"><a href="#t2017-06-14T08:32:50" class="time">08:32</a></td></tr>
<tr id="t2017-06-14T08:33:32"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">why it come from MY /etc/host.conf?</td><td class="time"><a href="#t2017-06-14T08:33:32" class="time">08:33</a></td></tr>
<tr id="t2017-06-14T08:34:08"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">that's in your /etc/host.conf?</td><td class="time"><a href="#t2017-06-14T08:34:08" class="time">08:34</a></td></tr>
<tr id="t2017-06-14T08:34:40"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">definitely!</td><td class="time"><a href="#t2017-06-14T08:34:40" class="time">08:34</a></td></tr>
<tr id="t2017-06-14T08:35:13"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">it's host PC's file.</td><td class="time"><a href="#t2017-06-14T08:35:13" class="time">08:35</a></td></tr>
<tr id="t2017-06-14T08:36:03"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">after export LC_ALL="en_US.UTF-8" it goes the same way</td><td class="time"><a href="#t2017-06-14T08:36:03" class="time">08:36</a></td></tr>
<tr id="t2017-06-14T08:38:26"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">Dvorkin: yes but does setting that give an immediate error? that's what I was after</td><td class="time"><a href="#t2017-06-14T08:38:26" class="time">08:38</a></td></tr>
<tr id="t2017-06-14T08:38:32"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">or does it just set as normal?</td><td class="time"><a href="#t2017-06-14T08:38:32" class="time">08:38</a></td></tr>
<tr id="t2017-06-14T08:39:06"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">no, I have en_US locale installed in my host PC</td><td class="time"><a href="#t2017-06-14T08:39:06" class="time">08:39</a></td></tr>
<tr id="t2017-06-14T08:39:15"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">it doesn't give any error</td><td class="time"><a href="#t2017-06-14T08:39:15" class="time">08:39</a></td></tr>
<tr id="t2017-06-14T08:39:20"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">ok, thanks</td><td class="time"><a href="#t2017-06-14T08:39:20" class="time">08:39</a></td></tr>
<tr id="t2017-06-14T08:39:27"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">not sure where to go from here to be honst :(</td><td class="time"><a href="#t2017-06-14T08:39:27" class="time">08:39</a></td></tr>
<tr id="t2017-06-14T08:39:33"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">*honest</td><td class="time"><a href="#t2017-06-14T08:39:33" class="time">08:39</a></td></tr>
<tr id="t2017-06-14T08:39:45"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">kanavin: you around/</td><td class="time"><a href="#t2017-06-14T08:39:45" class="time">08:39</a></td></tr>
<tr id="t2017-06-14T08:39:47"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">?</td><td class="time"><a href="#t2017-06-14T08:39:47" class="time">08:39</a></td></tr>
<tr id="t2017-06-14T08:42:40"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">I comented out "nonspoof on" and "spoofalert on" in my host PC's /etc/host.conf, spoofalert error doen't appeare in my logfile but "Failed to set locale, defaulting to C" still exists</td><td class="time"><a href="#t2017-06-14T08:42:40" class="time">08:42</a></td></tr>
<tr id="t2017-06-14T08:42:56"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">right, the two appear unrelated</td><td class="time"><a href="#t2017-06-14T08:42:56" class="time">08:42</a></td></tr>
<tr id="t2017-06-14T08:46:50"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">RP: ^ any ideas about "Failed to set locale, defaulting to C" ?</td><td class="time"><a href="#t2017-06-14T08:46:50" class="time">08:46</a></td></tr>
<tr id="t2017-06-14T08:53:59"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">the complete logfile: <a href="https://paste.fedoraproject.org/paste/Cr9IxtQWZ~DL6huZFoC8-A" rel="nofollow">https://paste.fedoraproject.org/paste/Cr9IxtQWZ~DL6huZFoC8-A</a></td><td class="time"><a href="#t2017-06-14T08:53:59" class="time">08:53</a></td></tr>
<tr id="t2017-06-14T08:58:19"><th class="nick" style="background: #97974f">ant_work</th><td class="text" style="color: #97974f">Dvorkin, the error is not with locales</td><td class="time"><a href="#t2017-06-14T08:58:19" class="time">08:58</a></td></tr>
<tr id="t2017-06-14T08:59:05"><th class="nick" style="background: #97974f">ant_work</th><td class="text" style="color: #97974f">check line #8617 of your paste</td><td class="time"><a href="#t2017-06-14T08:59:05" class="time">08:59</a></td></tr>
<tr id="t2017-06-14T08:59:56"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">ant_work, oh!</td><td class="time"><a href="#t2017-06-14T08:59:56" class="time">08:59</a></td></tr>
<tr id="t2017-06-14T09:03:17"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">cheking...</td><td class="time"><a href="#t2017-06-14T09:03:17" class="time">09:03</a></td></tr>
<tr id="t2017-06-14T09:05:36"><th class="nick" style="background: #97974f">ant_work</th><td class="text" style="color: #97974f">maybe s/no/disable/ ?</td><td class="time"><a href="#t2017-06-14T09:05:36" class="time">09:05</a></td></tr>
<tr id="t2017-06-14T09:08:29"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">ant_work, no. set to "disable" and problem still exists</td><td class="time"><a href="#t2017-06-14T09:08:29" class="time">09:08</a></td></tr>
<tr id="t2017-06-14T09:12:00"><th class="nick" style="background: #97974f">ant_work</th><td class="text" style="color: #97974f">the syntax is enable or disable, see couple of lines above</td><td class="time"><a href="#t2017-06-14T09:12:00" class="time">09:12</a></td></tr>
<tr id="t2017-06-14T09:12:20"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">I know, thanks. I fixed, but problem still exist</td><td class="time"><a href="#t2017-06-14T09:12:20" class="time">09:12</a></td></tr>
<tr id="t2017-06-14T09:12:22"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b"><a href="https://paste.fedoraproject.org/paste/iKCW88IyuBqBizYm6QaSvg" rel="nofollow">https://paste.fedoraproject.org/paste/iKCW88IyuBqBizYm6QaSvg</a></td><td class="time"><a href="#t2017-06-14T09:12:22" class="time">09:12</a></td></tr>
<tr id="t2017-06-14T09:12:28"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">the new logfile</td><td class="time"><a href="#t2017-06-14T09:12:28" class="time">09:12</a></td></tr>
<tr id="t2017-06-14T09:13:52"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">bluelightning: no, sorry :(</td><td class="time"><a href="#t2017-06-14T09:13:52" class="time">09:13</a></td></tr>
<tr id="t2017-06-14T09:14:23"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">I have to wonder which locale its trying to set...</td><td class="time"><a href="#t2017-06-14T09:14:23" class="time">09:14</a></td></tr>
<tr id="t2017-06-14T09:15:24"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">I have ru_RU.UTF-8 locale on my host PC, but setting it to en_US.UTF-8 doesn't help</td><td class="time"><a href="#t2017-06-14T09:15:24" class="time">09:15</a></td></tr>
<tr id="t2017-06-14T09:41:26"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">Dear All,</td><td class="time"><a href="#t2017-06-14T09:41:26" class="time">09:41</a></td></tr>
<tr id="t2017-06-14T09:41:26"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">I'd like to ask for your opinion - what is the preferred way to add binary program (a few KiB) to yocto?</td><td class="time"><a href="#t2017-06-14T09:41:26" class="time">09:41</a></td></tr>
<tr id="t2017-06-14T09:41:26"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">Just treat it as other source? and properly install ?</td><td class="time"><a href="#t2017-06-14T09:41:26" class="time">09:41</a></td></tr>
<tr id="t2017-06-14T09:42:50"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">lukma: here you go: <a href="http://www.yoctoproject.org/docs/current/dev-manual/dev-manual.html#packaging-externally-produced-binaries" rel="nofollow">http://www.yoctoproject.org/docs/current/dev-manual/dev-manual.html#packaging-externally-produced-binaries</a></td><td class="time"><a href="#t2017-06-14T09:42:50" class="time">09:42</a></td></tr>
<tr id="t2017-06-14T09:43:11"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">lukma: its a common usecase and properly documented :)</td><td class="time"><a href="#t2017-06-14T09:43:11" class="time">09:43</a></td></tr>
<tr id="t2017-06-14T09:44:08"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">LettoThe2nd: Thanks :-)</td><td class="time"><a href="#t2017-06-14T09:44:08" class="time">09:44</a></td></tr>
<tr id="t2017-06-14T09:52:29"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">Dvorkin: the only thing I would suggest at this point would be to file a bug and we'll try to investigate it</td><td class="time"><a href="#t2017-06-14T09:52:29" class="time">09:52</a></td></tr>
<tr id="t2017-06-14T10:36:51"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">bluelightning, thanks. I'll try</td><td class="time"><a href="#t2017-06-14T10:36:51" class="time">10:36</a></td></tr>
<tr id="t2017-06-14T10:48:07"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">the other question: how to get rid of busybox in my image completely ?</td><td class="time"><a href="#t2017-06-14T10:48:07" class="time">10:48</a></td></tr>
<tr id="t2017-06-14T10:55:56"><th class="nick" style="background: #a25555">sveneisenberg</th><td class="text" style="color: #a25555">Does anyone use 1.1.0 with yocto or openembedded? I'm looking for a recipe.</td><td class="time"><a href="#t2017-06-14T10:55:56" class="time">10:55</a></td></tr>
<tr id="t2017-06-14T11:16:57"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">any ideas why do_rootfs failed? : <a href="https://paste.fedoraproject.org/paste/s~SuKagYWMH2wmJLB6ckFQ" rel="nofollow">https://paste.fedoraproject.org/paste/s~SuKagYWMH2wmJLB6ckFQ</a></td><td class="time"><a href="#t2017-06-14T11:16:57" class="time">11:16</a></td></tr>
<tr id="t2017-06-14T11:25:41"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">Dvorkin: no immediate idea. but please no thread hijacking - your problem is absolutely not realted to libraries in the image/sdk</td><td class="time"><a href="#t2017-06-14T11:25:41" class="time">11:25</a></td></tr>
<tr id="t2017-06-14T11:54:43"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">bluelightning: ?</td><td class="time"><a href="#t2017-06-14T11:54:43" class="time">11:54</a></td></tr>
<tr id="t2017-06-14T11:56:47"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">kanavin: any ideas regarding Dvorkin's locale issue within do_rootfs? it seems to be dnf that's complaining</td><td class="time"><a href="#t2017-06-14T11:56:47" class="time">11:56</a></td></tr>
<tr id="t2017-06-14T11:56:48"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">kanavin: <a href="http://www.yoctoproject.org/docs/current/dev-manual/dev-manual.html#new-recipe-writing-a-new-recipe" rel="nofollow">http://www.yoctoproject.org/docs/current/dev-manual/dev-manual.html#new-recipe-writing-a-new-recipe</a></td><td class="time"><a href="#t2017-06-14T11:56:48" class="time">11:56</a></td></tr>
<tr id="t2017-06-14T11:56:50"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">er</td><td class="time"><a href="#t2017-06-14T11:56:50" class="time">11:56</a></td></tr>
<tr id="t2017-06-14T11:56:53"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">wrong paste</td><td class="time"><a href="#t2017-06-14T11:56:53" class="time">11:56</a></td></tr>
<tr id="t2017-06-14T11:56:57"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">kanavin: <a href="https://paste.fedoraproject.org/paste/iKCW88IyuBqBizYm6QaSvg" rel="nofollow">https://paste.fedoraproject.org/paste/iKCW88IyuBqBizYm6QaSvg</a></td><td class="time"><a href="#t2017-06-14T11:56:57" class="time">11:56</a></td></tr>
<tr id="t2017-06-14T11:58:52"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">bluelightning: I do not have specific ideas; grep the source code to see where that error is coming from, and take it from there</td><td class="time"><a href="#t2017-06-14T11:58:52" class="time">11:58</a></td></tr>
<tr id="t2017-06-14T11:58:58"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">Dvorkin: ^^^</td><td class="time"><a href="#t2017-06-14T11:58:58" class="time">11:58</a></td></tr>
<tr id="t2017-06-14T12:05:54"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">Dvorkin: you need to check dnf/i18n.py and dnf/pycomp.py - they seem to do a straigforward call to locale.setlocale() though, but they obscure the actual error in an exception handler</td><td class="time"><a href="#t2017-06-14T12:05:54" class="time">12:05</a></td></tr>
<tr id="t2017-06-14T12:06:57"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">so you should run the natively built python3 interpreter, issue the setlocale calls from the prompt, and see why they fail</td><td class="time"><a href="#t2017-06-14T12:06:57" class="time">12:06</a></td></tr>
<tr id="t2017-06-14T12:07:20"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">that's all I can help you with, I'm afraid, as I'm not getting the same issue here</td><td class="time"><a href="#t2017-06-14T12:07:20" class="time">12:07</a></td></tr>
<tr id="t2017-06-14T12:07:26"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">bluelightning: ^^^</td><td class="time"><a href="#t2017-06-14T12:07:26" class="time">12:07</a></td></tr>
<tr id="t2017-06-14T12:08:02"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">kanavin: ok, that is helpful, thanks</td><td class="time"><a href="#t2017-06-14T12:08:02" class="time">12:08</a></td></tr>
<tr id="t2017-06-14T12:13:29"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">kanavin, thanks! already checked!</td><td class="time"><a href="#t2017-06-14T12:13:29" class="time">12:13</a></td></tr>
<tr id="t2017-06-14T12:13:45"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">Dvorkin: so what was it?</td><td class="time"><a href="#t2017-06-14T12:13:45" class="time">12:13</a></td></tr>
<tr id="t2017-06-14T12:14:14"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">the reason of the problem was at tmp/work/cortexa8hf-neon-tps-linux-gnueabi/dnf/2.3.0-r0/image/usr/lib/python3.5/site-packages/dnf/i18n.py</td><td class="time"><a href="#t2017-06-14T12:14:14" class="time">12:14</a></td></tr>
<tr id="t2017-06-14T12:14:39"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">yeah, but why is setlocale failing?</td><td class="time"><a href="#t2017-06-14T12:14:39" class="time">12:14</a></td></tr>
<tr id="t2017-06-14T12:14:43"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">it throws an exception while calling setup_locale()</td><td class="time"><a href="#t2017-06-14T12:14:43" class="time">12:14</a></td></tr>
<tr id="t2017-06-14T12:16:01"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">in poky DNF-2.3.0 is used, althrough 2.5.1 is out.</td><td class="time"><a href="#t2017-06-14T12:16:01" class="time">12:16</a></td></tr>
<tr id="t2017-06-14T12:17:06"><th class="nick" style="background: #5959a9">wooo</th><td class="text" style="color: #5959a9">does anyone else have troubles fetching meta-arago via git? "git clone <a href="http://arago-project.org/git/meta-arago.git" rel="nofollow">http://arago-project.org/git/meta-arago.git</a>" gives me "fatal: read error: Connection reset by peer"...</td><td class="time"><a href="#t2017-06-14T12:17:06" class="time">12:17</a></td></tr>
<tr id="t2017-06-14T12:17:39"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">Dvorkin: what's the exception?</td><td class="time"><a href="#t2017-06-14T12:17:39" class="time">12:17</a></td></tr>
<tr id="t2017-06-14T12:18:01"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">and it differs in this part: function setup_locale() sets locale.LC_ALL to '', instead of LC_ALL to '' and LC_TIME to "C" in youcto DNF version</td><td class="time"><a href="#t2017-06-14T12:18:01" class="time">12:18</a></td></tr>
<tr id="t2017-06-14T12:18:36"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">I don't see the message of exception yet, need to debug more...</td><td class="time"><a href="#t2017-06-14T12:18:36" class="time">12:18</a></td></tr>
<tr id="t2017-06-14T12:19:38"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">the need for an explicit setlocale call is the dumbest idea ever, codified in POSIX</td><td class="time"><a href="#t2017-06-14T12:19:38" class="time">12:19</a></td></tr>
<tr id="t2017-06-14T12:23:52"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">it want to set explicit LC_TIME for logging, afaik. but why it escalates rather "soft" error to do_rootfs ?</td><td class="time"><a href="#t2017-06-14T12:23:52" class="time">12:23</a></td></tr>
<tr id="t2017-06-14T12:24:28"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">Dvorkin: we have some logic that just looks for things like "error" "fail" etc. in the log, that's log_check</td><td class="time"><a href="#t2017-06-14T12:24:28" class="time">12:24</a></td></tr>
<tr id="t2017-06-14T12:25:05"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">I understand that... Is there a way to exclude such message from checker?</td><td class="time"><a href="#t2017-06-14T12:25:05" class="time">12:25</a></td></tr>
<tr id="t2017-06-14T12:25:22"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">if you hack the code, yes... exclusions are hardcoded unfortunately</td><td class="time"><a href="#t2017-06-14T12:25:22" class="time">12:25</a></td></tr>
<tr id="t2017-06-14T12:25:32"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">triggering in this case is probably overkill, but I'd rather just have people fix their systems if that's possible</td><td class="time"><a href="#t2017-06-14T12:25:32" class="time">12:25</a></td></tr>
<tr id="t2017-06-14T12:26:34"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">if you do bitbake -c devshell your-image, run python3 and then try to call setlocale() like the code does, do you get the same issue?</td><td class="time"><a href="#t2017-06-14T12:26:34" class="time">12:26</a></td></tr>
<tr id="t2017-06-14T12:32:56"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">empty locale: locale.Error: unsupported locale setting</td><td class="time"><a href="#t2017-06-14T12:32:56" class="time">12:32</a></td></tr>
<tr id="t2017-06-14T12:33:22"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">locale.setlocale(locale.LC_ALL, 'C') is OK</td><td class="time"><a href="#t2017-06-14T12:33:22" class="time">12:33</a></td></tr>
<tr id="t2017-06-14T12:34:06"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">locale.setlocale(locale.LC_ALL, '') : locale.Error: unsupported locale setting</td><td class="time"><a href="#t2017-06-14T12:34:06" class="time">12:34</a></td></tr>
<tr id="t2017-06-14T12:34:47"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">is something wrong in my image settings?</td><td class="time"><a href="#t2017-06-14T12:34:47" class="time">12:34</a></td></tr>
<tr id="t2017-06-14T12:37:00"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">Dvorkin: something is wrong on your host machine. Can you check what are the values of environment variables LANG, and LC_* (all of them)?</td><td class="time"><a href="#t2017-06-14T12:37:00" class="time">12:37</a></td></tr>
<tr id="t2017-06-14T12:37:31"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">env | grep LANG</td><td class="time"><a href="#t2017-06-14T12:37:31" class="time">12:37</a></td></tr>
<tr id="t2017-06-14T12:37:35"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">env |grep LC_</td><td class="time"><a href="#t2017-06-14T12:37:35" class="time">12:37</a></td></tr>
<tr id="t2017-06-14T12:37:47"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">env | grep LC : LC_SOURCED=1 LC_ALL=ru_RU.UTF-8</td><td class="time"><a href="#t2017-06-14T12:37:47" class="time">12:37</a></td></tr>
<tr id="t2017-06-14T12:38:10"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">env | grep LANG : LANG=ru_RU.UTF-8 LANGUAGE=ru_RU.UTF-8:ru</td><td class="time"><a href="#t2017-06-14T12:38:10" class="time">12:38</a></td></tr>
<tr id="t2017-06-14T12:38:27"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">Dvorkin: unset LC_ALL</td><td class="time"><a href="#t2017-06-14T12:38:27" class="time">12:38</a></td></tr>
<tr id="t2017-06-14T12:39:09"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">[dv@localhost x.tpp (master)]$ export LC_ALL="" [dv@localhost x.tpp (master)]$</td><td class="time"><a href="#t2017-06-14T12:39:09" class="time">12:39</a></td></tr>
<tr id="t2017-06-14T12:39:14"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">no errors</td><td class="time"><a href="#t2017-06-14T12:39:14" class="time">12:39</a></td></tr>
<tr id="t2017-06-14T12:39:38"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">setting LC_ALL is a bad idea in general...</td><td class="time"><a href="#t2017-06-14T12:39:38" class="time">12:39</a></td></tr>
<tr id="t2017-06-14T12:42:08"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">export LC_ALL="" then running bitbake gives same error, as I expected.</td><td class="time"><a href="#t2017-06-14T12:42:08" class="time">12:42</a></td></tr>
<tr id="t2017-06-14T12:42:32"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">something is wrong with python locale setting in image. I won't set empty locale</td><td class="time"><a href="#t2017-06-14T12:42:32" class="time">12:42</a></td></tr>
<tr id="t2017-06-14T12:42:41"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">something is wrong with python locale setting in image. It won't set empty locale</td><td class="time"><a href="#t2017-06-14T12:42:41" class="time">12:42</a></td></tr>
<tr id="t2017-06-14T12:42:53"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">Dvorkin: does the same call succeed from the host python3?</td><td class="time"><a href="#t2017-06-14T12:42:53" class="time">12:42</a></td></tr>
<tr id="t2017-06-14T12:43:31"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">it does:</td><td class="time"><a href="#t2017-06-14T12:43:31" class="time">12:43</a></td></tr>
<tr id="t2017-06-14T12:43:35"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">'setting empty locale' is actually 'setting locale to what the locale environment variables specify' :-)</td><td class="time"><a href="#t2017-06-14T12:43:35" class="time">12:43</a></td></tr>
<tr id="t2017-06-14T12:43:36"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">&gt;&gt;&gt; locale.setlocale(locale.LC_ALL, '') 'ru_RU.UTF-8'</td><td class="time"><a href="#t2017-06-14T12:43:36" class="time">12:43</a></td></tr>
<tr id="t2017-06-14T12:44:12"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">at my host PC python I got success reply from python3</td><td class="time"><a href="#t2017-06-14T12:44:12" class="time">12:44</a></td></tr>
<tr id="t2017-06-14T12:44:17"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">'ru_RU.UTF-8'</td><td class="time"><a href="#t2017-06-14T12:44:17" class="time">12:44</a></td></tr>
<tr id="t2017-06-14T12:44:48"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">so... it means, I need to set default locale in the image somehow?</td><td class="time"><a href="#t2017-06-14T12:44:48" class="time">12:44</a></td></tr>
<tr id="t2017-06-14T12:45:42"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">or I need to add some localization package to my image ?</td><td class="time"><a href="#t2017-06-14T12:45:42" class="time">12:45</a></td></tr>
<tr id="t2017-06-14T12:45:53"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">for python, i mean</td><td class="time"><a href="#t2017-06-14T12:45:53" class="time">12:45</a></td></tr>
<tr id="t2017-06-14T12:47:05"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">Dvorkin: nope, this is a problem with native python, and is not about target images</td><td class="time"><a href="#t2017-06-14T12:47:05" class="time">12:47</a></td></tr>
<tr id="t2017-06-14T12:47:56"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">but native python runs ok...</td><td class="time"><a href="#t2017-06-14T12:47:56" class="time">12:47</a></td></tr>
<tr id="t2017-06-14T12:48:07"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">Dvorkin: host python and native python are two different things :)</td><td class="time"><a href="#t2017-06-14T12:48:07" class="time">12:48</a></td></tr>
<tr id="t2017-06-14T12:48:14"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">ah, sorry :)</td><td class="time"><a href="#t2017-06-14T12:48:14" class="time">12:48</a></td></tr>
<tr id="t2017-06-14T12:48:15"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">Dvorkin: host python runs ok, native python does not</td><td class="time"><a href="#t2017-06-14T12:48:15" class="time">12:48</a></td></tr>
<tr id="t2017-06-14T12:48:48"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">looking at this <a href="https://ask.fedoraproject.org/en/question/87599/hi-i-have-a-problem-which-is-failed-to-set-locale-defaulting-to-c/" rel="nofollow">https://ask.fedoraproject.org/en/question/87599/hi-i-have-a-problem-which-is-failed-to-set-locale-defaulting-to-c/</a></td><td class="time"><a href="#t2017-06-14T12:48:48" class="time">12:48</a></td></tr>
<tr id="t2017-06-14T12:48:56"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">so you can make a tiny script with just that one line, and run it like this:</td><td class="time"><a href="#t2017-06-14T12:48:56" class="time">12:48</a></td></tr>
<tr id="t2017-06-14T12:48:57"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">strace python3 &lt;script&gt;</td><td class="time"><a href="#t2017-06-14T12:48:57" class="time">12:48</a></td></tr>
<tr id="t2017-06-14T12:49:01"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">I understand that it could be package problem</td><td class="time"><a href="#t2017-06-14T12:49:01" class="time">12:49</a></td></tr>
<tr id="t2017-06-14T12:49:17"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">then try to find in the output which locale definition files the two versions of python try to access</td><td class="time"><a href="#t2017-06-14T12:49:17" class="time">12:49</a></td></tr>
<tr id="t2017-06-14T12:49:20"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">and where is the difference</td><td class="time"><a href="#t2017-06-14T12:49:20" class="time">12:49</a></td></tr>
<tr id="t2017-06-14T12:49:40"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">looks like native python is not able to access the locale definition for the ru_RU</td><td class="time"><a href="#t2017-06-14T12:49:40" class="time">12:49</a></td></tr>
<tr id="t2017-06-14T12:52:44"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">kanavin, strace says, python tryes to find default locale in host PC.</td><td class="time"><a href="#t2017-06-14T12:52:44" class="time">12:52</a></td></tr>
<tr id="t2017-06-14T12:53:45"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">at start</td><td class="time"><a href="#t2017-06-14T12:53:45" class="time">12:53</a></td></tr>
<tr id="t2017-06-14T12:54:05"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">at some point it should try to find the ru_RU stuff</td><td class="time"><a href="#t2017-06-14T12:54:05" class="time">12:54</a></td></tr>
<tr id="t2017-06-14T12:55:19"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">it does not</td><td class="time"><a href="#t2017-06-14T12:55:19" class="time">12:55</a></td></tr>
<tr id="t2017-06-14T12:55:47"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">at startup it searches for en* in host PC</td><td class="time"><a href="#t2017-06-14T12:55:47" class="time">12:55</a></td></tr>
<tr id="t2017-06-14T12:59:47"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">Dvorkin: but one version of python gives you an error on this script, and another does not</td><td class="time"><a href="#t2017-06-14T12:59:47" class="time">12:59</a></td></tr>
<tr id="t2017-06-14T12:59:57"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">Dvorkin: so there has to be a difference in what strace outputs</td><td class="time"><a href="#t2017-06-14T12:59:57" class="time">12:59</a></td></tr>
<tr id="t2017-06-14T12:59:58"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">Native: print(locale.getdefaultlocale()) ('en_US', 'UTF-8')</td><td class="time"><a href="#t2017-06-14T12:59:58" class="time">12:59</a></td></tr>
<tr id="t2017-06-14T13:00:08"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">Dvorkin: the tricky part for you is to find it :)</td><td class="time"><a href="#t2017-06-14T13:00:08" class="time">13:00</a></td></tr>
<tr id="t2017-06-14T13:00:28"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">looks like I have to install en_US locale to my PC</td><td class="time"><a href="#t2017-06-14T13:00:28" class="time">13:00</a></td></tr>
<tr id="t2017-06-14T13:03:00"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">I have everything... omg. why python can't find it?</td><td class="time"><a href="#t2017-06-14T13:03:00" class="time">13:03</a></td></tr>
<tr id="t2017-06-14T13:04:38"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">why it searches for locales in /usr/lib/locale/, while I have it in /usr/share/locale ?</td><td class="time"><a href="#t2017-06-14T13:04:38" class="time">13:04</a></td></tr>
<tr id="t2017-06-14T13:07:13"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">Dvorkin: I have to go now :) keep digging!</td><td class="time"><a href="#t2017-06-14T13:07:13" class="time">13:07</a></td></tr>
<tr id="t2017-06-14T13:07:44"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">oh, I just made a symbolic link from /usr/share/locale to /usr/lib in my host PC and it built.</td><td class="time"><a href="#t2017-06-14T13:07:44" class="time">13:07</a></td></tr>
<tr id="t2017-06-14T13:08:04"><th class="nick" style="background: #4b904b">Dvorkin</th><td class="text" style="color: #4b904b">that's the subject to note somewhere :)</td><td class="time"><a href="#t2017-06-14T13:08:04" class="time">13:08</a></td></tr>
<tr id="t2017-06-14T13:08:41"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">Dvorkin: I do believe it should look in /usr/share though</td><td class="time"><a href="#t2017-06-14T13:08:41" class="time">13:08</a></td></tr>
<tr id="t2017-06-14T13:08:57"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">would be appreciated if you find out why it doesn't</td><td class="time"><a href="#t2017-06-14T13:08:57" class="time">13:08</a></td></tr>
<tr id="t2017-06-14T13:18:46"><th class="nick" style="background: #adad5b">yohboy</th><td class="text" style="color: #adad5b">Hi there, someone uses CLion from JetBrains with poky sdk ?</td><td class="time"><a href="#t2017-06-14T13:18:46" class="time">13:18</a></td></tr>
<tr id="t2017-06-14T13:45:19"><th class="nick" style="background: #b15db1">fl0v01</th><td class="text" style="color: #b15db1">is there a simple way to run a command whenever X dpms is disabled or enabled?</td><td class="time"><a href="#t2017-06-14T13:45:19" class="time">13:45</a></td></tr>
<tr id="t2017-06-14T13:45:33"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2017-06-14T13:45:33" class="time">13:45</a></td></tr>
<tr id="t2017-06-14T13:46:21"><th class="nick" style="background: #b15db1">fl0v01</th><td class="text" style="color: #b15db1">i want to unmap a window so it doesnt receive the first touch event when the screen is turned back on again by a touch</td><td class="time"><a href="#t2017-06-14T13:46:21" class="time">13:46</a></td></tr>
<tr id="t2017-06-14T13:48:23"><th class="nick" style="background: #5fb4b4">rburton</th><td class="text" style="color: #5fb4b4">fl0v01: i'm surprised apps are seeing the first event</td><td class="time"><a href="#t2017-06-14T13:48:23" class="time">13:48</a></td></tr>
<tr id="t2017-06-14T13:49:16"><th class="nick" style="background: #b15db1">fl0v01</th><td class="text" style="color: #b15db1">im just using the bare X11 dpms with xset</td><td class="time"><a href="#t2017-06-14T13:49:16" class="time">13:49</a></td></tr>
<tr id="t2017-06-14T13:49:47"><th class="nick" style="background: #b15db1">fl0v01</th><td class="text" style="color: #b15db1">i wondered if just installing a screensaver would help too</td><td class="time"><a href="#t2017-06-14T13:49:47" class="time">13:49</a></td></tr>
<tr id="t2017-06-14T13:50:14"><th class="nick" style="background: #b15db1">fl0v01</th><td class="text" style="color: #b15db1">but i thought that the blanking actually works like a screensaver</td><td class="time"><a href="#t2017-06-14T13:50:14" class="time">13:50</a></td></tr>
<tr id="t2017-06-14T14:09:41"><th class="nick" style="background: #5fb4b4">rburton</th><td class="text" style="color: #5fb4b4">not really</td><td class="time"><a href="#t2017-06-14T14:09:41" class="time">14:09</a></td></tr>
<tr id="t2017-06-14T14:09:46"><th class="nick" style="background: #5fb4b4">rburton</th><td class="text" style="color: #5fb4b4">blanking is different</td><td class="time"><a href="#t2017-06-14T14:09:46" class="time">14:09</a></td></tr>
<tr id="t2017-06-14T14:13:16"><th class="nick" style="background: #b86161">MarcWe</th><td class="text" style="color: #b86161">hi, my qt framwork is not handeling touch events. but libinput-debug-events shows them</td><td class="time"><a href="#t2017-06-14T14:13:16" class="time">14:13</a></td></tr>
<tr id="t2017-06-14T14:28:42"><th class="nick" style="background: #b86161">MarcWe</th><td class="text" style="color: #b86161">when i run a qt Quick application ( default generated by qt ) im getting file:///usr/lib/qt5/qml/QtQuick/Controls/MenuBar.qml:155: Error: Cannot assign [undefined] to int but when i mous click in the application the event is handled</td><td class="time"><a href="#t2017-06-14T14:28:42" class="time">14:28</a></td></tr>
<tr id="t2017-06-14T14:30:19"><td class="part" colspan="2">*** ZubairLK &lt;ZubairLK!~Thunderbi@unaffiliated/zubairlk&gt; has left #yocto</td><td><a href="#t2017-06-14T14:30:19" class="time">14:30</a></td></tr>
<tr id="t2017-06-14T14:43:14"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">Is there any convenient way to</td><td class="time"><a href="#t2017-06-14T14:43:14" class="time">14:43</a></td></tr>
<tr id="t2017-06-14T14:43:14"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">make the arm-poky-gnueabi to become HF version (arm-poky-gnueabihf )?</td><td class="time"><a href="#t2017-06-14T14:43:14" class="time">14:43</a></td></tr>
<tr id="t2017-06-14T14:43:14"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">Is it enough to just extend TOOLCHAIN_OPTIONS += "--with-float=hard --with-fpu=vfpv3-d16 --with-mode=thumb --with-tune=cortex-a9 --with-arch=armv7-a"</td><td class="time"><a href="#t2017-06-14T14:43:14" class="time">14:43</a></td></tr>
<tr id="t2017-06-14T14:43:15"><td class="part" colspan="2">*** csanchezdll &lt;csanchezdll!~user@galileo.kdpof.com&gt; has left #yocto</td><td><a href="#t2017-06-14T14:43:15" class="time">14:43</a></td></tr>
<tr id="t2017-06-14T14:43:22"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">or is there any easier way?</td><td class="time"><a href="#t2017-06-14T14:43:22" class="time">14:43</a></td></tr>
<tr id="t2017-06-14T14:45:49"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">lukma: FWIW the machine configuration should set that how it wants, e.g. the DEFAULTTUNE</td><td class="time"><a href="#t2017-06-14T14:45:49" class="time">14:45</a></td></tr>
<tr id="t2017-06-14T14:46:07"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">DEFAULTTUNE = "cortexa5thf-neon"</td><td class="time"><a href="#t2017-06-14T14:46:07" class="time">14:46</a></td></tr>
<tr id="t2017-06-14T14:46:12"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">This is what I do have</td><td class="time"><a href="#t2017-06-14T14:46:12" class="time">14:46</a></td></tr>
<tr id="t2017-06-14T14:46:18"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">and then</td><td class="time"><a href="#t2017-06-14T14:46:18" class="time">14:46</a></td></tr>
<tr id="t2017-06-14T14:47:49"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">DISTRO_VERSION&nbsp;&nbsp;&nbsp;&nbsp;= "2.3"</td><td class="time"><a href="#t2017-06-14T14:47:49" class="time">14:47</a></td></tr>
<tr id="t2017-06-14T14:47:50"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">TUNE_FEATURES&nbsp;&nbsp;&nbsp;&nbsp; = "arm armv7a vfp thumb neon callconvention-hard cortexa5"</td><td class="time"><a href="#t2017-06-14T14:47:50" class="time">14:47</a></td></tr>
<tr id="t2017-06-14T14:47:50"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">TARGET_FPU&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= "hard"</td><td class="time"><a href="#t2017-06-14T14:47:50" class="time">14:47</a></td></tr>
<tr id="t2017-06-14T14:48:07"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">so whats the problem?</td><td class="time"><a href="#t2017-06-14T14:48:07" class="time">14:48</a></td></tr>
<tr id="t2017-06-14T14:48:09"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">And it looks like we have it correct</td><td class="time"><a href="#t2017-06-14T14:48:09" class="time">14:48</a></td></tr>
<tr id="t2017-06-14T14:48:27"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">vfp, neon, callvention hard. exactly, looks all good.</td><td class="time"><a href="#t2017-06-14T14:48:27" class="time">14:48</a></td></tr>
<tr id="t2017-06-14T14:50:07"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">LetoThe2nd: <a href="https://pastebin.com/F3gEpXw3" rel="nofollow">https://pastebin.com/F3gEpXw3</a></td><td class="time"><a href="#t2017-06-14T14:50:07" class="time">14:50</a></td></tr>
<tr id="t2017-06-14T14:50:30"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">The toolchain built with meta-toolchain lacks following switches:</td><td class="time"><a href="#t2017-06-14T14:50:30" class="time">14:50</a></td></tr>
<tr id="t2017-06-14T14:50:54"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">--with-float=hard --with-fpu=vfpv3-d16 --with-mode=thumb --with-tune=cortex-a9 --with-arch=armv7-a</td><td class="time"><a href="#t2017-06-14T14:50:54" class="time">14:50</a></td></tr>
<tr id="t2017-06-14T14:51:28"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">lukma: its mainly about the vfpv3-d16</td><td class="time"><a href="#t2017-06-14T14:51:28" class="time">14:51</a></td></tr>
<tr id="t2017-06-14T14:52:02"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">(probably by default the toolchain has --with-fpu=neon)</td><td class="time"><a href="#t2017-06-14T14:52:02" class="time">14:52</a></td></tr>
<tr id="t2017-06-14T14:54:53"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">lukma: although i'm actually not seeing the direct point. it looks like the source is trying to compile some asm (-&gt; the lowlevel_init.S, part of u-boot? or what?), and the compiler is declining it. IIRC i had something similar with the valgrind test suite quite a while back: it worked for arm-vfp/neon, but not for vfpv3-d16 on cortex-a5</td><td class="time"><a href="#t2017-06-14T14:54:53" class="time">14:54</a></td></tr>
<tr id="t2017-06-14T14:59:12"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">populate_sdk is responsible for building toolchain</td><td class="time"><a href="#t2017-06-14T14:59:12" class="time">14:59</a></td></tr>
<tr id="t2017-06-14T14:59:40"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">LetoThe2nd: I will add TOOLCHAIN_OPTIONS to my distro.conf file</td><td class="time"><a href="#t2017-06-14T14:59:40" class="time">14:59</a></td></tr>
<tr id="t2017-06-14T14:59:49"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">and I will see if it works</td><td class="time"><a href="#t2017-06-14T14:59:49" class="time">14:59</a></td></tr>
<tr id="t2017-06-14T15:00:21"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">lukma: no, populate_sdk is not responsible for the toolchain. populate_sdk is responsible for packing things up into a sdk.</td><td class="time"><a href="#t2017-06-14T15:00:21" class="time">15:00</a></td></tr>
<tr id="t2017-06-14T15:04:59"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">LetoThe2nd: Hmm.... so there is any other recipe which is building gcc......</td><td class="time"><a href="#t2017-06-14T15:04:59" class="time">15:04</a></td></tr>
<tr id="t2017-06-14T15:05:14"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">but this is strange since meta-toolchain only inherit populate_sdk</td><td class="time"><a href="#t2017-06-14T15:05:14" class="time">15:05</a></td></tr>
<tr id="t2017-06-14T15:06:10"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">lukma: unless your sdk machine and the build host do not differ, the toolchain should be built anyways for the desired image, and then just reused for the sdk</td><td class="time"><a href="#t2017-06-14T15:06:10" class="time">15:06</a></td></tr>
<tr id="t2017-06-14T15:07:09"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">what is it good for anyways? just do bitbake -c populate_sdk $YOURWANTEDIMAGE</td><td class="time"><a href="#t2017-06-14T15:07:09" class="time">15:07</a></td></tr>
<tr id="t2017-06-14T15:07:32"><th class="nick" style="background: #5fb4b4">rburton</th><td class="text" style="color: #5fb4b4">meta-toolchain predates proper SDKs and we should remove it</td><td class="time"><a href="#t2017-06-14T15:07:32" class="time">15:07</a></td></tr>
<tr id="t2017-06-14T15:07:59"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">rburton: my gut feeling said that too but i wasn't certain enough to actually say it ;-)</td><td class="time"><a href="#t2017-06-14T15:07:59" class="time">15:07</a></td></tr>
<tr id="t2017-06-14T15:08:07"><th class="nick" style="background: #5fb4b4">rburton</th><td class="text" style="color: #5fb4b4">:)</td><td class="time"><a href="#t2017-06-14T15:08:07" class="time">15:08</a></td></tr>
<tr id="t2017-06-14T15:08:18"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">So where should I look for the toolchain</td><td class="time"><a href="#t2017-06-14T15:08:18" class="time">15:08</a></td></tr>
<tr id="t2017-06-14T15:08:28"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">17:07 &lt; LetoThe2nd&gt; what is it good for anyways? just do bitbake -c populate_sdk $YOURWANTEDIMAGE</td><td class="time"><a href="#t2017-06-14T15:08:28" class="time">15:08</a></td></tr>
<tr id="t2017-06-14T15:08:40"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">there you go :)</td><td class="time"><a href="#t2017-06-14T15:08:40" class="time">15:08</a></td></tr>
<tr id="t2017-06-14T15:08:40"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">to modify both - SDK and the one which builds the actual package (like u-boot)?</td><td class="time"><a href="#t2017-06-14T15:08:40" class="time">15:08</a></td></tr>
<tr id="t2017-06-14T15:13:25"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">LetoThe2nd: Ok so I'm sure:</td><td class="time"><a href="#t2017-06-14T15:13:25" class="time">15:13</a></td></tr>
<tr id="t2017-06-14T15:13:26"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">export CC="arm-poky-linux-gnueabi-gcc&nbsp;&nbsp;-march=armv7-a -marm -mfpu=neon&nbsp;&nbsp;-mfloat-abi=hard -mcpu=cortex-a5 --sysroot=</td><td class="time"><a href="#t2017-06-14T15:13:26" class="time">15:13</a></td></tr>
<tr id="t2017-06-14T15:13:34"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">the -mfpu=neon</td><td class="time"><a href="#t2017-06-14T15:13:34" class="time">15:13</a></td></tr>
<tr id="t2017-06-14T15:14:16"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">lukma: where do you see that? you really are lacking context.</td><td class="time"><a href="#t2017-06-14T15:14:16" class="time">15:14</a></td></tr>
<tr id="t2017-06-14T15:14:46"><th class="nick" style="background: #b86161">MarcWe</th><td class="text" style="color: #b86161">lukma: sources/oe-core/meta/conf/machine/include/</td><td class="time"><a href="#t2017-06-14T15:14:46" class="time">15:14</a></td></tr>
<tr id="t2017-06-14T15:15:10"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">bitbake -e virtual/bootloader | grep "arm-poky-linux-gnueabi-"</td><td class="time"><a href="#t2017-06-14T15:15:10" class="time">15:15</a></td></tr>
<tr id="t2017-06-14T15:15:15"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">this the output from it</td><td class="time"><a href="#t2017-06-14T15:15:15" class="time">15:15</a></td></tr>
<tr id="t2017-06-14T15:17:59"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">i'm on a cortexa5 too, it looks totally the same here and i don't have any problems with it.</td><td class="time"><a href="#t2017-06-14T15:17:59" class="time">15:17</a></td></tr>
<tr id="t2017-06-14T15:18:27"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">plus, a few minutes ago you mentioned: --with-tune=cortex-a9</td><td class="time"><a href="#t2017-06-14T15:18:27" class="time">15:18</a></td></tr>
<tr id="t2017-06-14T15:18:53"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">which certainly is wrong then. so my guess is that your machine file or its use is buggy in some way.</td><td class="time"><a href="#t2017-06-14T15:18:53" class="time">15:18</a></td></tr>
<tr id="t2017-06-14T15:19:13"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">cortex-a9 was from the original linaro toolchain</td><td class="time"><a href="#t2017-06-14T15:19:13" class="time">15:19</a></td></tr>
<tr id="t2017-06-14T15:19:16"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">which works</td><td class="time"><a href="#t2017-06-14T15:19:16" class="time">15:19</a></td></tr>
<tr id="t2017-06-14T15:19:47"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">(I used linaro toolchain -&gt; arm-linux-gnueabihf) with the source code to see if this is a toolchain issue</td><td class="time"><a href="#t2017-06-14T15:19:47" class="time">15:19</a></td></tr>
<tr id="t2017-06-14T15:20:39"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">lukma: and what is the actual hardware in the end?</td><td class="time"><a href="#t2017-06-14T15:20:39" class="time">15:20</a></td></tr>
<tr id="t2017-06-14T15:21:04"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">The HW is cortex-a5</td><td class="time"><a href="#t2017-06-14T15:21:04" class="time">15:21</a></td></tr>
<tr id="t2017-06-14T15:22:25"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">The difference between toolchains:</td><td class="time"><a href="#t2017-06-14T15:22:25" class="time">15:22</a></td></tr>
<tr id="t2017-06-14T15:22:26"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">--with-fpu=vfpv3-d16 -&gt;working</td><td class="time"><a href="#t2017-06-14T15:22:26" class="time">15:22</a></td></tr>
<tr id="t2017-06-14T15:22:26"><th class="nick" style="background: #539e9e">lukma</th><td class="text" style="color: #539e9e">-mfpu=neon&nbsp;&nbsp;-&gt; built by OE</td><td class="time"><a href="#t2017-06-14T15:22:26" class="time">15:22</a></td></tr>
<tr id="t2017-06-14T15:24:55"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: sent the PIE rework to list</td><td class="time"><a href="#t2017-06-14T15:24:55" class="time">15:24</a></td></tr>
<tr id="t2017-06-14T15:27:13"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">lukma: i can't put the finger on it, but i still don't believe that its the toolchain itself that causes the problem.</td><td class="time"><a href="#t2017-06-14T15:27:13" class="time">15:27</a></td></tr>
<tr id="t2017-06-14T15:29:40"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">you need a tune for what you are doing.&nbsp;&nbsp;with -with-fpu=vfpv3-d16 will avoid neon instructions and instead use only d16 style vfpv3 instructions..</td><td class="time"><a href="#t2017-06-14T15:29:40" class="time">15:29</a></td></tr>
<tr id="t2017-06-14T15:29:58"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">the -mfpu=neon will use neon and the assumed set of vfpv4? and related instructions..</td><td class="time"><a href="#t2017-06-14T15:29:58" class="time">15:29</a></td></tr>
<tr id="t2017-06-14T15:30:36"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">if your CPU is lacking instructions (vendor removed say NEON, when normally that processor would have it), then you will need to define a new tune for your BSP to use, or you will need to pick a different (existing tune) that is compatible with the options on your system</td><td class="time"><a href="#t2017-06-14T15:30:36" class="time">15:30</a></td></tr>
<tr id="t2017-06-14T15:39:31"><th class="nick" style="background: #6464bf">stephano</th><td class="text" style="color: #6464bf">y</td><td class="time"><a href="#t2017-06-14T15:39:31" class="time">15:39</a></td></tr>
<tr id="t2017-06-14T15:49:27"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">khem: thanks. We merged gcc7 (many thanks for the work on that!)</td><td class="time"><a href="#t2017-06-14T15:49:27" class="time">15:49</a></td></tr>
<tr id="t2017-06-14T15:51:12"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">Hmmm</td><td class="time"><a href="#t2017-06-14T15:51:12" class="time">15:51</a></td></tr>
<tr id="t2017-06-14T15:52:35"><th class="nick" style="background: #c668c6">tlwoerner</th><td class="text" style="color: #c668c6">chromium isn't happy with gcc-7 :-(</td><td class="time"><a href="#t2017-06-14T15:52:35" class="time">15:52</a></td></tr>
<tr id="t2017-06-14T15:55:26"><th class="nick" style="background: #6acaca">georgem</th><td class="text" style="color: #6acaca">tlwoerner: it seems to break anytime there is a gcc change</td><td class="time"><a href="#t2017-06-14T15:55:26" class="time">15:55</a></td></tr>
<tr id="t2017-06-14T15:56:52"><th class="nick" style="background: #c668c6">tlwoerner</th><td class="text" style="color: #c668c6">georgem: it likes to keep me busy</td><td class="time"><a href="#t2017-06-14T15:56:52" class="time">15:56</a></td></tr>
<tr id="t2017-06-14T16:02:14"><th class="nick" style="background: #ce6c6c">Crofton|work</th><td class="text" style="color: #ce6c6c">it keeps tlwoerner from spending all his time on horses</td><td class="time"><a href="#t2017-06-14T16:02:14" class="time">16:02</a></td></tr>
<tr id="t2017-06-14T16:02:30"><th class="nick" style="background: #c668c6">tlwoerner</th><td class="text" style="color: #c668c6">Crofton|work: :-)</td><td class="time"><a href="#t2017-06-14T16:02:30" class="time">16:02</a></td></tr>
<tr id="t2017-06-14T16:04:20"><th class="nick" style="background: #6ed16e">Saur</th><td class="text" style="color: #6ed16e">RP: I now have a set of patches which hopefully fix the problems you got on the autobuilders due to my change for automatic file dependencies. However, it is hard to tell if I have fixed them all since many failures are the same between the various builds. So I was hoping that if I send the stack of changes to the list, that you could take them through another run on the the autobuilders.</td><td class="time"><a href="#t2017-06-14T16:04:20" class="time">16:04</a></td></tr>
<tr id="t2017-06-14T16:04:46"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">Saur: sounds good thanks. The patch won't make M1 but happy to try testing it once we get that sorted out</td><td class="time"><a href="#t2017-06-14T16:04:46" class="time">16:04</a></td></tr>
<tr id="t2017-06-14T16:05:56"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">bluelightning: Hmm, thoughts on how to get a full task graph out of tinfoil? you can generate the .dot files from it, or fire a generated graph *event*, but not just retrieve the graph data, and we don't have direct access to either taskdata or runqueue, only the original data from the recipecache. guess i could try registering an event handler that references a global to get the data, or just patch command.py to add a new command for it</td><td class="time"><a href="#t2017-06-14T16:05:56" class="time">16:05</a></td></tr>
<tr id="t2017-06-14T16:05:57"><th class="nick" style="background: #6ed16e">Saur</th><td class="text" style="color: #6ed16e">RP: Ok, I'll send them of as soon as I can. I am still trying to find a more generic solution to one of the problems...</td><td class="time"><a href="#t2017-06-14T16:05:57" class="time">16:05</a></td></tr>
<tr id="t2017-06-14T16:06:48"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">well, clearly the issue is more with the available commands for interacting with the server than with tinfoil itself, but you get the point</td><td class="time"><a href="#t2017-06-14T16:06:48" class="time">16:06</a></td></tr>
<tr id="t2017-06-14T16:06:49"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">hmm</td><td class="time"><a href="#t2017-06-14T16:06:49" class="time">16:06</a></td></tr>
<tr id="t2017-06-14T16:06:50"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">kergoth: kind of sounds like we'd need a command to get that really</td><td class="time"><a href="#t2017-06-14T16:06:50" class="time">16:06</a></td></tr>
<tr id="t2017-06-14T16:07:10"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">seems like a pretty basic thing, i want to take some targets, with or without :&lt;task&gt;, and be able to examine the tasks that would be run to build them</td><td class="time"><a href="#t2017-06-14T16:07:10" class="time">16:07</a></td></tr>
<tr id="t2017-06-14T16:07:12"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">I certainly wouldn't object to adding one</td><td class="time"><a href="#t2017-06-14T16:07:12" class="time">16:07</a></td></tr>
<tr id="t2017-06-14T16:07:41"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">kergoth: BTW I am in the process of adding some interfaces to tinfoil to allow running tasks and more easily enumerate recipes</td><td class="time"><a href="#t2017-06-14T16:07:41" class="time">16:07</a></td></tr>
<tr id="t2017-06-14T16:07:49"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">k, will give that a go, thanks for the thoughts</td><td class="time"><a href="#t2017-06-14T16:07:49" class="time">16:07</a></td></tr>
<tr id="t2017-06-14T16:07:55"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">one sec and I'll push it somewhere just so you can see what I am up to</td><td class="time"><a href="#t2017-06-14T16:07:55" class="time">16:07</a></td></tr>
<tr id="t2017-06-14T16:07:57"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">cool, sounds useful</td><td class="time"><a href="#t2017-06-14T16:07:57" class="time">16:07</a></td></tr>
<tr id="t2017-06-14T16:08:56"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93"><a href="http://git.yoctoproject.org/cgit/cgit.cgi/poky-contrib/log/?h=paule/fixes2d" rel="nofollow">http://git.yoctoproject.org/cgit/cgit.cgi/poky-contrib/log/?h=paule/fixes2d</a></td><td class="time"><a href="#t2017-06-14T16:08:56" class="time">16:08</a></td></tr>
<tr id="t2017-06-14T16:09:50"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">as you can probably tell the main motivation was removing some of the performance-impairing evility in the devtool code due to the lack of the ability to run a real build</td><td class="time"><a href="#t2017-06-14T16:09:50" class="time">16:09</a></td></tr>
<tr id="t2017-06-14T16:11:27"><td class="action" colspan="2">* kergoth nods</td><td><a href="#t2017-06-14T16:11:27" class="time">16:11</a></td></tr>
<tr id="t2017-06-14T16:11:37"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">looking very promising, nice work so far</td><td class="time"><a href="#t2017-06-14T16:11:37" class="time">16:11</a></td></tr>
<tr id="t2017-06-14T16:14:14"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">bluelightning: only thought so far is might also want to add variants or a new method to interact with non-preferred providers, i.e. to gather info about the universe rather than the world</td><td class="time"><a href="#t2017-06-14T16:14:14" class="time">16:14</a></td></tr>
<tr id="t2017-06-14T16:14:20"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">but that can always be a future enhancement, of course</td><td class="time"><a href="#t2017-06-14T16:14:20" class="time">16:14</a></td></tr>
<tr id="t2017-06-14T16:18:44"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">Having interacted with taskdata on a number of occasions for bb commands and the like, I have to say I hate how late in the process the bitbake code converts the countless pieces of dependency info into task dependencies. having to spawn a runqueue just to map i.e. build targets to task deps w/ BB_DEFAULT_TASK for example.. i'd like to see an intermediate method that takes all the bits of recipecache data and emits a task graph, ideally with an option</td><td class="time"><a href="#t2017-06-14T16:18:44" class="time">16:18</a></td></tr>
<tr id="t2017-06-14T16:18:44"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366"> to record the origin of each task dep, and then make runqueue use that</td><td class="time"><a href="#t2017-06-14T16:18:44" class="time">16:18</a></td></tr>
<tr id="t2017-06-14T16:18:57"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">also, the taskdata api is really weird</td><td class="time"><a href="#t2017-06-14T16:18:57" class="time">16:18</a></td></tr>
<tr id="t2017-06-14T16:20:43"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">Hmm, maybe I'll take a gander at prototyping such a thing as part of adding the new cooker command i want</td><td class="time"><a href="#t2017-06-14T16:20:43" class="time">16:20</a></td></tr>
<tr id="t2017-06-14T16:21:00"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">would be ideal for a more capable whatdepends command/tool as well</td><td class="time"><a href="#t2017-06-14T16:21:00" class="time">16:21</a></td></tr>
<tr id="t2017-06-14T16:21:04"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">yeah, I agree FWIW</td><td class="time"><a href="#t2017-06-14T16:21:04" class="time">16:21</a></td></tr>
<tr id="t2017-06-14T16:21:21"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">and with the origin info, we could add notes to the nodes/edges of the dot graph with info on why something was pulled in</td><td class="time"><a href="#t2017-06-14T16:21:21" class="time">16:21</a></td></tr>
<tr id="t2017-06-14T16:21:25"><td class="action" colspan="2">* kergoth ponders</td><td><a href="#t2017-06-14T16:21:25" class="time">16:21</a></td></tr>
<tr id="t2017-06-14T16:28:35"><th class="nick" style="background: #7070d5">jcelerier</th><td class="text" style="color: #7070d5">hello :)</td><td class="time"><a href="#t2017-06-14T16:28:35" class="time">16:28</a></td></tr>
<tr id="t2017-06-14T16:29:03"><th class="nick" style="background: #7070d5">jcelerier</th><td class="text" style="color: #7070d5">does someone know if it's easy to get a yocto project running on "commodity hardware" tablets</td><td class="time"><a href="#t2017-06-14T16:29:03" class="time">16:29</a></td></tr>
<tr id="t2017-06-14T16:29:08"><th class="nick" style="background: #7070d5">jcelerier</th><td class="text" style="color: #7070d5">e.g. samsung galaxy tab, etc...</td><td class="time"><a href="#t2017-06-14T16:29:08" class="time">16:29</a></td></tr>
<tr id="t2017-06-14T16:29:51"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">writing a bitbake-layers command to take a list of targets, with or without :&lt;task&gt; suffixes, generate the full task dependency info, gather up all the do_fetch tasks that will be run, use that to get a list of recipe and bbappend filenames, then parse all of them with variable tracking enabled, examine the history of SRC_URI using the convenience method on VariableHistory, and use that to map all the urls / downloaded files in DL_DIR to the layer that</td><td class="time"><a href="#t2017-06-14T16:29:51" class="time">16:29</a></td></tr>
<tr id="t2017-06-14T16:29:51"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366"> added them to SRC_URI</td><td class="time"><a href="#t2017-06-14T16:29:51" class="time">16:29</a></td></tr>
<tr id="t2017-06-14T16:30:35"><th class="nick" style="background: #4d4d93">bluelightning</th><td class="text" style="color: #4d4d93">kergoth: interesting... certainly a good use case for tinfoil</td><td class="time"><a href="#t2017-06-14T16:30:35" class="time">16:30</a></td></tr>
<tr id="t2017-06-14T16:31:25"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">that sort of thing is useful for constructing installers that ship downloads, depending on the installer in question and how the artifacts are broken up</td><td class="time"><a href="#t2017-06-14T16:31:25" class="time">16:31</a></td></tr>
<tr id="t2017-06-14T16:32:40"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">I wanted to do it with a task, which would simplify matters, since the task could do the work for the recipe it's run in, but it's non-trivial to re-parse the recipe and its appends with variable tracking enabled from inside a task :)</td><td class="time"><a href="#t2017-06-14T16:32:40" class="time">16:32</a></td></tr>
<tr id="t2017-06-14T16:32:44"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">but this should do</td><td class="time"><a href="#t2017-06-14T16:32:44" class="time">16:32</a></td></tr>
<tr id="t2017-06-14T16:33:25"><td class="part" colspan="2">*** hbruce &lt;hbruce!hbruce@nat/intel/x-wisppswsntzqzuer&gt; has left #yocto</td><td><a href="#t2017-06-14T16:33:25" class="time">16:33</a></td></tr>
<tr id="t2017-06-14T18:57:56"><th class="nick" style="background: #d9d972">machinehum</th><td class="text" style="color: #d9d972">Does anyone have experiance with the iMX6?</td><td class="time"><a href="#t2017-06-14T18:57:56" class="time">18:57</a></td></tr>
<tr id="t2017-06-14T19:37:01"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">so it turns out my clever idea of "just increase openfiles limit" won't work, because fd_set objects are capped at, by default, 1024 anyway.</td><td class="time"><a href="#t2017-06-14T19:37:01" class="time">19:37</a></td></tr>
<tr id="t2017-06-14T19:38:01"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">Next up: Benchmarking for the FASTOP case because I think it may need to go if we don't want continued reliability problems.</td><td class="time"><a href="#t2017-06-14T19:38:01" class="time">19:38</a></td></tr>
<tr id="t2017-06-14T19:38:30"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">I seem to remember FASTOP was a huge win.. the round-trip case was very slow</td><td class="time"><a href="#t2017-06-14T19:38:30" class="time">19:38</a></td></tr>
<tr id="t2017-06-14T19:38:34"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">(or is this different)</td><td class="time"><a href="#t2017-06-14T19:38:34" class="time">19:38</a></td></tr>
<tr id="t2017-06-14T19:39:04"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">That is the case, but I don't actually have concrete numbers.</td><td class="time"><a href="#t2017-06-14T19:39:04" class="time">19:39</a></td></tr>
<tr id="t2017-06-14T19:39:20"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">yuo did at one point, but it's long enough ago definitely worth it again</td><td class="time"><a href="#t2017-06-14T19:39:20" class="time">19:39</a></td></tr>
<tr id="t2017-06-14T19:39:32"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: I pushed 11th patch into the pull request which upgrades and fixes webkit for ppc with hardening flags</td><td class="time"><a href="#t2017-06-14T19:39:32" class="time">19:39</a></td></tr>
<tr id="t2017-06-14T19:39:36"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">I do know that when I added actual profiling, I found that the wall-clock time for round trips with actual database access was *smaller* than the cost of some of the path processing.</td><td class="time"><a href="#t2017-06-14T19:39:36" class="time">19:39</a></td></tr>
<tr id="t2017-06-14T19:39:47"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">can you do the equiv of the fast-op on the -server- side?&nbsp;&nbsp;ACK the connection then just immediately send the reponse showing you got it?</td><td class="time"><a href="#t2017-06-14T19:39:47" class="time">19:39</a></td></tr>
<tr id="t2017-06-14T19:40:03"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">machinehum: sure, do you have questions ?</td><td class="time"><a href="#t2017-06-14T19:40:03" class="time">19:40</a></td></tr>
<tr id="t2017-06-14T19:40:12"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">Not really. The reason fastop is a performance win is that you don't even have to wait for the transmission to have completed at all.</td><td class="time"><a href="#t2017-06-14T19:40:12" class="time">19:40</a></td></tr>
<tr id="t2017-06-14T19:40:29"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">You don't even care whether the kernel has successfully made the data available to the other side yet, you're already done.</td><td class="time"><a href="#t2017-06-14T19:40:29" class="time">19:40</a></td></tr>
<tr id="t2017-06-14T19:40:38"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">The actual time to process things is comparatively trivial, I believe.</td><td class="time"><a href="#t2017-06-14T19:40:38" class="time">19:40</a></td></tr>
<tr id="t2017-06-14T19:40:43"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">k</td><td class="time"><a href="#t2017-06-14T19:40:43" class="time">19:40</a></td></tr>
<tr id="t2017-06-14T19:41:04"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">We've had Lots Of Events which is why a couple of these things have been sitting.</td><td class="time"><a href="#t2017-06-14T19:41:04" class="time">19:41</a></td></tr>
<tr id="t2017-06-14T19:41:10"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">my memory was that the data 'did something' round trip was more signifciant that the message sent and response received part</td><td class="time"><a href="#t2017-06-14T19:41:10" class="time">19:41</a></td></tr>
<tr id="t2017-06-14T19:41:23"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">but I know there have been a lot of changes in that area since you did the original work..</td><td class="time"><a href="#t2017-06-14T19:41:23" class="time">19:41</a></td></tr>
<tr id="t2017-06-14T19:41:27"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">may not be much of an issue any longer</td><td class="time"><a href="#t2017-06-14T19:41:27" class="time">19:41</a></td></tr>
<tr id="t2017-06-14T19:41:42"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">Also, on reflection... That would still have the same basic problem of data reliability.</td><td class="time"><a href="#t2017-06-14T19:41:42" class="time">19:41</a></td></tr>
<tr id="t2017-06-14T19:41:59"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">The point of the round trips was to have an actual assurance that either the operation had *actually* succeeded, or you'd know to retry.</td><td class="time"><a href="#t2017-06-14T19:41:59" class="time">19:41</a></td></tr>
<tr id="t2017-06-14T19:42:10"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">yup</td><td class="time"><a href="#t2017-06-14T19:42:10" class="time">19:42</a></td></tr>
<tr id="t2017-06-14T19:44:16"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">rburton: <a href="http://git.openembedded.org/openembedded-core-contrib/log/?h=kraj/hardening-fixes" rel="nofollow">http://git.openembedded.org/openembedded-core-contrib/log/?h=kraj/hardening-fixes</a> more trouble for you :)</td><td class="time"><a href="#t2017-06-14T19:44:16" class="time">19:44</a></td></tr>
<tr id="t2017-06-14T19:44:26"><th class="nick" style="background: #d9d972">machinehum</th><td class="text" style="color: #d9d972">khem: thanks! I think I might have found my solution</td><td class="time"><a href="#t2017-06-14T19:44:26" class="time">19:44</a></td></tr>
<tr id="t2017-06-14T19:45:00"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">machinehum: very good cool</td><td class="time"><a href="#t2017-06-14T19:45:00" class="time">19:45</a></td></tr>
<tr id="t2017-06-14T19:54:52"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">fastop is definitely noticeable on things that are heavily reliant on a ton of operations.</td><td class="time"><a href="#t2017-06-14T19:54:52" class="time">19:54</a></td></tr>
<tr id="t2017-06-14T19:57:15"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">769.8070 msec wrapper time, 413.7500 msec op time, 399.4210 msec IPC time.</td><td class="time"><a href="#t2017-06-14T19:57:15" class="time">19:57</a></td></tr>
<tr id="t2017-06-14T19:57:19"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">1281.6980 msec wrapper time, 961.4040 msec op time, 948.2140 msec IPC time.</td><td class="time"><a href="#t2017-06-14T19:57:19" class="time">19:57</a></td></tr>
<tr id="t2017-06-14T19:57:23"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">I guess another option would be to batch the messages to the other side 'in a fastop' replacement.. and process them all as a unit?&nbsp;&nbsp;(might not actually help)</td><td class="time"><a href="#t2017-06-14T19:57:23" class="time">19:57</a></td></tr>
<tr id="t2017-06-14T19:57:26"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">so, yes, quite a lot slower internally.</td><td class="time"><a href="#t2017-06-14T19:57:26" class="time">19:57</a></td></tr>
<tr id="t2017-06-14T19:57:53"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">Although... It's significantly less noticeable as more and more of the workload isn't actually *specifically* testing pseudo heavily.</td><td class="time"><a href="#t2017-06-14T19:57:53" class="time">19:57</a></td></tr>
<tr id="t2017-06-14T19:57:53"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">ya, and it's all clearly in the IPC side there.. (which presumably includes backend processing)</td><td class="time"><a href="#t2017-06-14T19:57:53" class="time">19:57</a></td></tr>
<tr id="t2017-06-14T19:58:19"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">yup.</td><td class="time"><a href="#t2017-06-14T19:58:19" class="time">19:58</a></td></tr>
<tr id="t2017-06-14T19:59:05"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">I'm curious how much is IPC and how much is backend processing..&nbsp;&nbsp;(usually IPC is quick)</td><td class="time"><a href="#t2017-06-14T19:59:05" class="time">19:59</a></td></tr>
<tr id="t2017-06-14T20:00:06"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">it's too bad you can't do something like send IPC to server.. keep processing (client) and before the client terminates (atexit) get responses and deal with retry's.. but that might not resolve any behavior issues.. :/</td><td class="time"><a href="#t2017-06-14T20:00:06" class="time">20:00</a></td></tr>
<tr id="t2017-06-14T20:00:28"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">it's the blocking behavior more then anyting during the op that I suspect is the 'noticable' piece</td><td class="time"><a href="#t2017-06-14T20:00:28" class="time">20:00</a></td></tr>
<tr id="t2017-06-14T20:01:24"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">I know at one point we were considering using xattrs (when possible) to avoid the backend DB processing..</td><td class="time"><a href="#t2017-06-14T20:01:24" class="time">20:01</a></td></tr>
<tr id="t2017-06-14T20:01:32"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">is that something that could be resurrected?</td><td class="time"><a href="#t2017-06-14T20:01:32" class="time">20:01</a></td></tr>
<tr id="t2017-06-14T20:05:40"><th class="nick" style="background: #d9d972">machinehum</th><td class="text" style="color: #d9d972">Does anyone use Yocto on Cygwin?</td><td class="time"><a href="#t2017-06-14T20:05:40" class="time">20:05</a></td></tr>
<tr id="t2017-06-14T20:06:34"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">the xattr feature exists but I don't think it turned out to be worth it, because xattrs were slow.</td><td class="time"><a href="#t2017-06-14T20:06:34" class="time">20:06</a></td></tr>
<tr id="t2017-06-14T20:06:50"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">And it looks like just acking immediately about splits the difference:</td><td class="time"><a href="#t2017-06-14T20:06:50" class="time">20:06</a></td></tr>
<tr id="t2017-06-14T20:06:59"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">fastop: 708.7490 msec wrapper time, 391.6180 msec op time, 380.1340 msec IPC time.</td><td class="time"><a href="#t2017-06-14T20:06:59" class="time">20:06</a></td></tr>
<tr id="t2017-06-14T20:07:07"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">full round trip: 1281.6980 msec wrapper time, 961.4040 msec op time, 948.2140 msec IPC time.</td><td class="time"><a href="#t2017-06-14T20:07:07" class="time">20:07</a></td></tr>
<tr id="t2017-06-14T20:07:17"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">instant ack for fastops: 1008.8720 msec wrapper time, 682.4250 msec op time, 668.4860 msec IPC time.</td><td class="time"><a href="#t2017-06-14T20:07:17" class="time">20:07</a></td></tr>
<tr id="t2017-06-14T20:07:29"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">that might be worth it to get the reliability back.</td><td class="time"><a href="#t2017-06-14T20:07:29" class="time">20:07</a></td></tr>
<tr id="t2017-06-14T20:08:43"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">so, untar of /usr/include over empty space, 0.49s fastop, 0.55s fakeop, 0.65s full round trip.</td><td class="time"><a href="#t2017-06-14T20:08:43" class="time">20:08</a></td></tr>
<tr id="t2017-06-14T20:08:58"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">With an existing copy, it's 0.61, 0.76, 0.91.</td><td class="time"><a href="#t2017-06-14T20:08:58" class="time">20:08</a></td></tr>
<tr id="t2017-06-14T20:09:38"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">But if we do that, we can just go ahead and randomly shut down live connections on clients and not expect things to get lost, which *should* handle the openfiles thing.</td><td class="time"><a href="#t2017-06-14T20:09:38" class="time">20:09</a></td></tr>
<tr id="t2017-06-14T20:09:50"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">Although I still really want to know how we're ending up with &gt;1k simultaneous connections to a single pseudo server.</td><td class="time"><a href="#t2017-06-14T20:09:50" class="time">20:09</a></td></tr>
<tr id="t2017-06-14T20:10:08"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">That's &gt;1k processes on just one recipe, basically, and that seems high.</td><td class="time"><a href="#t2017-06-14T20:10:08" class="time">20:10</a></td></tr>
<tr id="t2017-06-14T20:10:20"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">ya, it has to be some massively parallel set of operations all running under pseudo control..</td><td class="time"><a href="#t2017-06-14T20:10:20" class="time">20:10</a></td></tr>
<tr id="t2017-06-14T20:10:37"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">each one has a smaller set, but you end up with 1000 connects at a time.. (most likely the clients have already shut down by that point) etc..</td><td class="time"><a href="#t2017-06-14T20:10:37" class="time">20:10</a></td></tr>
<tr id="t2017-06-14T20:11:07"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">think of something like kernel or toolchain build on a machine with unbounded CPU/threads.. I could see it happen..</td><td class="time"><a href="#t2017-06-14T20:11:07" class="time">20:11</a></td></tr>
<tr id="t2017-06-14T20:11:27"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">and wouldn't it be 500 connections, two fds one send, one recieve?</td><td class="time"><a href="#t2017-06-14T20:11:27" class="time">20:11</a></td></tr>
<tr id="t2017-06-14T20:13:26"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">no, fds are bidirectional.</td><td class="time"><a href="#t2017-06-14T20:13:26" class="time">20:13</a></td></tr>
<tr id="t2017-06-14T20:13:39"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">Pseudo has a single fd per client.</td><td class="time"><a href="#t2017-06-14T20:13:39" class="time">20:13</a></td></tr>
<tr id="t2017-06-14T20:13:48"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">And in *theory* if they've shut down, the connections should be closed.</td><td class="time"><a href="#t2017-06-14T20:13:48" class="time">20:13</a></td></tr>
<tr id="t2017-06-14T20:14:03"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">maybe with the fastop the client doesn't get the shutdown and it zombies?</td><td class="time"><a href="#t2017-06-14T20:14:03" class="time">20:14</a></td></tr>
<tr id="t2017-06-14T20:14:25"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">huh</td><td class="time"><a href="#t2017-06-14T20:14:25" class="time">20:14</a></td></tr>
<tr id="t2017-06-14T20:14:36"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">no, server doesn't do it. but.</td><td class="time"><a href="#t2017-06-14T20:14:36" class="time">20:14</a></td></tr>
<tr id="t2017-06-14T20:14:42"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">i just remembered a comment from many years ago</td><td class="time"><a href="#t2017-06-14T20:14:42" class="time">20:14</a></td></tr>
<tr id="t2017-06-14T20:15:04"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (FD_ISSET(clients[i].fd, &amp;events)) {</td><td class="time"><a href="#t2017-06-14T20:15:04" class="time">20:15</a></td></tr>
<tr id="t2017-06-14T20:15:05"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* this should happen but doesn't... */</td><td class="time"><a href="#t2017-06-14T20:15:05" class="time">20:15</a></td></tr>
<tr id="t2017-06-14T20:15:05"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;close_client(i);</td><td class="time"><a href="#t2017-06-14T20:15:05" class="time">20:15</a></td></tr>
<tr id="t2017-06-14T20:16:03"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">so... what if the real problem isn't that there's 1k processes open, but that for some reason we weren't hitting this?</td><td class="time"><a href="#t2017-06-14T20:16:03" class="time">20:16</a></td></tr>
<tr id="t2017-06-14T20:16:15"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">... Actually that raises an obvious question.</td><td class="time"><a href="#t2017-06-14T20:16:15" class="time">20:16</a></td></tr>
<tr id="t2017-06-14T20:16:24"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">When a build hangs, do we *actually* have 1k processes which are waiting on pseudo?</td><td class="time"><a href="#t2017-06-14T20:16:24" class="time">20:16</a></td></tr>
<tr id="t2017-06-14T20:17:50"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">Because it could be that what's really wrong is that I never fixed this.</td><td class="time"><a href="#t2017-06-14T20:17:50" class="time">20:17</a></td></tr>
<tr id="t2017-06-14T20:18:15"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">...</td><td class="time"><a href="#t2017-06-14T20:18:15" class="time">20:18</a></td></tr>
<tr id="t2017-06-14T20:18:16"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">dammit.</td><td class="time"><a href="#t2017-06-14T20:18:16" class="time">20:18</a></td></tr>
<tr id="t2017-06-14T20:18:23"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">so something like 10 years ago I misread a man page.</td><td class="time"><a href="#t2017-06-14T20:18:23" class="time">20:18</a></td></tr>
<tr id="t2017-06-14T20:19:05"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">Hmm. But it looks like select() should regard them as "readable", but with zero bytes available.</td><td class="time"><a href="#t2017-06-14T20:19:05" class="time">20:19</a></td></tr>
<tr id="t2017-06-14T20:19:08"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">So my comments are wrong.</td><td class="time"><a href="#t2017-06-14T20:19:08" class="time">20:19</a></td></tr>
<tr id="t2017-06-14T20:22:52"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">seebs: I did the numbers and we can end up in a situation where 1k isn't so crazy. My server has 88 cores which means BB_NUMBER_THREADS=88*2=176. In a single recipe, do_package_write_{ipk|deb|rpm}|do_package_qa can all run together, each building or checking packages. For something like perl that could be 176 packages in parallel. 176*4 = 704 so you don't have much headroom against 1k</td><td class="time"><a href="#t2017-06-14T20:22:52" class="time">20:22</a></td></tr>
<tr id="t2017-06-14T20:23:27"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">seebs: now, yes, this is a bit pathological and perhaps we shouldn't do this but its certainly possible it can run into trouble...</td><td class="time"><a href="#t2017-06-14T20:23:27" class="time">20:23</a></td></tr>
<tr id="t2017-06-14T20:24:05"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">yeah</td><td class="time"><a href="#t2017-06-14T20:24:05" class="time">20:24</a></td></tr>
<tr id="t2017-06-14T20:24:30"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">When you get a chance, could you check to see whether that's actually what's happened?</td><td class="time"><a href="#t2017-06-14T20:24:30" class="time">20:24</a></td></tr>
<tr id="t2017-06-14T20:24:43"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">Because I'm suspicious that my close_client logic is actually wrong, although I think it should work anyway.</td><td class="time"><a href="#t2017-06-14T20:24:43" class="time">20:24</a></td></tr>
<tr id="t2017-06-14T20:24:58"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">But the event thing is just plain wrong, I somehow got the impression that a closed socket was an exception, and it's not.</td><td class="time"><a href="#t2017-06-14T20:24:58" class="time">20:24</a></td></tr>
<tr id="t2017-06-14T20:32:49"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">Hmm. So it looks like it should be successfully closing sockets. But just in case, I'm checking more carefully.</td><td class="time"><a href="#t2017-06-14T20:32:49" class="time">20:32</a></td></tr>
<tr id="t2017-06-14T20:33:21"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">... ahh, it turns out that some Unixes, but not Linux, flag "closed" in the exception set in a select.</td><td class="time"><a href="#t2017-06-14T20:33:21" class="time">20:33</a></td></tr>
<tr id="t2017-06-14T20:34:16"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">Anyway, I think more data would be needed to be sure, but I think the workaround of having FASTOP still send things, just not waiting for database ops before responding, will allow us to deal with Too Many Clients more gracefully.</td><td class="time"><a href="#t2017-06-14T20:34:16" class="time">20:34</a></td></tr>
<tr id="t2017-06-14T20:39:12"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">seebs: I will try and reproduce those hangs again, see if I can get more info</td><td class="time"><a href="#t2017-06-14T20:39:12" class="time">20:39</a></td></tr>
<tr id="t2017-06-14T20:44:04"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">Because it does look like, if things are actually shutting down, they should indeed be successfully getting noticed.</td><td class="time"><a href="#t2017-06-14T20:44:04" class="time">20:44</a></td></tr>
<tr id="t2017-06-14T20:44:42"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">hmm.</td><td class="time"><a href="#t2017-06-14T20:44:42" class="time">20:44</a></td></tr>
<tr id="t2017-06-14T20:54:15"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">22G of virtual memory for rpmbuild when building python3. I suspect we may need to look at that...</td><td class="time"><a href="#t2017-06-14T20:54:15" class="time">20:54</a></td></tr>
<tr id="t2017-06-14T20:54:41"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">heh, then top switched to display in TB</td><td class="time"><a href="#t2017-06-14T20:54:41" class="time">20:54</a></td></tr>
<tr id="t2017-06-14T20:59:32"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">oh, heh. i have had a bug roughly forever wherein the shutdown requests from pseudo -S were producing an "uh-oh" message which turned out to be harmless, but it revealed a flaw.</td><td class="time"><a href="#t2017-06-14T20:59:32" class="time">20:59</a></td></tr>
<tr id="t2017-06-14T21:04:38"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">RP that 22G, is that after the openMP change?</td><td class="time"><a href="#t2017-06-14T21:04:38" class="time">21:04</a></td></tr>
<tr id="t2017-06-14T21:05:17"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">I know that RPM (and especially bdb that it uses) mmaps files.&nbsp;&nbsp;So it turns out that it can report a TON of virtual memory used, but in reality very little is actually allocated.</td><td class="time"><a href="#t2017-06-14T21:05:17" class="time">21:05</a></td></tr>
<tr id="t2017-06-14T21:05:43"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">the mmap to 'write out files', turns out to be a lot faster then lots of open/writes/seeks/etc..</td><td class="time"><a href="#t2017-06-14T21:05:43" class="time">21:05</a></td></tr>
<tr id="t2017-06-14T21:05:48"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">(and is more memory efficient as well)</td><td class="time"><a href="#t2017-06-14T21:05:48" class="time">21:05</a></td></tr>
<tr id="t2017-06-14T21:25:29"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">seebs: a hung set of processes: <a href="https://pastebin.com/NDiZJtMS" rel="nofollow">https://pastebin.com/NDiZJtMS</a></td><td class="time"><a href="#t2017-06-14T21:25:29" class="time">21:25</a></td></tr>
<tr id="t2017-06-14T21:26:44"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">seebs: a bit more detail of a subset <a href="https://pastebin.com/imQumx7Y" rel="nofollow">https://pastebin.com/imQumx7Y</a></td><td class="time"><a href="#t2017-06-14T21:26:44" class="time">21:26</a></td></tr>
<tr id="t2017-06-14T21:27:08"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">seebs: at ~500 instances each spawning pipelines, I can believe we deadlocked :/</td><td class="time"><a href="#t2017-06-14T21:27:08" class="time">21:27</a></td></tr>
<tr id="t2017-06-14T21:27:26"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">fray: good question</td><td class="time"><a href="#t2017-06-14T21:27:26" class="time">21:27</a></td></tr>
<tr id="t2017-06-14T21:28:00"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">fray: yes, its after openmp</td><td class="time"><a href="#t2017-06-14T21:28:00" class="time">21:28</a></td></tr>
<tr id="t2017-06-14T21:28:52"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">ya, so my guess is that all of the open rpms it's writing are mmaped so they can be written out.. causing the larger memory space..</td><td class="time"><a href="#t2017-06-14T21:28:52" class="time">21:28</a></td></tr>
<tr id="t2017-06-14T21:29:08"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">(does YP even support 32-bit hosts anymore, if it does -- this could be a problem)</td><td class="time"><a href="#t2017-06-14T21:29:08" class="time">21:29</a></td></tr>
<tr id="t2017-06-14T21:29:35"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">fray: entirely possible. And yes, in theory we do support 32 bit still</td><td class="time"><a href="#t2017-06-14T21:29:35" class="time">21:29</a></td></tr>
<tr id="t2017-06-14T21:30:01"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">what happened to $ORIGIN-relative RPATHs in nativesdk binaries? did I miss something couple releases back? :)</td><td class="time"><a href="#t2017-06-14T21:30:01" class="time">21:30</a></td></tr>
<tr id="t2017-06-14T21:30:35"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">be interesting to test that</td><td class="time"><a href="#t2017-06-14T21:30:35" class="time">21:30</a></td></tr>
<tr id="t2017-06-14T21:30:59"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">in the past rpm operations were setup that they would only mmap for the memory SPACE avaialble, but I don't know how (or if) the openmp changes affects that</td><td class="time"><a href="#t2017-06-14T21:30:59" class="time">21:30</a></td></tr>
<tr id="t2017-06-14T21:32:55"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">denix: they should have them? we do relocate the toolchain at install time though</td><td class="time"><a href="#t2017-06-14T21:32:55" class="time">21:32</a></td></tr>
<tr id="t2017-06-14T21:33:32"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">seebs: since I have this hanging here, anything else it would be good to know?</td><td class="time"><a href="#t2017-06-14T21:33:32" class="time">21:33</a></td></tr>
<tr id="t2017-06-14T21:36:25"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">RP: so, should the relocated toolchain binaries have full path in RPATH or $ORIGIN/../bin?</td><td class="time"><a href="#t2017-06-14T21:36:25" class="time">21:36</a></td></tr>
<tr id="t2017-06-14T21:37:19"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">it should be relative to ORIGIN</td><td class="time"><a href="#t2017-06-14T21:37:19" class="time">21:37</a></td></tr>
<tr id="t2017-06-14T21:42:36"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">oops, I meant $ORIGIN/../lib not bin</td><td class="time"><a href="#t2017-06-14T21:42:36" class="time">21:42</a></td></tr>
<tr id="t2017-06-14T21:43:43"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">khem: exactly. I don't see those any more for some reason...</td><td class="time"><a href="#t2017-06-14T21:43:43" class="time">21:43</a></td></tr>
<tr id="t2017-06-14T21:44:45"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">this is one of the old toolchain binaries as reported by readelf - (RPATH) Library rpath: [$ORIGIN/../lib:$ORIGIN/../../lib]</td><td class="time"><a href="#t2017-06-14T21:44:45" class="time">21:44</a></td></tr>
<tr id="t2017-06-14T21:47:06"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">and I don't see RPATH in new toolchain binaries... hence the question - is that expected?</td><td class="time"><a href="#t2017-06-14T21:47:06" class="time">21:47</a></td></tr>
<tr id="t2017-06-14T22:01:34"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">RP: Nothing obvious, but it occurs to me in retrospect that it would be neat to run with PSEUDO_DEBUG=v, and look at pseudo.log and see how many clients it's reporting. But it does look like we are actually hitting 1k processes, so.</td><td class="time"><a href="#t2017-06-14T22:01:34" class="time">22:01</a></td></tr>
<tr id="t2017-06-14T22:01:49"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">The interesting thing is that it doesn't appear to be able to resolve *any* of them, though?</td><td class="time"><a href="#t2017-06-14T22:01:49" class="time">22:01</a></td></tr>
<tr id="t2017-06-14T22:01:51"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">And that's very odd.</td><td class="time"><a href="#t2017-06-14T22:01:51" class="time">22:01</a></td></tr>
<tr id="t2017-06-14T22:02:20"><th class="nick" style="background: #d9d972">machinehum</th><td class="text" style="color: #d9d972"> Does anyone have any good references for cross-compiling using Yocto?</td><td class="time"><a href="#t2017-06-14T22:02:20" class="time">22:02</a></td></tr>
<tr id="t2017-06-14T22:02:36"><th class="nick" style="background: #d9d972">machinehum</th><td class="text" style="color: #d9d972">Or just a good jumping off point</td><td class="time"><a href="#t2017-06-14T22:02:36" class="time">22:02</a></td></tr>
<tr id="t2017-06-14T22:03:32"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">Like, it's not enough for *one* chain to be deadlocked. *all* the chains have to be deadlocked, or at least one of them ought to be continuing to process things until it finishes.</td><td class="time"><a href="#t2017-06-14T22:03:32" class="time">22:03</a></td></tr>
<tr id="t2017-06-14T22:05:01"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">*thinks* Something is weird here. I can't figure out how this would end up with *nothing* progressing. And if even one chain is able to progress, it should be able to free up file descriptors.</td><td class="time"><a href="#t2017-06-14T22:05:01" class="time">22:05</a></td></tr>
<tr id="t2017-06-14T22:05:21"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">It might be interesting to attach to various such processes with a debugger and see where they are.</td><td class="time"><a href="#t2017-06-14T22:05:21" class="time">22:05</a></td></tr>
<tr id="t2017-06-14T22:05:45"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">Are they all stuck either on a pipe read/write to another thing, or waiting on pseudo to open a connection?</td><td class="time"><a href="#t2017-06-14T22:05:45" class="time">22:05</a></td></tr>
<tr id="t2017-06-14T22:45:04"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">seebs: I have wondered why it can't resolve any :/</td><td class="time"><a href="#t2017-06-14T22:45:04" class="time">22:45</a></td></tr>
<tr id="t2017-06-14T22:45:30"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">denix: We started removing pointless RPATHS oif that helps explain things?</td><td class="time"><a href="#t2017-06-14T22:45:30" class="time">22:45</a></td></tr>
<tr id="t2017-06-14T22:48:23"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">seebs: seems so far to be a lot in connect() or read from pipes</td><td class="time"><a href="#t2017-06-14T22:48:23" class="time">22:48</a></td></tr>
<tr id="t2017-06-14T22:49:30"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">seebs: in fact they're all blocked on connects or reads from other processes in their subtrees :/</td><td class="time"><a href="#t2017-06-14T22:49:30" class="time">22:49</a></td></tr>
<tr id="t2017-06-14T22:51:01"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">seebs: I suspect its the way I've parallelised the packaging code, it creates "the perfect storm"</td><td class="time"><a href="#t2017-06-14T22:51:01" class="time">22:51</a></td></tr>
<tr id="t2017-06-14T22:51:47"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">seebs: many things which create long pipelines each of which use a connection and end up doing heavy IO followed by new processes. Eventually they all end up in new processes</td><td class="time"><a href="#t2017-06-14T22:51:47" class="time">22:51</a></td></tr>
<tr id="t2017-06-14T23:01:44"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">Hmm. That makes some sense; if they're all starting stuff and filling up the tree, and then they all try to start new processes.</td><td class="time"><a href="#t2017-06-14T23:01:44" class="time">23:01</a></td></tr>
<tr id="t2017-06-14T23:02:01"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">But it still seems odd that we'd have that many simultaneous clients.</td><td class="time"><a href="#t2017-06-14T23:02:01" class="time">23:02</a></td></tr>
<tr id="t2017-06-14T23:02:18"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">Might be instructive to have pseudo have something that causes it to dump a client list.</td><td class="time"><a href="#t2017-06-14T23:02:18" class="time">23:02</a></td></tr>
<tr id="t2017-06-14T23:09:48"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">seebs, think of a make that spawns processes, that spawn processes.. (repeat) a few iterations and you quickly get to 1000 processes</td><td class="time"><a href="#t2017-06-14T23:09:48" class="time">23:09</a></td></tr>
<tr id="t2017-06-14T23:09:58"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">since the connection opens and doesn't close.. you get stuck there</td><td class="time"><a href="#t2017-06-14T23:09:58" class="time">23:09</a></td></tr>
<tr id="t2017-06-14T23:18:44"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">seebs: could pseudo favour taking new connections compared to servicing existing ones?</td><td class="time"><a href="#t2017-06-14T23:18:44" class="time">23:18</a></td></tr>
<tr id="t2017-06-14T23:24:37"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">seebs: one other thought. In the EMFILE case, perhaps we could start expiring connections in the "no activity for say 1s and hit EMFILE"?</td><td class="time"><a href="#t2017-06-14T23:24:37" class="time">23:24</a></td></tr>
<tr id="t2017-06-14T23:25:58"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">seebs: If we're seeing no activity on the connections for a period of time, it becomes very unlikely there would be any data loss since we'd see data in select() and whilst its not perfect, I think that maybe good enough to keep fastop?</td><td class="time"><a href="#t2017-06-14T23:25:58" class="time">23:25</a></td></tr>
<tr id="t2017-06-14T23:26:28"><td class="action" colspan="2">* RP -&gt; Zzzz</td><td><a href="#t2017-06-14T23:26:28" class="time">23:26</a></td></tr>
<tr id="t2017-06-14T23:27:12"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">RP: thanks</td><td class="time"><a href="#t2017-06-14T23:27:12" class="time">23:27</a></td></tr>
<tr id="t2017-06-14T23:28:12"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">RP: would that cause binaries to use host libraries instead?</td><td class="time"><a href="#t2017-06-14T23:28:12" class="time">23:28</a></td></tr>
<tr id="t2017-06-14T23:35:40"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">It can't favor taking new connections to serving existing ones, because the existing ones already exist and are taking up files.</td><td class="time"><a href="#t2017-06-14T23:35:40" class="time">23:35</a></td></tr>
<tr id="t2017-06-14T23:35:59"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">I'm currently just trying to figure out whether something more obvious is wrong.</td><td class="time"><a href="#t2017-06-14T23:35:59" class="time">23:35</a></td></tr>
<tr id="t2017-06-14T23:36:13"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">And I actually sort of think we should possibly kill fastop because it's been behind a number of actual data loss issues now.</td><td class="time"><a href="#t2017-06-14T23:36:13" class="time">23:36</a></td></tr>
<tr id="t2017-06-14T23:39:16"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">RP: btw, I assume you are referring to <a href="http://cgit.openembedded.org/openembedded-core/commit/?id=6b94569d5d8e8bdd575d12e260abf10d3ac11cfd" rel="nofollow">http://cgit.openembedded.org/openembedded-core/commit/?id=6b94569d5d8e8bdd575d12e260abf10d3ac11cfd</a></td><td class="time"><a href="#t2017-06-14T23:39:16" class="time">23:39</a></td></tr>
<tr id="t2017-06-14T23:43:40"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">denix: whats the issue you are seeing with SDK ?</td><td class="time"><a href="#t2017-06-14T23:43:40" class="time">23:43</a></td></tr>
<tr id="t2017-06-14T23:44:25"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">khem: leaking of system libs into sdk binaries</td><td class="time"><a href="#t2017-06-14T23:44:25" class="time">23:44</a></td></tr>
<tr id="t2017-06-14T23:44:58"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">is it for nativesdk packages or target packages ?</td><td class="time"><a href="#t2017-06-14T23:44:58" class="time">23:44</a></td></tr>
<tr id="t2017-06-14T23:45:07"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">khem: nativesdk</td><td class="time"><a href="#t2017-06-14T23:45:07" class="time">23:45</a></td></tr>
<tr id="t2017-06-14T23:46:06"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">it should be using nativesdk-glibc loader</td><td class="time"><a href="#t2017-06-14T23:46:06" class="time">23:46</a></td></tr>
<tr id="t2017-06-14T23:46:14"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">is that happening or no ?</td><td class="time"><a href="#t2017-06-14T23:46:14" class="time">23:46</a></td></tr>
<tr id="t2017-06-14T23:47:28"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">khem: well, it uses the loader from sdk, as far as I can tell - PT_INTERP is set properly</td><td class="time"><a href="#t2017-06-14T23:47:28" class="time">23:47</a></td></tr>
<tr id="t2017-06-14T23:48:06"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">ok</td><td class="time"><a href="#t2017-06-14T23:48:06" class="time">23:48</a></td></tr>
<tr id="t2017-06-14T23:49:00"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">do we have the equivalent library in nativesdk sysroot ?</td><td class="time"><a href="#t2017-06-14T23:49:00" class="time">23:49</a></td></tr>
<tr id="t2017-06-14T23:49:13"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">the one its loading from host</td><td class="time"><a href="#t2017-06-14T23:49:13" class="time">23:49</a></td></tr>
<tr id="t2017-06-14T23:49:16"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">khem: I remember in the past RPATH was always set to $ORIGIN/../lib so sdk libraries will be used instead of hosts one. now it's not the case</td><td class="time"><a href="#t2017-06-14T23:49:16" class="time">23:49</a></td></tr>
<tr id="t2017-06-14T23:51:07"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">khem: yes. I got a report that nativesdk-cmake complains about some missing openssl symbols, which point to the host lib. cmake links with libcurl and that one links with libssl and all those deps are available in sdk.</td><td class="time"><a href="#t2017-06-14T23:51:07" class="time">23:51</a></td></tr>
<tr id="t2017-06-14T23:51:09"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">we patch ld.so for nativesdk to reverse the search order</td><td class="time"><a href="#t2017-06-14T23:51:09" class="time">23:51</a></td></tr>
<tr id="t2017-06-14T23:52:10"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">RP: <a href="https://gist.github.com/seebs/8cf9bc902e8b9467512330bb17bb2ad6" rel="nofollow">https://gist.github.com/seebs/8cf9bc902e8b9467512330bb17bb2ad6</a></td><td class="time"><a href="#t2017-06-14T23:52:10" class="time">23:52</a></td></tr>
<tr id="t2017-06-14T23:52:23"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">i probably broke this somehow, but i'd be super interested in the results this produces.</td><td class="time"><a href="#t2017-06-14T23:52:23" class="time">23:52</a></td></tr>
<tr id="t2017-06-14T23:52:47"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">To use: (1) apply patch, (2) produce hang, (3) send SIGUSR2 to pseudo daemon, (4) wait a second or so for a select to timeout or an operation to happen, (5) check pseudo.log</td><td class="time"><a href="#t2017-06-14T23:52:47" class="time">23:52</a></td></tr>
<tr id="t2017-06-14T23:52:54"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">it should have ~1k lines of output listing clients.</td><td class="time"><a href="#t2017-06-14T23:52:54" class="time">23:52</a></td></tr>
<tr id="t2017-06-14T23:53:02"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">listing clients [1 through 1]:</td><td class="time"><a href="#t2017-06-14T23:53:02" class="time">23:53</a></td></tr>
<tr id="t2017-06-14T23:53:02"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">client&nbsp;&nbsp;&nbsp;&nbsp;1: fd&nbsp;&nbsp;&nbsp;&nbsp;8, pid 17322, state -, program sh</td><td class="time"><a href="#t2017-06-14T23:53:02" class="time">23:53</a></td></tr>
<tr id="t2017-06-14T23:53:02"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">done.</td><td class="time"><a href="#t2017-06-14T23:53:02" class="time">23:53</a></td></tr>
<tr id="t2017-06-14T23:53:10"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">denix: do you have the failing sysroot around &gt;</td><td class="time"><a href="#t2017-06-14T23:53:10" class="time">23:53</a></td></tr>
<tr id="t2017-06-14T23:53:14"><th class="nick" style="background: #dc74dc">seebs</th><td class="text" style="color: #dc74dc">"state" should be R for any client which was reported readable by select()</td><td class="time"><a href="#t2017-06-14T23:53:14" class="time">23:53</a></td></tr>
<tr id="t2017-06-14T23:53:16"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">khem: ok, that is becoming more clear why RPATH got removed - what's the commit that reversed the search order?</td><td class="time"><a href="#t2017-06-14T23:53:16" class="time">23:53</a></td></tr>
<tr id="t2017-06-14T23:54:09"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">khem: not at the moment, but I can get it</td><td class="time"><a href="#t2017-06-14T23:54:09" class="time">23:54</a></td></tr>
<tr id="t2017-06-14T23:55:06"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">khem: well, actually it was failing for someone else...</td><td class="time"><a href="#t2017-06-14T23:55:06" class="time">23:55</a></td></tr>
<tr id="t2017-06-14T23:57:39"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">khem: cmake: /lib/x86_64-linux-gnu/libssl.so.1.0.0: version `OPENSSL_1.0.2d' not found (required by /tmp/sdk-devkit/sysroots/x86_64-arago-linux/usr/lib/libcurl.so.4)</td><td class="time"><a href="#t2017-06-14T23:57:39" class="time">23:57</a></td></tr>
<tr id="t2017-06-14T23:59:20"><th class="nick" style="background: #76e0e0">denix</th><td class="text" style="color: #76e0e0">khem: that was the error someone reported. they claim to have sourced the environment setup script and the sdk does contain the correct libssl.so library</td><td class="time"><a href="#t2017-06-14T23:59:20" class="time">23:59</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2017-06-13.log.html">&#171; Tuesday, 2017-06-13</a> <a href="index.html">Index</a> <a href="%23yocto.2017-06-15.log.html">Thursday, 2017-06-15 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
