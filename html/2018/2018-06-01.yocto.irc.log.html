<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2018-06-01</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Friday, 2018-06-01</h1>
<div class="navigation"> <a href="%23yocto.2018-05-31.log.html">&#171; Thursday, 2018-05-31</a> <a href="index.html">Index</a> <a href="%23yocto.2018-06-02.log.html">Saturday, 2018-06-02 &#187;</a> </div>
<table class="irclog">
<tr id="t2018-06-01T08:20:17"><th class="nick" style="background: #407a40">learningc</th><td class="text" style="color: #407a40">cc int matrix[10][10]; matrix[3] = 3;</td><td class="time"><a href="#t2018-06-01T08:20:17" class="time">08:20</a></td></tr>
<tr id="t2018-06-01T08:20:43"><th class="nick" style="background: #407a40">learningc</th><td class="text" style="color: #407a40">wrong channel</td><td class="time"><a href="#t2018-06-01T08:20:43" class="time">08:20</a></td></tr>
<tr id="t2018-06-01T08:50:07"><th class="nick" style="background: #42427e">lucaceresoli</th><td class="text" style="color: #42427e">problem: after a few months, my CI machine ran out of space</td><td class="time"><a href="#t2018-06-01T08:50:07" class="time">08:50</a></td></tr>
<tr id="t2018-06-01T08:50:55"><th class="nick" style="background: #42427e">lucaceresoli</th><td class="text" style="color: #42427e">reasons: the shared sstate cache dir has grown to 300 GB (hard to justify) + all the packages have accumulated hundreds of logslogs</td><td class="time"><a href="#t2018-06-01T08:50:55" class="time">08:50</a></td></tr>
<tr id="t2018-06-01T08:51:23"><th class="nick" style="background: #42427e">lucaceresoli</th><td class="text" style="color: #42427e">question 1: how can I configure a maximum disk space for the sstate cache?</td><td class="time"><a href="#t2018-06-01T08:51:23" class="time">08:51</a></td></tr>
<tr id="t2018-06-01T08:51:57"><th class="nick" style="background: #42427e">lucaceresoli</th><td class="text" style="color: #42427e">question 2: how can I configure bitbake to automatically remove old logs?</td><td class="time"><a href="#t2018-06-01T08:51:57" class="time">08:51</a></td></tr>
<tr id="t2018-06-01T08:52:24"><th class="nick" style="background: #42427e">lucaceresoli</th><td class="text" style="color: #42427e">s/logslogs/logs/</td><td class="time"><a href="#t2018-06-01T08:52:24" class="time">08:52</a></td></tr>
<tr id="t2018-06-01T11:29:16"><th class="nick" style="background: #818144">inf</th><td class="text" style="color: #818144">Hey all! I started playing with yocto with meta-raspberrypi yesterday. What is the proper place to store things like ENABLE_UART or VIDEO_CAMERA when using my own local layer with derived recipes-core/images/core-image-*.bb? IMAGE_INSTALL is taken up from there properly, but these only work when put into build/conf/local.conf...</td><td class="time"><a href="#t2018-06-01T11:29:16" class="time">11:29</a></td></tr>
<tr id="t2018-06-01T11:31:41"><th class="nick" style="background: #818144">inf</th><td class="text" style="color: #818144">also, am i correct, that, in theory, bitbake should detect changes in these configuration variables and rebuild everything that's needed on the go? right now i need to do `bitbake -c clean rpi-config bcm2835-bootfiles core-image-myproject` first for these to properly rebuild config.txt file in resulting .rpi-sdimg</td><td class="time"><a href="#t2018-06-01T11:31:41" class="time">11:31</a></td></tr>
<tr id="t2018-06-01T11:33:10"><th class="nick" style="background: #818144">inf</th><td class="text" style="color: #818144">(so far i've only had some experience on buildroot, and i heard some anecdotes, that yocto/bitbake handles rebuilds better :P)</td><td class="time"><a href="#t2018-06-01T11:33:10" class="time">11:33</a></td></tr>
<tr id="t2018-06-01T11:33:28"><th class="nick" style="background: #818144">inf</th><td class="text" style="color: #818144">s/ on / with /</td><td class="time"><a href="#t2018-06-01T11:33:28" class="time">11:33</a></td></tr>
<tr id="t2018-06-01T11:34:24"><th class="nick" style="background: #854685">neverpanic</th><td class="text" style="color: #854685">inf: In theory bitbake supports that, if your variable dependencies are set up correctly (or automatically detected correctly)</td><td class="time"><a href="#t2018-06-01T11:34:24" class="time">11:34</a></td></tr>
<tr id="t2018-06-01T11:39:11"><th class="nick" style="background: #818144">inf</th><td class="text" style="color: #818144">I can live with that, i guess. Maybe sometime later, if i get to learn more about bitbake/yocto, i'd try researching into this further. I'm more concerned about my first issue, though.</td><td class="time"><a href="#t2018-06-01T11:39:11" class="time">11:39</a></td></tr>
<tr id="t2018-06-01T12:00:02"><th class="nick" style="background: #854685">neverpanic</th><td class="text" style="color: #854685">inf: I guess you're looking for a distro.conf</td><td class="time"><a href="#t2018-06-01T12:00:02" class="time">12:00</a></td></tr>
<tr id="t2018-06-01T12:10:15"><td class="part" colspan="2">*** TafThorne1 &lt;TafThorne1!~thomas@158.255.10.131&gt; has left #yocto</td><td><a href="#t2018-06-01T12:10:15" class="time">12:10</a></td></tr>
<tr id="t2018-06-01T12:10:56"><th class="nick" style="background: #818144">inf</th><td class="text" style="color: #818144">neverpanic: thanks! i'll try that later today</td><td class="time"><a href="#t2018-06-01T12:10:56" class="time">12:10</a></td></tr>
<tr id="t2018-06-01T13:38:13"><th class="nick" style="background: #488888">JPEW</th><td class="text" style="color: #488888">lucaceresoli: I use a pretty low-tech solution for sstate: There is a cron job on the server that hosts the sstate cache that deletes it all every friday at 9:30 PM :)</td><td class="time"><a href="#t2018-06-01T13:38:13" class="time">13:38</a></td></tr>
<tr id="t2018-06-01T13:42:46"><th class="nick" style="background: #42427e">lucaceresoli</th><td class="text" style="color: #42427e">JPEW: I see, thanks. I was starting to suspect there sstate has no space-limiter mechanism...</td><td class="time"><a href="#t2018-06-01T13:42:46" class="time">13:42</a></td></tr>
<tr id="t2018-06-01T13:43:07"><th class="nick" style="background: #42427e">lucaceresoli</th><td class="text" style="color: #42427e">JPEW: and I equally suspecting about the deletion of old logs</td><td class="time"><a href="#t2018-06-01T13:43:07" class="time">13:43</a></td></tr>
<tr id="t2018-06-01T13:43:56"><th class="nick" style="background: #488888">JPEW</th><td class="text" style="color: #488888">lucaceresoli: Are you using rm_work: <a href="https://www.yoctoproject.org/docs/latest/mega-manual/mega-manual.html#ref-classes-rm-work" rel="nofollow">https://www.yoctoproject.org/docs/latest/mega-manual/mega-manual.html#ref-classes-rm-work</a> ?</td><td class="time"><a href="#t2018-06-01T13:43:56" class="time">13:43</a></td></tr>
<tr id="t2018-06-01T13:45:19"><th class="nick" style="background: #42427e">lucaceresoli</th><td class="text" style="color: #42427e">JPEW: no, I'm not using it. I want to be able to inspect logs and whatever goes wrong, and avoid rebuilding stuff without need</td><td class="time"><a href="#t2018-06-01T13:45:19" class="time">13:45</a></td></tr>
<tr id="t2018-06-01T13:46:04"><th class="nick" style="background: #488888">JPEW</th><td class="text" style="color: #488888">rm_work won't affect whether a rebuild happes or not.... but it does make it harder to inspect logs</td><td class="time"><a href="#t2018-06-01T13:46:04" class="time">13:46</a></td></tr>
<tr id="t2018-06-01T13:47:47"><th class="nick" style="background: #488888">JPEW</th><td class="text" style="color: #488888">If a build step fails, the main build log contains the output from the step that failed, so as long as you are capturing that, the individual build logs aren't quite as necessary</td><td class="time"><a href="#t2018-06-01T13:47:47" class="time">13:47</a></td></tr>
<tr id="t2018-06-01T13:49:05"><th class="nick" style="background: #488888">JPEW</th><td class="text" style="color: #488888">IMHO, it's almost always faster to try and reproduce what a job CI is doing locally than try to debug it "on the server".... Making it easy to reproduce the CI environment is probably much more useful that saving all the build logs</td><td class="time"><a href="#t2018-06-01T13:49:05" class="time">13:49</a></td></tr>
<tr id="t2018-06-01T13:49:40"><th class="nick" style="background: #488888">JPEW</th><td class="text" style="color: #488888">Argh, need more coffee, can't type straight</td><td class="time"><a href="#t2018-06-01T13:49:40" class="time">13:49</a></td></tr>
<tr id="t2018-06-01T13:50:23"><th class="nick" style="background: #42427e">lucaceresoli</th><td class="text" style="color: #42427e">JPEW: yup, I could try to enable rm_work on the CI server only -- so far workstations have the same config as the CI server, but perhaps I can make an exception for rm_work</td><td class="time"><a href="#t2018-06-01T13:50:23" class="time">13:50</a></td></tr>
<tr id="t2018-06-01T13:50:53"><th class="nick" style="background: #488888">JPEW</th><td class="text" style="color: #488888">Ya, thats what we do. The CI has it's own site.conf that it sets up</td><td class="time"><a href="#t2018-06-01T13:50:53" class="time">13:50</a></td></tr>
<tr id="t2018-06-01T13:51:20"><th class="nick" style="background: #42427e">lucaceresoli</th><td class="text" style="color: #42427e">JPEW: actually I do the same: see the Ci server fail, reproduce locally</td><td class="time"><a href="#t2018-06-01T13:51:20" class="time">13:51</a></td></tr>
<tr id="t2018-06-01T13:51:33"><th class="nick" style="background: #488888">JPEW</th><td class="text" style="color: #488888">I would also recommend adding: BB_SCHEDULER = "completion"</td><td class="time"><a href="#t2018-06-01T13:51:33" class="time">13:51</a></td></tr>
<tr id="t2018-06-01T13:52:12"><th class="nick" style="background: #42427e">lucaceresoli</th><td class="text" style="color: #42427e">JPEW: but I don't want to introduce other differences between CI and workstation, unless I'm very sure they won't affect the build result</td><td class="time"><a href="#t2018-06-01T13:52:12" class="time">13:52</a></td></tr>
<tr id="t2018-06-01T13:52:23"><th class="nick" style="background: #488888">JPEW</th><td class="text" style="color: #488888">It theortically makes the CI jobs a little slower (which is usually irrelvent), but helps limit the maximum amount of disk space it uses at any one time</td><td class="time"><a href="#t2018-06-01T13:52:23" class="time">13:52</a></td></tr>
<tr id="t2018-06-01T13:52:23"><th class="nick" style="background: #488888">JPEW</th><td class="text" style="color: #488888">Sure</td><td class="time"><a href="#t2018-06-01T13:52:23" class="time">13:52</a></td></tr>
<tr id="t2018-06-01T13:52:55"><th class="nick" style="background: #488888">JPEW</th><td class="text" style="color: #488888">That makes sense. "rm_work" is probably all you really need</td><td class="time"><a href="#t2018-06-01T13:52:55" class="time">13:52</a></td></tr>
<tr id="t2018-06-01T13:53:53"><th class="nick" style="background: #42427e">lucaceresoli</th><td class="text" style="color: #42427e">JPEW: I can't find BB_SCHEDULER in the docs... :-?</td><td class="time"><a href="#t2018-06-01T13:53:53" class="time">13:53</a></td></tr>
<tr id="t2018-06-01T13:55:04"><th class="nick" style="background: #488888">JPEW</th><td class="text" style="color: #488888"><a href="https://www.yoctoproject.org/docs/latest/bitbake-user-manual/bitbake-user-manual.html#var-BB_SCHEDULER" rel="nofollow">https://www.yoctoproject.org/docs/latest/bitbake-user-manual/bitbake-user-manual.html#var-BB_SCHEDULER</a></td><td class="time"><a href="#t2018-06-01T13:55:04" class="time">13:55</a></td></tr>
<tr id="t2018-06-01T13:55:14"><th class="nick" style="background: #488888">JPEW</th><td class="text" style="color: #488888">The bitbake manual isn't part of the mega-manual</td><td class="time"><a href="#t2018-06-01T13:55:14" class="time">13:55</a></td></tr>
<tr id="t2018-06-01T14:01:29"><th class="nick" style="background: #42427e">lucaceresoli</th><td class="text" style="color: #42427e">JPEW: oh, I thought the mega-manual did. thanks for all the hints.</td><td class="time"><a href="#t2018-06-01T14:01:29" class="time">14:01</a></td></tr>
<tr id="t2018-06-01T14:01:39"><th class="nick" style="background: #488888">JPEW</th><td class="text" style="color: #488888">no problem</td><td class="time"><a href="#t2018-06-01T14:01:39" class="time">14:01</a></td></tr>
<tr id="t2018-06-01T14:08:12"><th class="nick" style="background: #8c4a4a">fberg</th><td class="text" style="color: #8c4a4a">Hello guys !</td><td class="time"><a href="#t2018-06-01T14:08:12" class="time">14:08</a></td></tr>
<tr id="t2018-06-01T14:08:45"><th class="nick" style="background: #8c4a4a">fberg</th><td class="text" style="color: #8c4a4a">I'0m building a module which makefile is: <a href="https://github.com/emlid/rcio-dkms/blob/master/Makefile" rel="nofollow">https://github.com/emlid/rcio-dkms/blob/master/Makefile</a></td><td class="time"><a href="#t2018-06-01T14:08:45" class="time">14:08</a></td></tr>
<tr id="t2018-06-01T14:09:13"><th class="nick" style="background: #8c4a4a">fberg</th><td class="text" style="color: #8c4a4a">while building it searches for KERNEL_SOURCE ?= /lib/modules/$(KVERSION)/build</td><td class="time"><a href="#t2018-06-01T14:09:13" class="time">14:09</a></td></tr>
<tr id="t2018-06-01T14:09:36"><th class="nick" style="background: #8c4a4a">fberg</th><td class="text" style="color: #8c4a4a">how can I make it point to the right directory ?</td><td class="time"><a href="#t2018-06-01T14:09:36" class="time">14:09</a></td></tr>
<tr id="t2018-06-01T14:10:43"><th class="nick" style="background: #8c4a4a">fberg</th><td class="text" style="color: #8c4a4a">bitbake exits with the following error: make[1]: *** /lib/modules/4.9.45/build: No such file or directory.&nbsp;&nbsp;Stop.</td><td class="time"><a href="#t2018-06-01T14:10:43" class="time">14:10</a></td></tr>
<tr id="t2018-06-01T15:18:21"><td class="nickchange" colspan="2">*** diego_ is now known as diego_r</td><td><a href="#t2018-06-01T15:18:21" class="time">15:18</a></td></tr>
<tr id="t2018-06-01T15:30:00"><td class="part" colspan="2">*** prabhakarlad &lt;prabhakarlad!~prabhakar@194.75.40.178&gt; has left #yocto</td><td><a href="#t2018-06-01T15:30:00" class="time">15:30</a></td></tr>
<tr id="t2018-06-01T15:30:53"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">khem: I'm sending patch for that systemd gcc8 issue in a minute <a href="https://github.com/systemd/systemd/pull/9156" rel="nofollow">https://github.com/systemd/systemd/pull/9156</a></td><td class="time"><a href="#t2018-06-01T15:30:53" class="time">15:30</a></td></tr>
<tr id="t2018-06-01T16:28:56"><th class="nick" style="background: #4d4d93">khem</th><td class="text" style="color: #4d4d93">JaMa: ok, although you might want to call out for it being signed char</td><td class="time"><a href="#t2018-06-01T16:28:56" class="time">16:28</a></td></tr>
<tr id="t2018-06-01T16:29:04"><th class="nick" style="background: #4d4d93">khem</th><td class="text" style="color: #4d4d93">since char is arch specific</td><td class="time"><a href="#t2018-06-01T16:29:04" class="time">16:29</a></td></tr>
<tr id="t2018-06-01T22:16:03"><th class="nick" style="background: #97974f">yocti</th><td class="text" style="color: #97974f">New news from stackoverflow: Disable a standard systemd service in Yocto build &lt;<a href="https://stackoverflow.com/questions/50651371/disable-a-standard-systemd-service-in-yocto-build&gt;" rel="nofollow">https://stackoverflow.com/questions/50651371/disable-a-standard-systemd-service-in-yocto-build&gt;</a></td><td class="time"><a href="#t2018-06-01T22:16:03" class="time">22:16</a></td></tr>
<tr id="t2018-06-01T22:28:14"><td class="part" colspan="2">*** scottrif &lt;scottrif!~scottrif@47-40-108-60.dhcp.knwc.wa.charter.com&gt; has left #yocto</td><td><a href="#t2018-06-01T22:28:14" class="time">22:28</a></td></tr>
<tr id="t2018-06-01T23:12:11"><td class="other" colspan="2">-YoctoAutoBuilder- build #1042 of nightly-qa-extras is complete: Failure [failed BuildImages_12 BuildImages_13 BuildImages_14]  Build details are at <a href="https://autobuilder.yocto.io/builders/nightly-qa-extras/builds/1042" rel="nofollow">https://autobuilder.yocto.io/builders/nightly-qa-extras/builds/1042</a></td><td><a href="#t2018-06-01T23:12:11" class="time">23:12</a></td></tr>
<tr id="t2018-06-01T23:53:24"><td class="other" colspan="2">-YoctoAutoBuilder- build #1128 of nightly is complete: Success [build successful]  Build details are at <a href="https://autobuilder.yocto.io/builders/nightly/builds/1128" rel="nofollow">https://autobuilder.yocto.io/builders/nightly/builds/1128</a></td><td><a href="#t2018-06-01T23:53:24" class="time">23:53</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2018-05-31.log.html">&#171; Thursday, 2018-05-31</a> <a href="index.html">Index</a> <a href="%23yocto.2018-06-02.log.html">Saturday, 2018-06-02 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
