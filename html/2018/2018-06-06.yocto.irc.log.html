<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Wednesday, 2018-06-06</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Wednesday, 2018-06-06</h1>
<div class="navigation"> <a href="%23yocto.2018-06-05.log.html">&#171; Tuesday, 2018-06-05</a> <a href="index.html">Index</a> <a href="%23yocto.2018-06-07.log.html">Thursday, 2018-06-07 &#187;</a> </div>
<table class="irclog">
<tr id="t2018-06-06T01:30:23"><td class="other" colspan="2">-YoctoAutoBuilder- build #1037 of nightly-mips-lsb is complete: Failure [failed BuildImages_1]  Build details are at <a href="https://autobuilder.yocto.io/builders/nightly-mips-lsb/builds/1037" rel="nofollow">https://autobuilder.yocto.io/builders/nightly-mips-lsb/builds/1037</a></td><td><a href="#t2018-06-06T01:30:23" class="time">01:30</a></td></tr>
<tr id="t2018-06-06T01:41:27"><td class="other" colspan="2">-YoctoAutoBuilder- build #1139 of nightly is complete: Failure [failed]  Build details are at <a href="https://autobuilder.yocto.io/builders/nightly/builds/1139" rel="nofollow">https://autobuilder.yocto.io/builders/nightly/builds/1139</a></td><td><a href="#t2018-06-06T01:41:27" class="time">01:41</a></td></tr>
<tr id="t2018-06-06T07:23:52"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2018-06-06T07:23:52" class="time">07:23</a></td></tr>
<tr id="t2018-06-06T09:21:11"><th class="nick" style="background: #407a40">gondor</th><td class="text" style="color: #407a40">hi everybody</td><td class="time"><a href="#t2018-06-06T09:21:11" class="time">09:21</a></td></tr>
<tr id="t2018-06-06T09:21:53"><th class="nick" style="background: #407a40">gondor</th><td class="text" style="color: #407a40">what is the mechanism for adding a .conf file in /etc/modules-load.d/ directory, file which should have a 1 per line list of modules?</td><td class="time"><a href="#t2018-06-06T09:21:53" class="time">09:21</a></td></tr>
<tr id="t2018-06-06T09:22:17"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">write a recipe which builds a package that contains that file</td><td class="time"><a href="#t2018-06-06T09:22:17" class="time">09:22</a></td></tr>
<tr id="t2018-06-06T09:22:21"><th class="nick" style="background: #407a40">gondor</th><td class="text" style="color: #407a40">KERNEL_MODULE_AUTOLOAD will create 1 .conf file there per entry</td><td class="time"><a href="#t2018-06-06T09:22:21" class="time">09:22</a></td></tr>
<tr id="t2018-06-06T09:22:53"><th class="nick" style="background: #407a40">gondor</th><td class="text" style="color: #407a40">so can't use an existing yocto mechanism at this point?</td><td class="time"><a href="#t2018-06-06T09:22:53" class="time">09:22</a></td></tr>
<tr id="t2018-06-06T09:26:48"><th class="nick" style="background: #407a40">gondor</th><td class="text" style="color: #407a40">the yocto docs say:</td><td class="time"><a href="#t2018-06-06T09:26:48" class="time">09:26</a></td></tr>
<tr id="t2018-06-06T09:26:54"><th class="nick" style="background: #407a40">gondor</th><td class="text" style="color: #407a40">Specify it as follows:</td><td class="time"><a href="#t2018-06-06T09:26:54" class="time">09:26</a></td></tr>
<tr id="t2018-06-06T09:26:54"><th class="nick" style="background: #407a40">gondor</th><td class="text" style="color: #407a40">&nbsp;&nbsp;&nbsp;&nbsp; KERNEL_MODULE_AUTOLOAD += "module_name1 module_name2 module_name3"</td><td class="time"><a href="#t2018-06-06T09:26:54" class="time">09:26</a></td></tr>
<tr id="t2018-06-06T09:26:54"><th class="nick" style="background: #407a40">gondor</th><td class="text" style="color: #407a40"></td><td class="time"><a href="#t2018-06-06T09:26:54" class="time">09:26</a></td></tr>
<tr id="t2018-06-06T09:26:54"><th class="nick" style="background: #407a40">gondor</th><td class="text" style="color: #407a40">Including KERNEL_MODULE_AUTOLOAD causes the OpenEmbedded build system to populate the /etc/modules-load.d/modname.conf file with the list of modules to be auto-loaded on boot. The modules appear one-per-line in the file.</td><td class="time"><a href="#t2018-06-06T09:26:54" class="time">09:26</a></td></tr>
<tr id="t2018-06-06T09:27:49"><th class="nick" style="background: #407a40">gondor</th><td class="text" style="color: #407a40">it's not clear from this snippet if the build system will create 1 file including these 3 entries, one per line, or 3 files with one entry per line</td><td class="time"><a href="#t2018-06-06T09:27:49" class="time">09:27</a></td></tr>
<tr id="t2018-06-06T09:28:07"><th class="nick" style="background: #407a40">gondor</th><td class="text" style="color: #407a40">but by experimenting it seems that yocto does the last one</td><td class="time"><a href="#t2018-06-06T09:28:07" class="time">09:28</a></td></tr>
<tr id="t2018-06-06T09:30:10"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">does it matter?</td><td class="time"><a href="#t2018-06-06T09:30:10" class="time">09:30</a></td></tr>
<tr id="t2018-06-06T09:33:25"><th class="nick" style="background: #407a40">gondor</th><td class="text" style="color: #407a40">yeah, I need a .conf file in /etc/moudles-load.d/ in which I specify a list of modules, and by this the listed modules will be loaded in the given order</td><td class="time"><a href="#t2018-06-06T09:33:25" class="time">09:33</a></td></tr>
<tr id="t2018-06-06T09:33:54"><th class="nick" style="background: #407a40">gondor</th><td class="text" style="color: #407a40">I need some kernel modules to be loaded in a particular order</td><td class="time"><a href="#t2018-06-06T09:33:54" class="time">09:33</a></td></tr>
<tr id="t2018-06-06T09:35:02"><th class="nick" style="background: #407a40">gondor</th><td class="text" style="color: #407a40">looks like I'll have to stick with adding the file through a recipe as you suggested</td><td class="time"><a href="#t2018-06-06T09:35:02" class="time">09:35</a></td></tr>
<tr id="t2018-06-06T09:35:22"><th class="nick" style="background: #407a40">gondor</th><td class="text" style="color: #407a40">would have preferred to use the yocto AUTOLOAD mechanism though</td><td class="time"><a href="#t2018-06-06T09:35:22" class="time">09:35</a></td></tr>
<tr id="t2018-06-06T10:15:06"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: <a href="https://autobuilder.yocto.io/builders/nightly-x86-64/builds/1080/steps/BuildImages_2/logs/stdio" rel="nofollow">https://autobuilder.yocto.io/builders/nightly-x86-64/builds/1080/steps/BuildImages_2/logs/stdio</a> - any ideas why that could break like that?</td><td class="time"><a href="#t2018-06-06T10:15:06" class="time">10:15</a></td></tr>
<tr id="t2018-06-06T10:26:28"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2018-06-06T10:26:28" class="time">10:26</a></td></tr>
<tr id="t2018-06-06T10:27:06"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">rburton: deciding to add in the mesa upgrade was a disaster, sorry :(</td><td class="time"><a href="#t2018-06-06T10:27:06" class="time">10:27</a></td></tr>
<tr id="t2018-06-06T10:27:21"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">mesa is great at pain :)</td><td class="time"><a href="#t2018-06-06T10:27:21" class="time">10:27</a></td></tr>
<tr id="t2018-06-06T10:27:55"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">rburton: still one mystery selftest regression to isolate too</td><td class="time"><a href="#t2018-06-06T10:27:55" class="time">10:27</a></td></tr>
<tr id="t2018-06-06T10:28:16"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">rburton: and the gitsm patch broke, again. I've replied on list about that</td><td class="time"><a href="#t2018-06-06T10:28:16" class="time">10:28</a></td></tr>
<tr id="t2018-06-06T10:29:00"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">RP: re my qemu patches on top of martin's, you just want the middle two in my branch to fix up the local.conf and packagegroups</td><td class="time"><a href="#t2018-06-06T10:29:00" class="time">10:29</a></td></tr>
<tr id="t2018-06-06T10:29:12"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">RP: i'll push the needed fixes to meta-mingw now</td><td class="time"><a href="#t2018-06-06T10:29:12" class="time">10:29</a></td></tr>
<tr id="t2018-06-06T10:31:08"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">rburton: don't I have those?</td><td class="time"><a href="#t2018-06-06T10:31:08" class="time">10:31</a></td></tr>
<tr id="t2018-06-06T10:32:24"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">dunno haven't looked at next ;)</td><td class="time"><a href="#t2018-06-06T10:32:24" class="time">10:32</a></td></tr>
<tr id="t2018-06-06T10:32:36"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">one sec rebasing</td><td class="time"><a href="#t2018-06-06T10:32:36" class="time">10:32</a></td></tr>
<tr id="t2018-06-06T10:32:56"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">RP: drop '2018-06-05 13:49 Ross Burton&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o qemu: only build SDL UI if X11 is enabled'</td><td class="time"><a href="#t2018-06-06T10:32:56" class="time">10:32</a></td></tr>
<tr id="t2018-06-06T10:35:07"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">rburton: ok</td><td class="time"><a href="#t2018-06-06T10:35:07" class="time">10:35</a></td></tr>
<tr id="t2018-06-06T10:37:58"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">rburton: I've updated the branch and sent that staticdev fix</td><td class="time"><a href="#t2018-06-06T10:37:58" class="time">10:37</a></td></tr>
<tr id="t2018-06-06T12:06:08"><th class="nick" style="background: #854685">yocti</th><td class="text" style="color: #854685">New news from stackoverflow: Yocto: oe_runmake failed, iMX6 Apalis &lt;<a href="https://stackoverflow.com/questions/50719943/yocto-oe-runmake-failed-imx6-apalis&gt;" rel="nofollow">https://stackoverflow.com/questions/50719943/yocto-oe-runmake-failed-imx6-apalis&gt;</a></td><td class="time"><a href="#t2018-06-06T12:06:08" class="time">12:06</a></td></tr>
<tr id="t2018-06-06T12:12:21"><th class="nick" style="background: #488888">sveinse</th><td class="text" style="color: #488888">When is the next yocto release scheduled?</td><td class="time"><a href="#t2018-06-06T12:12:21" class="time">12:12</a></td></tr>
<tr id="t2018-06-06T12:12:41"><th class="nick" style="background: #488888">sveinse</th><td class="text" style="color: #488888">Will Qt 5.11 be a part of any yocto release any time soon?</td><td class="time"><a href="#t2018-06-06T12:12:41" class="time">12:12</a></td></tr>
<tr id="t2018-06-06T12:15:07"><th class="nick" style="background: #8c4a4a">nayfe_</th><td class="text" style="color: #8c4a4a">sveinse: maybe ask mikko.gronoff@qt.io directly ?</td><td class="time"><a href="#t2018-06-06T12:15:07" class="time">12:15</a></td></tr>
<tr id="t2018-06-06T12:15:23"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">sveinse: "yocto" doesn't release.&nbsp;&nbsp;oe-core is on a six-monthly schedule.&nbsp;&nbsp;as for meta-qt5 you'll want to ask the meta-qt5 maintainers directly (or send a patch)</td><td class="time"><a href="#t2018-06-06T12:15:23" class="time">12:15</a></td></tr>
<tr id="t2018-06-06T12:15:48"><th class="nick" style="background: #8c4a4a">nayfe_</th><td class="text" style="color: #8c4a4a">as rburton says :)</td><td class="time"><a href="#t2018-06-06T12:15:48" class="time">12:15</a></td></tr>
<tr id="t2018-06-06T12:16:32"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">sveinse: 5.11 is already in meta-qt5/master for couple months</td><td class="time"><a href="#t2018-06-06T12:16:32" class="time">12:16</a></td></tr>
<tr id="t2018-06-06T12:16:44"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">with the final revision in jansa/master currently</td><td class="time"><a href="#t2018-06-06T12:16:44" class="time">12:16</a></td></tr>
<tr id="t2018-06-06T12:32:09"><th class="nick" style="background: #4d4d93">otavio[m]</th><td class="text" style="color: #4d4d93">RP: hello. We found that bitbake 1.38 branch did not update it's version. It still shows 1.37</td><td class="time"><a href="#t2018-06-06T12:32:09" class="time">12:32</a></td></tr>
<tr id="t2018-06-06T12:35:30"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">otavio[m]: oops. Fixed</td><td class="time"><a href="#t2018-06-06T12:35:30" class="time">12:35</a></td></tr>
<tr id="t2018-06-06T12:37:06"><th class="nick" style="background: #4d4d93">otavio[m]</th><td class="text" style="color: #4d4d93">:-)</td><td class="time"><a href="#t2018-06-06T12:37:06" class="time">12:37</a></td></tr>
<tr id="t2018-06-06T12:37:27"><th class="nick" style="background: #4d4d93">otavio[m]</th><td class="text" style="color: #4d4d93">RP: I am checking mesa error too</td><td class="time"><a href="#t2018-06-06T12:37:27" class="time">12:37</a></td></tr>
<tr id="t2018-06-06T12:37:52"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">otavio[m]: thanks</td><td class="time"><a href="#t2018-06-06T12:37:52" class="time">12:37</a></td></tr>
<tr id="t2018-06-06T13:00:57"><th class="nick" style="background: #488888">sveinse</th><td class="text" style="color: #488888">rburton: Isn't "rocko" or "sumo" a Yocto release? <a href="https://wiki.yoctoproject.org/wiki/Releases" rel="nofollow">https://wiki.yoctoproject.org/wiki/Releases</a></td><td class="time"><a href="#t2018-06-06T13:00:57" class="time">13:00</a></td></tr>
<tr id="t2018-06-06T13:09:28"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">dear people, what's the canonical way to rebuild an image after you change/rebuild the kernel?</td><td class="time"><a href="#t2018-06-06T13:09:28" class="time">13:09</a></td></tr>
<tr id="t2018-06-06T13:15:56"><th class="nick" style="background: #9b519b">RyFa</th><td class="text" style="color: #9b519b">My guess would be to remove the tmp and rebuild - but im pretty new to the project. Id love to hear someone confirm that</td><td class="time"><a href="#t2018-06-06T13:15:56" class="time">13:15</a></td></tr>
<tr id="t2018-06-06T13:16:27"><th class="nick" style="background: #9b519b">RyFa</th><td class="text" style="color: #9b519b">Im also trying to udate the kernel for my image</td><td class="time"><a href="#t2018-06-06T13:16:27" class="time">13:16</a></td></tr>
<tr id="t2018-06-06T13:26:59"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">RyFa: that's what i've been doing, but it takes half a workday initially</td><td class="time"><a href="#t2018-06-06T13:26:59" class="time">13:26</a></td></tr>
<tr id="t2018-06-06T13:27:40"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">then i tried bitbake -c cleanall the image, and then bitbake it again</td><td class="time"><a href="#t2018-06-06T13:27:40" class="time">13:27</a></td></tr>
<tr id="t2018-06-06T13:27:55"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">but it fails complaining some cryptodev module missing</td><td class="time"><a href="#t2018-06-06T13:27:55" class="time">13:27</a></td></tr>
<tr id="t2018-06-06T13:29:29"><th class="nick" style="background: #9b519b">RyFa</th><td class="text" style="color: #9b519b">Yeah, Initial builds take a super long time unfortunately, but for a major change such as a kernel, id expect it to be necessary.</td><td class="time"><a href="#t2018-06-06T13:29:29" class="time">13:29</a></td></tr>
<tr id="t2018-06-06T13:29:46"><th class="nick" style="background: #9b519b">RyFa</th><td class="text" style="color: #9b519b">Do you happen to get that same error in every case?</td><td class="time"><a href="#t2018-06-06T13:29:46" class="time">13:29</a></td></tr>
<tr id="t2018-06-06T13:29:51"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">that's not a major change</td><td class="time"><a href="#t2018-06-06T13:29:51" class="time">13:29</a></td></tr>
<tr id="t2018-06-06T13:29:56"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">to generate an image</td><td class="time"><a href="#t2018-06-06T13:29:56" class="time">13:29</a></td></tr>
<tr id="t2018-06-06T13:30:12"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">it's not like i was rebuilding the host toolchain</td><td class="time"><a href="#t2018-06-06T13:30:12" class="time">13:30</a></td></tr>
<tr id="t2018-06-06T13:30:23"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">yeah same</td><td class="time"><a href="#t2018-06-06T13:30:23" class="time">13:30</a></td></tr>
<tr id="t2018-06-06T13:30:29"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">guess i go bug our vendor with this</td><td class="time"><a href="#t2018-06-06T13:30:29" class="time">13:30</a></td></tr>
<tr id="t2018-06-06T13:31:06"><th class="nick" style="background: #9b519b">RyFa</th><td class="text" style="color: #9b519b">do oyu have a cryptodev recipe somewhere in your project?</td><td class="time"><a href="#t2018-06-06T13:31:06" class="time">13:31</a></td></tr>
<tr id="t2018-06-06T13:31:20"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">not me</td><td class="time"><a href="#t2018-06-06T13:31:20" class="time">13:31</a></td></tr>
<tr id="t2018-06-06T13:31:25"><th class="nick" style="background: #9b519b">RyFa</th><td class="text" style="color: #9b519b">check this out: <a href="http://layers.openembedded.org/layerindex/branch/master/recipes/?q=cryptodev" rel="nofollow">http://layers.openembedded.org/layerindex/branch/master/recipes/?q=cryptodev</a></td><td class="time"><a href="#t2018-06-06T13:31:25" class="time">13:31</a></td></tr>
<tr id="t2018-06-06T13:31:36"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">but it's yocto, so billion of the vendor layers mixed</td><td class="time"><a href="#t2018-06-06T13:31:36" class="time">13:31</a></td></tr>
<tr id="t2018-06-06T13:31:47"><th class="nick" style="background: #9b519b">RyFa</th><td class="text" style="color: #9b519b">you may be able to add one based on this</td><td class="time"><a href="#t2018-06-06T13:31:47" class="time">13:31</a></td></tr>
<tr id="t2018-06-06T13:32:05"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">mm thanks i'll look at this</td><td class="time"><a href="#t2018-06-06T13:32:05" class="time">13:32</a></td></tr>
<tr id="t2018-06-06T13:32:53"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">but it builds fine from clean state with the same recipe, that's what is strange</td><td class="time"><a href="#t2018-06-06T13:32:53" class="time">13:32</a></td></tr>
<tr id="t2018-06-06T13:36:52"><th class="nick" style="background: #9b519b">RyFa</th><td class="text" style="color: #9b519b">hhm yeah - its beyond my knowledge</td><td class="time"><a href="#t2018-06-06T13:36:52" class="time">13:36</a></td></tr>
<tr id="t2018-06-06T13:37:16"><th class="nick" style="background: #539e9e">marka</th><td class="text" style="color: #539e9e">there is no reason to kill tmp when you change the kernel</td><td class="time"><a href="#t2018-06-06T13:37:16" class="time">13:37</a></td></tr>
<tr id="t2018-06-06T13:38:24"><th class="nick" style="background: #539e9e">marka</th><td class="text" style="color: #539e9e">I am not sure what you are observing but everything should just work</td><td class="time"><a href="#t2018-06-06T13:38:24" class="time">13:38</a></td></tr>
<tr id="t2018-06-06T13:39:14"><th class="nick" style="background: #539e9e">marka</th><td class="text" style="color: #539e9e">even doing something like 'bitbake virtual/kernel -c menuconfig' will invalidate the necessary stamps which will then rebuild what needs to be rebuilt when you bitbake your image again</td><td class="time"><a href="#t2018-06-06T13:39:14" class="time">13:39</a></td></tr>
<tr id="t2018-06-06T13:40:54"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">ha.. does it have to be virtual/kernel?</td><td class="time"><a href="#t2018-06-06T13:40:54" class="time">13:40</a></td></tr>
<tr id="t2018-06-06T13:41:03"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">because i am rebuilding the vendor package name</td><td class="time"><a href="#t2018-06-06T13:41:03" class="time">13:41</a></td></tr>
<tr id="t2018-06-06T13:41:17"><th class="nick" style="background: #539e9e">marka</th><td class="text" style="color: #539e9e">I use virtual/kernel as it saves me having to figure out what kernel is in play</td><td class="time"><a href="#t2018-06-06T13:41:17" class="time">13:41</a></td></tr>
<tr id="t2018-06-06T13:41:18"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">bitbake linux-variscite..</td><td class="time"><a href="#t2018-06-06T13:41:18" class="time">13:41</a></td></tr>
<tr id="t2018-06-06T13:41:41"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">bitbaking this one does not invalidate the cache</td><td class="time"><a href="#t2018-06-06T13:41:41" class="time">13:41</a></td></tr>
<tr id="t2018-06-06T13:41:52"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">if i bake image it runs no tasks</td><td class="time"><a href="#t2018-06-06T13:41:52" class="time">13:41</a></td></tr>
<tr id="t2018-06-06T13:42:07"><th class="nick" style="background: #539e9e">marka</th><td class="text" style="color: #539e9e">then your image is not using this kernel</td><td class="time"><a href="#t2018-06-06T13:42:07" class="time">13:42</a></td></tr>
<tr id="t2018-06-06T13:42:35"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">doubt it, the changes i did in the kernel tree show up in sysfs</td><td class="time"><a href="#t2018-06-06T13:42:35" class="time">13:42</a></td></tr>
<tr id="t2018-06-06T13:43:38"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">hm.</td><td class="time"><a href="#t2018-06-06T13:43:38" class="time">13:43</a></td></tr>
<tr id="t2018-06-06T13:44:27"><th class="nick" style="background: #539e9e">marka</th><td class="text" style="color: #539e9e">if you are changing linux-variscite and then rebuilding your image and no tasks are run</td><td class="time"><a href="#t2018-06-06T13:44:27" class="time">13:44</a></td></tr>
<tr id="t2018-06-06T13:44:40"><th class="nick" style="background: #539e9e">marka</th><td class="text" style="color: #539e9e">then there is no dependency in the image on linux-variscite</td><td class="time"><a href="#t2018-06-06T13:44:40" class="time">13:44</a></td></tr>
<tr id="t2018-06-06T13:45:11"><th class="nick" style="background: #539e9e">marka</th><td class="text" style="color: #539e9e">do 'bitbake &lt;your_image&gt; -e | tee outme'</td><td class="time"><a href="#t2018-06-06T13:45:11" class="time">13:45</a></td></tr>
<tr id="t2018-06-06T13:45:32"><th class="nick" style="background: #539e9e">marka</th><td class="text" style="color: #539e9e">then 'grep PREFERRED_PROVIDER_virtual/kernel outme'</td><td class="time"><a href="#t2018-06-06T13:45:32" class="time">13:45</a></td></tr>
<tr id="t2018-06-06T13:46:10"><th class="nick" style="background: #539e9e">marka</th><td class="text" style="color: #539e9e">if virtual/kernel is not linux-variscite then it is just a clinger</td><td class="time"><a href="#t2018-06-06T13:46:10" class="time">13:46</a></td></tr>
<tr id="t2018-06-06T13:46:28"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">marka: i .bbappended varistite recipe to use my repo with the set of device drivers i need</td><td class="time"><a href="#t2018-06-06T13:46:28" class="time">13:46</a></td></tr>
<tr id="t2018-06-06T13:46:45"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">and when i build it from clean state, the drivers show up with node names i assigned</td><td class="time"><a href="#t2018-06-06T13:46:45" class="time">13:46</a></td></tr>
<tr id="t2018-06-06T13:47:03"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">ok i'll look into that..</td><td class="time"><a href="#t2018-06-06T13:47:03" class="time">13:47</a></td></tr>
<tr id="t2018-06-06T13:47:18"><th class="nick" style="background: #a25555">mario-goulart</th><td class="text" style="color: #a25555">Hey marka.&nbsp;&nbsp;Sorry, I hadn't seen your messages here yesterday.</td><td class="time"><a href="#t2018-06-06T13:47:18" class="time">13:47</a></td></tr>
<tr id="t2018-06-06T13:47:28"><th class="nick" style="background: #539e9e">marka</th><td class="text" style="color: #539e9e">mario-goulart: no problem</td><td class="time"><a href="#t2018-06-06T13:47:28" class="time">13:47</a></td></tr>
<tr id="t2018-06-06T13:48:34"><th class="nick" style="background: #539e9e">marka</th><td class="text" style="color: #539e9e">varjag: check that your image doesn't just have linux-variscite as an RDEPENDS but it actually properly being defined as the kernel that should be used</td><td class="time"><a href="#t2018-06-06T13:48:34" class="time">13:48</a></td></tr>
<tr id="t2018-06-06T13:49:13"><th class="nick" style="background: #97974f">varjag</th><td class="text" style="color: #97974f">ok, i'll check, thanks</td><td class="time"><a href="#t2018-06-06T13:49:13" class="time">13:49</a></td></tr>
<tr id="t2018-06-06T13:50:10"><th class="nick" style="background: #539e9e">marka</th><td class="text" style="color: #539e9e">it is often worth the time to setup a "pure" yocto build with core-image-minimal and qemu-x86-64 to compare against</td><td class="time"><a href="#t2018-06-06T13:50:10" class="time">13:50</a></td></tr>
<tr id="t2018-06-06T13:51:36"><th class="nick" style="background: #539e9e">marka</th><td class="text" style="color: #539e9e">you can setup a shared DL_DIR to save some time and disk space</td><td class="time"><a href="#t2018-06-06T13:51:36" class="time">13:51</a></td></tr>
<tr id="t2018-06-06T13:53:49"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">sveinse: rocko/sumo/etc are oe-core and poky releases</td><td class="time"><a href="#t2018-06-06T13:53:49" class="time">13:53</a></td></tr>
<tr id="t2018-06-06T14:03:33"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: no idea, have never seen this kind of checksum failure before</td><td class="time"><a href="#t2018-06-06T14:03:33" class="time">14:03</a></td></tr>
<tr id="t2018-06-06T14:03:54"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: "libgstfft-1.0-0-1.14.0-r0.0.core2_64: sha256 check failed: 36b24cf863c232197c9660029fb5590665a86023b32f17d5a2d000e5c0e7e1c1 vs 178f1e86a46fe8457d768d65d0b3cdaa0022611705af7fb89131bf6f5a54c357"</td><td class="time"><a href="#t2018-06-06T14:03:54" class="time">14:03</a></td></tr>
<tr id="t2018-06-06T14:04:35"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: one possibility is that the package files got overwritten somehow between creating the repo index and making a rootfs with it, but that's not supposed to happen</td><td class="time"><a href="#t2018-06-06T14:04:35" class="time">14:04</a></td></tr>
<tr id="t2018-06-06T14:09:25"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: indeed. I don't understand it</td><td class="time"><a href="#t2018-06-06T14:09:25" class="time">14:09</a></td></tr>
<tr id="t2018-06-06T14:09:35"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: another question since you're here :)</td><td class="time"><a href="#t2018-06-06T14:09:35" class="time">14:09</a></td></tr>
<tr id="t2018-06-06T14:10:01"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: I am transitioning to 'kanavin_home' nickname :)</td><td class="time"><a href="#t2018-06-06T14:10:01" class="time">14:10</a></td></tr>
<tr id="t2018-06-06T14:10:07"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">but so far, this one still works :)</td><td class="time"><a href="#t2018-06-06T14:10:07" class="time">14:10</a></td></tr>
<tr id="t2018-06-06T14:10:13"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: I can use either :)</td><td class="time"><a href="#t2018-06-06T14:10:13" class="time">14:10</a></td></tr>
<tr id="t2018-06-06T14:10:49"><th class="nick" style="background: #9b519b">RyFa</th><td class="text" style="color: #9b519b">So, I recently upgraded my project from Pyro to Sumo, and updated my specified kernel from 4.10 to 4.14 and now Im getting some new errors with my linux modules during the do_rootfs stage of the build. An examle error reads: "- nothing provides kernel-module-gobiserial-4.14.30-yocto-standard needed by linux-mod-gobiserial-2.28-r0.genericx86_64" Any ideas how I should address this?</td><td class="time"><a href="#t2018-06-06T14:10:49" class="time">14:10</a></td></tr>
<tr id="t2018-06-06T14:11:02"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: <a href="https://autobuilder.yocto.io/builders/nightly-oe-selftest/builds/1099/steps/Running%20oe-selftest/logs/stdio" rel="nofollow">https://autobuilder.yocto.io/builders/nightly-oe-selftest/builds/1099/steps/Running%20oe-selftest/logs/stdio</a></td><td class="time"><a href="#t2018-06-06T14:11:02" class="time">14:11</a></td></tr>
<tr id="t2018-06-06T14:11:33"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: error: %preun(shadow-4.2.1-r0.0.core2_64) scriptlet failed, exit status 127 - is there somewhere I can get more info about that?</td><td class="time"><a href="#t2018-06-06T14:11:33" class="time">14:11</a></td></tr>
<tr id="t2018-06-06T14:12:20"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: yes, should be 'ERROR: Logfile of failure stored in: /home/pokybuild/yocto-autobuilder/yocto-worker/nightly-oe-selftest/build/build/tmp/work/qemux86_64-poky-linux/core-image-sato/1.0-r0/temp/log.do_rootfs.39609'</td><td class="time"><a href="#t2018-06-06T14:12:20" class="time">14:12</a></td></tr>
<tr id="t2018-06-06T14:12:21"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">:)</td><td class="time"><a href="#t2018-06-06T14:12:21" class="time">14:12</a></td></tr>
<tr id="t2018-06-06T14:13:39"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: no more info in there</td><td class="time"><a href="#t2018-06-06T14:13:39" class="time">14:13</a></td></tr>
<tr id="t2018-06-06T14:15:43"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: you probably need this patch: <a href="http://git.yoctoproject.org/cgit/cgit.cgi/poky/commit/?id=ce12d183bb0a3366d37855e18452ac6ee6215be3" rel="nofollow">http://git.yoctoproject.org/cgit/cgit.cgi/poky/commit/?id=ce12d183bb0a3366d37855e18452ac6ee6215be3</a></td><td class="time"><a href="#t2018-06-06T14:15:43" class="time">14:15</a></td></tr>
<tr id="t2018-06-06T14:15:55"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: but it's already in master I think :/</td><td class="time"><a href="#t2018-06-06T14:15:55" class="time">14:15</a></td></tr>
<tr id="t2018-06-06T14:16:34"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: I think that was already in that build, yes</td><td class="time"><a href="#t2018-06-06T14:16:34" class="time">14:16</a></td></tr>
<tr id="t2018-06-06T14:17:31"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">can you share that log then? at least for postinsts it should print a line by line trace of their execution, and I believe the same should happen for postuns</td><td class="time"><a href="#t2018-06-06T14:17:31" class="time">14:17</a></td></tr>
<tr id="t2018-06-06T14:17:46"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">or preuns</td><td class="time"><a href="#t2018-06-06T14:17:46" class="time">14:17</a></td></tr>
<tr id="t2018-06-06T14:22:49"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: <a href="http://dan.rpsys.net/log.do_rootfs.39609" rel="nofollow">http://dan.rpsys.net/log.do_rootfs.39609</a></td><td class="time"><a href="#t2018-06-06T14:22:49" class="time">14:22</a></td></tr>
<tr id="t2018-06-06T14:25:08"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: 'NOTE: Running /home/pokybuild/yocto-autobuilder/yocto-worker/nightly-oe-selftest/build/build/tmp/work/qemux86_64-poky-linux/core-image-sato/1.0-r0/recipe-sysroot-native/usr/bin/rpm -e -v --nodeps --root=/home/pokybuild/yocto-autobuilder/yocto-worker/nightly-oe-selftest/build/build/tmp/work/qemux86_64-poky-linux/core-image-sato/1.0-r0/rootfs base-passwd update-rc.d run-postinsts shadow'</td><td class="time"><a href="#t2018-06-06T14:25:08" class="time">14:25</a></td></tr>
<tr id="t2018-06-06T14:25:26"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: this de-installation is not handled through dnf, but through rpm directly, and so extra verbosity is not in effect</td><td class="time"><a href="#t2018-06-06T14:25:26" class="time">14:25</a></td></tr>
<tr id="t2018-06-06T14:25:44"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: don't remember right now where in rootfs.py or package_manager.py that happens</td><td class="time"><a href="#t2018-06-06T14:25:44" class="time">14:25</a></td></tr>
<tr id="t2018-06-06T14:26:45"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: ah, we should perhaps try and improve that if we can then...</td><td class="time"><a href="#t2018-06-06T14:26:45" class="time">14:26</a></td></tr>
<tr id="t2018-06-06T14:27:27"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: yes, certainly. It's not hard, just add the necessary command line switch to rpm invocation. I can't do this right now though.</td><td class="time"><a href="#t2018-06-06T14:27:27" class="time">14:27</a></td></tr>
<tr id="t2018-06-06T14:28:01"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: do you know what the switch is offhand?</td><td class="time"><a href="#t2018-06-06T14:28:01" class="time">14:28</a></td></tr>
<tr id="t2018-06-06T14:29:12"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: -v, or maybe even -vv :) just looked up in the manpage</td><td class="time"><a href="#t2018-06-06T14:29:12" class="time">14:29</a></td></tr>
<tr id="t2018-06-06T14:29:39"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">ah, -v is already there</td><td class="time"><a href="#t2018-06-06T14:29:39" class="time">14:29</a></td></tr>
<tr id="t2018-06-06T14:29:41"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">-vv then</td><td class="time"><a href="#t2018-06-06T14:29:41" class="time">14:29</a></td></tr>
<tr id="t2018-06-06T14:31:14"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: thanks, lets see if I can add debugging assume it reproduces</td><td class="time"><a href="#t2018-06-06T14:31:14" class="time">14:31</a></td></tr>
<tr id="t2018-06-06T14:31:20"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;args = ["-e", "-v", "--nodeps", "--root=%s" %self.target_rootfs]" in package_manager.py</td><td class="time"><a href="#t2018-06-06T14:31:20" class="time">14:31</a></td></tr>
<tr id="t2018-06-06T14:32:58"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: thanks :)</td><td class="time"><a href="#t2018-06-06T14:32:58" class="time">14:32</a></td></tr>
<tr id="t2018-06-06T14:38:56"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: would you believe this isn't much more helpful :(</td><td class="time"><a href="#t2018-06-06T14:38:56" class="time">14:38</a></td></tr>
<tr id="t2018-06-06T14:39:08"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: :-(</td><td class="time"><a href="#t2018-06-06T14:39:08" class="time">14:39</a></td></tr>
<tr id="t2018-06-06T14:39:42"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: <a href="https://pastebin.com/u79apLR2" rel="nofollow">https://pastebin.com/u79apLR2</a></td><td class="time"><a href="#t2018-06-06T14:39:42" class="time">14:39</a></td></tr>
<tr id="t2018-06-06T14:48:18"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: try -d. Just reading source code for rpm, man page is not helpful :)</td><td class="time"><a href="#t2018-06-06T14:48:18" class="time">14:48</a></td></tr>
<tr id="t2018-06-06T14:49:02"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: ah, wait</td><td class="time"><a href="#t2018-06-06T14:49:02" class="time">14:49</a></td></tr>
<tr id="t2018-06-06T15:03:51"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: note that both prerm scripts fail, and they're different. It's as if they don't even begin to execute.</td><td class="time"><a href="#t2018-06-06T15:03:51" class="time">15:03</a></td></tr>
<tr id="t2018-06-06T15:07:18"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: maybe we're best off bisecting this? It certainly used to work, didn't it?</td><td class="time"><a href="#t2018-06-06T15:07:18" class="time">15:07</a></td></tr>
<tr id="t2018-06-06T15:07:56"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: I can start reverting things to try and track it down, in theory its a problem in -next. I just don't like the lack of logs</td><td class="time"><a href="#t2018-06-06T15:07:56" class="time">15:07</a></td></tr>
<tr id="t2018-06-06T15:08:26"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: I guess that's the most we can get out of rpm :-/</td><td class="time"><a href="#t2018-06-06T15:08:26" class="time">15:08</a></td></tr>
<tr id="t2018-06-06T15:09:07"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: any ideas on getting more info from rpm preun?</td><td class="time"><a href="#t2018-06-06T15:09:07" class="time">15:09</a></td></tr>
<tr id="t2018-06-06T15:09:34"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: shadow preun only calls update-altnatives afaict too</td><td class="time"><a href="#t2018-06-06T15:09:34" class="time">15:09</a></td></tr>
<tr id="t2018-06-06T15:14:52"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: I remember I had to insert ad hoc logging into rpm for some issues. They can print lots of irrelevant stuff, then when things break, critical pieces of info are missing.</td><td class="time"><a href="#t2018-06-06T15:14:52" class="time">15:14</a></td></tr>
<tr id="t2018-06-06T15:20:28"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: I'm not surprised :(</td><td class="time"><a href="#t2018-06-06T15:20:28" class="time">15:20</a></td></tr>
<tr id="t2018-06-06T15:24:17"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: let me try another idea, wait a moment</td><td class="time"><a href="#t2018-06-06T15:24:17" class="time">15:24</a></td></tr>
<tr id="t2018-06-06T15:25:49"><td class="action" colspan="2">* armpit the joys of backporting spectre</td><td><a href="#t2018-06-06T15:25:49" class="time">15:25</a></td></tr>
<tr id="t2018-06-06T15:30:34"><th class="nick" style="background: #57a657">kanavin</th><td class="text" style="color: #57a657">RP: no, false lead. Something breaks down before shell executes actual lines, I believe</td><td class="time"><a href="#t2018-06-06T15:30:34" class="time">15:30</a></td></tr>
<tr id="t2018-06-06T15:36:27"><td class="nickchange" colspan="2">*** clement_ is now known as clement</td><td><a href="#t2018-06-06T15:36:27" class="time">15:36</a></td></tr>
<tr id="t2018-06-06T15:38:42"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">for the rpm preun, you can inject some script stuff into the rpm macros (something that is run prior to the execution of the script....</td><td class="time"><a href="#t2018-06-06T15:38:42" class="time">15:38</a></td></tr>
<tr id="t2018-06-06T15:39:00"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">but if the preun fails, then the scriptlet that failed will remain on the disk int he tmp location as well..</td><td class="time"><a href="#t2018-06-06T15:39:00" class="time">15:39</a></td></tr>
<tr id="t2018-06-06T15:39:26"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">so if you are debugging a failure, you don't have to do anything else.. if you are debuggign a 'success', then you can muck with the RPM parameters to say add 'set -x'</td><td class="time"><a href="#t2018-06-06T15:39:26" class="time">15:39</a></td></tr>
<tr id="t2018-06-06T15:52:23"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: that would match the 127 exit code</td><td class="time"><a href="#t2018-06-06T15:52:23" class="time">15:52</a></td></tr>
<tr id="t2018-06-06T15:58:49"><td class="nickchange" colspan="2">*** mihai- is now known as mihai</td><td><a href="#t2018-06-06T15:58:49" class="time">15:58</a></td></tr>
<tr id="t2018-06-06T16:06:31"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">RP: any objection to adding the oe-core date-based yocto release tags to the version matrix in the Releases wiki page alongside the bitbake version? The mapping from poky release to oe-core release is unclear, currently.</td><td class="time"><a href="#t2018-06-06T16:06:31" class="time">16:06</a></td></tr>
<tr id="t2018-06-06T16:07:05"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kergoth: no</td><td class="time"><a href="#t2018-06-06T16:07:05" class="time">16:07</a></td></tr>
<tr id="t2018-06-06T16:07:13"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">k</td><td class="time"><a href="#t2018-06-06T16:07:13" class="time">16:07</a></td></tr>
<tr id="t2018-06-06T16:08:17"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">rburton, kanavin: I reproduced that failure on centos7 with master, so its nothing in -next</td><td class="time"><a href="#t2018-06-06T16:08:17" class="time">16:08</a></td></tr>
<tr id="t2018-06-06T16:08:34"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">which is good and bad</td><td class="time"><a href="#t2018-06-06T16:08:34" class="time">16:08</a></td></tr>
<tr id="t2018-06-06T16:28:44"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: <a href="https://pastebin.ca/4038573" rel="nofollow">https://pastebin.ca/4038573</a></td><td class="time"><a href="#t2018-06-06T16:28:44" class="time">16:28</a></td></tr>
<tr id="t2018-06-06T16:29:01"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: thats the gcc8 SDK output when someone specifies -mspe</td><td class="time"><a href="#t2018-06-06T16:29:01" class="time">16:29</a></td></tr>
<tr id="t2018-06-06T16:29:59"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: can you build gcc with spe enabled though?</td><td class="time"><a href="#t2018-06-06T16:29:59" class="time">16:29</a></td></tr>
<tr id="t2018-06-06T16:30:07"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">no</td><td class="time"><a href="#t2018-06-06T16:30:07" class="time">16:30</a></td></tr>
<tr id="t2018-06-06T16:30:19"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: that is no longer possible at all?</td><td class="time"><a href="#t2018-06-06T16:30:19" class="time">16:30</a></td></tr>
<tr id="t2018-06-06T16:30:19"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">hi guys, how can I build an ISO image?</td><td class="time"><a href="#t2018-06-06T16:30:19" class="time">16:30</a></td></tr>
<tr id="t2018-06-06T16:30:19"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">the backend is different now</td><td class="time"><a href="#t2018-06-06T16:30:19" class="time">16:30</a></td></tr>
<tr id="t2018-06-06T16:30:40"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">we need to add another tuple to supported machines</td><td class="time"><a href="#t2018-06-06T16:30:40" class="time">16:30</a></td></tr>
<tr id="t2018-06-06T16:30:40"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">I set IMAGE_FSTYPES = "iso hddimg", but it is building only hddimg</td><td class="time"><a href="#t2018-06-06T16:30:40" class="time">16:30</a></td></tr>
<tr id="t2018-06-06T16:31:21"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">on log.do_bootimg I saw that INITRD is not set</td><td class="time"><a href="#t2018-06-06T16:31:21" class="time">16:31</a></td></tr>
<tr id="t2018-06-06T16:31:44"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">so I tried to set INITRD = "${INITRD_LIVE}", but it did not work</td><td class="time"><a href="#t2018-06-06T16:31:44" class="time">16:31</a></td></tr>
<tr id="t2018-06-06T16:32:08"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">so, there is a default initramfs to put on INITRD var to build a iso?</td><td class="time"><a href="#t2018-06-06T16:32:08" class="time">16:32</a></td></tr>
<tr id="t2018-06-06T16:32:18"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I still think there may be a problem lurking in there, I'm having trouble explaining it though :/</td><td class="time"><a href="#t2018-06-06T16:32:18" class="time">16:32</a></td></tr>
<tr id="t2018-06-06T16:32:35"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">igor: meta/conf/machine/include/x86-base.inc:NOISO ?= "1" you need to set NOISO = "0"</td><td class="time"><a href="#t2018-06-06T16:32:35" class="time">16:32</a></td></tr>
<tr id="t2018-06-06T16:33:11"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">Thank you very mutch Khem</td><td class="time"><a href="#t2018-06-06T16:33:11" class="time">16:33</a></td></tr>
<tr id="t2018-06-06T16:33:17"><td class="action" colspan="2">* RP thinks NOISO needs to die in favour of IMAGE_FSTYPES</td><td><a href="#t2018-06-06T16:33:17" class="time">16:33</a></td></tr>
<tr id="t2018-06-06T16:33:21"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: a subset of freescale ppc impl used SPE newer PPC impls from them has altivec</td><td class="time"><a href="#t2018-06-06T16:33:21" class="time">16:33</a></td></tr>
<tr id="t2018-06-06T16:33:43"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">RP: yes, that burnt me recently too</td><td class="time"><a href="#t2018-06-06T16:33:43" class="time">16:33</a></td></tr>
<tr id="t2018-06-06T16:34:23"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: so older ppc from freescale is primarily what uses spe</td><td class="time"><a href="#t2018-06-06T16:34:23" class="time">16:34</a></td></tr>
<tr id="t2018-06-06T16:34:54"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">the newer ones they dont have spe and thats also probably one reason there is no interest in maintaining it upstream</td><td class="time"><a href="#t2018-06-06T16:34:54" class="time">16:34</a></td></tr>
<tr id="t2018-06-06T16:35:00"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: we don't have any machines in core which use spe right?</td><td class="time"><a href="#t2018-06-06T16:35:00" class="time">16:35</a></td></tr>
<tr id="t2018-06-06T16:35:24"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">I think our ref board is can you tell me the name :(</td><td class="time"><a href="#t2018-06-06T16:35:24" class="time">16:35</a></td></tr>
<tr id="t2018-06-06T16:35:34"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">another question: I build a tar.bz2 image and inherited core-image. when I ran bitbake -e I see that image-live are included and bootimg task are executing</td><td class="time"><a href="#t2018-06-06T16:35:34" class="time">16:35</a></td></tr>
<tr id="t2018-06-06T16:35:59"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">rburton, kanavin: 762a3f229c42b734160334fb462beaf576353a58 breaks, 6db8b6a77723f1e3a34d61ffd96c196e03ace164 does not</td><td class="time"><a href="#t2018-06-06T16:35:59" class="time">16:35</a></td></tr>
<tr id="t2018-06-06T16:36:01"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">I put a deltask bootimg on my recipe because I didnt found how to remove image-live from inherited classes</td><td class="time"><a href="#t2018-06-06T16:36:01" class="time">16:36</a></td></tr>
<tr id="t2018-06-06T16:36:19"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">there is a better way to do that or deltask is the best option?</td><td class="time"><a href="#t2018-06-06T16:36:19" class="time">16:36</a></td></tr>
<tr id="t2018-06-06T16:36:49"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">igor: bootimg isn't a task, its a class</td><td class="time"><a href="#t2018-06-06T16:36:49" class="time">16:36</a></td></tr>
<tr id="t2018-06-06T16:37:14"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">on branch sumo it is a task on image-live called do_bootimg</td><td class="time"><a href="#t2018-06-06T16:37:14" class="time">16:37</a></td></tr>
<tr id="t2018-06-06T16:37:52"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">it runs build_hddimg and build_iso</td><td class="time"><a href="#t2018-06-06T16:37:52" class="time">16:37</a></td></tr>
<tr id="t2018-06-06T16:37:58"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">igor: hmm, I see what you mean. I think that task is needed as part of image-live</td><td class="time"><a href="#t2018-06-06T16:37:58" class="time">16:37</a></td></tr>
<tr id="t2018-06-06T16:38:07"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">yes</td><td class="time"><a href="#t2018-06-06T16:38:07" class="time">16:38</a></td></tr>
<tr id="t2018-06-06T16:38:15"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">but my image is tar.bz2 and dont need this</td><td class="time"><a href="#t2018-06-06T16:38:15" class="time">16:38</a></td></tr>
<tr id="t2018-06-06T16:38:36"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">igor: what do you have IMAGE_FSTYPES set to?</td><td class="time"><a href="#t2018-06-06T16:38:36" class="time">16:38</a></td></tr>
<tr id="t2018-06-06T16:38:48"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">IMAGE_FSTYPES = "tar.bz2"</td><td class="time"><a href="#t2018-06-06T16:38:48" class="time">16:38</a></td></tr>
<tr id="t2018-06-06T16:39:58"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">igor: can you check that with bitbake -e ?</td><td class="time"><a href="#t2018-06-06T16:39:58" class="time">16:39</a></td></tr>
<tr id="t2018-06-06T16:40:01"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">on bitbake -e , the build_live function is returning empty string, but the image-live class still include in BBINCLUDED</td><td class="time"><a href="#t2018-06-06T16:40:01" class="time">16:40</a></td></tr>
<tr id="t2018-06-06T16:40:14"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">yes</td><td class="time"><a href="#t2018-06-06T16:40:14" class="time">16:40</a></td></tr>
<tr id="t2018-06-06T16:40:48"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">rburton, kanavin: This is looking like <a href="http://git.yoctoproject.org/cgit.cgi/poky/commit/?id=b7f6638962b0348ae93c1d5a7696c80e2b7933ed" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky/commit/?id=b7f6638962b0348ae93c1d5a7696c80e2b7933ed</a> as the change which breaks it :/</td><td class="time"><a href="#t2018-06-06T16:40:48" class="time">16:40</a></td></tr>
<tr id="t2018-06-06T16:41:22"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">igor: that seems odd :(</td><td class="time"><a href="#t2018-06-06T16:41:22" class="time">16:41</a></td></tr>
<tr id="t2018-06-06T16:41:43"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">igor: you're not trying to do this in individual images are you?</td><td class="time"><a href="#t2018-06-06T16:41:43" class="time">16:41</a></td></tr>
<tr id="t2018-06-06T16:41:45"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">RP: #&nbsp;&nbsp; "tar.bz2" IMAGE_FSTYPES="tar.bz2"</td><td class="time"><a href="#t2018-06-06T16:41:45" class="time">16:41</a></td></tr>
<tr id="t2018-06-06T16:42:15"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: our ref board in core is mpc8315erdb which is e300c3 core which is implementing proper FPU and doesnt have SPE AFAICT</td><td class="time"><a href="#t2018-06-06T16:42:15" class="time">16:42</a></td></tr>
<tr id="t2018-06-06T16:42:22"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">fwiw i've an image recipe that does successfully build just a targz</td><td class="time"><a href="#t2018-06-06T16:42:22" class="time">16:42</a></td></tr>
<tr id="t2018-06-06T16:42:46"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">RP: but when I see the var BOOTIMG_EXTRA_SPACE for example, it was set by image-live.bbclass</td><td class="time"><a href="#t2018-06-06T16:42:46" class="time">16:42</a></td></tr>
<tr id="t2018-06-06T16:42:51"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">rburton/RP: is it possible for you to boot a gcc8 image on a ref board</td><td class="time"><a href="#t2018-06-06T16:42:51" class="time">16:42</a></td></tr>
<tr id="t2018-06-06T16:43:01"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">and other vars too</td><td class="time"><a href="#t2018-06-06T16:43:01" class="time">16:43</a></td></tr>
<tr id="t2018-06-06T16:44:37"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">khem: i've a nuc</td><td class="time"><a href="#t2018-06-06T16:44:37" class="time">16:44</a></td></tr>
<tr id="t2018-06-06T16:44:45"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">rburton: would be interesting to know if it still inherited the class though...</td><td class="time"><a href="#t2018-06-06T16:44:45" class="time">16:44</a></td></tr>
<tr id="t2018-06-06T16:45:37"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">i'm on branch sumo, and few days ago, I had a error to build this image because do_bootimg has the dependency ${PN}:do_image_ext4 and I have no ext on my IMAGE_FSTYPES</td><td class="time"><a href="#t2018-06-06T16:45:37" class="time">16:45</a></td></tr>
<tr id="t2018-06-06T16:46:12"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">it was fixed few days ago, but the task do_bootimg sill added</td><td class="time"><a href="#t2018-06-06T16:46:12" class="time">16:46</a></td></tr>
<tr id="t2018-06-06T16:46:33"><th class="nick" style="background: #5fb4b4">igor</th><td class="text" style="color: #5fb4b4">but I solved this problema putting deltask bootimg on my recipe</td><td class="time"><a href="#t2018-06-06T16:46:33" class="time">16:46</a></td></tr>
<tr id="t2018-06-06T16:46:41"><th class="nick" style="background: #42427e">rburton</th><td class="text" style="color: #42427e">RP: it isn't</td><td class="time"><a href="#t2018-06-06T16:46:41" class="time">16:46</a></td></tr>
<tr id="t2018-06-06T16:47:01"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: around?</td><td class="time"><a href="#t2018-06-06T16:47:01" class="time">16:47</a></td></tr>
<tr id="t2018-06-06T16:55:00"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: does anything jump out to you in <a href="http://git.yoctoproject.org/cgit.cgi/poky/commit/?id=b7f6638962b0348ae93c1d5a7696c80e2b7933ed" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky/commit/?id=b7f6638962b0348ae93c1d5a7696c80e2b7933ed</a> as causing that preun problem?</td><td class="time"><a href="#t2018-06-06T16:55:00" class="time">16:55</a></td></tr>
<tr id="t2018-06-06T16:55:18"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">looking</td><td class="time"><a href="#t2018-06-06T16:55:18" class="time">16:55</a></td></tr>
<tr id="t2018-06-06T16:57:10"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">the setCloseOnExec will certainly change behavior.. but this would only be a problem if the script was being passed to the receiver inline or something</td><td class="time"><a href="#t2018-06-06T16:57:10" class="time">16:57</a></td></tr>
<tr id="t2018-06-06T16:57:22"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">lua change, as far as I know we're not using lua in any preuns</td><td class="time"><a href="#t2018-06-06T16:57:22" class="time">16:57</a></td></tr>
<tr id="t2018-06-06T16:57:45"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">++open_max = sysconf(_SC_OPEN_MAX);</td><td class="time"><a href="#t2018-06-06T16:57:45" class="time">16:57</a></td></tr>
<tr id="t2018-06-06T16:57:45"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">++if (open_max == -1) {</td><td class="time"><a href="#t2018-06-06T16:57:45" class="time">16:57</a></td></tr>
<tr id="t2018-06-06T16:57:45"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">++open_max = 1024;</td><td class="time"><a href="#t2018-06-06T16:57:45" class="time">16:57</a></td></tr>
<tr id="t2018-06-06T16:57:45"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">++}</td><td class="time"><a href="#t2018-06-06T16:57:45" class="time">16:57</a></td></tr>
<tr id="t2018-06-06T16:57:45"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">++for (fdno = 3; fdno &lt; open_max; fdno++) {</td><td class="time"><a href="#t2018-06-06T16:57:45" class="time">16:57</a></td></tr>
<tr id="t2018-06-06T16:57:46"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">++flag = fcntl(fdno, F_GETFD);</td><td class="time"><a href="#t2018-06-06T16:57:46" class="time">16:57</a></td></tr>
<tr id="t2018-06-06T16:57:46"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">++if (flag == -1 || (flag &amp; FD_CLOEXEC))</td><td class="time"><a href="#t2018-06-06T16:57:46" class="time">16:57</a></td></tr>
<tr id="t2018-06-06T16:57:47"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">++continue;</td><td class="time"><a href="#t2018-06-06T16:57:47" class="time">16:57</a></td></tr>
<tr id="t2018-06-06T16:57:47"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">++fcntl(fdno, F_SETFD, FD_CLOEXEC);</td><td class="time"><a href="#t2018-06-06T16:57:47" class="time">16:57</a></td></tr>
<tr id="t2018-06-06T16:57:48"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">++}</td><td class="time"><a href="#t2018-06-06T16:57:48" class="time">16:57</a></td></tr>
<tr id="t2018-06-06T16:57:48"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">++}</td><td class="time"><a href="#t2018-06-06T16:57:48" class="time">16:57</a></td></tr>
<tr id="t2018-06-06T16:57:54"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">Ohhh.. this would be closing pseudo stuff too...</td><td class="time"><a href="#t2018-06-06T16:57:54" class="time">16:57</a></td></tr>
<tr id="t2018-06-06T16:58:18"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">could that be causing a problem?</td><td class="time"><a href="#t2018-06-06T16:58:18" class="time">16:58</a></td></tr>
<tr id="t2018-06-06T16:58:46"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: yes, that could</td><td class="time"><a href="#t2018-06-06T16:58:46" class="time">16:58</a></td></tr>
<tr id="t2018-06-06T16:59:21"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">second patch file changes the above, but conceptually it's still doing the same thing</td><td class="time"><a href="#t2018-06-06T16:59:21" class="time">16:59</a></td></tr>
<tr id="t2018-06-06T17:00:00"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">also iterates over /proc -- but proc will be able to see the pseudo fds</td><td class="time"><a href="#t2018-06-06T17:00:00" class="time">17:00</a></td></tr>
<tr id="t2018-06-06T17:00:22"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">so ya.. it's likely breaking the connection on exec with pseudo -- but I don't know the exact ramifications of that</td><td class="time"><a href="#t2018-06-06T17:00:22" class="time">17:00</a></td></tr>
<tr id="t2018-06-06T17:00:43"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">(and it's breaking them cause it's blindly adjusting -all- fds, not just the ones that rpm itself created)</td><td class="time"><a href="#t2018-06-06T17:00:43" class="time">17:00</a></td></tr>
<tr id="t2018-06-06T17:01:16"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: I wonder if the "+x" bit disappears on the script</td><td class="time"><a href="#t2018-06-06T17:01:16" class="time">17:01</a></td></tr>
<tr id="t2018-06-06T17:01:31"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">as in set +x?</td><td class="time"><a href="#t2018-06-06T17:01:31" class="time">17:01</a></td></tr>
<tr id="t2018-06-06T17:01:36"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">or execute</td><td class="time"><a href="#t2018-06-06T17:01:36" class="time">17:01</a></td></tr>
<tr id="t2018-06-06T17:01:47"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: execute</td><td class="time"><a href="#t2018-06-06T17:01:47" class="time">17:01</a></td></tr>
<tr id="t2018-06-06T17:01:53"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">hence the exit 127</td><td class="time"><a href="#t2018-06-06T17:01:53" class="time">17:01</a></td></tr>
<tr id="t2018-06-06T17:01:59"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">scriptlets SHOULD be executed as 'interpreter &lt;script&gt;'</td><td class="time"><a href="#t2018-06-06T17:01:59" class="time">17:01</a></td></tr>
<tr id="t2018-06-06T17:02:12"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">if you are getting 127, that seems an aweful lot like the interpreter failed</td><td class="time"><a href="#t2018-06-06T17:02:12" class="time">17:02</a></td></tr>
<tr id="t2018-06-06T17:02:36"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">going to look quick to verify what I said is still true</td><td class="time"><a href="#t2018-06-06T17:02:36" class="time">17:02</a></td></tr>
<tr id="t2018-06-06T17:02:50"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">(this master?)</td><td class="time"><a href="#t2018-06-06T17:02:50" class="time">17:02</a></td></tr>
<tr id="t2018-06-06T17:04:23"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">there is also the code:</td><td class="time"><a href="#t2018-06-06T17:04:23" class="time">17:04</a></td></tr>
<tr id="t2018-06-06T17:04:28"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (getenv("RPM_NO_CHROOT_FOR_SCRIPTS") != NULL) {</td><td class="time"><a href="#t2018-06-06T17:04:28" class="time">17:04</a></td></tr>
<tr id="t2018-06-06T17:04:28"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rpmChrootOut();</td><td class="time"><a href="#t2018-06-06T17:04:28" class="time">17:04</a></td></tr>
<tr id="t2018-06-06T17:04:28"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rc = runExtScript(plugins, prefixes, script-&gt;descr, lvl, scriptFd, &amp;args, script-&gt;body, arg1, arg2, &amp;script-&gt;nextFileFunc);</td><td class="time"><a href="#t2018-06-06T17:04:28" class="time">17:04</a></td></tr>
<tr id="t2018-06-06T17:04:28"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rpmChrootIn();</td><td class="time"><a href="#t2018-06-06T17:04:28" class="time">17:04</a></td></tr>
<tr id="t2018-06-06T17:04:42"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">so that will affect where the scriptlet is trying to run, as well as the script engine</td><td class="time"><a href="#t2018-06-06T17:04:42" class="time">17:04</a></td></tr>
<tr id="t2018-06-06T17:05:51"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: yes, this is master</td><td class="time"><a href="#t2018-06-06T17:05:51" class="time">17:05</a></td></tr>
<tr id="t2018-06-06T17:08:12"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">so ya.. I'd say the first thing to try is disable the close all fds on exec thing..</td><td class="time"><a href="#t2018-06-06T17:08:12" class="time">17:08</a></td></tr>
<tr id="t2018-06-06T17:08:26"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">if that fixes the problem, then it's likely either pseudo or some other glibc thing</td><td class="time"><a href="#t2018-06-06T17:08:26" class="time">17:08</a></td></tr>
<tr id="t2018-06-06T17:08:36"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">(like nss...)</td><td class="time"><a href="#t2018-06-06T17:08:36" class="time">17:08</a></td></tr>
<tr id="t2018-06-06T17:09:52"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">ohh other thing..&nbsp;&nbsp;rpm -qp &lt;package&gt; --scripts&nbsp;&nbsp;take a look and verify the preun is reasonable.. ;)</td><td class="time"><a href="#t2018-06-06T17:09:52" class="time">17:09</a></td></tr>
<tr id="t2018-06-06T17:11:35"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: I did read the spec file. What is odd is this works on some machines but not centos7</td><td class="time"><a href="#t2018-06-06T17:11:35" class="time">17:11</a></td></tr>
<tr id="t2018-06-06T17:12:22"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">that seems strange -- unless say '/bin/bash' (or /usr/bin/bash) is hardcoded into the scriptlet, and it's not hte interpretor on the running machine</td><td class="time"><a href="#t2018-06-06T17:12:22" class="time">17:12</a></td></tr>
<tr id="t2018-06-06T17:12:36"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">I think rpm -qp &lt;...&gt; --scripts will show you that</td><td class="time"><a href="#t2018-06-06T17:12:36" class="time">17:12</a></td></tr>
<tr id="t2018-06-06T17:13:44"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: interestingly, #!/bin/sh is encoded in, and it isn't in the postinst</td><td class="time"><a href="#t2018-06-06T17:13:44" class="time">17:13</a></td></tr>
<tr id="t2018-06-06T17:13:48"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">preinstall scriptlet (using /bin/sh):</td><td class="time"><a href="#t2018-06-06T17:13:48" class="time">17:13</a></td></tr>
<tr id="t2018-06-06T17:13:48"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9"># base-files - preinst</td><td class="time"><a href="#t2018-06-06T17:13:48" class="time">17:13</a></td></tr>
<tr id="t2018-06-06T17:13:48"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">set -e</td><td class="time"><a href="#t2018-06-06T17:13:48" class="time">17:13</a></td></tr>
<tr id="t2018-06-06T17:13:48"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">&nbsp;&nbsp;&nbsp;&nbsp;#!/bin/sh -e</td><td class="time"><a href="#t2018-06-06T17:13:48" class="time">17:13</a></td></tr>
<tr id="t2018-06-06T17:13:48"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">&nbsp;&nbsp;&nbsp;&nbsp;if [ x"$D" = "x" ]; then</td><td class="time"><a href="#t2018-06-06T17:13:48" class="time">17:13</a></td></tr>
<tr id="t2018-06-06T17:13:52"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">ya.. something like that..</td><td class="time"><a href="#t2018-06-06T17:13:52" class="time">17:13</a></td></tr>
<tr id="t2018-06-06T17:14:03"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: this is shadow</td><td class="time"><a href="#t2018-06-06T17:14:03" class="time">17:14</a></td></tr>
<tr id="t2018-06-06T17:14:54"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">in the case I posted, /bin/sh is the script executor (and should be run directly), the contents 'set -e' was probably added by RPM itself..&nbsp;&nbsp;and then #!/bin/sh -e was what OE provided as the scriptlet via the spec file</td><td class="time"><a href="#t2018-06-06T17:14:54" class="time">17:14</a></td></tr>
<tr id="t2018-06-06T17:14:59"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">(generated spec file)</td><td class="time"><a href="#t2018-06-06T17:14:59" class="time">17:14</a></td></tr>
<tr id="t2018-06-06T17:15:15"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">I can try to activate RPM and build shadow stuff...&nbsp;&nbsp;I don't have any current builds that I found</td><td class="time"><a href="#t2018-06-06T17:15:15" class="time">17:15</a></td></tr>
<tr id="t2018-06-06T17:16:22"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">(BTW I am using CentOS 7 as well)</td><td class="time"><a href="#t2018-06-06T17:16:22" class="time">17:16</a></td></tr>
<tr id="t2018-06-06T17:16:43"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: the reproducer is IMAGE_FEATURES += "read-only-rootfs"&nbsp;&nbsp;bitbake core-image-sato on centos 7</td><td class="time"><a href="#t2018-06-06T17:16:43" class="time">17:16</a></td></tr>
<tr id="t2018-06-06T17:17:04"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">ok. I'll try that next once I get just shadow built and inspect it</td><td class="time"><a href="#t2018-06-06T17:17:04" class="time">17:17</a></td></tr>
<tr id="t2018-06-06T17:19:27"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">fray: RP: rpm should print each line of pre/post inst scriptlets as they are being executed, when debugging is enabled, and it isn't happening here</td><td class="time"><a href="#t2018-06-06T17:19:27" class="time">17:19</a></td></tr>
<tr id="t2018-06-06T17:20:02"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">'which debugging' are you referring to?</td><td class="time"><a href="#t2018-06-06T17:20:02" class="time">17:20</a></td></tr>
<tr id="t2018-06-06T17:20:23"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">RPM 4.x has a concept of verbose and silent on creating the packages..&nbsp;&nbsp;only the scriptlet contents will be able to show you want it will actually do..</td><td class="time"><a href="#t2018-06-06T17:20:23" class="time">17:20</a></td></tr>
<tr id="t2018-06-06T17:20:34"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">by default though scriptlet output is silenced to /dev/null</td><td class="time"><a href="#t2018-06-06T17:20:34" class="time">17:20</a></td></tr>
<tr id="t2018-06-06T17:20:57"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: I think some filehandle is disappearing so it isn't running anything</td><td class="time"><a href="#t2018-06-06T17:20:57" class="time">17:20</a></td></tr>
<tr id="t2018-06-06T17:21:05"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">fray: '-vv' when installing or removing packages</td><td class="time"><a href="#t2018-06-06T17:21:05" class="time">17:21</a></td></tr>
<tr id="t2018-06-06T17:21:36"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">preuninstall scriptlet (using /bin/sh):</td><td class="time"><a href="#t2018-06-06T17:21:36" class="time">17:21</a></td></tr>
<tr id="t2018-06-06T17:21:36"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9"># shadow - prerm</td><td class="time"><a href="#t2018-06-06T17:21:36" class="time">17:21</a></td></tr>
<tr id="t2018-06-06T17:21:36"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">#!/bin/sh</td><td class="time"><a href="#t2018-06-06T17:21:36" class="time">17:21</a></td></tr>
<tr id="t2018-06-06T17:21:36"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">if [ "$1" = "0" ] ; then</td><td class="time"><a href="#t2018-06-06T17:21:36" class="time">17:21</a></td></tr>
<tr id="t2018-06-06T17:21:36"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">set -e</td><td class="time"><a href="#t2018-06-06T17:21:36" class="time">17:21</a></td></tr>
<tr id="t2018-06-06T17:21:36"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update-alternatives --remove&nbsp;&nbsp;passwd /usr/bin/passwd.shadow</td><td class="time"><a href="#t2018-06-06T17:21:36" class="time">17:21</a></td></tr>
<tr id="t2018-06-06T17:21:37"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update-alternatives --remove&nbsp;&nbsp;chfn /usr/bin/chfn.shadow</td><td class="time"><a href="#t2018-06-06T17:21:37" class="time">17:21</a></td></tr>
<tr id="t2018-06-06T17:21:37"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update-alternatives --remove&nbsp;&nbsp;chsh /usr/bin/chsh.shadow</td><td class="time"><a href="#t2018-06-06T17:21:37" class="time">17:21</a></td></tr>
<tr id="t2018-06-06T17:21:38"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update-alternatives --remove&nbsp;&nbsp;chpasswd /usr/sbin/chpasswd.shadow</td><td class="time"><a href="#t2018-06-06T17:21:38" class="time">17:21</a></td></tr>
<tr id="t2018-06-06T17:21:38"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update-alternatives --remove&nbsp;&nbsp;vipw /sbin/vipw.shadow</td><td class="time"><a href="#t2018-06-06T17:21:38" class="time">17:21</a></td></tr>
<tr id="t2018-06-06T17:21:39"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update-alternatives --remove&nbsp;&nbsp;vigr /sbin/vigr.shadow</td><td class="time"><a href="#t2018-06-06T17:21:39" class="time">17:21</a></td></tr>
<tr id="t2018-06-06T17:21:39"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update-alternatives --remove&nbsp;&nbsp;nologin /sbin/nologin.shadow</td><td class="time"><a href="#t2018-06-06T17:21:39" class="time">17:21</a></td></tr>
<tr id="t2018-06-06T17:21:40"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">fi</td><td class="time"><a href="#t2018-06-06T17:21:40" class="time">17:21</a></td></tr>
<tr id="t2018-06-06T17:21:41"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">that is what I got..&nbsp;&nbsp;which all seems reasnable</td><td class="time"><a href="#t2018-06-06T17:21:41" class="time">17:21</a></td></tr>
<tr id="t2018-06-06T17:22:05"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: note how it starts with #!/bin/sh where as the postinst doesn't</td><td class="time"><a href="#t2018-06-06T17:22:05" class="time">17:22</a></td></tr>
<tr id="t2018-06-06T17:22:15"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">ya, doesn't matter</td><td class="time"><a href="#t2018-06-06T17:22:15" class="time">17:22</a></td></tr>
<tr id="t2018-06-06T17:22:39"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">the 'using /bin/sh' is what should actually be invoked.. the other is simply an annotation.. and actually it starts with "# shadow - prerm"&nbsp;&nbsp;;)</td><td class="time"><a href="#t2018-06-06T17:22:39" class="time">17:22</a></td></tr>
<tr id="t2018-06-06T17:23:38"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">it should be the equivalent of:</td><td class="time"><a href="#t2018-06-06T17:23:38" class="time">17:23</a></td></tr>
<tr id="t2018-06-06T17:23:42"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">cat &lt;&lt; EOF</td><td class="time"><a href="#t2018-06-06T17:23:42" class="time">17:23</a></td></tr>
<tr id="t2018-06-06T17:23:44"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">&lt;scriptlet&gt;</td><td class="time"><a href="#t2018-06-06T17:23:44" class="time">17:23</a></td></tr>
<tr id="t2018-06-06T17:23:45"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">EOF</td><td class="time"><a href="#t2018-06-06T17:23:45" class="time">17:23</a></td></tr>
<tr id="t2018-06-06T17:24:00"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9"> /bin/sh &lt;file scriptlet was written to&gt;</td><td class="time"><a href="#t2018-06-06T17:24:00" class="time">17:24</a></td></tr>
<tr id="t2018-06-06T17:24:15"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">(unless they've changed something I'm not aware of recently)</td><td class="time"><a href="#t2018-06-06T17:24:15" class="time">17:24</a></td></tr>
<tr id="t2018-06-06T17:24:19"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: ok, curious if you can reproduce</td><td class="time"><a href="#t2018-06-06T17:24:19" class="time">17:24</a></td></tr>
<tr id="t2018-06-06T17:24:45"><td class="action" colspan="2">* fray is testing the task accounting.. it's still working.. :)  only two fetches at once</td><td><a href="#t2018-06-06T17:24:45" class="time">17:24</a></td></tr>
<tr id="t2018-06-06T17:28:05"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">RP: I do wonder if '    rpm: Restore performance in Docker containers' is the commit we're after</td><td class="time"><a href="#t2018-06-06T17:28:05" class="time">17:28</a></td></tr>
<tr id="t2018-06-06T17:28:29"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">my guess is it is, and it's related to changing all file descriptions</td><td class="time"><a href="#t2018-06-06T17:28:29" class="time">17:28</a></td></tr>
<tr id="t2018-06-06T17:31:44"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: bisection says yes</td><td class="time"><a href="#t2018-06-06T17:31:44" class="time">17:31</a></td></tr>
<tr id="t2018-06-06T17:31:57"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">RP: that is a bit of a :-(</td><td class="time"><a href="#t2018-06-06T17:31:57" class="time">17:31</a></td></tr>
<tr id="t2018-06-06T17:32:10"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">as I think those patches are direct backports from rpm upstream?</td><td class="time"><a href="#t2018-06-06T17:32:10" class="time">17:32</a></td></tr>
<tr id="t2018-06-06T17:32:31"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: well, yes. Upstream don't have pseudo around for example though</td><td class="time"><a href="#t2018-06-06T17:32:31" class="time">17:32</a></td></tr>
<tr id="t2018-06-06T17:32:39"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">so I can at least see how this might break</td><td class="time"><a href="#t2018-06-06T17:32:39" class="time">17:32</a></td></tr>
<tr id="t2018-06-06T17:33:33"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">RP: previously rpm blindly closed the first 1024 fds though and that worked for us. not sure what they changed so that it breaks now.</td><td class="time"><a href="#t2018-06-06T17:33:33" class="time">17:33</a></td></tr>
<tr id="t2018-06-06T17:33:48"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">I guess we need to notify Peter</td><td class="time"><a href="#t2018-06-06T17:33:48" class="time">17:33</a></td></tr>
<tr id="t2018-06-06T17:40:06"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">it didn't look like it blindly closed 1024 fds before.... it looks like this three patch series added that</td><td class="time"><a href="#t2018-06-06T17:40:06" class="time">17:40</a></td></tr>
<tr id="t2018-06-06T17:40:09"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: unless pseudo uses high number fds for its own use?</td><td class="time"><a href="#t2018-06-06T17:40:09" class="time">17:40</a></td></tr>
<tr id="t2018-06-06T17:40:27"><th class="nick" style="background: #9b519b">RyFa</th><td class="text" style="color: #9b519b">Hey Folks, Ive been working through updating my project from Pyro to Sumo, and changing the kernel from 4.10 to either 4.12 or 4.14 - Im finally able to build my image but when it boots im getting "Kernel Panic Not Syncing... init not tainted 4.12.21-yocto-standard"</td><td class="time"><a href="#t2018-06-06T17:40:27" class="time">17:40</a></td></tr>
<tr id="t2018-06-06T17:40:32"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">the third in the series adds the capability to look in /proc for the actual pids being used</td><td class="time"><a href="#t2018-06-06T17:40:32" class="time">17:40</a></td></tr>
<tr id="t2018-06-06T17:40:39"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">fray: it did</td><td class="time"><a href="#t2018-06-06T17:40:39" class="time">17:40</a></td></tr>
<tr id="t2018-06-06T17:40:43"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">so lets say it is a pid above 1024.. then it would now know it</td><td class="time"><a href="#t2018-06-06T17:40:43" class="time">17:40</a></td></tr>
<tr id="t2018-06-06T17:41:39"><th class="nick" style="background: #62bb62">mrk377</th><td class="text" style="color: #62bb62">webserver question:&nbsp;&nbsp;Using openembedded/webservers, what are recommendations in using either apache, cherokee, hiawatha, monkey, nginx, nostromo, or sthttpd?&nbsp;&nbsp;I was wanting to use meteor and is there a recipe for meteor?</td><td class="time"><a href="#t2018-06-06T17:41:39" class="time">17:41</a></td></tr>
<tr id="t2018-06-06T17:41:46"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">fray: -       open_max = sysconf(_SC_OPEN_MAX);</td><td class="time"><a href="#t2018-06-06T17:41:46" class="time">17:41</a></td></tr>
<tr id="t2018-06-06T17:41:46"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">-       if (open_max == -1) {</td><td class="time"><a href="#t2018-06-06T17:41:46" class="time">17:41</a></td></tr>
<tr id="t2018-06-06T17:41:46"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">-           open_max = 1024;</td><td class="time"><a href="#t2018-06-06T17:41:46" class="time">17:41</a></td></tr>
<tr id="t2018-06-06T17:41:46"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">-       }</td><td class="time"><a href="#t2018-06-06T17:41:46" class="time">17:41</a></td></tr>
<tr id="t2018-06-06T17:41:46"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">-       for (fdno = 3; fdno &lt; open_max; fdno++) {</td><td class="time"><a href="#t2018-06-06T17:41:46" class="time">17:41</a></td></tr>
<tr id="t2018-06-06T17:41:46"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">-           flag = fcntl(fdno, F_GETFD);</td><td class="time"><a href="#t2018-06-06T17:41:46" class="time">17:41</a></td></tr>
<tr id="t2018-06-06T17:41:46"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">-           if (flag == -1 || (flag &amp; FD_CLOEXEC))</td><td class="time"><a href="#t2018-06-06T17:41:46" class="time">17:41</a></td></tr>
<tr id="t2018-06-06T17:41:47"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">-               continue;</td><td class="time"><a href="#t2018-06-06T17:41:47" class="time">17:41</a></td></tr>
<tr id="t2018-06-06T17:41:47"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">-           fcntl(fdno, F_SETFD, FD_CLOEXEC);</td><td class="time"><a href="#t2018-06-06T17:41:47" class="time">17:41</a></td></tr>
<tr id="t2018-06-06T17:41:48"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">-       }</td><td class="time"><a href="#t2018-06-06T17:41:48" class="time">17:41</a></td></tr>
<tr id="t2018-06-06T17:41:48"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">+       rpmSetCloseOnExec();</td><td class="time"><a href="#t2018-06-06T17:41:48" class="time">17:41</a></td></tr>
<tr id="t2018-06-06T17:42:00"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">I thought that was the second hunk</td><td class="time"><a href="#t2018-06-06T17:42:00" class="time">17:42</a></td></tr>
<tr id="t2018-06-06T17:42:10"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">I don't have the patch up on my screen anymore though</td><td class="time"><a href="#t2018-06-06T17:42:10" class="time">17:42</a></td></tr>
<tr id="t2018-06-06T17:43:36"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">just re-read it.. you are right.. it was blindly closing before</td><td class="time"><a href="#t2018-06-06T17:43:36" class="time">17:43</a></td></tr>
<tr id="t2018-06-06T17:43:41"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">RP: could well be. Just like I told you, that newly added /proc iteration code has *no* debugging whatsoever in it :(</td><td class="time"><a href="#t2018-06-06T17:43:41" class="time">17:43</a></td></tr>
<tr id="t2018-06-06T17:43:55"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">so someone needs to add it ad hoc to see what is actually being closed</td><td class="time"><a href="#t2018-06-06T17:43:55" class="time">17:43</a></td></tr>
<tr id="t2018-06-06T17:44:33"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">I agree, I'd start with removing that patch..&nbsp;&nbsp;(I'm stillb uilding on my CentOS 7 box..&nbsp;&nbsp;DNF failed, but restarting fixed it.. there is definitely a race in it's makefile on large core machiens)</td><td class="time"><a href="#t2018-06-06T17:44:33" class="time">17:44</a></td></tr>
<tr id="t2018-06-06T17:47:20"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">fray: that will make Docker using people very unhappy, particularly Peter Kjellerstedt</td><td class="time"><a href="#t2018-06-06T17:47:20" class="time">17:47</a></td></tr>
<tr id="t2018-06-06T17:47:22"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">is he here?</td><td class="time"><a href="#t2018-06-06T17:47:22" class="time">17:47</a></td></tr>
<tr id="t2018-06-06T17:49:21"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">ya, but if it makes everyone else unhappy..&nbsp;&nbsp;that's a valid tradeoff..</td><td class="time"><a href="#t2018-06-06T17:49:21" class="time">17:49</a></td></tr>
<tr id="t2018-06-06T17:49:39"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">ok.. I got the failure on my CentOS box you guys are talking aobut..</td><td class="time"><a href="#t2018-06-06T17:49:39" class="time">17:49</a></td></tr>
<tr id="t2018-06-06T17:49:56"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">I'll start yanking RPM patches and see if it goes away.. (I assume running it a second time does not normallyf ix it)</td><td class="time"><a href="#t2018-06-06T17:49:56" class="time">17:49</a></td></tr>
<tr id="t2018-06-06T17:55:35"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">...and ninja fails AGAIN to build DNF.. retry</td><td class="time"><a href="#t2018-06-06T17:55:35" class="time">17:55</a></td></tr>
<tr id="t2018-06-06T17:55:51"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">it always seems to fail the first time around, but always on different files.. :|</td><td class="time"><a href="#t2018-06-06T17:55:51" class="time">17:55</a></td></tr>
<tr id="t2018-06-06T17:56:11"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">I'm tempted to restrict DNF to a small number of build threads</td><td class="time"><a href="#t2018-06-06T17:56:11" class="time">17:56</a></td></tr>
<tr id="t2018-06-06T18:03:58"><td class="nickchange" colspan="2">*** denix is now known as darknighte</td><td><a href="#t2018-06-06T18:03:58" class="time">18:03</a></td></tr>
<tr id="t2018-06-06T18:04:13"><td class="nickchange" colspan="2">*** darknighte is now known as denix</td><td><a href="#t2018-06-06T18:04:13" class="time">18:04</a></td></tr>
<tr id="t2018-06-06T18:04:49"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">I disabled the /proc stuff and it still failed..</td><td class="time"><a href="#t2018-06-06T18:04:49" class="time">18:04</a></td></tr>
<tr id="t2018-06-06T18:04:57"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">disabling the Facctor-out-and-unify now</td><td class="time"><a href="#t2018-06-06T18:04:57" class="time">18:04</a></td></tr>
<tr id="t2018-06-06T18:07:02"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: the failure should be in do_rootfs</td><td class="time"><a href="#t2018-06-06T18:07:02" class="time">18:07</a></td></tr>
<tr id="t2018-06-06T18:07:14"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">yup.. thats where it failed</td><td class="time"><a href="#t2018-06-06T18:07:14" class="time">18:07</a></td></tr>
<tr id="t2018-06-06T18:07:19"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: ok</td><td class="time"><a href="#t2018-06-06T18:07:19" class="time">18:07</a></td></tr>
<tr id="t2018-06-06T18:07:45"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">I removed the last 2 of the three patches and it still failed.. so I'm assuming it's either the 1st or something unrelated</td><td class="time"><a href="#t2018-06-06T18:07:45" class="time">18:07</a></td></tr>
<tr id="t2018-06-06T18:08:56"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: note that there is a revert in the previous commit too</td><td class="time"><a href="#t2018-06-06T18:08:56" class="time">18:08</a></td></tr>
<tr id="t2018-06-06T18:09:33"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: I bisected it to these two commits, I didn't test the midpoint (yet)</td><td class="time"><a href="#t2018-06-06T18:09:33" class="time">18:09</a></td></tr>
<tr id="t2018-06-06T18:09:42"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">ok</td><td class="time"><a href="#t2018-06-06T18:09:42" class="time">18:09</a></td></tr>
<tr id="t2018-06-06T18:13:43"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: its useful to know its reproducible though, thanks</td><td class="time"><a href="#t2018-06-06T18:13:43" class="time">18:13</a></td></tr>
<tr id="t2018-06-06T18:14:33"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">that midpoint is rebuilding lots so will take a while to test</td><td class="time"><a href="#t2018-06-06T18:14:33" class="time">18:14</a></td></tr>
<tr id="t2018-06-06T18:21:49"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: looking more into it, I think we are at a cross road for ppc</td><td class="time"><a href="#t2018-06-06T18:21:49" class="time">18:21</a></td></tr>
<tr id="t2018-06-06T18:22:25"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: it seems most of fsl ppc uses SPE except SoCS based on e6500 cores</td><td class="time"><a href="#t2018-06-06T18:22:25" class="time">18:22</a></td></tr>
<tr id="t2018-06-06T18:22:31"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">khem, if no one steps up, we should drop it</td><td class="time"><a href="#t2018-06-06T18:22:31" class="time">18:22</a></td></tr>
<tr id="t2018-06-06T18:22:45"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">right now its holding gcc8 ransom</td><td class="time"><a href="#t2018-06-06T18:22:45" class="time">18:22</a></td></tr>
<tr id="t2018-06-06T18:22:50"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">also, any suggetions on my FORTRAN problem :)</td><td class="time"><a href="#t2018-06-06T18:22:50" class="time">18:22</a></td></tr>
<tr id="t2018-06-06T18:23:02"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">did you reply to my question</td><td class="time"><a href="#t2018-06-06T18:23:02" class="time">18:23</a></td></tr>
<tr id="t2018-06-06T18:23:03"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Crofton|work: use a modern language ;-)</td><td class="time"><a href="#t2018-06-06T18:23:03" class="time">18:23</a></td></tr>
<tr id="t2018-06-06T18:23:53"><td class="action" colspan="2">* Crofton|work curses scipy</td><td><a href="#t2018-06-06T18:23:53" class="time">18:23</a></td></tr>
<tr id="t2018-06-06T18:24:02"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">khem, yes</td><td class="time"><a href="#t2018-06-06T18:24:02" class="time">18:24</a></td></tr>
<tr id="t2018-06-06T18:24:06"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: we can switch to using spe backend and that will give us most supported ppc machines we have but its a backend with no maintainers</td><td class="time"><a href="#t2018-06-06T18:24:06" class="time">18:24</a></td></tr>
<tr id="t2018-06-06T18:24:27"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">I find the spec.in gfile only</td><td class="time"><a href="#t2018-06-06T18:24:27" class="time">18:24</a></td></tr>
<tr id="t2018-06-06T18:24:33"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: right, someone should really step up who cares about ppc to do this...</td><td class="time"><a href="#t2018-06-06T18:24:33" class="time">18:24</a></td></tr>
<tr id="t2018-06-06T18:25:29"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">kanavin_home:&nbsp;&nbsp;If I remove: #&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; file://0001-Factor-out-and-unify-setting-CLOEXEC.patch \</td><td class="time"><a href="#t2018-06-06T18:25:29" class="time">18:25</a></td></tr>
<tr id="t2018-06-06T18:25:39"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">and the two susbequent ones it now works..</td><td class="time"><a href="#t2018-06-06T18:25:39" class="time">18:25</a></td></tr>
<tr id="t2018-06-06T18:25:42"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: minimum I can do is to enable -mno-spe option to be recognised with normal ppc backend so we can drop <a href="http://git.openembedded.org/openembedded-core-contrib/commit/?h=kraj/master&amp;id=f21a0d7ff3383f98a0e7b3e16ad210945946e1e1" rel="nofollow">http://git.openembedded.org/openembedded-core-contrib/commit/?h=kraj/master&amp;id=f21a0d7ff3383f98a0e7b3e16ad210945946e1e1</a></td><td class="time"><a href="#t2018-06-06T18:25:42" class="time">18:25</a></td></tr>
<tr id="t2018-06-06T18:25:51"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">that will let people use gcc7 for ppc</td><td class="time"><a href="#t2018-06-06T18:25:51" class="time">18:25</a></td></tr>
<tr id="t2018-06-06T18:25:52"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">if I KEEP that one, and remove only the subsequent two it does NOT work</td><td class="time"><a href="#t2018-06-06T18:25:52" class="time">18:25</a></td></tr>
<tr id="t2018-06-06T18:25:59"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">so something is wrong in the refactoring</td><td class="time"><a href="#t2018-06-06T18:25:59" class="time">18:25</a></td></tr>
<tr id="t2018-06-06T18:26:25"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">khem,</td><td class="time"><a href="#t2018-06-06T18:26:25" class="time">18:26</a></td></tr>
<tr id="t2018-06-06T18:26:27"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">[balister@prague build-pi]$ find ./tmp-glibc/ -name "libgfortran.spec*"</td><td class="time"><a href="#t2018-06-06T18:26:27" class="time">18:26</a></td></tr>
<tr id="t2018-06-06T18:26:27"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">./tmp-glibc/work-shared/gcc-7.3.0-r0/gcc-7.3.0/libgfortran/libgfortran.spec.in</td><td class="time"><a href="#t2018-06-06T18:26:27" class="time">18:26</a></td></tr>
<tr id="t2018-06-06T18:26:30"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">We folks who are interested in SPE can pin to gcc7 and we can move on</td><td class="time"><a href="#t2018-06-06T18:26:30" class="time">18:26</a></td></tr>
<tr id="t2018-06-06T18:26:49"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">Crofton|work: is it in sysroot of the package you are building</td><td class="time"><a href="#t2018-06-06T18:26:49" class="time">18:26</a></td></tr>
<tr id="t2018-06-06T18:26:49"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">ah khem&nbsp;&nbsp;really cares :)</td><td class="time"><a href="#t2018-06-06T18:26:49" class="time">18:26</a></td></tr>
<tr id="t2018-06-06T18:27:03"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">look carefully</td><td class="time"><a href="#t2018-06-06T18:27:03" class="time">18:27</a></td></tr>
<tr id="t2018-06-06T18:27:07"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">I search all of tmp</td><td class="time"><a href="#t2018-06-06T18:27:07" class="time">18:27</a></td></tr>
<tr id="t2018-06-06T18:27:15"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">and only see .in version</td><td class="time"><a href="#t2018-06-06T18:27:15" class="time">18:27</a></td></tr>
<tr id="t2018-06-06T18:27:41"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">fray: the refactoring moved from hardcoding first 1024 fds to iterating over open ones in /proc/self/fd</td><td class="time"><a href="#t2018-06-06T18:27:41" class="time">18:27</a></td></tr>
<tr id="t2018-06-06T18:27:48"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">hmm if you enabled fortan in gcc then you should have had one</td><td class="time"><a href="#t2018-06-06T18:27:48" class="time">18:27</a></td></tr>
<tr id="t2018-06-06T18:27:54"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">so probably they now close something they should now</td><td class="time"><a href="#t2018-06-06T18:27:54" class="time">18:27</a></td></tr>
<tr id="t2018-06-06T18:28:27"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">it's the patch 0001-Factor-out-and-unify-setting-CLOEXEC.patch</td><td class="time"><a href="#t2018-06-06T18:28:27" class="time">18:28</a></td></tr>
<tr id="t2018-06-06T18:28:29"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">if applied it failed</td><td class="time"><a href="#t2018-06-06T18:28:29" class="time">18:28</a></td></tr>
<tr id="t2018-06-06T18:28:43"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">I don't see any obvious reason why it would fail, or why the refactoring code is wrong</td><td class="time"><a href="#t2018-06-06T18:28:43" class="time">18:28</a></td></tr>
<tr id="t2018-06-06T18:28:51"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">Crofton|work: no way, I have no interest in ppc as all that 'We' is just to pretent inclusive</td><td class="time"><a href="#t2018-06-06T18:28:51" class="time">18:28</a></td></tr>
<tr id="t2018-06-06T18:29:01"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">the 0001-Factor... patch seems straight forward though</td><td class="time"><a href="#t2018-06-06T18:29:01" class="time">18:29</a></td></tr>
<tr id="t2018-06-06T18:29:19"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">and it claimes to be accepted upstream in a newer version of RPM</td><td class="time"><a href="#t2018-06-06T18:29:19" class="time">18:29</a></td></tr>
<tr id="t2018-06-06T18:29:41"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I'm trying not to spend all my time hacking but I'll try and run the test builds which will make me happier with the situation...</td><td class="time"><a href="#t2018-06-06T18:29:41" class="time">18:29</a></td></tr>
<tr id="t2018-06-06T18:30:03"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">the only difference I see is:</td><td class="time"><a href="#t2018-06-06T18:30:03" class="time">18:30</a></td></tr>
<tr id="t2018-06-06T18:30:03"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xx = fcntl(fdno, F_SETFD, FD_CLOEXEC);</td><td class="time"><a href="#t2018-06-06T18:30:03" class="time">18:30</a></td></tr>
<tr id="t2018-06-06T18:30:09"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fcntl(fdno, F_SETFD, FD_CLOEXEC);</td><td class="time"><a href="#t2018-06-06T18:30:09" class="time">18:30</a></td></tr>
<tr id="t2018-06-06T18:30:13"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">which should not be a problem</td><td class="time"><a href="#t2018-06-06T18:30:13" class="time">18:30</a></td></tr>
<tr id="t2018-06-06T18:30:26"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">khem exactly</td><td class="time"><a href="#t2018-06-06T18:30:26" class="time">18:30</a></td></tr>
<tr id="t2018-06-06T18:31:31"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf"><a href="https://paste.debian.net/1028244/" rel="nofollow">https://paste.debian.net/1028244/</a></td><td class="time"><a href="#t2018-06-06T18:31:31" class="time">18:31</a></td></tr>
<tr id="t2018-06-06T18:31:44"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">the fortan binary is there, but no spec file is created</td><td class="time"><a href="#t2018-06-06T18:31:44" class="time">18:31</a></td></tr>
<tr id="t2018-06-06T18:32:05"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">fray: bizarre, it doesn't seem to actually change the code?</td><td class="time"><a href="#t2018-06-06T18:32:05" class="time">18:32</a></td></tr>
<tr id="t2018-06-06T18:32:23"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">Crofton|work: do you have libgfortan built ?</td><td class="time"><a href="#t2018-06-06T18:32:23" class="time">18:32</a></td></tr>
<tr id="t2018-06-06T18:33:19"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: I can switch to using powerpcspe backend as well, I wonder if we have non fsl ppc users</td><td class="time"><a href="#t2018-06-06T18:33:19" class="time">18:33</a></td></tr>
<tr id="t2018-06-06T18:33:23"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">they will be at a loss</td><td class="time"><a href="#t2018-06-06T18:33:23" class="time">18:33</a></td></tr>
<tr id="t2018-06-06T18:33:34"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">apparently not</td><td class="time"><a href="#t2018-06-06T18:33:34" class="time">18:33</a></td></tr>
<tr id="t2018-06-06T18:33:52"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">kanavin_home agreed.. but it doesn't work with the patch, and does work with it (on my system)</td><td class="time"><a href="#t2018-06-06T18:33:52" class="time">18:33</a></td></tr>
<tr id="t2018-06-06T18:34:10"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: may be we can switch to this backend and then it will be deleted in gcc9 and we punt it too, that will be like a 1 year warning</td><td class="time"><a href="#t2018-06-06T18:34:10" class="time">18:34</a></td></tr>
<tr id="t2018-06-06T18:34:17"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">makes me suspicious that the code is doing something odd.. or we have two libraries that now carry the same named function or.... some kind of hidden conflict</td><td class="time"><a href="#t2018-06-06T18:34:17" class="time">18:34</a></td></tr>
<tr id="t2018-06-06T18:34:40"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">fray: are you super-sure though? maybe you mixed up the patches</td><td class="time"><a href="#t2018-06-06T18:34:40" class="time">18:34</a></td></tr>
<tr id="t2018-06-06T18:34:46"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">fark</td><td class="time"><a href="#t2018-06-06T18:34:46" class="time">18:34</a></td></tr>
<tr id="t2018-06-06T18:35:31"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">DEPENDS = "gcc-runtime"</td><td class="time"><a href="#t2018-06-06T18:35:31" class="time">18:35</a></td></tr>
<tr id="t2018-06-06T18:35:37"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">no.. I yanked them one at a time from the openembedded-core/meta/recipes-devtools/rpm/rpm_4.14.1.bb</td><td class="time"><a href="#t2018-06-06T18:35:37" class="time">18:35</a></td></tr>
<tr id="t2018-06-06T18:35:39"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">I can repeat it..</td><td class="time"><a href="#t2018-06-06T18:35:39" class="time">18:35</a></td></tr>
<tr id="t2018-06-06T18:36:13"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">so what are folks doing with github repositories, migrating to gitlab :)</td><td class="time"><a href="#t2018-06-06T18:36:13" class="time">18:36</a></td></tr>
<tr id="t2018-06-06T18:36:14"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">I just enabled the 0001- patch (and only that) and I'm building again.. will probab be 5-10 mins</td><td class="time"><a href="#t2018-06-06T18:36:14" class="time">18:36</a></td></tr>
<tr id="t2018-06-06T18:36:29"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: I'm trying that too, see if I can confirm</td><td class="time"><a href="#t2018-06-06T18:36:29" class="time">18:36</a></td></tr>
<tr id="t2018-06-06T18:36:54"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">khem, thanks</td><td class="time"><a href="#t2018-06-06T18:36:54" class="time">18:36</a></td></tr>
<tr id="t2018-06-06T18:36:57"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">I owe you a coke</td><td class="time"><a href="#t2018-06-06T18:36:57" class="time">18:36</a></td></tr>
<tr id="t2018-06-06T18:37:01"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">ahh I have this run already in the sstate-cache.. so it might take less time</td><td class="time"><a href="#t2018-06-06T18:37:01" class="time">18:37</a></td></tr>
<tr id="t2018-06-06T18:37:58"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">Crofton|work: I like the columbian one ;)</td><td class="time"><a href="#t2018-06-06T18:37:58" class="time">18:37</a></td></tr>
<tr id="t2018-06-06T18:38:56"><td class="action" colspan="2">* kanavin_home lives under a rock, what's the problem with github?</td><td><a href="#t2018-06-06T18:38:56" class="time">18:38</a></td></tr>
<tr id="t2018-06-06T18:38:59"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">yup.. failed when I re-enabled the patch</td><td class="time"><a href="#t2018-06-06T18:38:59" class="time">18:38</a></td></tr>
<tr id="t2018-06-06T18:39:11"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">Crofton|work: <a href="https://asteroidos.org/" rel="nofollow">https://asteroidos.org/</a> is based on OpenEmbedded why dont we add this to front page</td><td class="time"><a href="#t2018-06-06T18:39:11" class="time">18:39</a></td></tr>
<tr id="t2018-06-06T18:39:12"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">github will soon be owned by Microsoft.. apparently that makes a difference to some</td><td class="time"><a href="#t2018-06-06T18:39:12" class="time">18:39</a></td></tr>
<tr id="t2018-06-06T18:39:36"><th class="nick" style="background: #6464bf">Crofton|work</th><td class="text" style="color: #6464bf">and gitlab is hosted on Azure I hear</td><td class="time"><a href="#t2018-06-06T18:39:36" class="time">18:39</a></td></tr>
<tr id="t2018-06-06T18:39:55"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">I'll care about github when MS screws it up.. until then, whatever..</td><td class="time"><a href="#t2018-06-06T18:39:55" class="time">18:39</a></td></tr>
<tr id="t2018-06-06T18:40:13"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">I didn't care about sourceforge until they started to put ads and intersituals everywhere.. that was the end of me using them</td><td class="time"><a href="#t2018-06-06T18:40:13" class="time">18:40</a></td></tr>
<tr id="t2018-06-06T18:40:19"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">I think MS has embrased OSS after new CEO</td><td class="time"><a href="#t2018-06-06T18:40:19" class="time">18:40</a></td></tr>
<tr id="t2018-06-06T18:40:43"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">khem: embraced in a way that benefits Azure mostly</td><td class="time"><a href="#t2018-06-06T18:40:43" class="time">18:40</a></td></tr>
<tr id="t2018-06-06T18:41:30"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: I think I will take this approach then, switch to powerpcspe backend in gcc8 and if the backend goes away we punt ppc from core supported arches</td><td class="time"><a href="#t2018-06-06T18:41:30" class="time">18:41</a></td></tr>
<tr id="t2018-06-06T18:42:05"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">I already see it rotting. Last commit to this backend in gcc was on march 4th</td><td class="time"><a href="#t2018-06-06T18:42:05" class="time">18:42</a></td></tr>
<tr id="t2018-06-06T18:42:38"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: My worry is the shared single cross gcc powerpc binary for both spe and non-spe</td><td class="time"><a href="#t2018-06-06T18:42:38" class="time">18:42</a></td></tr>
<tr id="t2018-06-06T18:43:02"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">kanavin - I know in the past RPM has had some problems when functions moved from one librpm* to another... or in one case to a common file because suddenly it was implemented in 3 different libraries that were usually loaded at the same tiem..</td><td class="time"><a href="#t2018-06-06T18:43:02" class="time">18:43</a></td></tr>
<tr id="t2018-06-06T18:43:05"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: confirmed, that patch does seem to break ot</td><td class="time"><a href="#t2018-06-06T18:43:05" class="time">18:43</a></td></tr>
<tr id="t2018-06-06T18:43:12"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">I am sure RP will be happy about github :)</td><td class="time"><a href="#t2018-06-06T18:43:12" class="time">18:43</a></td></tr>
<tr id="t2018-06-06T18:43:12"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">RP.. I'm not crazy then</td><td class="time"><a href="#t2018-06-06T18:43:12" class="time">18:43</a></td></tr>
<tr id="t2018-06-06T18:43:37"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: cant stand on two boats anymore since they are diverging the route</td><td class="time"><a href="#t2018-06-06T18:43:37" class="time">18:43</a></td></tr>
<tr id="t2018-06-06T18:44:45"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">I think most of OE users of ppc are using fsl SoCs and that backend is going away</td><td class="time"><a href="#t2018-06-06T18:44:45" class="time">18:44</a></td></tr>
<tr id="t2018-06-06T18:45:04"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I think you're right :(</td><td class="time"><a href="#t2018-06-06T18:45:04" class="time">18:45</a></td></tr>
<tr id="t2018-06-06T18:45:05"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">the supported backend is nice but probbably not many users for OE</td><td class="time"><a href="#t2018-06-06T18:45:05" class="time">18:45</a></td></tr>
<tr id="t2018-06-06T18:45:19"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: this is what is worrying me</td><td class="time"><a href="#t2018-06-06T18:45:19" class="time">18:45</a></td></tr>
<tr id="t2018-06-06T18:46:42"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">so I guess best use for oe users would be to switch to use spe backend for gcc8 and if no one picks up maintaining it in gcc then it will be removed from gcc on gcc9 and so we should plan for same</td><td class="time"><a href="#t2018-06-06T18:46:42" class="time">18:46</a></td></tr>
<tr id="t2018-06-06T18:48:37"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I think so</td><td class="time"><a href="#t2018-06-06T18:48:37" class="time">18:48</a></td></tr>
<tr id="t2018-06-06T18:48:58"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">OK let me redo the gcc8 patches for ppc portions</td><td class="time"><a href="#t2018-06-06T18:48:58" class="time">18:48</a></td></tr>
<tr id="t2018-06-06T18:49:24"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">the arm tuning we can do as a seprate item lets not hold gcc8 for that</td><td class="time"><a href="#t2018-06-06T18:49:24" class="time">18:49</a></td></tr>
<tr id="t2018-06-06T18:50:56"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">bingo</td><td class="time"><a href="#t2018-06-06T18:50:56" class="time">18:50</a></td></tr>
<tr id="t2018-06-06T18:50:57"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">&nbsp;&nbsp; 181: 000000000000fae0&nbsp;&nbsp; 119 FUNC&nbsp;&nbsp;&nbsp;&nbsp;GLOBAL DEFAULT&nbsp;&nbsp; 11 rpmSetCloseOnExec</td><td class="time"><a href="#t2018-06-06T18:50:57" class="time">18:50</a></td></tr>
<tr id="t2018-06-06T18:50:57"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">&nbsp;&nbsp; 181: 000000000000fae0&nbsp;&nbsp; 119 FUNC&nbsp;&nbsp;&nbsp;&nbsp;GLOBAL DEFAULT&nbsp;&nbsp; 11 rpmSetCloseOnExec</td><td class="time"><a href="#t2018-06-06T18:50:57" class="time">18:50</a></td></tr>
<tr id="t2018-06-06T18:50:57"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">&nbsp;&nbsp; 181: 000000000000fae0&nbsp;&nbsp; 119 FUNC&nbsp;&nbsp;&nbsp;&nbsp;GLOBAL DEFAULT&nbsp;&nbsp; 11 rpmSetCloseOnExec</td><td class="time"><a href="#t2018-06-06T18:50:57" class="time">18:50</a></td></tr>
<tr id="t2018-06-06T18:50:57"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">&nbsp;&nbsp; 180: 0000000000000000&nbsp;&nbsp;&nbsp;&nbsp; 0 FUNC&nbsp;&nbsp;&nbsp;&nbsp;GLOBAL DEFAULT&nbsp;&nbsp;UND rpmSetCloseOnExec</td><td class="time"><a href="#t2018-06-06T18:50:57" class="time">18:50</a></td></tr>
<tr id="t2018-06-06T18:50:57"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">&nbsp;&nbsp; 180: 0000000000000000&nbsp;&nbsp;&nbsp;&nbsp; 0 FUNC&nbsp;&nbsp;&nbsp;&nbsp;GLOBAL DEFAULT&nbsp;&nbsp;UND rpmSetCloseOnExec</td><td class="time"><a href="#t2018-06-06T18:50:57" class="time">18:50</a></td></tr>
<tr id="t2018-06-06T18:50:57"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">&nbsp;&nbsp; 180: 0000000000000000&nbsp;&nbsp;&nbsp;&nbsp; 0 FUNC&nbsp;&nbsp;&nbsp;&nbsp;GLOBAL DEFAULT&nbsp;&nbsp;UND rpmSetCloseOnExec</td><td class="time"><a href="#t2018-06-06T18:50:57" class="time">18:50</a></td></tr>
<tr id="t2018-06-06T18:51:09"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">that's readelf.. the function is defined in ALL THREE librpms..</td><td class="time"><a href="#t2018-06-06T18:51:09" class="time">18:51</a></td></tr>
<tr id="t2018-06-06T18:51:13"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">so likely it's going nuts</td><td class="time"><a href="#t2018-06-06T18:51:13" class="time">18:51</a></td></tr>
<tr id="t2018-06-06T18:52:08"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">wait...</td><td class="time"><a href="#t2018-06-06T18:52:08" class="time">18:52</a></td></tr>
<tr id="t2018-06-06T18:52:25"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">no.. my mistake</td><td class="time"><a href="#t2018-06-06T18:52:25" class="time">18:52</a></td></tr>
<tr id="t2018-06-06T18:52:39"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">it's onluy defined in librpmio.so* which is correct</td><td class="time"><a href="#t2018-06-06T18:52:39" class="time">18:52</a></td></tr>
<tr id="t2018-06-06T18:53:33"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">ok.. so I'm at a loss as to why it fails.. the only difference seens to be a functional call vs not</td><td class="time"><a href="#t2018-06-06T18:53:33" class="time">18:53</a></td></tr>
<tr id="t2018-06-06T18:58:31"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: compiler bug on centos7?</td><td class="time"><a href="#t2018-06-06T18:58:31" class="time">18:58</a></td></tr>
<tr id="t2018-06-06T19:01:01"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: actually, take a look at doScriptExec() in rpmscript.c</td><td class="time"><a href="#t2018-06-06T19:01:01" class="time">19:01</a></td></tr>
<tr id="t2018-06-06T19:01:10"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: the int xz</td><td class="time"><a href="#t2018-06-06T19:01:10" class="time">19:01</a></td></tr>
<tr id="t2018-06-06T19:01:12"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">er, xx</td><td class="time"><a href="#t2018-06-06T19:01:12" class="time">19:01</a></td></tr>
<tr id="t2018-06-06T19:01:53"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: what does that if (xx == 0) do?</td><td class="time"><a href="#t2018-06-06T19:01:53" class="time">19:01</a></td></tr>
<tr id="t2018-06-06T19:05:06"><td class="action" colspan="2">* RP tries deleting that</td><td><a href="#t2018-06-06T19:05:06" class="time">19:05</a></td></tr>
<tr id="t2018-06-06T19:09:10"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">where do you see the if xx == 0?</td><td class="time"><a href="#t2018-06-06T19:09:10" class="time">19:09</a></td></tr>
<tr id="t2018-06-06T19:09:39"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">or are you just talking about xx = &lt;something&gt;&nbsp;&nbsp;usually XX means ignore the result.. the linter that RPM uses requires functions w/ return codes to well accept a return code.. even if you later ignore it</td><td class="time"><a href="#t2018-06-06T19:09:39" class="time">19:09</a></td></tr>
<tr id="t2018-06-06T19:11:16"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/taa&amp;id=e8dbc36b4dd61c7b747076be63a46b59ed3a5cf5" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/taa&amp;id=e8dbc36b4dd61c7b747076be63a46b59ed3a5cf5</a></td><td class="time"><a href="#t2018-06-06T19:11:16" class="time">19:11</a></td></tr>
<tr id="t2018-06-06T19:11:58"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">huh</td><td class="time"><a href="#t2018-06-06T19:11:58" class="time">19:11</a></td></tr>
<tr id="t2018-06-06T19:12:20"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">ya.. that definitely should be gone..</td><td class="time"><a href="#t2018-06-06T19:12:20" class="time">19:12</a></td></tr>
<tr id="t2018-06-06T19:12:45"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">cause xx will be undefined if the other setters don't work..</td><td class="time"><a href="#t2018-06-06T19:12:45" class="time">19:12</a></td></tr>
<tr id="t2018-06-06T19:13:11"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">if anything, i'd say the function be adjusted to return a similar return code and xx = rpmSetCloseOnExec() run</td><td class="time"><a href="#t2018-06-06T19:13:11" class="time">19:13</a></td></tr>
<tr id="t2018-06-06T19:13:19"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">but that is probably not necessary</td><td class="time"><a href="#t2018-06-06T19:13:19" class="time">19:13</a></td></tr>
<tr id="t2018-06-06T19:13:38"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">alternative would be at the top of the function set xx = 0... since there are intermediate steps that set xx if they fail..</td><td class="time"><a href="#t2018-06-06T19:13:38" class="time">19:13</a></td></tr>
<tr id="t2018-06-06T19:13:56"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">(without of course checking porior xx if it'd been set)&nbsp;&nbsp;;P</td><td class="time"><a href="#t2018-06-06T19:13:56" class="time">19:13</a></td></tr>
<tr id="t2018-06-06T19:14:09"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: well, if xx is meant to be ignored...</td><td class="time"><a href="#t2018-06-06T19:14:09" class="time">19:14</a></td></tr>
<tr id="t2018-06-06T19:14:10"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">i.e. this is a mess</td><td class="time"><a href="#t2018-06-06T19:14:10" class="time">19:14</a></td></tr>
<tr id="t2018-06-06T19:14:19"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">thats the thing, other parts of the code it's meant to be ignored..</td><td class="time"><a href="#t2018-06-06T19:14:19" class="time">19:14</a></td></tr>
<tr id="t2018-06-06T19:14:25"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: yes, its very confused</td><td class="time"><a href="#t2018-06-06T19:14:25" class="time">19:14</a></td></tr>
<tr id="t2018-06-06T19:14:38"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">it LOOSK like if scriptFd == NULL, then the last XX will be from the setfd. otherwise it'll be from the Fclose</td><td class="time"><a href="#t2018-06-06T19:14:38" class="time">19:14</a></td></tr>
<tr id="t2018-06-06T19:15:13"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">I suspect the xx check is supposed to be from the Fclose.. but not sure.. (maybe git can tell me0</td><td class="time"><a href="#t2018-06-06T19:15:13" class="time">19:15</a></td></tr>
<tr id="t2018-06-06T19:15:18"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: fwiw it works with that patch</td><td class="time"><a href="#t2018-06-06T19:15:18" class="time">19:15</a></td></tr>
<tr id="t2018-06-06T19:15:38"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">so we at least know why it breaks</td><td class="time"><a href="#t2018-06-06T19:15:38" class="time">19:15</a></td></tr>
<tr id="t2018-06-06T19:16:15"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: mystery partly solved :)</td><td class="time"><a href="#t2018-06-06T19:16:15" class="time">19:16</a></td></tr>
<tr id="t2018-06-06T19:16:18"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">yup</td><td class="time"><a href="#t2018-06-06T19:16:18" class="time">19:16</a></td></tr>
<tr id="t2018-06-06T19:16:59"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">ok.. at the time that was originally written.. the LAST two 'xx' values were:</td><td class="time"><a href="#t2018-06-06T19:16:59" class="time">19:16</a></td></tr>
<tr id="t2018-06-06T19:17:07"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xx = chdir("/");</td><td class="time"><a href="#t2018-06-06T19:17:07" class="time">19:17</a></td></tr>
<tr id="t2018-06-06T19:17:12"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (rpmtsSELinuxEnabled(ts) == 1) {</td><td class="time"><a href="#t2018-06-06T19:17:12" class="time">19:17</a></td></tr>
<tr id="t2018-06-06T19:17:12"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xx = rpm_execcon(0, argv[0], argv, environ);</td><td class="time"><a href="#t2018-06-06T19:17:12" class="time">19:17</a></td></tr>
<tr id="t2018-06-06T19:17:12"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</td><td class="time"><a href="#t2018-06-06T19:17:12" class="time">19:17</a></td></tr>
<tr id="t2018-06-06T19:17:13"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">still in upstream git <a href="https://github.com/rpm-software-management/rpm/blob/master/lib/rpmscript.c#L222" rel="nofollow">https://github.com/rpm-software-management/rpm/blob/master/lib/rpmscript.c#L222</a></td><td class="time"><a href="#t2018-06-06T19:17:13" class="time">19:17</a></td></tr>
<tr id="t2018-06-06T19:17:35"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">ya.. my guess is that CentOS 7 doesn't zero 'xx'.. while newer glibc/gcc does</td><td class="time"><a href="#t2018-06-06T19:17:35" class="time">19:17</a></td></tr>
<tr id="t2018-06-06T19:17:38"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">thus the issue</td><td class="time"><a href="#t2018-06-06T19:17:38" class="time">19:17</a></td></tr>
<tr id="t2018-06-06T19:17:58"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: yes, different compilers, different results</td><td class="time"><a href="#t2018-06-06T19:17:58" class="time">19:17</a></td></tr>
<tr id="t2018-06-06T19:18:20"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">but I'd say this is a real bug that needs to be reported upstream.. and I think your change of removing the xx is the best fix..</td><td class="time"><a href="#t2018-06-06T19:18:20" class="time">19:18</a></td></tr>
<tr id="t2018-06-06T19:18:32"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: agreed on both counts</td><td class="time"><a href="#t2018-06-06T19:18:32" class="time">19:18</a></td></tr>
<tr id="t2018-06-06T19:18:35"><th class="nick" style="background: #5959a9">fray</th><td class="text" style="color: #5959a9">with an alternative to set xx = 0 when defined at the top</td><td class="time"><a href="#t2018-06-06T19:18:35" class="time">19:18</a></td></tr>
<tr id="t2018-06-06T19:19:53"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: I'll submit a pull request to remove it, see what is said</td><td class="time"><a href="#t2018-06-06T19:19:53" class="time">19:19</a></td></tr>
<tr id="t2018-06-06T19:24:05"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">RP: fray: I don't get it, xx does seem to be uncoditionally assigned before it's accessed?</td><td class="time"><a href="#t2018-06-06T19:24:05" class="time">19:24</a></td></tr>
<tr id="t2018-06-06T19:24:29"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">xx = setenv("PATH", path, 1);</td><td class="time"><a href="#t2018-06-06T19:24:29" class="time">19:24</a></td></tr>
<tr id="t2018-06-06T19:25:49"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">ah wait, does the { } block create new scope in C?</td><td class="time"><a href="#t2018-06-06T19:25:49" class="time">19:25</a></td></tr>
<tr id="t2018-06-06T19:26:50"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">if so, then reusing xx, and giving it a generic name in the first place is very silly indeed</td><td class="time"><a href="#t2018-06-06T19:26:50" class="time">19:26</a></td></tr>
<tr id="t2018-06-06T19:27:51"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: there shouldn't be different scope there</td><td class="time"><a href="#t2018-06-06T19:27:51" class="time">19:27</a></td></tr>
<tr id="t2018-06-06T19:28:26"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">RP: then I don't understand :)</td><td class="time"><a href="#t2018-06-06T19:28:26" class="time">19:28</a></td></tr>
<tr id="t2018-06-06T19:28:47"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">xx is set (through assignment from setenv) before it's accessed</td><td class="time"><a href="#t2018-06-06T19:28:47" class="time">19:28</a></td></tr>
<tr id="t2018-06-06T19:29:01"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144"><a href="https://github.com/rpm-software-management/rpm/pull/447" rel="nofollow">https://github.com/rpm-software-management/rpm/pull/447</a></td><td class="time"><a href="#t2018-06-06T19:29:01" class="time">19:29</a></td></tr>
<tr id="t2018-06-06T19:30:47"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: hmm. That is horrible code style.</td><td class="time"><a href="#t2018-06-06T19:30:47" class="time">19:30</a></td></tr>
<tr id="t2018-06-06T19:33:43"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: I'm also confused now, as you say, it should get zeroed</td><td class="time"><a href="#t2018-06-06T19:33:43" class="time">19:33</a></td></tr>
<tr id="t2018-06-06T19:35:11"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: I think its a gcc 4.8.5 compiler bug :(</td><td class="time"><a href="#t2018-06-06T19:35:11" class="time">19:35</a></td></tr>
<tr id="t2018-06-06T19:35:22"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: {} does create scope but it shouldn't change xx here</td><td class="time"><a href="#t2018-06-06T19:35:22" class="time">19:35</a></td></tr>
<tr id="t2018-06-06T19:35:32"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">well, it shoud</td><td class="time"><a href="#t2018-06-06T19:35:32" class="time">19:35</a></td></tr>
<tr id="t2018-06-06T19:36:38"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: although looking at the compile logs on a more recent system it does warn about xx being potentially uninitalised so there is a compiler warning for it</td><td class="time"><a href="#t2018-06-06T19:36:38" class="time">19:36</a></td></tr>
<tr id="t2018-06-06T19:37:53"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">RP: I'm trying to find an authoritative source on how such inner blocks behave</td><td class="time"><a href="#t2018-06-06T19:37:53" class="time">19:37</a></td></tr>
<tr id="t2018-06-06T19:38:28"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">is it like a C function, and so only a 'copy' of xx is assigned to and then thrown away?</td><td class="time"><a href="#t2018-06-06T19:38:28" class="time">19:38</a></td></tr>
<tr id="t2018-06-06T19:39:10"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: that is how it appears to behave...</td><td class="time"><a href="#t2018-06-06T19:39:10" class="time">19:39</a></td></tr>
<tr id="t2018-06-06T19:40:14"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">RP: maybe I just quickly write a toy program to verify instead</td><td class="time"><a href="#t2018-06-06T19:40:14" class="time">19:40</a></td></tr>
<tr id="t2018-06-06T19:44:06"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: I'm mixing up the compiler warnings :/</td><td class="time"><a href="#t2018-06-06T19:44:06" class="time">19:44</a></td></tr>
<tr id="t2018-06-06T19:45:53"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">no, I'm not, the compiler error messages are broken due to inlining</td><td class="time"><a href="#t2018-06-06T19:45:53" class="time">19:45</a></td></tr>
<tr id="t2018-06-06T19:47:02"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">RP: xx = setenv("PATH", path, 1); &lt;----- does this actually set xx to something else than zero?</td><td class="time"><a href="#t2018-06-06T19:47:02" class="time">19:47</a></td></tr>
<tr id="t2018-06-06T19:47:20"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">if it does, then the subsequent call doesn't happen</td><td class="time"><a href="#t2018-06-06T19:47:20" class="time">19:47</a></td></tr>
<tr id="t2018-06-06T19:47:25"><th class="nick" style="background: #539e9e">marka</th><td class="text" style="color: #539e9e">varjag</td><td class="time"><a href="#t2018-06-06T19:47:25" class="time">19:47</a></td></tr>
<tr id="t2018-06-06T19:48:13"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: The setenv() function returns zero on success, or -1 on error, with errno set to indicate the cause of the error.</td><td class="time"><a href="#t2018-06-06T19:48:13" class="time">19:48</a></td></tr>
<tr id="t2018-06-06T19:49:02"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">RP: yeah, then execv happens only if it's zero</td><td class="time"><a href="#t2018-06-06T19:49:02" class="time">19:49</a></td></tr>
<tr id="t2018-06-06T19:49:28"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: ../../git/lib/rpmscript.c:209:5: warning: ‘xx’ may be used uninitialized in this function [-Wmaybe-uninitialized]</td><td class="time"><a href="#t2018-06-06T19:49:28" class="time">19:49</a></td></tr>
<tr id="t2018-06-06T19:49:37"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: compiler seems to worry about this</td><td class="time"><a href="#t2018-06-06T19:49:37" class="time">19:49</a></td></tr>
<tr id="t2018-06-06T19:51:38"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: we patch out that setenv</td><td class="time"><a href="#t2018-06-06T19:51:38" class="time">19:51</a></td></tr>
<tr id="t2018-06-06T19:51:53"><th class="nick" style="background: #c3c366">JPEW</th><td class="text" style="color: #c3c366">FYI: -Wmaybe-uninitialized doesn't do static analysis, so it will complain even if code flow make is impossible for the variable to be used uninitialized</td><td class="time"><a href="#t2018-06-06T19:51:53" class="time">19:51</a></td></tr>
<tr id="t2018-06-06T19:52:04"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">RP: !!!!!</td><td class="time"><a href="#t2018-06-06T19:52:04" class="time">19:52</a></td></tr>
<tr id="t2018-06-06T19:52:18"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">RP: I guess I can have dinner now :)</td><td class="time"><a href="#t2018-06-06T19:52:18" class="time">19:52</a></td></tr>
<tr id="t2018-06-06T19:53:06"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: the patch is from this Alex guy... ;-)</td><td class="time"><a href="#t2018-06-06T19:53:06" class="time">19:53</a></td></tr>
<tr id="t2018-06-06T19:57:11"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">RP: yes, it occured to me that it's all my fault :) patching out a variable setting and not bothering to check where it's then used</td><td class="time"><a href="#t2018-06-06T19:57:11" class="time">19:57</a></td></tr>
<tr id="t2018-06-06T19:58:28"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: makes a change from it being my fault. This code is horrible. I'm going to leave the pull request open, see what happens</td><td class="time"><a href="#t2018-06-06T19:58:28" class="time">19:58</a></td></tr>
<tr id="t2018-06-06T19:59:35"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">RP:&nbsp;&nbsp;'There are now ways this function can fail to set xx at all' isn't a correct claim though</td><td class="time"><a href="#t2018-06-06T19:59:35" class="time">19:59</a></td></tr>
<tr id="t2018-06-06T20:01:40"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">RP: basically if you amend my patch, this should be sorted</td><td class="time"><a href="#t2018-06-06T20:01:40" class="time">20:01</a></td></tr>
<tr id="t2018-06-06T20:02:12"><th class="nick" style="background: #b86161">kanavin_home</th><td class="text" style="color: #b86161">either set xx to zero where it was set from setenv, or not check it before execv</td><td class="time"><a href="#t2018-06-06T20:02:12" class="time">20:02</a></td></tr>
<tr id="t2018-06-06T20:52:18"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_home: agreed. I've cancelled it</td><td class="time"><a href="#t2018-06-06T20:52:18" class="time">20:52</a></td></tr>
<tr id="t2018-06-06T20:54:41"><th class="nick" style="background: #c668c6">woglinde</th><td class="text" style="color: #c668c6">hi</td><td class="time"><a href="#t2018-06-06T20:54:41" class="time">20:54</a></td></tr>
<tr id="t2018-06-06T20:55:16"><th class="nick" style="background: #c668c6">woglinde</th><td class="text" style="color: #c668c6">was there a special git login url for the yocto git?</td><td class="time"><a href="#t2018-06-06T20:55:16" class="time">20:55</a></td></tr>
<tr id="t2018-06-06T20:57:20"><th class="nick" style="background: #c668c6">woglinde</th><td class="text" style="color: #c668c6">for developers of course</td><td class="time"><a href="#t2018-06-06T20:57:20" class="time">20:57</a></td></tr>
<tr id="t2018-06-06T20:59:33"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">woglinde: special in what way?</td><td class="time"><a href="#t2018-06-06T20:59:33" class="time">20:59</a></td></tr>
<tr id="t2018-06-06T21:00:07"><th class="nick" style="background: #c668c6">woglinde</th><td class="text" style="color: #c668c6">that I can push to the master branch of meta-java</td><td class="time"><a href="#t2018-06-06T21:00:07" class="time">21:00</a></td></tr>
<tr id="t2018-06-06T21:00:40"><th class="nick" style="background: #c668c6">woglinde</th><td class="text" style="color: #c668c6">or maybe my ssh key was removed git://git.yoctoproject.org/meta-java</td><td class="time"><a href="#t2018-06-06T21:00:40" class="time">21:00</a></td></tr>
<tr id="t2018-06-06T21:01:38"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">woglinde: ah, you may need to use push.yoctoproject.org ?</td><td class="time"><a href="#t2018-06-06T21:01:38" class="time">21:01</a></td></tr>
<tr id="t2018-06-06T21:01:56"><th class="nick" style="background: #c668c6">woglinde</th><td class="text" style="color: #c668c6">hm oh okay is that documented somewhere?</td><td class="time"><a href="#t2018-06-06T21:01:56" class="time">21:01</a></td></tr>
<tr id="t2018-06-06T21:02:21"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">woglinde: not sure, halstead might</td><td class="time"><a href="#t2018-06-06T21:02:21" class="time">21:02</a></td></tr>
<tr id="t2018-06-06T21:03:37"><th class="nick" style="background: #6acaca">halstead</th><td class="text" style="color: #6acaca">woglinde: I'm traveling so I missed the context. What's up?</td><td class="time"><a href="#t2018-06-06T21:03:37" class="time">21:03</a></td></tr>
<tr id="t2018-06-06T21:03:42"><th class="nick" style="background: #c668c6">woglinde</th><td class="text" style="color: #c668c6">ah okay</td><td class="time"><a href="#t2018-06-06T21:03:42" class="time">21:03</a></td></tr>
<tr id="t2018-06-06T21:03:47"><th class="nick" style="background: #c668c6">woglinde</th><td class="text" style="color: #c668c6">will try with push</td><td class="time"><a href="#t2018-06-06T21:03:47" class="time">21:03</a></td></tr>
<tr id="t2018-06-06T21:04:24"><th class="nick" style="background: #c668c6">woglinde</th><td class="text" style="color: #c668c6">hm and found it now</td><td class="time"><a href="#t2018-06-06T21:04:24" class="time">21:04</a></td></tr>
<tr id="t2018-06-06T21:04:27"><th class="nick" style="background: #c668c6">woglinde</th><td class="text" style="color: #c668c6"><a href="https://wiki.yoctoproject.org/wiki/Poky_Contributions" rel="nofollow">https://wiki.yoctoproject.org/wiki/Poky_Contributions</a></td><td class="time"><a href="#t2018-06-06T21:04:27" class="time">21:04</a></td></tr>
<tr id="t2018-06-06T21:06:43"><th class="nick" style="background: #c668c6">woglinde</th><td class="text" style="color: #c668c6">hm does not work either</td><td class="time"><a href="#t2018-06-06T21:06:43" class="time">21:06</a></td></tr>
<tr id="t2018-06-06T21:08:46"><th class="nick" style="background: #c668c6">woglinde</th><td class="text" style="color: #c668c6">hm ssh://git@git.yoctoproject.org/meta-java still works too</td><td class="time"><a href="#t2018-06-06T21:08:46" class="time">21:08</a></td></tr>
<tr id="t2018-06-06T21:09:24"><th class="nick" style="background: #c668c6">woglinde</th><td class="text" style="color: #c668c6">and that worked for pushing</td><td class="time"><a href="#t2018-06-06T21:09:24" class="time">21:09</a></td></tr>
<tr id="t2018-06-06T21:09:38"><th class="nick" style="background: #c668c6">woglinde</th><td class="text" style="color: #c668c6">good to have the emails from 4 years ago</td><td class="time"><a href="#t2018-06-06T21:09:38" class="time">21:09</a></td></tr>
<tr id="t2018-06-06T21:12:43"><th class="nick" style="background: #6acaca">halstead</th><td class="text" style="color: #6acaca">woglinde: that will work at the moment but not always. You might have proxy settings to update for the new URL.</td><td class="time"><a href="#t2018-06-06T21:12:43" class="time">21:12</a></td></tr>
<tr id="t2018-06-06T21:13:20"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: so here is new patches <a href="http://git.openembedded.org/openembedded-core-contrib/log/?h=kraj/master" rel="nofollow">http://git.openembedded.org/openembedded-core-contrib/log/?h=kraj/master</a></td><td class="time"><a href="#t2018-06-06T21:13:20" class="time">21:13</a></td></tr>
<tr id="t2018-06-06T21:13:31"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: addressed both ppc and arm tune issues</td><td class="time"><a href="#t2018-06-06T21:13:31" class="time">21:13</a></td></tr>
<tr id="t2018-06-06T21:13:48"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1"><a href="http://git.openembedded.org/openembedded-core-contrib/commit/?h=kraj/master&amp;id=635c8757bf852c8a4248009f241c19146431cacd" rel="nofollow">http://git.openembedded.org/openembedded-core-contrib/commit/?h=kraj/master&amp;id=635c8757bf852c8a4248009f241c19146431cacd</a></td><td class="time"><a href="#t2018-06-06T21:13:48" class="time">21:13</a></td></tr>
<tr id="t2018-06-06T21:14:24"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">ppc change is booting qemuppc and testimage works too</td><td class="time"><a href="#t2018-06-06T21:14:24" class="time">21:14</a></td></tr>
<tr id="t2018-06-06T21:14:54"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">I am now building for rpi3 and see if I get gcc-runtime issue due to march/mcpu conflict</td><td class="time"><a href="#t2018-06-06T21:14:54" class="time">21:14</a></td></tr>
<tr id="t2018-06-06T21:56:12"><th class="nick" style="background: #ce6c6c">armpit</th><td class="text" style="color: #ce6c6c">halstead, do you deal with patch queue ?</td><td class="time"><a href="#t2018-06-06T21:56:12" class="time">21:56</a></td></tr>
<tr id="t2018-06-06T21:57:09"><td class="action" colspan="2">* armpit we need to list who is admin for that</td><td><a href="#t2018-06-06T21:57:09" class="time">21:57</a></td></tr>
<tr id="t2018-06-06T21:57:26"><td class="action" colspan="2">* armpit needs sumo-master added for both core and meta-or</td><td><a href="#t2018-06-06T21:57:26" class="time">21:57</a></td></tr>
<tr id="t2018-06-06T21:57:47"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: that looks much better! :)</td><td class="time"><a href="#t2018-06-06T21:57:47" class="time">21:57</a></td></tr>
<tr id="t2018-06-06T21:57:58"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: have you talked to zeddii about the kernel patches?</td><td class="time"><a href="#t2018-06-06T21:57:58" class="time">21:57</a></td></tr>
<tr id="t2018-06-06T22:07:37"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">armpit: list where? I think part of the trouble is the maintainers have changed but halstead should be able to help</td><td class="time"><a href="#t2018-06-06T22:07:37" class="time">22:07</a></td></tr>
<tr id="t2018-06-06T22:09:22"><th class="nick" style="background: #ce6c6c">armpit</th><td class="text" style="color: #ce6c6c">RP, a list of who has admin privileges. it should be on OE wiki</td><td class="time"><a href="#t2018-06-06T22:09:22" class="time">22:09</a></td></tr>
<tr id="t2018-06-06T22:09:35"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">armpit: agreed</td><td class="time"><a href="#t2018-06-06T22:09:35" class="time">22:09</a></td></tr>
<tr id="t2018-06-06T22:09:43"><th class="nick" style="background: #ce6c6c">armpit</th><td class="text" style="color: #ce6c6c">or who to email if there are issues</td><td class="time"><a href="#t2018-06-06T22:09:43" class="time">22:09</a></td></tr>
<tr id="t2018-06-06T22:15:08"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">armpit: arbrindle (not in this channel but on irc) may be able to help too</td><td class="time"><a href="#t2018-06-06T22:15:08" class="time">22:15</a></td></tr>
<tr id="t2018-06-06T22:15:36"><th class="nick" style="background: #ce6c6c">armpit</th><td class="text" style="color: #ce6c6c">k</td><td class="time"><a href="#t2018-06-06T22:15:36" class="time">22:15</a></td></tr>
<tr id="t2018-06-06T22:16:53"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: If I can get the current patches in -next resolved, I'll look at testing gcc8 next</td><td class="time"><a href="#t2018-06-06T22:16:53" class="time">22:16</a></td></tr>
<tr id="t2018-06-06T22:45:33"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: yes I have, he has already staged them but his changes are not applied yet, he planned to send a pull yesterday with these changes in</td><td class="time"><a href="#t2018-06-06T22:45:33" class="time">22:45</a></td></tr>
<tr id="t2018-06-06T22:46:01"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: raspberrypi3 worked well testimage passed as well</td><td class="time"><a href="#t2018-06-06T22:46:01" class="time">22:46</a></td></tr>
<tr id="t2018-06-06T22:46:13"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">so its looking ok so far.</td><td class="time"><a href="#t2018-06-06T22:46:13" class="time">22:46</a></td></tr>
<tr id="t2018-06-06T22:46:19"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: ok, we're looking good :)</td><td class="time"><a href="#t2018-06-06T22:46:19" class="time">22:46</a></td></tr>
<tr id="t2018-06-06T22:46:49"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">I am now running world builds for musl/glibc on pi and qemux86_64 tonight to see how it fairs with my reference builds</td><td class="time"><a href="#t2018-06-06T22:46:49" class="time">22:46</a></td></tr>
<tr id="t2018-06-06T22:47:24"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">but stage them if AB is free</td><td class="time"><a href="#t2018-06-06T22:47:24" class="time">22:47</a></td></tr>
<tr id="t2018-06-06T22:49:17"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">so we can get better coverage, only arm/ppc is interesting other should not change</td><td class="time"><a href="#t2018-06-06T22:49:17" class="time">22:49</a></td></tr>
<tr id="t2018-06-06T22:50:54"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: its next in the queue once I resolve the current patches (which are building)</td><td class="time"><a href="#t2018-06-06T22:50:54" class="time">22:50</a></td></tr>
<tr id="t2018-06-06T22:51:09"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">ok cool</td><td class="time"><a href="#t2018-06-06T22:51:09" class="time">22:51</a></td></tr>
<tr id="t2018-06-06T23:16:48"><td class="part" colspan="2">*** scottrif &lt;scottrif!~scottrif@47-40-108-60.dhcp.knwc.wa.charter.com&gt; has left #yocto</td><td><a href="#t2018-06-06T23:16:48" class="time">23:16</a></td></tr>
<tr id="t2018-06-06T23:35:34"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: Its started to run now so we'll have results tomorrow</td><td class="time"><a href="#t2018-06-06T23:35:34" class="time">23:35</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2018-06-05.log.html">&#171; Tuesday, 2018-06-05</a> <a href="index.html">Index</a> <a href="%23yocto.2018-06-07.log.html">Thursday, 2018-06-07 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
