<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Monday, 2018-05-21</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Monday, 2018-05-21</h1>
<div class="navigation"> <a href="%23yocto.2018-05-20.log.html">&#171; Sunday, 2018-05-20</a> <a href="index.html">Index</a> <a href="%23yocto.2018-05-22.log.html">Tuesday, 2018-05-22 &#187;</a> </div>
<table class="irclog">
<tr id="t2018-05-21T05:07:44"><th class="nick" style="background: #407a40">vishnu_nk</th><td class="text" style="color: #407a40">Hi</td><td class="time"><a href="#t2018-05-21T05:07:44" class="time">05:07</a></td></tr>
<tr id="t2018-05-21T05:08:25"><th class="nick" style="background: #407a40">vishnu_nk</th><td class="text" style="color: #407a40">Have anyone used meta-toolchain SDK as a prebuilt binary for gcc-cross toolchain?</td><td class="time"><a href="#t2018-05-21T05:08:25" class="time">05:08</a></td></tr>
<tr id="t2018-05-21T05:24:45"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">closes you have is linaro external toolchain IIRC</td><td class="time"><a href="#t2018-05-21T05:24:45" class="time">05:24</a></td></tr>
<tr id="t2018-05-21T05:25:14"><th class="nick" style="background: #407a40">vishnu_nk</th><td class="text" style="color: #407a40">Sorry I didnt understand</td><td class="time"><a href="#t2018-05-21T05:25:14" class="time">05:25</a></td></tr>
<tr id="t2018-05-21T05:28:07"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">i thought you wanted to generate SDK out of cross-gcc generated toolchain but it seems you simply want a SDK</td><td class="time"><a href="#t2018-05-21T05:28:07" class="time">05:28</a></td></tr>
<tr id="t2018-05-21T05:28:26"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">in that case. I think&nbsp;&nbsp;bitbake meta-toolchain will do it for you</td><td class="time"><a href="#t2018-05-21T05:28:26" class="time">05:28</a></td></tr>
<tr id="t2018-05-21T05:28:51"><th class="nick" style="background: #407a40">vishnu_nk</th><td class="text" style="color: #407a40">Yeah. I want to use this meta-toolchain sdk as a prebuilt binary.</td><td class="time"><a href="#t2018-05-21T05:28:51" class="time">05:28</a></td></tr>
<tr id="t2018-05-21T05:29:55"><th class="nick" style="background: #407a40">vishnu_nk</th><td class="text" style="color: #407a40">But then from sdk toolchain + other libraries will be also present. Then will I have to give task[no_exec] = "1" for all the packages that comes from SDK?</td><td class="time"><a href="#t2018-05-21T05:29:55" class="time">05:29</a></td></tr>
<tr id="t2018-05-21T05:30:26"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">you might want to try released ones from here <a href="http://downloads.yoctoproject.org/releases/yocto/yocto-2.5/toolchain/x86_64/" rel="nofollow">http://downloads.yoctoproject.org/releases/yocto/yocto-2.5/toolchain/x86_64/</a></td><td class="time"><a href="#t2018-05-21T05:30:26" class="time">05:30</a></td></tr>
<tr id="t2018-05-21T05:31:24"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">oh so you do want to insert it as external toolchain ?</td><td class="time"><a href="#t2018-05-21T05:31:24" class="time">05:31</a></td></tr>
<tr id="t2018-05-21T05:31:52"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">usually thats not a common usecase</td><td class="time"><a href="#t2018-05-21T05:31:52" class="time">05:31</a></td></tr>
<tr id="t2018-05-21T05:32:17"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">probably you should look into extensible SDK</td><td class="time"><a href="#t2018-05-21T05:32:17" class="time">05:32</a></td></tr>
<tr id="t2018-05-21T05:32:30"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">thats a better approach for using prebuilt artifacts</td><td class="time"><a href="#t2018-05-21T05:32:30" class="time">05:32</a></td></tr>
<tr id="t2018-05-21T05:32:51"><th class="nick" style="background: #407a40">vishnu_nk</th><td class="text" style="color: #407a40">The actual purpose is, I can use the binaries that ships with the SDK to skip do_compile() for toolchains and directly proceed with do_install() from the binaries that comes with SDK</td><td class="time"><a href="#t2018-05-21T05:32:51" class="time">05:32</a></td></tr>
<tr id="t2018-05-21T05:35:17"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">I understand what you want to do, but thats not a normal way</td><td class="time"><a href="#t2018-05-21T05:35:17" class="time">05:35</a></td></tr>
<tr id="t2018-05-21T05:35:48"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">those SDKs are meant for application development and not for doing full platform</td><td class="time"><a href="#t2018-05-21T05:35:48" class="time">05:35</a></td></tr>
<tr id="t2018-05-21T05:36:32"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">usually someone writes recipes for the applications and then let yocto build system generate the full platform image</td><td class="time"><a href="#t2018-05-21T05:36:32" class="time">05:36</a></td></tr>
<tr id="t2018-05-21T05:37:08"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">but now there is extensible SDK which ships prebuilt platform along so one can use pretty much everything prebuilt</td><td class="time"><a href="#t2018-05-21T05:37:08" class="time">05:37</a></td></tr>
<tr id="t2018-05-21T05:37:26"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">and then just build the apps and be able to generate images quickly</td><td class="time"><a href="#t2018-05-21T05:37:26" class="time">05:37</a></td></tr>
<tr id="t2018-05-21T05:37:59"><th class="nick" style="background: #407a40">vishnu_nk</th><td class="text" style="color: #407a40">Pointing to install the sdk in the sysroot using do_install() and the trying to run a full build. WIll it work?</td><td class="time"><a href="#t2018-05-21T05:37:59" class="time">05:37</a></td></tr>
<tr id="t2018-05-21T05:38:00"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">see this <a href="https://www.yoctoproject.org/docs/current/sdk-manual/sdk-manual.html" rel="nofollow">https://www.yoctoproject.org/docs/current/sdk-manual/sdk-manual.html</a></td><td class="time"><a href="#t2018-05-21T05:38:00" class="time">05:38</a></td></tr>
<tr id="t2018-05-21T08:12:24"><td class="nickchange" colspan="2">*** itwiznuardwaur is now known as bankhead</td><td><a href="#t2018-05-21T08:12:24" class="time">08:12</a></td></tr>
<tr id="t2018-05-21T08:13:53"><td class="nickchange" colspan="2">*** bankhead is now known as bashprogfortysix</td><td><a href="#t2018-05-21T08:13:53" class="time">08:13</a></td></tr>
<tr id="t2018-05-21T09:57:17"><th class="nick" style="background: #818144">fancer</th><td class="text" style="color: #818144">Hello, yocto-folks!</td><td class="time"><a href="#t2018-05-21T09:57:17" class="time">09:57</a></td></tr>
<tr id="t2018-05-21T09:59:09"><th class="nick" style="background: #818144">fancer</th><td class="text" style="color: #818144">I am struggling with a problem connected with TUNE_FEATURES settings so one would reflect the hardware features and compiler functionality.</td><td class="time"><a href="#t2018-05-21T09:59:09" class="time">09:59</a></td></tr>
<tr id="t2018-05-21T09:59:36"><th class="nick" style="background: #818144">fancer</th><td class="text" style="color: #818144">The thing is my MIPS SoC support MSA instructions, which support has been added to gcc 7.3 only</td><td class="time"><a href="#t2018-05-21T09:59:36" class="time">09:59</a></td></tr>
<tr id="t2018-05-21T09:59:49"><th class="nick" style="background: #818144">fancer</th><td class="text" style="color: #818144">* s/7.3/7.1</td><td class="time"><a href="#t2018-05-21T09:59:49" class="time">09:59</a></td></tr>
<tr id="t2018-05-21T10:00:50"><th class="nick" style="background: #818144">fancer</th><td class="text" style="color: #818144">So when I add -mmsa to TUNE_FEATURES , the yocto build process works pretty much well only for gcc 7.3.</td><td class="time"><a href="#t2018-05-21T10:00:50" class="time">10:00</a></td></tr>
<tr id="t2018-05-21T10:01:34"><th class="nick" style="background: #818144">fancer</th><td class="text" style="color: #818144">The older compilers are whining&nbsp;&nbsp;about the incompatible option.</td><td class="time"><a href="#t2018-05-21T10:01:34" class="time">10:01</a></td></tr>
<tr id="t2018-05-21T10:02:05"><th class="nick" style="background: #818144">fancer</th><td class="text" style="color: #818144">Of course I tried to make msa feature optional.</td><td class="time"><a href="#t2018-05-21T10:02:05" class="time">10:02</a></td></tr>
<tr id="t2018-05-21T10:02:56"><th class="nick" style="background: #818144">fancer</th><td class="text" style="color: #818144">TUNE_FEATURES_tune-p5600le += "${@'msa' if int('${GCC_VERSION}'.split('.')[0]) &gt;= 7 else ''}"</td><td class="time"><a href="#t2018-05-21T10:02:56" class="time">10:02</a></td></tr>
<tr id="t2018-05-21T10:03:25"><td class="nickchange" colspan="2">*** bashprogfortysix is now known as \x01ACTION</td><td><a href="#t2018-05-21T10:03:25" class="time">10:03</a></td></tr>
<tr id="t2018-05-21T10:07:43"><th class="nick" style="background: #818144">fancer</th><td class="text" style="color: #818144">Since I'm using meta-external-toolchain to build yocto, GCC_VERSION is determined based on the external binaries by calling "mips-unknown-version-gcc -v". The corresponding function (like this: external_run('gcc', '-dumpversion')) is declared in a class globallt inherited way after TUNE_FEATURES actually referenced, so I keep getting an error:</td><td class="time"><a href="#t2018-05-21T10:07:43" class="time">10:07</a></td></tr>
<tr id="t2018-05-21T10:07:43"><th class="nick" style="background: #818144">fancer</th><td class="text" style="color: #818144">"Failure expanding variable GCC_VERSION, expression was ${@external_run(d, 'gcc', '-dumpversion').rstrip()} which triggered exception NameError: name 'external_run' is not defined"</td><td class="time"><a href="#t2018-05-21T10:07:43" class="time">10:07</a></td></tr>
<tr id="t2018-05-21T10:08:45"><td class="nickchange" colspan="2">*** \x01ACTION is now known as FinalFantasyXii</td><td><a href="#t2018-05-21T10:08:45" class="time">10:08</a></td></tr>
<tr id="t2018-05-21T10:09:22"><th class="nick" style="background: #818144">fancer</th><td class="text" style="color: #818144">kergoth: the question is mostly for you, man, since you are familiar with external-toolchain layer. What is the best way to exclude msa feature unsupported by compiler from TUNE_FEATURES?</td><td class="time"><a href="#t2018-05-21T10:09:22" class="time">10:09</a></td></tr>
<tr id="t2018-05-21T10:14:25"><th class="nick" style="background: #818144">fancer</th><td class="text" style="color: #818144">So to speak I got a triple dependency here:</td><td class="time"><a href="#t2018-05-21T10:14:25" class="time">10:14</a></td></tr>
<tr id="t2018-05-21T10:14:25"><th class="nick" style="background: #818144">fancer</th><td class="text" style="color: #818144">TUNE_FEATURE -&gt; GCC_VERSION -&gt; external_run(). The function is declared in a class of meta-external-toolchain and globally inherited in tcmode-external.inc. But TUNE_FEATURE is declared and referenced somewhere before the tcmode-external.inc included to bitbake.conf.</td><td class="time"><a href="#t2018-05-21T10:14:25" class="time">10:14</a></td></tr>
<tr id="t2018-05-21T10:14:51"><th class="nick" style="background: #818144">fancer</th><td class="text" style="color: #818144">It causes the error above.(</td><td class="time"><a href="#t2018-05-21T10:14:51" class="time">10:14</a></td></tr>
<tr id="t2018-05-21T10:41:01"><td class="nickchange" colspan="2">*** FinalFantasyXii is now known as boxtropicsevilse</td><td><a href="#t2018-05-21T10:41:01" class="time">10:41</a></td></tr>
<tr id="t2018-05-21T10:42:50"><td class="nickchange" colspan="2">*** boxtropicsevilse is now known as SC-da-A-FGGGFrrf</td><td><a href="#t2018-05-21T10:42:50" class="time">10:42</a></td></tr>
<tr id="t2018-05-21T10:48:42"><th class="nick" style="background: #854685">acrap</th><td class="text" style="color: #854685">Hi folks!</td><td class="time"><a href="#t2018-05-21T10:48:42" class="time">10:48</a></td></tr>
<tr id="t2018-05-21T10:49:37"><th class="nick" style="background: #854685">acrap</th><td class="text" style="color: #854685">What should I do if it isn't any LICENSE in recipe sources?</td><td class="time"><a href="#t2018-05-21T10:49:37" class="time">10:49</a></td></tr>
<tr id="t2018-05-21T10:49:40"><th class="nick" style="background: #854685">acrap</th><td class="text" style="color: #854685">I got ERROR: libzip-0.9-r1 do_populate_lic: QA Issue: libzip: Recipe file fetches files and does not have license file information (LIC_FILES_CHKSUM) [license-checksum]</td><td class="time"><a href="#t2018-05-21T10:49:40" class="time">10:49</a></td></tr>
<tr id="t2018-05-21T10:50:11"><th class="nick" style="background: #854685">acrap</th><td class="text" style="color: #854685">there is no any LICENSE files to be added to LIC_FILES_CHKSUM</td><td class="time"><a href="#t2018-05-21T10:50:11" class="time">10:50</a></td></tr>
<tr id="t2018-05-21T10:50:57"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">acrap: you can point it at the header in a source file</td><td class="time"><a href="#t2018-05-21T10:50:57" class="time">10:50</a></td></tr>
<tr id="t2018-05-21T10:52:14"><th class="nick" style="background: #854685">acrap</th><td class="text" style="color: #854685">rburton: it seems like temporary stab. Is there a prettier solution?</td><td class="time"><a href="#t2018-05-21T10:52:14" class="time">10:52</a></td></tr>
<tr id="t2018-05-21T10:52:41"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">tell upstream to clearly document the license terms?</td><td class="time"><a href="#t2018-05-21T10:52:41" class="time">10:52</a></td></tr>
<tr id="t2018-05-21T10:52:59"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">if the only place the license is documented is in a comment in a C file, thats what you add to LIC_FILES_CHKSUM</td><td class="time"><a href="#t2018-05-21T10:52:59" class="time">10:52</a></td></tr>
<tr id="t2018-05-21T10:53:17"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">(you can tell it a line range)</td><td class="time"><a href="#t2018-05-21T10:53:17" class="time">10:53</a></td></tr>
<tr id="t2018-05-21T10:53:30"><th class="nick" style="background: #854685">acrap</th><td class="text" style="color: #854685">I see</td><td class="time"><a href="#t2018-05-21T10:53:30" class="time">10:53</a></td></tr>
<tr id="t2018-05-21T10:53:35"><th class="nick" style="background: #854685">acrap</th><td class="text" style="color: #854685">Thanks!</td><td class="time"><a href="#t2018-05-21T10:53:35" class="time">10:53</a></td></tr>
<tr id="t2018-05-21T10:53:40"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">of course a comment with /* GPL */ isn't really legally binding so upstream *should* fix it</td><td class="time"><a href="#t2018-05-21T10:53:40" class="time">10:53</a></td></tr>
<tr id="t2018-05-21T10:59:46"><td class="nickchange" colspan="2">*** SC-da-A-FGGGFrrf is now known as subsylum</td><td><a href="#t2018-05-21T10:59:46" class="time">10:59</a></td></tr>
<tr id="t2018-05-21T12:02:02"><td class="part" colspan="2">*** dman_ &lt;dman_!57f2a171@gateway/web/freenode/ip.87.242.161.113&gt; has left #yocto</td><td><a href="#t2018-05-21T12:02:02" class="time">12:02</a></td></tr>
<tr id="t2018-05-21T12:10:02"><td class="part" colspan="2">*** dman_ &lt;dman_!~quassel@host-87-242-161-113.static.onetel.net.uk&gt; has left #yocto</td><td><a href="#t2018-05-21T12:10:02" class="time">12:10</a></td></tr>
<tr id="t2018-05-21T12:56:51"><th class="nick" style="background: #8c4a4a">fberg</th><td class="text" style="color: #8c4a4a">hello guys.. I have added TOOLCHAIN_HOST_TASK_append += "nativesdk-cmake-dev" to my local.conf. Hence I have run: bitbake core-image-minimal -c populate_sdk. I have foudn the sdk in tmp/work/raspberrypi/core-image-minimal/1.0-r0/sdk/image/opt/poky/2.4.2/. I have this recipe being built <a href="https://pastebin.com/rKUA54Kc" rel="nofollow">https://pastebin.com/rKUA54Kc</a> which provides libjsmn.a and jsmn.h. I can't figured why jsmn.h is not added to the sdk sysroot. I can see it in</td><td class="time"><a href="#t2018-05-21T12:56:51" class="time">12:56</a></td></tr>
<tr id="t2018-05-21T12:56:51"><th class="nick" style="background: #8c4a4a">fberg</th><td class="text" style="color: #8c4a4a">cortexa7hf-neon-vfpv4-poky-linux-gnueabi/jsmn/1.0.0-r0/image/usr/include/jsmn.h. Does anyone has any hint ?</td><td class="time"><a href="#t2018-05-21T12:56:51" class="time">12:56</a></td></tr>
<tr id="t2018-05-21T13:04:15"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2018-05-21T13:04:15" class="time">13:04</a></td></tr>
<tr id="t2018-05-21T13:04:56"><th class="nick" style="background: #4b904b">tlwoerner</th><td class="text" style="color: #4b904b">oe meeting is starting in #oe-meeting, <a href="https://www.openembedded.org/wiki/2018_05_General_Meeting" rel="nofollow">https://www.openembedded.org/wiki/2018_05_General_Meeting</a></td><td class="time"><a href="#t2018-05-21T13:04:56" class="time">13:04</a></td></tr>
<tr id="t2018-05-21T13:12:40"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888"> should the license-ignoring magic we do for CLOSED be also done for Properiatery?</td><td class="time"><a href="#t2018-05-21T13:12:40" class="time">13:12</a></td></tr>
<tr id="t2018-05-21T13:12:44"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">oh oe meeting!</td><td class="time"><a href="#t2018-05-21T13:12:44" class="time">13:12</a></td></tr>
<tr id="t2018-05-21T14:11:51"><td class="part" colspan="2">*** carolinark &lt;carolinark!bf040bb9@gateway/web/freenode/ip.191.4.11.185&gt; has left #yocto</td><td><a href="#t2018-05-21T14:11:51" class="time">14:11</a></td></tr>
<tr id="t2018-05-21T14:15:23"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">rburton: probably although two things which do the same thing can be frustrating</td><td class="time"><a href="#t2018-05-21T14:15:23" class="time">14:15</a></td></tr>
<tr id="t2018-05-21T15:14:32"><td class="part" colspan="2">*** dman_ &lt;dman_!~quassel@host-87-242-161-113.static.onetel.net.uk&gt; has left #yocto</td><td><a href="#t2018-05-21T15:14:32" class="time">15:14</a></td></tr>
<tr id="t2018-05-21T15:25:13"><th class="nick" style="background: #97974f">yocti</th><td class="text" style="color: #97974f">New news from stackoverflow: Stripping base path off the unpacked source tree with bitbake SRC_URI file:// fetcher &lt;<a href="https://stackoverflow.com/questions/50451961/stripping-base-path-off-the-unpacked-source-tree-with-bitbake-src-uri-file-fe&gt;" rel="nofollow">https://stackoverflow.com/questions/50451961/stripping-base-path-off-the-unpacked-source-tree-with-bitbake-src-uri-file-fe&gt;</a></td><td class="time"><a href="#t2018-05-21T15:25:13" class="time">15:25</a></td></tr>
<tr id="t2018-05-21T15:37:33"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2018-05-21T15:37:33" class="time">15:37</a></td></tr>
<tr id="t2018-05-21T16:36:49"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">I have a small out-of-tree kernel module. I tried to follow the instructions in <a href="https://www.yoctoproject.org/docs/2.4.1/kernel-dev/kernel-dev.html#incorporating-out-of-tree-modules" rel="nofollow">https://www.yoctoproject.org/docs/2.4.1/kernel-dev/kernel-dev.html#incorporating-out-of-tree-modules</a>&nbsp;&nbsp;However, neither KERNEL_SRC nor KERNEL_PATH seem to be defined when my recipe gets executed. What could be wrong here?</td><td class="time"><a href="#t2018-05-21T16:36:49" class="time">16:36</a></td></tr>
<tr id="t2018-05-21T16:40:37"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">my user space has always been built under tmp/work/corei7-64-poky-linux , but my kernel under&nbsp;&nbsp;tmp/work/corei7-64-intel-common-poky-linux/&nbsp;&nbsp;I don't know where this difference comes from, it has not cause any trouble so far. But now this out-of-tree kernel recipe gets also built in the "user space location" and I am not sure whether that could be part of the problem</td><td class="time"><a href="#t2018-05-21T16:40:37" class="time">16:40</a></td></tr>
<tr id="t2018-05-21T16:51:35"><th class="nick" style="background: #539e9e">majuk</th><td class="text" style="color: #539e9e">So I have a custom board with a custom layer. I have my machine config in MY-LAYER/conf/machine/MYMACHINE.conf and I have some images in MY-LAYER/recipes-core/images/. My issue is I have some DISTRO_FEATURES changes I need to make [namely removing X11, wayland and alsa]. Where is the 'proper' place to put DISTRO modifications?</td><td class="time"><a href="#t2018-05-21T16:51:35" class="time">16:51</a></td></tr>
<tr id="t2018-05-21T16:53:08"><th class="nick" style="background: #539e9e">majuk</th><td class="text" style="color: #539e9e">Any questions or comments appreciated.</td><td class="time"><a href="#t2018-05-21T16:53:08" class="time">16:53</a></td></tr>
<tr id="t2018-05-21T16:54:39"><th class="nick" style="background: #539e9e">majuk</th><td class="text" style="color: #539e9e">Up to this point, this DISTRO_FEATURES_remove line has lived in THISBUILD/conf/local.conf but I'm trying to get my baseline system config completely into my custom layer</td><td class="time"><a href="#t2018-05-21T16:54:39" class="time">16:54</a></td></tr>
<tr id="t2018-05-21T17:00:13"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">I'm quite new to Yocto internals, but while I wait for an answer to my quation let me try: I think the manual gives a clear answer: You define your distribution features in the distribution configuration file.</td><td class="time"><a href="#t2018-05-21T17:00:13" class="time">17:00</a></td></tr>
<tr id="t2018-05-21T17:00:32"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b"><a href="https://www.yoctoproject.org/docs/2.5/mega-manual/mega-manual.html#var-DISTRO_FEATURES" rel="nofollow">https://www.yoctoproject.org/docs/2.5/mega-manual/mega-manual.html#var-DISTRO_FEATURES</a></td><td class="time"><a href="#t2018-05-21T17:00:32" class="time">17:00</a></td></tr>
<tr id="t2018-05-21T17:01:47"><th class="nick" style="background: #539e9e">majuk</th><td class="text" style="color: #539e9e">u1106: Ah, thanks, I was looking in there but not finding file names. I think that's what I needed. Thanks.</td><td class="time"><a href="#t2018-05-21T17:01:47" class="time">17:01</a></td></tr>
<tr id="t2018-05-21T17:05:44"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">the filename should be conf/layer/distro/&lt;MY-LAYER&gt;.conf I guess</td><td class="time"><a href="#t2018-05-21T17:05:44" class="time">17:05</a></td></tr>
<tr id="t2018-05-21T17:07:39"><th class="nick" style="background: #539e9e">majuk</th><td class="text" style="color: #539e9e">Sounds reasonable.</td><td class="time"><a href="#t2018-05-21T17:07:39" class="time">17:07</a></td></tr>
<tr id="t2018-05-21T17:20:23"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">it's &lt;distro&gt;.conf, as implied by both the path and the documentation</td><td class="time"><a href="#t2018-05-21T17:20:23" class="time">17:20</a></td></tr>
<tr id="t2018-05-21T17:20:25"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">not layer</td><td class="time"><a href="#t2018-05-21T17:20:25" class="time">17:20</a></td></tr>
<tr id="t2018-05-21T17:21:10"><th class="nick" style="background: #539e9e">majuk</th><td class="text" style="color: #539e9e">kergoth: Thanks.</td><td class="time"><a href="#t2018-05-21T17:21:10" class="time">17:21</a></td></tr>
<tr id="t2018-05-21T17:25:36"><th class="nick" style="background: #97974f">yocti</th><td class="text" style="color: #97974f">New news from stackoverflow: add touchscreen support imx6 &lt;<a href="https://stackoverflow.com/questions/50453533/add-touchscreen-support-imx6&gt;" rel="nofollow">https://stackoverflow.com/questions/50453533/add-touchscreen-support-imx6&gt;</a></td><td class="time"><a href="#t2018-05-21T17:25:36" class="time">17:25</a></td></tr>
<tr id="t2018-05-21T17:25:43"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">of course</td><td class="time"><a href="#t2018-05-21T17:25:43" class="time">17:25</a></td></tr>
<tr id="t2018-05-21T17:29:06"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">while we are at it, yocto-check-layer checks that in a distro layer the &lt;distro&gt;.conf does not set the DISTRO variable. But poky does just that. Any explanation for that. (Hope I remeber the details right now, it's been a while when I wondered how that is really supposed to work)</td><td class="time"><a href="#t2018-05-21T17:29:06" class="time">17:29</a></td></tr>
<tr id="t2018-05-21T17:29:52"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">no, that's not what it checks. and that question doesn't make any sense</td><td class="time"><a href="#t2018-05-21T17:29:52" class="time">17:29</a></td></tr>
<tr id="t2018-05-21T17:30:22"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">bitbake.conf includes conf/distro/${DISTRO}.conf. DISTRO by definition has to be set before the distro config file is loaded, hence must be set in the environment or local.conf</td><td class="time"><a href="#t2018-05-21T17:30:22" class="time">17:30</a></td></tr>
<tr id="t2018-05-21T17:30:43"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">very rarely it gets altered by the included distro after the fact, but there are very very few reasons to do it, it's pointless</td><td class="time"><a href="#t2018-05-21T17:30:43" class="time">17:30</a></td></tr>
<tr id="t2018-05-21T17:31:59"><td class="action" colspan="2">* kergoth ponders</td><td><a href="#t2018-05-21T17:31:59" class="time">17:31</a></td></tr>
<tr id="t2018-05-21T17:33:29"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">kergoth: thanks for the answer, I will check again what error message exactly I got on my own layer (or some old version of it...) and ask again tomorrow if that's OK.</td><td class="time"><a href="#t2018-05-21T17:33:29" class="time">17:33</a></td></tr>
<tr id="t2018-05-21T17:34:10"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">np</td><td class="time"><a href="#t2018-05-21T17:34:10" class="time">17:34</a></td></tr>
<tr id="t2018-05-21T17:38:11"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">at least poky does set its own DISTRO, which is ineed a bit weird because of conf/distro/${DISTRO}.conf being included</td><td class="time"><a href="#t2018-05-21T17:38:11" class="time">17:38</a></td></tr>
<tr id="t2018-05-21T17:38:11"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">$ grep "DISTRO " poky/meta-poky/conf/distro/poky.conf</td><td class="time"><a href="#t2018-05-21T17:38:11" class="time">17:38</a></td></tr>
<tr id="t2018-05-21T17:38:11"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">DISTRO = "poky"</td><td class="time"><a href="#t2018-05-21T17:38:11" class="time">17:38</a></td></tr>
<tr id="t2018-05-21T17:53:44"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">Now I remember better, the point is if a distro changes the distro name yocto-check-layer will complain</td><td class="time"><a href="#t2018-05-21T17:53:44" class="time">17:53</a></td></tr>
<tr id="t2018-05-21T17:53:49"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">git grep -A5 "def test_distro_no_set_distros(self)"</td><td class="time"><a href="#t2018-05-21T17:53:49" class="time">17:53</a></td></tr>
<tr id="t2018-05-21T17:53:49"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">scripts/lib/checklayer/cases/distro.py:&nbsp;&nbsp;&nbsp;&nbsp;def test_distro_no_set_distros(self):</td><td class="time"><a href="#t2018-05-21T17:53:49" class="time">17:53</a></td></tr>
<tr id="t2018-05-21T17:53:49"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">scripts/lib/checklayer/cases/distro.py-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from oeqa.utils.commands import get_bb_var</td><td class="time"><a href="#t2018-05-21T17:53:49" class="time">17:53</a></td></tr>
<tr id="t2018-05-21T17:53:49"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">scripts/lib/checklayer/cases/distro.py-</td><td class="time"><a href="#t2018-05-21T17:53:49" class="time">17:53</a></td></tr>
<tr id="t2018-05-21T17:53:49"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">scripts/lib/checklayer/cases/distro.py-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;distro = get_bb_var('DISTRO')</td><td class="time"><a href="#t2018-05-21T17:53:49" class="time">17:53</a></td></tr>
<tr id="t2018-05-21T17:53:50"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">scripts/lib/checklayer/cases/distro.py-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.assertEqual(self.td['bbvars']['DISTRO'], distro,</td><td class="time"><a href="#t2018-05-21T17:53:50" class="time">17:53</a></td></tr>
<tr id="t2018-05-21T17:53:52"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">scripts/lib/checklayer/cases/distro.py-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg="Layer %s modified distro %s -&gt; %s" % \</td><td class="time"><a href="#t2018-05-21T17:53:52" class="time">17:53</a></td></tr>
<tr id="t2018-05-21T17:56:22"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">and the "use case" was that my DISTRO foo required poky.conf to use mostly the same settings and override just a few later. But because poky.conf sets DISTRO = "poky" after requiring our foo.conf just set it back to DISTRO = "foo"</td><td class="time"><a href="#t2018-05-21T17:56:22" class="time">17:56</a></td></tr>
<tr id="t2018-05-21T17:56:34"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">and yocto-check-layer complained</td><td class="time"><a href="#t2018-05-21T17:56:34" class="time">17:56</a></td></tr>
<tr id="t2018-05-21T18:01:01"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">so to avoid the failing test one cannot "require" yocto.conf, but needs to copy most of the contents. I haven't understood the logic behind that, copying code is not good software engineering</td><td class="time"><a href="#t2018-05-21T18:01:01" class="time">18:01</a></td></tr>
<tr id="t2018-05-21T18:13:52"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">poky is meant as an example, demo, and testing distro, it's not recommended to include and modify, copying is recommeneded in this case</td><td class="time"><a href="#t2018-05-21T18:13:52" class="time">18:13</a></td></tr>
<tr id="t2018-05-21T18:26:51"><th class="nick" style="background: #9b519b">u1106</th><td class="text" style="color: #9b519b">I'll take that as it is, maybe some day I will understand the logic behind it :)</td><td class="time"><a href="#t2018-05-21T18:26:51" class="time">18:26</a></td></tr>
<tr id="t2018-05-21T21:00:42"><td class="part" colspan="2">*** clsulliv &lt;clsulliv!clsulliv@nat/intel/x-ypzjhraxzklxrtkv&gt; has left #yocto</td><td><a href="#t2018-05-21T21:00:42" class="time">21:00</a></td></tr>
<tr id="t2018-05-21T21:10:23"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">grr, crops does not like me much</td><td class="time"><a href="#t2018-05-21T21:10:23" class="time">21:10</a></td></tr>
<tr id="t2018-05-21T21:10:53"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">trying to get my dotfiles and crap mapped in, and deal with ssh keys, but am using docker for windows from WSL so volume mapping is a pain in the ass</td><td class="time"><a href="#t2018-05-21T21:10:53" class="time">21:10</a></td></tr>
<tr id="t2018-05-21T21:12:39"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">suppose i could have it copy the bits for that over instead of mapping them in</td><td class="time"><a href="#t2018-05-21T21:12:39" class="time">21:12</a></td></tr>
<tr id="t2018-05-21T21:21:26"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">hmm</td><td class="time"><a href="#t2018-05-21T21:21:26" class="time">21:21</a></td></tr>
<tr id="t2018-05-21T22:32:16"><th class="nick" style="background: #818144">fancer</th><td class="text" style="color: #818144">kergoth: hey, man. I finally got a free time to the test external-toolchain from your repo - fancer-integrate branch. It seems working well with my crosstool-ng build.</td><td class="time"><a href="#t2018-05-21T22:32:16" class="time">22:32</a></td></tr>
<tr id="t2018-05-21T22:33:43"><th class="nick" style="background: #818144">fancer</th><td class="text" style="color: #818144">I got a small updates to merge into your repo. Just a few lines removed and few added. Shall we work by the same scheme as before?</td><td class="time"><a href="#t2018-05-21T22:33:43" class="time">22:33</a></td></tr>
<tr id="t2018-05-21T22:35:37"><th class="nick" style="background: #818144">fancer</th><td class="text" style="color: #818144">I'll submit that changes on top of fancer-integrate branch to my GitHub. Then u can pull it to your repo.</td><td class="time"><a href="#t2018-05-21T22:35:37" class="time">22:35</a></td></tr>
<tr id="t2018-05-21T22:42:40"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">fancer: sounds good, thanks</td><td class="time"><a href="#t2018-05-21T22:42:40" class="time">22:42</a></td></tr>
<tr id="t2018-05-21T23:34:53"><th class="nick" style="background: #57a657">therealjumbo</th><td class="text" style="color: #57a657">if I'm stuck on yocto 2.0 (Jethro) how do I include files installed in /opt, in the sysroot?</td><td class="time"><a href="#t2018-05-21T23:34:53" class="time">23:34</a></td></tr>
<tr id="t2018-05-21T23:35:24"><th class="nick" style="background: #57a657">therealjumbo</th><td class="text" style="color: #57a657">My testing shows that SYSROOT_DIRS += "/opt" doesn't work that far back</td><td class="time"><a href="#t2018-05-21T23:35:24" class="time">23:35</a></td></tr>
<tr id="t2018-05-21T23:47:19"><th class="nick" style="background: #57a657">therealjumbo</th><td class="text" style="color: #57a657">is appending a function that stages the files to SYSROOT_PREPROCESS_FUNCS the right way to go about it? In jethro that is</td><td class="time"><a href="#t2018-05-21T23:47:19" class="time">23:47</a></td></tr>
<tr id="t2018-05-21T23:47:47"><th class="nick" style="background: #57a657">therealjumbo</th><td class="text" style="color: #57a657"><a href="https://www.yoctoproject.org/docs/2.0/ref-manual/ref-manual.html#var-SYSROOT_PREPROCESS_FUNCS" rel="nofollow">https://www.yoctoproject.org/docs/2.0/ref-manual/ref-manual.html#var-SYSROOT_PREPROCESS_FUNCS</a></td><td class="time"><a href="#t2018-05-21T23:47:47" class="time">23:47</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2018-05-20.log.html">&#171; Sunday, 2018-05-20</a> <a href="index.html">Index</a> <a href="%23yocto.2018-05-22.log.html">Tuesday, 2018-05-22 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
