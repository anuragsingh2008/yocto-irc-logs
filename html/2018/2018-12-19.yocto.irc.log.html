<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Wednesday, 2018-12-19</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Wednesday, 2018-12-19</h1>
<div class="navigation"> <a href="%23yocto.2018-12-18.log.html">&#171; Tuesday, 2018-12-18</a> <a href="index.html">Index</a> <a href="%23yocto.2018-12-20.log.html">Thursday, 2018-12-20 &#187;</a> </div>
<table class="irclog">
<tr id="t2018-12-19T00:12:50"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=b46c82c5f5cb6f5ad64d4533391fbd9f08392f74" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=b46c82c5f5cb6f5ad64d4533391fbd9f08392f74</a> appears to build. Will continue to poke at it as its got potential</td><td class="time"><a href="#t2018-12-19T00:12:50" class="time">00:12</a></td></tr>
<tr id="t2018-12-19T02:01:18"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: libc_cv_ld_gnu_indirect_function=no is not good it will disable ifunc support in glibc you can do it with --[en|dis]able-gnu-indirect-function</td><td class="time"><a href="#t2018-12-19T02:01:18" class="time">02:01</a></td></tr>
<tr id="t2018-12-19T02:04:28"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">but I think ifunc makes same glibc compiled optimized across multiple machines</td><td class="time"><a href="#t2018-12-19T02:04:28" class="time">02:04</a></td></tr>
<tr id="t2018-12-19T02:04:41"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">for OE it may not matter as much but for x86 it may</td><td class="time"><a href="#t2018-12-19T02:04:41" class="time">02:04</a></td></tr>
<tr id="t2018-12-19T02:05:31"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">and why do we need --with-glibc-version=2.28 ?</td><td class="time"><a href="#t2018-12-19T02:05:31" class="time">02:05</a></td></tr>
<tr id="t2018-12-19T02:13:27"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">zeddii: Can you include <a href="https://lkml.org/lkml/2018/12/11/1275" rel="nofollow">https://lkml.org/lkml/2018/12/11/1275</a> patches in your 4.19 kernel headers pull please ?</td><td class="time"><a href="#t2018-12-19T02:13:27" class="time">02:13</a></td></tr>
<tr id="t2018-12-19T02:14:18"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">zeddii: this will untwist the arm64/musl builds a bit and we will get libunwind and other ptrace using packages goinf</td><td class="time"><a href="#t2018-12-19T02:14:18" class="time">02:14</a></td></tr>
<tr id="t2018-12-19T02:14:57"><th class="nick" style="background: #818144">zeddii_home</th><td class="text" style="color: #818144">yup. I can do that. I may just jump 4.19 for the libc headers and go right to 4.20, so it’ll be in there as well I hope. hmmm. or not, since it is new. either way. yah. I’ll make sure it is applied and in the testing I just started.</td><td class="time"><a href="#t2018-12-19T02:14:57" class="time">02:14</a></td></tr>
<tr id="t2018-12-19T02:14:58"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">zeddii: mostly this should go into kernel upstream without many changes</td><td class="time"><a href="#t2018-12-19T02:14:58" class="time">02:14</a></td></tr>
<tr id="t2018-12-19T02:15:19"><th class="nick" style="background: #818144">zeddii_home</th><td class="text" style="color: #818144">hehe. cool. so no problem. I’ll include it directly and watch the upstream process.</td><td class="time"><a href="#t2018-12-19T02:15:19" class="time">02:15</a></td></tr>
<tr id="t2018-12-19T02:15:21"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">I think 4.21 is mostly where it will show up</td><td class="time"><a href="#t2018-12-19T02:15:21" class="time">02:15</a></td></tr>
<tr id="t2018-12-19T02:15:32"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">fantastic</td><td class="time"><a href="#t2018-12-19T02:15:32" class="time">02:15</a></td></tr>
<tr id="t2018-12-19T02:15:41"><th class="nick" style="background: #818144">zeddii_home</th><td class="text" style="color: #818144">yah. since linus wants to release this week, it won’t make 4.20, I’ll catch it on .21</td><td class="time"><a href="#t2018-12-19T02:15:41" class="time">02:15</a></td></tr>
<tr id="t2018-12-19T02:15:54"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e"> yep</td><td class="time"><a href="#t2018-12-19T02:15:54" class="time">02:15</a></td></tr>
<tr id="t2018-12-19T02:16:15"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">this will ensure musl/aarch64 will be at par with x86_64 in world builds</td><td class="time"><a href="#t2018-12-19T02:16:15" class="time">02:16</a></td></tr>
<tr id="t2018-12-19T02:16:28"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">in musl</td><td class="time"><a href="#t2018-12-19T02:16:28" class="time">02:16</a></td></tr>
<tr id="t2018-12-19T02:16:43"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">and also will fix riscv64</td><td class="time"><a href="#t2018-12-19T02:16:43" class="time">02:16</a></td></tr>
<tr id="t2018-12-19T04:05:45"><td class="action" colspan="2">* paulg would not want to be stampeded by all the riscv64 yocto users...</td><td><a href="#t2018-12-19T04:05:45" class="time">04:05</a></td></tr>
<tr id="t2018-12-19T04:15:48"><th class="nick" style="background: #854685">paulg</th><td class="text" style="color: #854685">their user base supports membership count as as a "float", right?</td><td class="time"><a href="#t2018-12-19T04:15:48" class="time">04:15</a></td></tr>
<tr id="t2018-12-19T08:10:19"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2018-12-19T08:10:19" class="time">08:10</a></td></tr>
<tr id="t2018-12-19T08:54:37"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: Do I remember something odd about ifunc support on mips? I'm hoping that was a mips only hack</td><td class="time"><a href="#t2018-12-19T08:54:37" class="time">08:54</a></td></tr>
<tr id="t2018-12-19T08:55:02"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: that test appeared to be "no" on an existing mips build</td><td class="time"><a href="#t2018-12-19T08:55:02" class="time">08:55</a></td></tr>
<tr id="t2018-12-19T09:35:40"><th class="nick" style="background: #488888">yocti</th><td class="text" style="color: #488888">New news from stackoverflow: Not able to compile code which uses cjson library functions on Yocto Linux OS &lt;<a href="https://stackoverflow.com/questions/53847959/not-able-to-compile-code-which-uses-cjson-library-functions-on-yocto-linux-os&gt;" rel="nofollow">https://stackoverflow.com/questions/53847959/not-able-to-compile-code-which-uses-cjson-library-functions-on-yocto-linux-os&gt;</a> || Add changes to systemd-udevd.service &lt;<a href="https://stackoverflow.com/questions/53847982/add-changes-to-systemd-udevd-service&gt;" rel="nofollow">https://stackoverflow.com/questions/53847982/add-changes-to-systemd-udevd-service&gt;</a></td><td class="time"><a href="#t2018-12-19T09:35:40" class="time">09:35</a></td></tr>
<tr id="t2018-12-19T10:22:06"><th class="nick" style="background: #8c4a4a">JaMa</th><td class="text" style="color: #8c4a4a">heh why would anyone still use cjson..</td><td class="time"><a href="#t2018-12-19T10:22:06" class="time">10:22</a></td></tr>
<tr id="t2018-12-19T10:35:51"><th class="nick" style="background: #488888">yocti</th><td class="text" style="color: #488888">New news from stackoverflow: Not able to compile code which uses json-c library functions on Yocto Linux OS [duplicate] &lt;<a href="https://stackoverflow.com/questions/53847959/not-able-to-compile-code-which-uses-json-c-library-functions-on-yocto-linux-os&gt;" rel="nofollow">https://stackoverflow.com/questions/53847959/not-able-to-compile-code-which-uses-json-c-library-functions-on-yocto-linux-os&gt;</a> || Get description of packages in yocto image &lt;<a href="https://stackoverflow.com/questions/53848913/get-description-of-packages-in-yocto-image&gt;" rel="nofollow">https://stackoverflow.com/questions/53848913/get-description-of-packages-in-yocto-image&gt;</a></td><td class="time"><a href="#t2018-12-19T10:35:51" class="time">10:35</a></td></tr>
<tr id="t2018-12-19T11:03:59"><th class="nick" style="background: #4b904b">ant_home</th><td class="text" style="color: #4b904b">JaMa, hi</td><td class="time"><a href="#t2018-12-19T11:03:59" class="time">11:03</a></td></tr>
<tr id="t2018-12-19T11:04:23"><th class="nick" style="background: #4b904b">ant_home</th><td class="text" style="color: #4b904b">have you played with VideoCore IV?</td><td class="time"><a href="#t2018-12-19T11:04:23" class="time">11:04</a></td></tr>
<tr id="t2018-12-19T11:04:42"><th class="nick" style="background: #4b904b">ant_home</th><td class="text" style="color: #4b904b">do you think these vc4 drivers can be used on bcm7425 mipsel?</td><td class="time"><a href="#t2018-12-19T11:04:42" class="time">11:04</a></td></tr>
<tr id="t2018-12-19T11:05:27"><th class="nick" style="background: #4b904b">ant_home</th><td class="text" style="color: #4b904b">(I am totally unaware of the DRM situation, seems possible for mips)</td><td class="time"><a href="#t2018-12-19T11:05:27" class="time">11:05</a></td></tr>
<tr id="t2018-12-19T11:09:18"><th class="nick" style="background: #8c4a4a">JaMa</th><td class="text" style="color: #8c4a4a">ant_home: only on rpi3</td><td class="time"><a href="#t2018-12-19T11:09:18" class="time">11:09</a></td></tr>
<tr id="t2018-12-19T11:22:46"><th class="nick" style="background: #8c4a4a">JaMa</th><td class="text" style="color: #8c4a4a">ant_home: check Eric's blog <a href="https://anholt.github.io/twivc4/" rel="nofollow">https://anholt.github.io/twivc4/</a></td><td class="time"><a href="#t2018-12-19T11:22:46" class="time">11:22</a></td></tr>
<tr id="t2018-12-19T11:33:02"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2018-12-19T11:33:02" class="time">11:33</a></td></tr>
<tr id="t2018-12-19T11:38:19"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2018-12-19T11:38:19" class="time">11:38</a></td></tr>
<tr id="t2018-12-19T12:36:13"><th class="nick" style="background: #488888">yocti</th><td class="text" style="color: #488888">New news from stackoverflow: Why would a yocto patch fail under devtool but not during a normal build? &lt;<a href="https://stackoverflow.com/questions/48945909/why-would-a-yocto-patch-fail-under-devtool-but-not-during-a-normal-build&gt;" rel="nofollow">https://stackoverflow.com/questions/48945909/why-would-a-yocto-patch-fail-under-devtool-but-not-during-a-normal-build&gt;</a></td><td class="time"><a href="#t2018-12-19T12:36:13" class="time">12:36</a></td></tr>
<tr id="t2018-12-19T13:32:42"><th class="nick" style="background: #4d4d93">pepijndevos</th><td class="text" style="color: #4d4d93">I'm a bit confused by how to make a python package. I've seen some examples, but they all use a bb that inherits setuptools and then an include that inherits pypi, why this two-step approach?</td><td class="time"><a href="#t2018-12-19T13:32:42" class="time">13:32</a></td></tr>
<tr id="t2018-12-19T13:43:13"><th class="nick" style="background: #97974f">neverpanic</th><td class="text" style="color: #97974f">Because you could install a setuptools-based software that doesn't come from pypi?</td><td class="time"><a href="#t2018-12-19T13:43:13" class="time">13:43</a></td></tr>
<tr id="t2018-12-19T13:43:46"><th class="nick" style="background: #97974f">neverpanic</th><td class="text" style="color: #97974f">I think it used to be the case that 'inherit pypi' implied 'inherit setuptools', but that has changed a while ago.</td><td class="time"><a href="#t2018-12-19T13:43:46" class="time">13:43</a></td></tr>
<tr id="t2018-12-19T13:46:01"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">pepijndevos: that's because what you're seeing is a common include file that uses pypi to fetch, and then a py2 recipe that inherit setuptool and a py3 recipe that inherits setuptools3</td><td class="time"><a href="#t2018-12-19T13:46:01" class="time">13:46</a></td></tr>
<tr id="t2018-12-19T13:46:20"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">if for example the recipe doesn' support py2 there's no point in the split and it should just be in a single file</td><td class="time"><a href="#t2018-12-19T13:46:20" class="time">13:46</a></td></tr>
<tr id="t2018-12-19T13:47:20"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">so basically if the package is on pypi then inherit that and you get the src_uri done for you.&nbsp;&nbsp;if it uses setuptools inherit setuptools3 to build.</td><td class="time"><a href="#t2018-12-19T13:47:20" class="time">13:47</a></td></tr>
<tr id="t2018-12-19T14:42:43"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">is it intended, that `<a href="https://git.yoctoproject.org/cgit.cgi/poky/plain/meta/files/toolchain-shar-relocate.sh`" rel="nofollow">https://git.yoctoproject.org/cgit.cgi/poky/plain/meta/files/toolchain-shar-relocate.sh`</a> uses bash extensions (variable substitutions), yet neither has a `bash` suffix nor a `/usr/bin/env bash`-shebang?</td><td class="time"><a href="#t2018-12-19T14:42:43" class="time">14:42</a></td></tr>
<tr id="t2018-12-19T14:50:47"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">T_UNIX: It's invoked in another script (toolchain-shar-extract.sh), which is why it doesn't have a shebang</td><td class="time"><a href="#t2018-12-19T14:50:47" class="time">14:50</a></td></tr>
<tr id="t2018-12-19T14:52:08"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">IIRC, the contents of toolchain-shar-relocate.sh are simply pasted into toolchain-shar-extract.sh at a specific location</td><td class="time"><a href="#t2018-12-19T14:52:08" class="time">14:52</a></td></tr>
<tr id="t2018-12-19T14:57:59"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">JPEW: If the default interpreter isn't bash (i.e. Docker uses `/bin/sh`), it appears that the variable substitution isn't executed as intended and the surrounding command (perl substitution) bails.</td><td class="time"><a href="#t2018-12-19T14:57:59" class="time">14:57</a></td></tr>
<tr id="t2018-12-19T15:05:11"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">T_UNIX: Quite possibly.... is there a specific bashism thats causing trouble?</td><td class="time"><a href="#t2018-12-19T15:05:11" class="time">15:05</a></td></tr>
<tr id="t2018-12-19T15:09:09"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">I think the line `grep -Ev "$target_sdk_dir/(environment-setup-*|relocate_sdk*|${0##*/})"` is causing problems</td><td class="time"><a href="#t2018-12-19T15:09:09" class="time">15:09</a></td></tr>
<tr id="t2018-12-19T15:09:50"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">more specifically `${0##*/}`</td><td class="time"><a href="#t2018-12-19T15:09:50" class="time">15:09</a></td></tr>
<tr id="t2018-12-19T15:11:04"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">Sure. It might be worth either mandating bash or making sure there are no bashisms in the script.</td><td class="time"><a href="#t2018-12-19T15:11:04" class="time">15:11</a></td></tr>
<tr id="t2018-12-19T15:11:19"><th class="nick" style="background: #57a657">varjag</th><td class="text" style="color: #57a657">so, let's say i have a project built my own recipe, and i want it to build with -g -O0 flags when i make a dev image</td><td class="time"><a href="#t2018-12-19T15:11:19" class="time">15:11</a></td></tr>
<tr id="t2018-12-19T15:11:25"><th class="nick" style="background: #57a657">varjag</th><td class="text" style="color: #57a657">is there an easy way to achieve that?</td><td class="time"><a href="#t2018-12-19T15:11:25" class="time">15:11</a></td></tr>
<tr id="t2018-12-19T15:12:20"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">T_UNIX: Bonus points if you write a QA check to make sure no more bashisms end up in the SDK ;)</td><td class="time"><a href="#t2018-12-19T15:12:20" class="time">15:12</a></td></tr>
<tr id="t2018-12-19T15:12:54"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">${0##*/} is POSIX, not bash</td><td class="time"><a href="#t2018-12-19T15:12:54" class="time">15:12</a></td></tr>
<tr id="t2018-12-19T15:13:06"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">see the single unix specification for details</td><td class="time"><a href="#t2018-12-19T15:13:06" class="time">15:13</a></td></tr>
<tr id="t2018-12-19T15:13:11"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">kergoth: my bad.</td><td class="time"><a href="#t2018-12-19T15:13:11" class="time">15:13</a></td></tr>
<tr id="t2018-12-19T15:13:34"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9"><a href="http://pubs.opengroup.org/onlinepubs/9699919799/" rel="nofollow">http://pubs.opengroup.org/onlinepubs/9699919799/</a> -&gt; <a href="http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_06_02" rel="nofollow">http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_06_02</a></td><td class="time"><a href="#t2018-12-19T15:13:34" class="time">15:13</a></td></tr>
<tr id="t2018-12-19T15:13:37"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">kergoth: Hmm, interesting. Should have checked</td><td class="time"><a href="#t2018-12-19T15:13:37" class="time">15:13</a></td></tr>
<tr id="t2018-12-19T15:14:09"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e"><a href="https://www.shellcheck.net/" rel="nofollow">https://www.shellcheck.net/</a> :-D</td><td class="time"><a href="#t2018-12-19T15:14:09" class="time">15:14</a></td></tr>
<tr id="t2018-12-19T15:14:20"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">i agree we should avoid bashisms if not necessary. actually the shar relocation bits need reworking *badly*, that's some really badly written shell, and relocation technically isn't part of the compression / installer format, so should really be independent</td><td class="time"><a href="#t2018-12-19T15:14:20" class="time">15:14</a></td></tr>
<tr id="t2018-12-19T15:14:37"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">in this case: ${parameter##[word]}</td><td class="time"><a href="#t2018-12-19T15:14:37" class="time">15:14</a></td></tr>
<tr id="t2018-12-19T15:14:37"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">Remove Largest Prefix Pattern. The word shall be expanded to produce a pattern. The parameter expansion shall then result in parameter, with the largest portion of the prefix matched by the pattern deleted.</td><td class="time"><a href="#t2018-12-19T15:14:37" class="time">15:14</a></td></tr>
<tr id="t2018-12-19T15:14:38"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">:)</td><td class="time"><a href="#t2018-12-19T15:14:38" class="time">15:14</a></td></tr>
<tr id="t2018-12-19T15:14:46"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">&lt;3 that opengroup site, really helpful resource</td><td class="time"><a href="#t2018-12-19T15:14:46" class="time">15:14</a></td></tr>
<tr id="t2018-12-19T15:16:01"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9"> that reminds me, i never did do enough benchmarks to get <a href="https://github.com/openembedded/bitbake/compare/master...kergoth:yocto-12987" rel="nofollow">https://github.com/openembedded/bitbake/compare/master...kergoth:yocto-12987</a> merged..</td><td class="time"><a href="#t2018-12-19T15:16:01" class="time">15:16</a></td></tr>
<tr id="t2018-12-19T15:17:17"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">kergoth: I played around with rewriting the SDK to be a self extracting Python file instead of a shell script (see poky-contrib/jpew/pyz-sdk)</td><td class="time"><a href="#t2018-12-19T15:17:17" class="time">15:17</a></td></tr>
<tr id="t2018-12-19T15:17:55"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">interesting. at mentor we hvae a completely different installer mechanism for it entirely, so needed the relocation bits in a standalone script that installer could call</td><td class="time"><a href="#t2018-12-19T15:17:55" class="time">15:17</a></td></tr>
<tr id="t2018-12-19T15:18:16"><td class="action" colspan="2">* kergoth adds a note to look at that branch</td><td><a href="#t2018-12-19T15:18:16" class="time">15:18</a></td></tr>
<tr id="t2018-12-19T15:19:19"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">kergoth: Ya, we end up redoing the SDK as a Python script for MinGW here which was some of the drive to try this out.</td><td class="time"><a href="#t2018-12-19T15:19:19" class="time">15:19</a></td></tr>
<tr id="t2018-12-19T15:19:34"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">oh right, that makes perfect sense</td><td class="time"><a href="#t2018-12-19T15:19:34" class="time">15:19</a></td></tr>
<tr id="t2018-12-19T15:36:01"><th class="nick" style="background: #4d4d93">pepijndevos</th><td class="text" style="color: #4d4d93">dafuuuq! I have a working yocto image, and then I add some innocent Python package, and I now I have an image that gives weird errors in the SD card driver or something. I remove Python and everything is fine agaon.</td><td class="time"><a href="#t2018-12-19T15:36:01" class="time">15:36</a></td></tr>
<tr id="t2018-12-19T15:43:26"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">JPEW: there was no specific good reason for shell</td><td class="time"><a href="#t2018-12-19T15:43:26" class="time">15:43</a></td></tr>
<tr id="t2018-12-19T15:44:18"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">Well, the "drop gcc initial" patch kind of works, images boot and runtime test. Only one sdk test fails.</td><td class="time"><a href="#t2018-12-19T15:44:18" class="time">15:44</a></td></tr>
<tr id="t2018-12-19T15:45:13"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: I was wondering. I figured Python wad required for relocation *anyway* so it should be OK.</td><td class="time"><a href="#t2018-12-19T15:45:13" class="time">15:45</a></td></tr>
<tr id="t2018-12-19T15:45:22"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: But I also figured I shou;dn</td><td class="time"><a href="#t2018-12-19T15:45:22" class="time">15:45</a></td></tr>
<tr id="t2018-12-19T15:45:46"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">shouldn't get too distracted until I finish the hash equivalence stuff :)</td><td class="time"><a href="#t2018-12-19T15:45:46" class="time">15:45</a></td></tr>
<tr id="t2018-12-19T15:47:18"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">JPEW: thanks for the updated series, I think its close :)</td><td class="time"><a href="#t2018-12-19T15:47:18" class="time">15:47</a></td></tr>
<tr id="t2018-12-19T15:47:32"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">JPEW: my gcc rearrangement breaks mingw btw :/</td><td class="time"><a href="#t2018-12-19T15:47:32" class="time">15:47</a></td></tr>
<tr id="t2018-12-19T15:47:43"><td class="action" colspan="2">* RP hasn't gotten to that part yet</td><td><a href="#t2018-12-19T15:47:43" class="time">15:47</a></td></tr>
<tr id="t2018-12-19T15:47:52"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: Oh? Is there a log?</td><td class="time"><a href="#t2018-12-19T15:47:52" class="time">15:47</a></td></tr>
<tr id="t2018-12-19T15:49:18"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">JPEW: bbappend to a file which no longer exists for starters :) Patch series isn't up to that bit yet, need to investigate this sdk failure</td><td class="time"><a href="#t2018-12-19T15:49:18" class="time">15:49</a></td></tr>
<tr id="t2018-12-19T15:49:31"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">Ok</td><td class="time"><a href="#t2018-12-19T15:49:31" class="time">15:49</a></td></tr>
<tr id="t2018-12-19T15:53:58"><th class="nick" style="background: #adad5b">dkc</th><td class="text" style="color: #adad5b">anyone had experience in adding go packages in a Yocto layer? More explicitely how&nbsp;&nbsp;to describe dependencies between packages? Using DEPENDS ends up in a situation where additional packages are installed next to standard packages (GOROOT) when they should be in GOPATH</td><td class="time"><a href="#t2018-12-19T15:53:58" class="time">15:53</a></td></tr>
<tr id="t2018-12-19T16:01:16"><th class="nick" style="background: #adad5b">dkc</th><td class="text" style="color: #adad5b">yep, confirmed, dependencies are installed in ${WORKDIR}/recipe-sysroot/usr/lib/go/src when they should go to ${WORKDIR}/build/src/</td><td class="time"><a href="#t2018-12-19T16:01:16" class="time">16:01</a></td></tr>
<tr id="t2018-12-19T16:03:36"><th class="nick" style="background: #adad5b">dkc</th><td class="text" style="color: #adad5b">any idea on how to fix the issue?</td><td class="time"><a href="#t2018-12-19T16:03:36" class="time">16:03</a></td></tr>
<tr id="t2018-12-19T16:36:29"><td class="part" colspan="2">*** Carton__ &lt;Carton__!~jo@193.134.219.72&gt; has left #yocto</td><td><a href="#t2018-12-19T16:36:29" class="time">16:36</a></td></tr>
<tr id="t2018-12-19T16:48:27"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">where does the xargs' `file` argument in <a href="https://git.yoctoproject.org/cgit.cgi/poky/tree/meta/files/toolchain-shar-relocate.sh#n57" rel="nofollow">https://git.yoctoproject.org/cgit.cgi/poky/tree/meta/files/toolchain-shar-relocate.sh#n57</a> come from?</td><td class="time"><a href="#t2018-12-19T16:48:27" class="time">16:48</a></td></tr>
<tr id="t2018-12-19T16:57:34"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">$ which file</td><td class="time"><a href="#t2018-12-19T16:57:34" class="time">16:57</a></td></tr>
<tr id="t2018-12-19T16:57:35"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">$ dpkg -S /usr/bin/file</td><td class="time"><a href="#t2018-12-19T16:57:35" class="time">16:57</a></td></tr>
<tr id="t2018-12-19T16:57:35"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">file: /usr/bin/file</td><td class="time"><a href="#t2018-12-19T16:57:35" class="time">16:57</a></td></tr>
<tr id="t2018-12-19T16:58:19"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">missing a line as it started with /</td><td class="time"><a href="#t2018-12-19T16:58:19" class="time">16:58</a></td></tr>
<tr id="t2018-12-19T17:03:43"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">*facepalm*</td><td class="time"><a href="#t2018-12-19T17:03:43" class="time">17:03</a></td></tr>
<tr id="t2018-12-19T17:03:49"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">need to go home -.-'</td><td class="time"><a href="#t2018-12-19T17:03:49" class="time">17:03</a></td></tr>
<tr id="t2018-12-19T17:08:39"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">does yocto use gitlab or github for patches yet?</td><td class="time"><a href="#t2018-12-19T17:08:39" class="time">17:08</a></td></tr>
<tr id="t2018-12-19T17:11:49"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">not yet</td><td class="time"><a href="#t2018-12-19T17:11:49" class="time">17:11</a></td></tr>
<tr id="t2018-12-19T17:22:19"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">rburton: yet? ;-)</td><td class="time"><a href="#t2018-12-19T17:22:19" class="time">17:22</a></td></tr>
<tr id="t2018-12-19T18:07:14"><th class="nick" style="background: #488888">yocti</th><td class="text" style="color: #488888">New news from stackoverflow: How to configure the Yocto devtool to update repo revision &lt;<a href="https://stackoverflow.com/questions/53856554/how-to-configure-the-yocto-devtool-to-update-repo-revision&gt;" rel="nofollow">https://stackoverflow.com/questions/53856554/how-to-configure-the-yocto-devtool-to-update-repo-revision&gt;</a></td><td class="time"><a href="#t2018-12-19T18:07:14" class="time">18:07</a></td></tr>
<tr id="t2018-12-19T18:11:18"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">RP: YET :)</td><td class="time"><a href="#t2018-12-19T18:11:18" class="time">18:11</a></td></tr>
<tr id="t2018-12-19T18:12:33"><th class="nick" style="background: #8c4a4a">JaMa</th><td class="text" style="color: #8c4a4a">:)</td><td class="time"><a href="#t2018-12-19T18:12:33" class="time">18:12</a></td></tr>
<tr id="t2018-12-19T18:13:34"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP:sent few patches cleaning after you :)</td><td class="time"><a href="#t2018-12-19T18:13:34" class="time">18:13</a></td></tr>
<tr id="t2018-12-19T18:14:07"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">musl was broken with the toolchain shuffle which is fixed now</td><td class="time"><a href="#t2018-12-19T18:14:07" class="time">18:14</a></td></tr>
<tr id="t2018-12-19T18:16:15"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: thanks - I'd not got to fixing that yet! I just put the patches as they were onto the autobuilder for a test run, see how well it worked</td><td class="time"><a href="#t2018-12-19T18:16:15" class="time">18:16</a></td></tr>
<tr id="t2018-12-19T18:16:33"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: basically there seems to be something wrong with the SDK (assimp fails)</td><td class="time"><a href="#t2018-12-19T18:16:33" class="time">18:16</a></td></tr>
<tr id="t2018-12-19T18:17:15"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: not fixed mingw yet either</td><td class="time"><a href="#t2018-12-19T18:17:15" class="time">18:17</a></td></tr>
<tr id="t2018-12-19T18:17:26"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">no worries</td><td class="time"><a href="#t2018-12-19T18:17:26" class="time">18:17</a></td></tr>
<tr id="t2018-12-19T18:17:43"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: ifunc seems broken on mips, not sure why I have to special case that :/</td><td class="time"><a href="#t2018-12-19T18:17:43" class="time">18:17</a></td></tr>
<tr id="t2018-12-19T18:18:17"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: the configure test fails before my patch, it passes after it, then throws those assertions</td><td class="time"><a href="#t2018-12-19T18:18:17" class="time">18:18</a></td></tr>
<tr id="t2018-12-19T18:18:30"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: how does assimp fails ?</td><td class="time"><a href="#t2018-12-19T18:18:30" class="time">18:18</a></td></tr>
<tr id="t2018-12-19T18:18:42"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: I assume you're in ok in principle with getting rid of these -initial bits?</td><td class="time"><a href="#t2018-12-19T18:18:42" class="time">18:18</a></td></tr>
<tr id="t2018-12-19T18:18:45"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">link</td><td class="time"><a href="#t2018-12-19T18:18:45" class="time">18:18</a></td></tr>
<tr id="t2018-12-19T18:18:52"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">totally</td><td class="time"><a href="#t2018-12-19T18:18:52" class="time">18:18</a></td></tr>
<tr id="t2018-12-19T18:18:59"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">/media/build1/poky/build/tmp/work/qemumips-poky-linux/core-image-sato/1.0-r0/testimage-sdk/assimptl80uuyi/assimp-4.1.0/test/../contrib/gtest/src/gtest-filepath.cc:58:26: error: ‘_POSIX_PATH_MAX’ was not declared in this scope</td><td class="time"><a href="#t2018-12-19T18:18:59" class="time">18:18</a></td></tr>
<tr id="t2018-12-19T18:18:59"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40"> # define GTEST_PATH_MAX_ _POSIX_PATH_MAX</td><td class="time"><a href="#t2018-12-19T18:18:59" class="time">18:18</a></td></tr>
<tr id="t2018-12-19T18:19:13"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: there are failures on the AB like that too</td><td class="time"><a href="#t2018-12-19T18:19:13" class="time">18:19</a></td></tr>
<tr id="t2018-12-19T18:19:14"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">thats limits.h proble</td><td class="time"><a href="#t2018-12-19T18:19:14" class="time">18:19</a></td></tr>
<tr id="t2018-12-19T18:19:16"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">m</td><td class="time"><a href="#t2018-12-19T18:19:16" class="time">18:19</a></td></tr>
<tr id="t2018-12-19T18:19:30"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: more like posix related</td><td class="time"><a href="#t2018-12-19T18:19:30" class="time">18:19</a></td></tr>
<tr id="t2018-12-19T18:19:42"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: but yes, that area</td><td class="time"><a href="#t2018-12-19T18:19:42" class="time">18:19</a></td></tr>
<tr id="t2018-12-19T18:20:09"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">yes #ifndef _POSIX_PATH_MAX</td><td class="time"><a href="#t2018-12-19T18:20:09" class="time">18:20</a></td></tr>
<tr id="t2018-12-19T18:20:18"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">define _POSIX_PATH_MAX 255</td><td class="time"><a href="#t2018-12-19T18:20:18" class="time">18:20</a></td></tr>
<tr id="t2018-12-19T18:20:22"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">#endif</td><td class="time"><a href="#t2018-12-19T18:20:22" class="time">18:20</a></td></tr>
<tr id="t2018-12-19T18:20:25"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">and move on :)</td><td class="time"><a href="#t2018-12-19T18:20:25" class="time">18:20</a></td></tr>
<tr id="t2018-12-19T18:20:55"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: I think we need to understand how/why this broke ;-)</td><td class="time"><a href="#t2018-12-19T18:20:55" class="time">18:20</a></td></tr>
<tr id="t2018-12-19T18:21:01"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">sadly my test build built the wrong thing so waiting on the right one</td><td class="time"><a href="#t2018-12-19T18:21:01" class="time">18:21</a></td></tr>
<tr id="t2018-12-19T18:21:04"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: btw. is it missing posix1_lim.h now ?</td><td class="time"><a href="#t2018-12-19T18:21:04" class="time">18:21</a></td></tr>
<tr id="t2018-12-19T18:21:15"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: no, its there</td><td class="time"><a href="#t2018-12-19T18:21:15" class="time">18:21</a></td></tr>
<tr id="t2018-12-19T18:21:31"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">and it does not define this ?</td><td class="time"><a href="#t2018-12-19T18:21:31" class="time">18:21</a></td></tr>
<tr id="t2018-12-19T18:21:33"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: I want to get two sdks and just diff them</td><td class="time"><a href="#t2018-12-19T18:21:33" class="time">18:21</a></td></tr>
<tr id="t2018-12-19T18:21:38"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">waiting on a build</td><td class="time"><a href="#t2018-12-19T18:21:38" class="time">18:21</a></td></tr>
<tr id="t2018-12-19T18:22:02"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">if that header is installed in sysroot then it should define _POSIX_PATH_MAX</td><td class="time"><a href="#t2018-12-19T18:22:02" class="time">18:22</a></td></tr>
<tr id="t2018-12-19T18:22:44"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">and then packages should get it via including limits.h</td><td class="time"><a href="#t2018-12-19T18:22:44" class="time">18:22</a></td></tr>
<tr id="t2018-12-19T18:28:09"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: is that assimp problem only seen on mips ?</td><td class="time"><a href="#t2018-12-19T18:28:09" class="time">18:28</a></td></tr>
<tr id="t2018-12-19T18:30:52"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: with new toolchain sequence I am now able to build musl systems too, so let me try qemumips build for assimp</td><td class="time"><a href="#t2018-12-19T18:30:52" class="time">18:30</a></td></tr>
<tr id="t2018-12-19T18:31:00"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">if that works then we know its glibc</td><td class="time"><a href="#t2018-12-19T18:31:00" class="time">18:31</a></td></tr>
<tr id="t2018-12-19T18:31:38"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">I think dropiing those config cache files can now be resulting in some configure failures silently disabling stuff in glibc</td><td class="time"><a href="#t2018-12-19T18:31:38" class="time">18:31</a></td></tr>
<tr id="t2018-12-19T18:33:39"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: that was what I wanted to test on the AB and the answer is no, its on all archs</td><td class="time"><a href="#t2018-12-19T18:33:39" class="time">18:33</a></td></tr>
<tr id="t2018-12-19T18:34:03"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: OK, it built ok here on x86/musl</td><td class="time"><a href="#t2018-12-19T18:34:03" class="time">18:34</a></td></tr>
<tr id="t2018-12-19T18:34:22"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">so its probably glibc</td><td class="time"><a href="#t2018-12-19T18:34:22" class="time">18:34</a></td></tr>
<tr id="t2018-12-19T18:34:31"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">is acting up during configure</td><td class="time"><a href="#t2018-12-19T18:34:31" class="time">18:34</a></td></tr>
<tr id="t2018-12-19T18:35:44"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: quite likely. When I get this other build we'll see :)</td><td class="time"><a href="#t2018-12-19T18:35:44" class="time">18:35</a></td></tr>
<tr id="t2018-12-19T18:41:18"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: it built ok for mips/musl combo</td><td class="time"><a href="#t2018-12-19T18:41:18" class="time">18:41</a></td></tr>
<tr id="t2018-12-19T18:41:40"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: definitely a glibc issue then...</td><td class="time"><a href="#t2018-12-19T18:41:40" class="time">18:41</a></td></tr>
<tr id="t2018-12-19T18:42:09"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: trying MACHINE=raspberrypi3-64</td><td class="time"><a href="#t2018-12-19T18:42:09" class="time">18:42</a></td></tr>
<tr id="t2018-12-19T18:42:23"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">these are some hot cached builds lying around here</td><td class="time"><a href="#t2018-12-19T18:42:23" class="time">18:42</a></td></tr>
<tr id="t2018-12-19T18:44:17"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">hmmm its building here for raspberrypi3-64/glibc</td><td class="time"><a href="#t2018-12-19T18:44:17" class="time">18:44</a></td></tr>
<tr id="t2018-12-19T18:44:42"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">but I am using glibc 2.29+gcc-9.0 on top</td><td class="time"><a href="#t2018-12-19T18:44:42" class="time">18:44</a></td></tr>
<tr id="t2018-12-19T18:51:40"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">let see what I see on mips/glibc</td><td class="time"><a href="#t2018-12-19T18:51:40" class="time">18:51</a></td></tr>
<tr id="t2018-12-19T19:14:09"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">mips/glibc works too</td><td class="time"><a href="#t2018-12-19T19:14:09" class="time">19:14</a></td></tr>
<tr id="t2018-12-19T19:14:22"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: so you might want to try with glibc 2.29</td><td class="time"><a href="#t2018-12-19T19:14:22" class="time">19:14</a></td></tr>
<tr id="t2018-12-19T19:14:35"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">and see if that helps</td><td class="time"><a href="#t2018-12-19T19:14:35" class="time">19:14</a></td></tr>
<tr id="t2018-12-19T19:24:04"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: I think limits headers in the SDK may be bust but I have a theory on why too</td><td class="time"><a href="#t2018-12-19T19:24:04" class="time">19:24</a></td></tr>
<tr id="t2018-12-19T19:27:03"><th class="nick" style="background: #b15db1">yates</th><td class="text" style="color: #b15db1">can a screenshot be taken using sato/matchbox?</td><td class="time"><a href="#t2018-12-19T19:27:03" class="time">19:27</a></td></tr>
<tr id="t2018-12-19T19:52:50"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: its a problem with gcc-cross-canadian</td><td class="time"><a href="#t2018-12-19T19:52:50" class="time">19:52</a></td></tr>
<tr id="t2018-12-19T19:53:15"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: gcc is being a bit insane here but there is an easy fix</td><td class="time"><a href="#t2018-12-19T19:53:15" class="time">19:53</a></td></tr>
<tr id="t2018-12-19T20:04:34"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: tests pass now, fixed it</td><td class="time"><a href="#t2018-12-19T20:04:34" class="time">20:04</a></td></tr>
<tr id="t2018-12-19T20:05:07"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: will clean it up and try another AB run with your patches + mine</td><td class="time"><a href="#t2018-12-19T20:05:07" class="time">20:05</a></td></tr>
<tr id="t2018-12-19T20:11:24"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: sounds good. If you push it to master-next I will give it a whirl here too</td><td class="time"><a href="#t2018-12-19T20:11:24" class="time">20:11</a></td></tr>
<tr id="t2018-12-19T20:12:17"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">yates: sato-screenshot should be in the image.</td><td class="time"><a href="#t2018-12-19T20:12:17" class="time">20:12</a></td></tr>
<tr id="t2018-12-19T20:38:36"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">rburton: I am seeing this issue with eSDK build <a href="https://github.com/YoeDistro/yoe-distro/issues/85" rel="nofollow">https://github.com/YoeDistro/yoe-distro/issues/85</a></td><td class="time"><a href="#t2018-12-19T20:38:36" class="time">20:38</a></td></tr>
<tr id="t2018-12-19T20:39:06"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">rburton: I see that the local.conf.bak is in /mnt/a/yoe/build/tmp/work/raspberrypi3_64-yoe-linux/yoe-simple-image/1.0-r0/sdk-ext/image/tmp-renamed-sdk/conf</td><td class="time"><a href="#t2018-12-19T20:39:06" class="time">20:39</a></td></tr>
<tr id="t2018-12-19T20:39:31"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">but its looking in /mnt/a/yoe/build/tmp/work/raspberrypi3_64-yoe-linux/yoe-simple-image/1.0-r0/sdk-ext/image//usr/local/oecore-x86_64/conf</td><td class="time"><a href="#t2018-12-19T20:39:31" class="time">20:39</a></td></tr>
<tr id="t2018-12-19T20:40:20"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">i see two errors in that bug</td><td class="time"><a href="#t2018-12-19T20:40:20" class="time">20:40</a></td></tr>
<tr id="t2018-12-19T20:40:39"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">would definitely want to fix the uni one first</td><td class="time"><a href="#t2018-12-19T20:40:39" class="time">20:40</a></td></tr>
<tr id="t2018-12-19T20:40:48"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">do you just get the conf one?</td><td class="time"><a href="#t2018-12-19T20:40:48" class="time">20:40</a></td></tr>
<tr id="t2018-12-19T20:41:06"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">the usr/local is worrying/odd</td><td class="time"><a href="#t2018-12-19T20:41:06" class="time">20:41</a></td></tr>
<tr id="t2018-12-19T20:41:10"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">pretty sure nothing in oe sets that</td><td class="time"><a href="#t2018-12-19T20:41:10" class="time">20:41</a></td></tr>
<tr id="t2018-12-19T20:41:55"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">so i suggest maybe this yoe whatever that is, has changed a path and is exposing an assumption in the esdk code</td><td class="time"><a href="#t2018-12-19T20:41:55" class="time">20:41</a></td></tr>
<tr id="t2018-12-19T20:41:59"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">at which point i point to bluelightning&nbsp;&nbsp;:)</td><td class="time"><a href="#t2018-12-19T20:41:59" class="time">20:41</a></td></tr>
<tr id="t2018-12-19T20:42:12"><th class="nick" style="background: #5fb4b4">bluelightning</th><td class="text" style="color: #5fb4b4">who me?</td><td class="time"><a href="#t2018-12-19T20:42:12" class="time">20:42</a></td></tr>
<tr id="t2018-12-19T20:44:00"><th class="nick" style="background: #5fb4b4">bluelightning</th><td class="text" style="color: #5fb4b4">hmm</td><td class="time"><a href="#t2018-12-19T20:44:00" class="time">20:44</a></td></tr>
<tr id="t2018-12-19T20:44:10"><th class="nick" style="background: #5fb4b4">bluelightning</th><td class="text" style="color: #5fb4b4">not sure off hand what might have led to that...</td><td class="time"><a href="#t2018-12-19T20:44:10" class="time">20:44</a></td></tr>
<tr id="t2018-12-19T20:44:38"><th class="nick" style="background: #5fb4b4">bluelightning</th><td class="text" style="color: #5fb4b4">unfortunately I'm in the middle of something so I can't dig into it myself</td><td class="time"><a href="#t2018-12-19T20:44:38" class="time">20:44</a></td></tr>
<tr id="t2018-12-19T20:49:41"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">rburton: yoe is derived from oe-core nodistro and does not set custom paths for SDK like poky does and I have a hunch thats the problem so if someone built sdk with oe-core nodistro will run into same error</td><td class="time"><a href="#t2018-12-19T20:49:41" class="time">20:49</a></td></tr>
<tr id="t2018-12-19T20:50:07"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">easily tested!</td><td class="time"><a href="#t2018-12-19T20:50:07" class="time">20:50</a></td></tr>
<tr id="t2018-12-19T20:51:50"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">yes, I am trying to mimic same with poky and lets see, it just means whole nativesdk components recompile</td><td class="time"><a href="#t2018-12-19T20:51:50" class="time">20:51</a></td></tr>
<tr id="t2018-12-19T20:52:06"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">if we change SDKPATH so will be a while</td><td class="time"><a href="#t2018-12-19T20:52:06" class="time">20:52</a></td></tr>
<tr id="t2018-12-19T20:52:32"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">can't wait to see the initial removal stuff land</td><td class="time"><a href="#t2018-12-19T20:52:32" class="time">20:52</a></td></tr>
<tr id="t2018-12-19T20:59:45"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">yes its panning out ok so far</td><td class="time"><a href="#t2018-12-19T20:59:45" class="time">20:59</a></td></tr>
<tr id="t2018-12-19T20:59:55"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">rburton: vercmp_string seems to ignore None strings</td><td class="time"><a href="#t2018-12-19T20:59:55" class="time">20:59</a></td></tr>
<tr id="t2018-12-19T20:59:59"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">thats one issue</td><td class="time"><a href="#t2018-12-19T20:59:59" class="time">20:59</a></td></tr>
<tr id="t2018-12-19T21:00:11"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">I guess we never test without uninative</td><td class="time"><a href="#t2018-12-19T21:00:11" class="time">21:00</a></td></tr>
<tr id="t2018-12-19T21:02:21"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">maybe split_version() should do parameter check before operating on it</td><td class="time"><a href="#t2018-12-19T21:02:21" class="time">21:02</a></td></tr>
<tr id="t2018-12-19T21:52:38"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: I think there is problem related to uninative where anon python function in "meta/classes/uninative.bbclass" is not able to find the variables defined in meta/conf/distro/include/yocto-uninative.inc</td><td class="time"><a href="#t2018-12-19T21:52:38" class="time">21:52</a></td></tr>
<tr id="t2018-12-19T21:53:10"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: I printed the variables and they come out to be unset</td><td class="time"><a href="#t2018-12-19T21:53:10" class="time">21:53</a></td></tr>
<tr id="t2018-12-19T21:53:35"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">when building -cpopulate_sdk_ext</td><td class="time"><a href="#t2018-12-19T21:53:35" class="time">21:53</a></td></tr>
<tr id="t2018-12-19T22:07:41"><th class="nick" style="background: #b86161">apteryx</th><td class="text" style="color: #b86161">So, there really appears to be a bug in a overridden do_fetch not getting passed the SSH_AUTH_SOCK and SSH_AGENT_PID variables.</td><td class="time"><a href="#t2018-12-19T22:07:41" class="time">22:07</a></td></tr>
<tr id="t2018-12-19T22:08:39"><th class="nick" style="background: #b86161">apteryx</th><td class="text" style="color: #b86161">I tried to force them available by doing 'export SSH_AGENT_PID' and 'export SSH_AUTH_SOCK' but this leaves them undefined as well in my overriden do_fetch method.</td><td class="time"><a href="#t2018-12-19T22:08:39" class="time">22:08</a></td></tr>
<tr id="t2018-12-19T22:09:13"><th class="nick" style="background: #b86161">apteryx</th><td class="text" style="color: #b86161">Should I report this upsstream to this list: <a href="https://bugzilla.yoctoproject.org/buglist.cgi?product=BitBake&amp;component=bitbake&amp;resolution=---?" rel="nofollow">https://bugzilla.yoctoproject.org/buglist.cgi?product=BitBake&amp;component=bitbake&amp;resolution=---?</a></td><td class="time"><a href="#t2018-12-19T22:09:13" class="time">22:09</a></td></tr>
<tr id="t2018-12-19T23:07:01"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: I've updated -next with revised patches</td><td class="time"><a href="#t2018-12-19T23:07:01" class="time">23:07</a></td></tr>
<tr id="t2018-12-19T23:07:24"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: how are you including yocto-uninative?</td><td class="time"><a href="#t2018-12-19T23:07:24" class="time">23:07</a></td></tr>
<tr id="t2018-12-19T23:26:03"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: OK I started few builds here with master-next + my goop</td><td class="time"><a href="#t2018-12-19T23:26:03" class="time">23:26</a></td></tr>
<tr id="t2018-12-19T23:26:26"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: yocto-uninative is added exactly like its done in poky.conf</td><td class="time"><a href="#t2018-12-19T23:26:26" class="time">23:26</a></td></tr>
<tr id="t2018-12-19T23:26:54"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: to your own distro.conf ?</td><td class="time"><a href="#t2018-12-19T23:26:54" class="time">23:26</a></td></tr>
<tr id="t2018-12-19T23:27:20"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: ordering is important in this case</td><td class="time"><a href="#t2018-12-19T23:27:20" class="time">23:27</a></td></tr>
<tr id="t2018-12-19T23:27:51"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">yes first include the .inc and then inherit class</td><td class="time"><a href="#t2018-12-19T23:27:51" class="time">23:27</a></td></tr>
<tr id="t2018-12-19T23:28:39"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">see <a href="https://github.com/YoeDistro/meta-yoe/blob/master/conf/distro/yoe.conf#L73-L77" rel="nofollow">https://github.com/YoeDistro/meta-yoe/blob/master/conf/distro/yoe.conf#L73-L77</a></td><td class="time"><a href="#t2018-12-19T23:28:39" class="time">23:28</a></td></tr>
<tr id="t2018-12-19T23:30:07"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: does bitbake -e show the variables as set?</td><td class="time"><a href="#t2018-12-19T23:30:07" class="time">23:30</a></td></tr>
<tr id="t2018-12-19T23:30:40"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">yes it does however during do_populate_sdk_ext its unset</td><td class="time"><a href="#t2018-12-19T23:30:40" class="time">23:30</a></td></tr>
<tr id="t2018-12-19T23:30:59"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">if I include the content from .inc file into bbclass itself then it works</td><td class="time"><a href="#t2018-12-19T23:30:59" class="time">23:30</a></td></tr>
<tr id="t2018-12-19T23:31:20"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">so it seems there are two places where the variable it needed</td><td class="time"><a href="#t2018-12-19T23:31:20" class="time">23:31</a></td></tr>
<tr id="t2018-12-19T23:31:28"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">normal images build ok</td><td class="time"><a href="#t2018-12-19T23:31:28" class="time">23:31</a></td></tr>
<tr id="t2018-12-19T23:31:36"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">problem is when doing sdk_ext builds</td><td class="time"><a href="#t2018-12-19T23:31:36" class="time">23:31</a></td></tr>
<tr id="t2018-12-19T23:32:03"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">on same machine poky build works for core-image-minimal sdk</td><td class="time"><a href="#t2018-12-19T23:32:03" class="time">23:32</a></td></tr>
<tr id="t2018-12-19T23:33:58"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: it sounds as if the copy_buildsystem piece doesn't understand your layer/distro :/</td><td class="time"><a href="#t2018-12-19T23:33:58" class="time">23:33</a></td></tr>
<tr id="t2018-12-19T23:34:40"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">what does it need to know ?</td><td class="time"><a href="#t2018-12-19T23:34:40" class="time">23:34</a></td></tr>
<tr id="t2018-12-19T23:34:54"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: it tries to copy the config into this new "build" environment and it sounds a bit like it messes it up somehow</td><td class="time"><a href="#t2018-12-19T23:34:54" class="time">23:34</a></td></tr>
<tr id="t2018-12-19T23:35:09"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: corebase, sdkbblayers = buildsystem.copy_bitbake_and_layers(baseoutpath + '/layers', workspace_name)</td><td class="time"><a href="#t2018-12-19T23:35:09" class="time">23:35</a></td></tr>
<tr id="t2018-12-19T23:35:31"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: probably need to look at what it created and see what is wrong with it</td><td class="time"><a href="#t2018-12-19T23:35:31" class="time">23:35</a></td></tr>
<tr id="t2018-12-19T23:36:03"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">is it problem how the layers are placed ?</td><td class="time"><a href="#t2018-12-19T23:36:03" class="time">23:36</a></td></tr>
<tr id="t2018-12-19T23:36:13"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: could be</td><td class="time"><a href="#t2018-12-19T23:36:13" class="time">23:36</a></td></tr>
<tr id="t2018-12-19T23:36:33"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">we really need a setup tool and to standardise more</td><td class="time"><a href="#t2018-12-19T23:36:33" class="time">23:36</a></td></tr>
<tr id="t2018-12-19T23:37:41"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">so it is creating content under /mnt/a/yoe/build/tmp/work/raspberrypi3_64-yoe-linux/yoe-simple-image/1.0-r0/sdk-ext/image/tmp-renamed-sdk</td><td class="time"><a href="#t2018-12-19T23:37:41" class="time">23:37</a></td></tr>
<tr id="t2018-12-19T23:37:48"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">which seems to have found the layers etc.</td><td class="time"><a href="#t2018-12-19T23:37:48" class="time">23:37</a></td></tr>
<tr id="t2018-12-19T23:42:19"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: have you used other layers along with core layer in some test cases</td><td class="time"><a href="#t2018-12-19T23:42:19" class="time">23:42</a></td></tr>
<tr id="t2018-12-19T23:43:33"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: not as well as we should, no</td><td class="time"><a href="#t2018-12-19T23:43:33" class="time">23:43</a></td></tr>
<tr id="t2018-12-19T23:44:06"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">so whats the assumptions it makes</td><td class="time"><a href="#t2018-12-19T23:44:06" class="time">23:44</a></td></tr>
<tr id="t2018-12-19T23:44:11"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">about workspace ?</td><td class="time"><a href="#t2018-12-19T23:44:11" class="time">23:44</a></td></tr>
<tr id="t2018-12-19T23:44:31"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">how/where are layers expected ? under poky/openembedded</td><td class="time"><a href="#t2018-12-19T23:44:31" class="time">23:44</a></td></tr>
<tr id="t2018-12-19T23:44:38"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">top level layer ?</td><td class="time"><a href="#t2018-12-19T23:44:38" class="time">23:44</a></td></tr>
<tr id="t2018-12-19T23:44:48"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">that is parallel to meta/ ?</td><td class="time"><a href="#t2018-12-19T23:44:48" class="time">23:44</a></td></tr>
<tr id="t2018-12-19T23:47:00"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">I added a layer outside that to poky lets see if it fails in same way</td><td class="time"><a href="#t2018-12-19T23:47:00" class="time">23:47</a></td></tr>
<tr id="t2018-12-19T23:49:11"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: here is error I see <a href="https://8n1.org/14223/32e3" rel="nofollow">https://8n1.org/14223/32e3</a></td><td class="time"><a href="#t2018-12-19T23:49:11" class="time">23:49</a></td></tr>
<tr id="t2018-12-19T23:51:50"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: that last bit is error handling failing :(</td><td class="time"><a href="#t2018-12-19T23:51:50" class="time">23:51</a></td></tr>
<tr id="t2018-12-19T23:52:00"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem:&nbsp;&nbsp;the real problem is further back</td><td class="time"><a href="#t2018-12-19T23:52:00" class="time">23:52</a></td></tr>
<tr id="t2018-12-19T23:52:39"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: I don't remember the assumptions unfortunately, this was done by bluelightning but I don't think any of us liked the end result, its fragile :(</td><td class="time"><a href="#t2018-12-19T23:52:39" class="time">23:52</a></td></tr>
<tr id="t2018-12-19T23:52:48"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">here is full log <a href="https://gist.github.com/9ee0302407d29fdf17e7db098256f71e" rel="nofollow">https://gist.github.com/9ee0302407d29fdf17e7db098256f71e</a></td><td class="time"><a href="#t2018-12-19T23:52:48" class="time">23:52</a></td></tr>
<tr id="t2018-12-19T23:54:25"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: is something in workspace which would change the signatures?</td><td class="time"><a href="#t2018-12-19T23:54:25" class="time">23:54</a></td></tr>
<tr id="t2018-12-19T23:54:35"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">so when its excluded you hit failures?</td><td class="time"><a href="#t2018-12-19T23:54:35" class="time">23:54</a></td></tr>
<tr id="t2018-12-19T23:55:25"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">so let me undo my change to copy content of yocto-uninative.inc into uninative.bbclass</td><td class="time"><a href="#t2018-12-19T23:55:25" class="time">23:55</a></td></tr>
<tr id="t2018-12-19T23:56:05"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: this is full real error <a href="https://github.com/YoeDistro/yoe-distro/issues/85" rel="nofollow">https://github.com/YoeDistro/yoe-distro/issues/85</a></td><td class="time"><a href="#t2018-12-19T23:56:05" class="time">23:56</a></td></tr>
<tr id="t2018-12-19T23:57:54"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: it looks to me like its not copying the layers/setup correctly somehow</td><td class="time"><a href="#t2018-12-19T23:57:54" class="time">23:57</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2018-12-18.log.html">&#171; Tuesday, 2018-12-18</a> <a href="index.html">Index</a> <a href="%23yocto.2018-12-20.log.html">Thursday, 2018-12-20 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
