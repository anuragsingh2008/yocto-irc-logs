<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Wednesday, 2018-10-17</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Wednesday, 2018-10-17</h1>
<div class="navigation"> <a href="%23yocto.2018-10-16.log.html">&#171; Tuesday, 2018-10-16</a> <a href="index.html">Index</a> <a href="%23yocto.2018-10-18.log.html">Thursday, 2018-10-18 &#187;</a> </div>
<table class="irclog">
<tr id="t2018-10-17T01:04:21"><th class="nick" style="background: #407a40">NU-Slacker</th><td class="text" style="color: #407a40">Say you have a SRC_URI_machinename override in a recipe, and you are making an append.&nbsp;&nbsp;Is there a way to remove or mask that override from the append?</td><td class="time"><a href="#t2018-10-17T01:04:21" class="time">01:04</a></td></tr>
<tr id="t2018-10-17T01:05:36"><th class="nick" style="background: #407a40">NU-Slacker</th><td class="text" style="color: #407a40">Specifically, having the machine variable override makes the devtool flow more manually intensive and error prone.</td><td class="time"><a href="#t2018-10-17T01:05:36" class="time">01:05</a></td></tr>
<tr id="t2018-10-17T01:33:09"><th class="nick" style="background: #42427e">seebs</th><td class="text" style="color: #42427e"><a href="https://www.libssh.org/2018/10/16/libssh-0-8-4-and-0-7-6-security-and-bugfix-release/" rel="nofollow">https://www.libssh.org/2018/10/16/libssh-0-8-4-and-0-7-6-security-and-bugfix-release/</a> &lt;-- possibly one of the most painful security bugs i've seen recently</td><td class="time"><a href="#t2018-10-17T01:33:09" class="time">01:33</a></td></tr>
<tr id="t2018-10-17T01:46:10"><th class="nick" style="background: #818144">robbawebba</th><td class="text" style="color: #818144">NU-Slacker: Please correct me if I'm misunderstanding your situation, you're trying to have different appends depending on the machine?</td><td class="time"><a href="#t2018-10-17T01:46:10" class="time">01:46</a></td></tr>
<tr id="t2018-10-17T01:46:25"><th class="nick" style="background: #854685">kergoth</th><td class="text" style="color: #854685">sounds like they want to undo a machine override</td><td class="time"><a href="#t2018-10-17T01:46:25" class="time">01:46</a></td></tr>
<tr id="t2018-10-17T01:47:43"><th class="nick" style="background: #407a40">NU-Slacker</th><td class="text" style="color: #407a40">Yes to both.</td><td class="time"><a href="#t2018-10-17T01:47:43" class="time">01:47</a></td></tr>
<tr id="t2018-10-17T01:48:27"><th class="nick" style="background: #407a40">NU-Slacker</th><td class="text" style="color: #407a40">The base recipe is inside a vendor BSP layer and I'm making a board-specific layer</td><td class="time"><a href="#t2018-10-17T01:48:27" class="time">01:48</a></td></tr>
<tr id="t2018-10-17T01:49:27"><th class="nick" style="background: #818144">robbawebba</th><td class="text" style="color: #818144">ahhh okay, The solution that comes to mind is to have a separate directory within your `files` search path for each machine.</td><td class="time"><a href="#t2018-10-17T01:49:27" class="time">01:49</a></td></tr>
<tr id="t2018-10-17T01:49:56"><th class="nick" style="background: #818144">robbawebba</th><td class="text" style="color: #818144">I'm not sure if it will fully "undo" the machine override though</td><td class="time"><a href="#t2018-10-17T01:49:56" class="time">01:49</a></td></tr>
<tr id="t2018-10-17T01:50:02"><th class="nick" style="background: #407a40">NU-Slacker</th><td class="text" style="color: #407a40">The annoyance comes with devtool updating SRC_URI but not SRC_URI_machinename when updating or finishing.</td><td class="time"><a href="#t2018-10-17T01:50:02" class="time">01:50</a></td></tr>
<tr id="t2018-10-17T01:50:48"><th class="nick" style="background: #854685">kergoth</th><td class="text" style="color: #854685">devtool is never going to be a complete replacement for manual recipe/append changes. overrides add a great deal of complexity to source modification</td><td class="time"><a href="#t2018-10-17T01:50:48" class="time">01:50</a></td></tr>
<tr id="t2018-10-17T01:51:03"><th class="nick" style="background: #818144">robbawebba</th><td class="text" style="color: #818144">So you want to append the file for all machines, but one machine (your specific board) has a special file that needs to be appended?</td><td class="time"><a href="#t2018-10-17T01:51:03" class="time">01:51</a></td></tr>
<tr id="t2018-10-17T01:51:21"><td class="nickchange" colspan="2">*** kaspter1 is now known as kaspter</td><td><a href="#t2018-10-17T01:51:21" class="time">01:51</a></td></tr>
<tr id="t2018-10-17T01:52:14"><th class="nick" style="background: #407a40">NU-Slacker</th><td class="text" style="color: #407a40">kergoth: Understood that devtool cant automate everything.&nbsp;&nbsp;Just checking to see if Im not missing an easy solution.</td><td class="time"><a href="#t2018-10-17T01:52:14" class="time">01:52</a></td></tr>
<tr id="t2018-10-17T01:57:39"><th class="nick" style="background: #407a40">NU-Slacker</th><td class="text" style="color: #407a40">robbaweba: Pretty much, except that the base recipe from the vendor BSP layer has the override.&nbsp;&nbsp;I want to make what I have in the append apply to all.&nbsp;&nbsp;With the current situation I would need to set SRC_URI and SRC_URI_machinename in the bbappend to work</td><td class="time"><a href="#t2018-10-17T01:57:39" class="time">01:57</a></td></tr>
<tr id="t2018-10-17T01:59:01"><th class="nick" style="background: #407a40">NU-Slacker</th><td class="text" style="color: #407a40">I guess I could just create a new machine and that would "fix" it ¯\_(ツ)_/¯</td><td class="time"><a href="#t2018-10-17T01:59:01" class="time">01:59</a></td></tr>
<tr id="t2018-10-17T02:01:37"><th class="nick" style="background: #818144">robbawebba</th><td class="text" style="color: #818144">NU-Slacker: ahhh i see. In that case, I'm not sure how to cheat the machine override system. Sounds like a manual job :/</td><td class="time"><a href="#t2018-10-17T02:01:37" class="time">02:01</a></td></tr>
<tr id="t2018-10-17T02:01:59"><th class="nick" style="background: #818144">robbawebba</th><td class="text" style="color: #818144">NU-Slacker: although I've never used devtool, so I'm not quite sure what I'm mising lol</td><td class="time"><a href="#t2018-10-17T02:01:59" class="time">02:01</a></td></tr>
<tr id="t2018-10-17T02:03:56"><th class="nick" style="background: #407a40">NU-Slacker</th><td class="text" style="color: #407a40">robbawebba:I had never used devtool either until relatively recently.&nbsp;&nbsp;And of course the first recipe I tried it on had this odd case making it fail.</td><td class="time"><a href="#t2018-10-17T02:03:56" class="time">02:03</a></td></tr>
<tr id="t2018-10-17T02:05:21"><th class="nick" style="background: #407a40">NU-Slacker</th><td class="text" style="color: #407a40">It definitely removes a good portion of the more monotonous tasks.</td><td class="time"><a href="#t2018-10-17T02:05:21" class="time">02:05</a></td></tr>
<tr id="t2018-10-17T02:08:40"><td class="nickchange" colspan="2">*** Hoolootwo is now known as Hooloovo0</td><td><a href="#t2018-10-17T02:08:40" class="time">02:08</a></td></tr>
<tr id="t2018-10-17T02:19:59"><th class="nick" style="background: #818144">robbawebba</th><td class="text" style="color: #818144">NU-Slacker: I'll try and give it a show sometime soon!</td><td class="time"><a href="#t2018-10-17T02:19:59" class="time">02:19</a></td></tr>
<tr id="t2018-10-17T02:20:35"><th class="nick" style="background: #818144">robbawebba</th><td class="text" style="color: #818144">Unrelated, I've got a question about switching between two kernel versions for the same image, distro, and machine.</td><td class="time"><a href="#t2018-10-17T02:20:35" class="time">02:20</a></td></tr>
<tr id="t2018-10-17T02:23:30"><th class="nick" style="background: #818144">robbawebba</th><td class="text" style="color: #818144">I have two separate recipes for the kernel (4.9 and 4.19). our custom machine.conf file declares PREFERRED_PROVIDER_virtual/kernel, and that's the mechanism we're using to switch between kernel versions. We modify PREFERRED_PROVODER_virtual/kernel in&nbsp;&nbsp;our custom machine.conf file when we want to switch kernel versions.</td><td class="time"><a href="#t2018-10-17T02:23:30" class="time">02:23</a></td></tr>
<tr id="t2018-10-17T02:24:28"><th class="nick" style="background: #818144">robbawebba</th><td class="text" style="color: #818144">Is this the correct way to switch between kernels when all else is held constant? Or is there a better way to switch kernel versions?</td><td class="time"><a href="#t2018-10-17T02:24:28" class="time">02:24</a></td></tr>
<tr id="t2018-10-17T02:30:20"><th class="nick" style="background: #407a40">NU-Slacker</th><td class="text" style="color: #407a40">robbaweba: FWIW that is the mechanism I've used in the past.&nbsp;&nbsp;Though we usually set it in local.conf (generated by a source controlled setup script)</td><td class="time"><a href="#t2018-10-17T02:30:20" class="time">02:30</a></td></tr>
<tr id="t2018-10-17T02:57:20"><th class="nick" style="background: #818144">robbawebba</th><td class="text" style="color: #818144">NU-Slacker: How could I configure the PREFERRED_PROVIDER_virtual/kernel from local.conf? Do I have to use late assignment ( ?= ) in the machine.conf ?</td><td class="time"><a href="#t2018-10-17T02:57:20" class="time">02:57</a></td></tr>
<tr id="t2018-10-17T03:11:19"><th class="nick" style="background: #407a40">NU-Slacker</th><td class="text" style="color: #407a40">robbawebba: I dont recall specifically, but yes I think we used late assignment</td><td class="time"><a href="#t2018-10-17T03:11:19" class="time">03:11</a></td></tr>
<tr id="t2018-10-17T03:15:01"><th class="nick" style="background: #407a40">NU-Slacker</th><td class="text" style="color: #407a40">robbaweba: I think you can also PREFERRED_PROVIDER_virtual/kernel_yourmachinename="your-preference" from local.conf and that will work</td><td class="time"><a href="#t2018-10-17T03:15:01" class="time">03:15</a></td></tr>
<tr id="t2018-10-17T03:16:02"><th class="nick" style="background: #407a40">NU-Slacker</th><td class="text" style="color: #407a40">robbawebba: though thats pretty gross</td><td class="time"><a href="#t2018-10-17T03:16:02" class="time">03:16</a></td></tr>
<tr id="t2018-10-17T05:06:23"><th class="nick" style="background: #488888">yocti</th><td class="text" style="color: #488888">New news from stackoverflow: Yocto Rocko bitbake process reboot on Ubuntu &lt;<a href="https://stackoverflow.com/questions/52847405/yocto-rocko-bitbake-process-reboot-on-ubuntu&gt;" rel="nofollow">https://stackoverflow.com/questions/52847405/yocto-rocko-bitbake-process-reboot-on-ubuntu&gt;</a></td><td class="time"><a href="#t2018-10-17T05:06:23" class="time">05:06</a></td></tr>
<tr id="t2018-10-17T08:19:51"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2018-10-17T08:19:51" class="time">08:19</a></td></tr>
<tr id="t2018-10-17T09:09:11"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2018-10-17T09:09:11" class="time">09:09</a></td></tr>
<tr id="t2018-10-17T10:04:49"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">rburton: bitbake datastore cache is broke for remove operations :(</td><td class="time"><a href="#t2018-10-17T10:04:49" class="time">10:04</a></td></tr>
<tr id="t2018-10-17T10:05:05"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">My patch to fix remove checksumming just proves it :(</td><td class="time"><a href="#t2018-10-17T10:05:05" class="time">10:05</a></td></tr>
<tr id="t2018-10-17T10:05:12"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">(and is also bust)</td><td class="time"><a href="#t2018-10-17T10:05:12" class="time">10:05</a></td></tr>
<tr id="t2018-10-17T10:06:49"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">RP: <a href="https://www.youtube.com/watch?v=_NdHySPJr8I" rel="nofollow">https://www.youtube.com/watch?v=_NdHySPJr8I</a></td><td class="time"><a href="#t2018-10-17T10:06:49" class="time">10:06</a></td></tr>
<tr id="t2018-10-17T10:07:01"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">(picking up the keyword)</td><td class="time"><a href="#t2018-10-17T10:07:01" class="time">10:07</a></td></tr>
<tr id="t2018-10-17T10:12:26"><td class="part" colspan="2">*** lukma &lt;lukma!~lukma@85-222-111-42.dynamic.chello.pl&gt; has left #yocto</td><td><a href="#t2018-10-17T10:12:26" class="time">10:12</a></td></tr>
<tr id="t2018-10-17T11:13:32"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">RP: doh</td><td class="time"><a href="#t2018-10-17T11:13:32" class="time">11:13</a></td></tr>
<tr id="t2018-10-17T11:16:36"><th class="nick" style="background: #97974f">OutBackDingo</th><td class="text" style="color: #97974f">ok question whats the best way to deal with our custoom package conflicting with a standard yocto package say nginx... we boothh include index.html and well... build ffails</td><td class="time"><a href="#t2018-10-17T11:16:36" class="time">11:16</a></td></tr>
<tr id="t2018-10-17T11:17:19"><th class="nick" style="background: #9b519b">mcfrisk</th><td class="text" style="color: #9b519b">OutBackDingo: for config files, bbappend the yocto recipe to not install the file</td><td class="time"><a href="#t2018-10-17T11:17:19" class="time">11:17</a></td></tr>
<tr id="t2018-10-17T11:18:58"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">bonus points for patching the recipe to split out stuff like that so you can not install them, and sending the patch in</td><td class="time"><a href="#t2018-10-17T11:18:58" class="time">11:18</a></td></tr>
<tr id="t2018-10-17T11:23:09"><th class="nick" style="background: #97974f">OutBackDingo</th><td class="text" style="color: #97974f">rburton: ohhh goodie</td><td class="time"><a href="#t2018-10-17T11:23:09" class="time">11:23</a></td></tr>
<tr id="t2018-10-17T11:23:53"><th class="nick" style="background: #97974f">OutBackDingo</th><td class="text" style="color: #97974f">mcfrisk: i was thinking more a bbapend to overwrite / remove theirs and use ours</td><td class="time"><a href="#t2018-10-17T11:23:53" class="time">11:23</a></td></tr>
<tr id="t2018-10-17T11:24:10"><th class="nick" style="background: #9b519b">mcfrisk</th><td class="text" style="color: #9b519b">OutBackDingo: yea, that works too</td><td class="time"><a href="#t2018-10-17T11:24:10" class="time">11:24</a></td></tr>
<tr id="t2018-10-17T11:24:52"><th class="nick" style="background: #97974f">OutBackDingo</th><td class="text" style="color: #97974f">since id prefer not to much with their tree as we have all metas setup as submodules</td><td class="time"><a href="#t2018-10-17T11:24:52" class="time">11:24</a></td></tr>
<tr id="t2018-10-17T11:25:31"><th class="nick" style="background: #9b519b">mcfrisk</th><td class="text" style="color: #9b519b">yay, welcome to git submodule hell.. :)</td><td class="time"><a href="#t2018-10-17T11:25:31" class="time">11:25</a></td></tr>
<tr id="t2018-10-17T11:25:38"><th class="nick" style="background: #97974f">OutBackDingo</th><td class="text" style="color: #97974f">yupp</td><td class="time"><a href="#t2018-10-17T11:25:38" class="time">11:25</a></td></tr>
<tr id="t2018-10-17T11:26:47"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">rburton: I've put revised patches into -next, lets give those a try. Not the kind of changes I like making at this point in a release cycle :(</td><td class="time"><a href="#t2018-10-17T11:26:47" class="time">11:26</a></td></tr>
<tr id="t2018-10-17T11:33:15"><th class="nick" style="background: #97974f">OutBackDingo</th><td class="text" style="color: #97974f">thinks we should devices a high level DONT_INCLUDE REGEX&nbsp;&nbsp;local.conf DONT_INCLUDE=nginx/index.html whicvh basically says recipe nginx doont include file index.hhtml</td><td class="time"><a href="#t2018-10-17T11:33:15" class="time">11:33</a></td></tr>
<tr id="t2018-10-17T11:37:57"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">What is the right way to change the PATH for recipes?</td><td class="time"><a href="#t2018-10-17T11:37:57" class="time">11:37</a></td></tr>
<tr id="t2018-10-17T11:37:59"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">OutBackDingo: you can probably construct that relatively easy using a ROOTFS_POSTPROCESS_COMMAND</td><td class="time"><a href="#t2018-10-17T11:37:59" class="time">11:37</a></td></tr>
<tr id="t2018-10-17T11:41:22"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">Hi all. Is it possible to modify a default script which which generates the sdcard image to copy the rootfs file on single partition?</td><td class="time"><a href="#t2018-10-17T11:41:22" class="time">11:41</a></td></tr>
<tr id="t2018-10-17T11:41:37"><th class="nick" style="background: #97974f">OutBackDingo</th><td class="text" style="color: #97974f">LetoThe2nd: actually a good idea</td><td class="time"><a href="#t2018-10-17T11:41:37" class="time">11:41</a></td></tr>
<tr id="t2018-10-17T11:42:54"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">A problem is that the default script creates a two partitions: "boot" and "rootfs".. But I need to have an one partition with both 'boot stuff' and 'rootfs.ext3' file..</td><td class="time"><a href="#t2018-10-17T11:42:54" class="time">11:42</a></td></tr>
<tr id="t2018-10-17T11:43:10"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">Is it possible?</td><td class="time"><a href="#t2018-10-17T11:43:10" class="time">11:43</a></td></tr>
<tr id="t2018-10-17T11:44:29"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">I need the rootfs.ext3 file placed on some single partition with the uImage, u-boot and other files..</td><td class="time"><a href="#t2018-10-17T11:44:29" class="time">11:44</a></td></tr>
<tr id="t2018-10-17T11:46:16"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">F.e. this script: <a href="https://github.com/Freescale/meta-freescale/blob/pyro/classes/image_types_fsl.bbclass#L175" rel="nofollow">https://github.com/Freescale/meta-freescale/blob/pyro/classes/image_types_fsl.bbclass#L175</a> creates a two partitions... But I need in one...</td><td class="time"><a href="#t2018-10-17T11:46:16" class="time">11:46</a></td></tr>
<tr id="t2018-10-17T11:47:07"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">I'm writing recipe A. A depends on B-native (also mine). B-native installs some executables to a "non-standard" location(i.e. not ${bindir}) that A needs for its do_configure(). How can I add something to A</td><td class="time"><a href="#t2018-10-17T11:47:07" class="time">11:47</a></td></tr>
<tr id="t2018-10-17T11:47:13"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">I'm writing recipe A. A depends on B-native (also mine). B-native installs some executables to a "non-standard" location(i.e. not ${bindir}) that A needs for its do_configure(). How can I add something to A's PATH?</td><td class="time"><a href="#t2018-10-17T11:47:13" class="time">11:47</a></td></tr>
<tr id="t2018-10-17T11:48:45"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">jofr: by extending PATH :)</td><td class="time"><a href="#t2018-10-17T11:48:45" class="time">11:48</a></td></tr>
<tr id="t2018-10-17T11:50:10"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">rburton: Thanks! But is PATH a string or a list?</td><td class="time"><a href="#t2018-10-17T11:50:10" class="time">11:50</a></td></tr>
<tr id="t2018-10-17T11:50:27"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">standard $PATH, colon-separated string</td><td class="time"><a href="#t2018-10-17T11:50:27" class="time">11:50</a></td></tr>
<tr id="t2018-10-17T11:50:45"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">note that if the location is non-standard, its most likely not even in the sysroot</td><td class="time"><a href="#t2018-10-17T11:50:45" class="time">11:50</a></td></tr>
<tr id="t2018-10-17T11:50:59"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Ahh. Ok&nbsp;&nbsp;:)</td><td class="time"><a href="#t2018-10-17T11:50:59" class="time">11:50</a></td></tr>
<tr id="t2018-10-17T11:51:00"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">only select bits of a package go into the sysroot, the stuff needed to build</td><td class="time"><a href="#t2018-10-17T11:51:00" class="time">11:51</a></td></tr>
<tr id="t2018-10-17T11:51:09"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Yes.</td><td class="time"><a href="#t2018-10-17T11:51:09" class="time">11:51</a></td></tr>
<tr id="t2018-10-17T11:51:14"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">you can add more, SYSROOT_DIRS</td><td class="time"><a href="#t2018-10-17T11:51:14" class="time">11:51</a></td></tr>
<tr id="t2018-10-17T11:51:51"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Ok</td><td class="time"><a href="#t2018-10-17T11:51:51" class="time">11:51</a></td></tr>
<tr id="t2018-10-17T11:52:50"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">What about environment variables? Can is just set them in my recipe like you mention with PATH? Or is there a predefined list of environment-variables (including "PATH") somewhere?</td><td class="time"><a href="#t2018-10-17T11:52:50" class="time">11:52</a></td></tr>
<tr id="t2018-10-17T11:53:22"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">if you put 'export' in front of a variable assignment, it gets exported</td><td class="time"><a href="#t2018-10-17T11:53:22" class="time">11:53</a></td></tr>
<tr id="t2018-10-17T11:54:40"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Anywhere or in do_configure() specifically?</td><td class="time"><a href="#t2018-10-17T11:54:40" class="time">11:54</a></td></tr>
<tr id="t2018-10-17T11:56:39"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">I mean.. Is "export" a bitbake keyword? I seems to me that anything in do_whatervers() are basically just executed as shellscripts (from ${S}), so I assume I can do basically whatever shell-commands in there..? But what I'm thinking about is the rest of the recipe</td><td class="time"><a href="#t2018-10-17T11:56:39" class="time">11:56</a></td></tr>
<tr id="t2018-10-17T11:56:54"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">outside of functions, export is a bitbake keyword</td><td class="time"><a href="#t2018-10-17T11:56:54" class="time">11:56</a></td></tr>
<tr id="t2018-10-17T11:57:02"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">inside a shell function, its shell, so does what you'd expect</td><td class="time"><a href="#t2018-10-17T11:57:02" class="time">11:57</a></td></tr>
<tr id="t2018-10-17T11:58:02"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Nice. Thanks!</td><td class="time"><a href="#t2018-10-17T11:58:02" class="time">11:58</a></td></tr>
<tr id="t2018-10-17T12:02:22"><th class="nick" style="background: #57a657">ernstp</th><td class="text" style="color: #57a657">with COPY_LIC_DIRS=1 the files in /usr/share/common-licenses on target have the wrong owner, they're owned by the buildsystem user</td><td class="time"><a href="#t2018-10-17T12:02:22" class="time">12:02</a></td></tr>
<tr id="t2018-10-17T12:02:36"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">ernstp: urgh.&nbsp;&nbsp;bug please.</td><td class="time"><a href="#t2018-10-17T12:02:36" class="time">12:02</a></td></tr>
<tr id="t2018-10-17T12:02:38"><th class="nick" style="background: #57a657">ernstp</th><td class="text" style="color: #57a657">I filed a bug about it, but in the meantime I'm trying to work around it</td><td class="time"><a href="#t2018-10-17T12:02:38" class="time">12:02</a></td></tr>
<tr id="t2018-10-17T12:02:43"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">ah ok, what #?</td><td class="time"><a href="#t2018-10-17T12:02:43" class="time">12:02</a></td></tr>
<tr id="t2018-10-17T12:03:01"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">the fix is most likely fairly simple, just a chown in the right place</td><td class="time"><a href="#t2018-10-17T12:03:01" class="time">12:03</a></td></tr>
<tr id="t2018-10-17T12:03:15"><th class="nick" style="background: #57a657">ernstp</th><td class="text" style="color: #57a657">#12961</td><td class="time"><a href="#t2018-10-17T12:03:15" class="time">12:03</a></td></tr>
<tr id="t2018-10-17T12:03:37"><th class="nick" style="background: #57a657">ernstp</th><td class="text" style="color: #57a657">I guess not many people enable that flag</td><td class="time"><a href="#t2018-10-17T12:03:37" class="time">12:03</a></td></tr>
<tr id="t2018-10-17T12:04:05"><th class="nick" style="background: #57a657">ernstp</th><td class="text" style="color: #57a657">added a FILESYSTEM_PERMS_TABLES with /usr/share/common-licenses&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0755&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;&nbsp;true&nbsp;&nbsp;&nbsp;&nbsp;0644&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;&nbsp;root</td><td class="time"><a href="#t2018-10-17T12:04:05" class="time">12:04</a></td></tr>
<tr id="t2018-10-17T12:04:14"><th class="nick" style="background: #57a657">ernstp</th><td class="text" style="color: #57a657">but that didn't take unfortunately</td><td class="time"><a href="#t2018-10-17T12:04:14" class="time">12:04</a></td></tr>
<tr id="t2018-10-17T12:06:06"><th class="nick" style="background: #57a657">ernstp</th><td class="text" style="color: #57a657">They're a bit tricky perhaps because they're linked and not installed.</td><td class="time"><a href="#t2018-10-17T12:06:06" class="time">12:06</a></td></tr>
<tr id="t2018-10-17T12:06:10"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">yeah that's ugly</td><td class="time"><a href="#t2018-10-17T12:06:10" class="time">12:06</a></td></tr>
<tr id="t2018-10-17T12:06:20"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">the code should just copy</td><td class="time"><a href="#t2018-10-17T12:06:20" class="time">12:06</a></td></tr>
<tr id="t2018-10-17T12:06:25"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">i thought there was a better way of doing this anyway</td><td class="time"><a href="#t2018-10-17T12:06:25" class="time">12:06</a></td></tr>
<tr id="t2018-10-17T12:06:35"><th class="nick" style="background: #57a657">ernstp</th><td class="text" style="color: #57a657">very much a microoptimization :-)</td><td class="time"><a href="#t2018-10-17T12:06:35" class="time">12:06</a></td></tr>
<tr id="t2018-10-17T12:07:32"><th class="nick" style="background: #57a657">ernstp</th><td class="text" style="color: #57a657">ah, I guess I could just add a ROOTFS_POSTPROCESS_COMMAND to fix it for now</td><td class="time"><a href="#t2018-10-17T12:07:32" class="time">12:07</a></td></tr>
<tr id="t2018-10-17T12:07:40"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">well if you turn on LICENSE_CREATE_PACKAGE you get a PN-lic package for each package installed</td><td class="time"><a href="#t2018-10-17T12:07:40" class="time">12:07</a></td></tr>
<tr id="t2018-10-17T12:07:48"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">then you can use complementary packages to pull all those in</td><td class="time"><a href="#t2018-10-17T12:07:48" class="time">12:07</a></td></tr>
<tr id="t2018-10-17T12:08:04"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">i guess thats not great if a package has complex licensing</td><td class="time"><a href="#t2018-10-17T12:08:04" class="time">12:08</a></td></tr>
<tr id="t2018-10-17T12:08:27"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">a patch i'd positively review would replace the initial link with a copy so the ownership in the rootfs is right</td><td class="time"><a href="#t2018-10-17T12:08:27" class="time">12:08</a></td></tr>
<tr id="t2018-10-17T12:09:48"><th class="nick" style="background: #57a657">ernstp</th><td class="text" style="color: #57a657">will that automatically fix it, even if that code is not running under fakeroot?</td><td class="time"><a href="#t2018-10-17T12:09:48" class="time">12:09</a></td></tr>
<tr id="t2018-10-17T12:10:08"><th class="nick" style="background: #57a657">ernstp</th><td class="text" style="color: #57a657">(can you run python code under fakeroot?)</td><td class="time"><a href="#t2018-10-17T12:10:08" class="time">12:10</a></td></tr>
<tr id="t2018-10-17T12:10:25"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">hm</td><td class="time"><a href="#t2018-10-17T12:10:25" class="time">12:10</a></td></tr>
<tr id="t2018-10-17T12:10:39"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">its a rootfs postprocess</td><td class="time"><a href="#t2018-10-17T12:10:39" class="time">12:10</a></td></tr>
<tr id="t2018-10-17T12:10:43"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">yeah i dont like this code one bit :)</td><td class="time"><a href="#t2018-10-17T12:10:43" class="time">12:10</a></td></tr>
<tr id="t2018-10-17T12:12:08"><th class="nick" style="background: #57a657">ernstp</th><td class="text" style="color: #57a657">:-)</td><td class="time"><a href="#t2018-10-17T12:12:08" class="time">12:12</a></td></tr>
<tr id="t2018-10-17T12:12:33"><th class="nick" style="background: #57a657">ernstp</th><td class="text" style="color: #57a657">but then again, no one really likes to work on licensing stuff :-)</td><td class="time"><a href="#t2018-10-17T12:12:33" class="time">12:12</a></td></tr>
<tr id="t2018-10-17T12:12:43"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">fwiw, setting COMPLEMENTARY_GLOB[lic-pkgs] = '*-lic' and LICENSE_CREATE_PACKAGE="1" and IMAGE_FEATURES_append = " lic-pkgs" might be an interesting experiment</td><td class="time"><a href="#t2018-10-17T12:12:43" class="time">12:12</a></td></tr>
<tr id="t2018-10-17T12:13:09"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">add a new image feature, turn on license packages, install them</td><td class="time"><a href="#t2018-10-17T12:13:09" class="time">12:13</a></td></tr>
<tr id="t2018-10-17T12:13:55"><th class="nick" style="background: #57a657">ernstp</th><td class="text" style="color: #57a657">from the LICENSE_CREATE_PACKAGE docs it sounded like you don't have to do anything special, it adds RRECOMMENDS</td><td class="time"><a href="#t2018-10-17T12:13:55" class="time">12:13</a></td></tr>
<tr id="t2018-10-17T12:14:52"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">so it does</td><td class="time"><a href="#t2018-10-17T12:14:52" class="time">12:14</a></td></tr>
<tr id="t2018-10-17T12:15:03"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">assuming you install PN</td><td class="time"><a href="#t2018-10-17T12:15:03" class="time">12:15</a></td></tr>
<tr id="t2018-10-17T12:15:29"><th class="nick" style="background: #57a657">ernstp</th><td class="text" style="color: #57a657">well those are the licenses you should ship so...</td><td class="time"><a href="#t2018-10-17T12:15:29" class="time">12:15</a></td></tr>
<tr id="t2018-10-17T12:16:06"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">not if you have a package that breaks into PN and PN-foo but you only ship PN-foo</td><td class="time"><a href="#t2018-10-17T12:16:06" class="time">12:16</a></td></tr>
<tr id="t2018-10-17T12:34:40"><th class="nick" style="background: #57a657">ernstp</th><td class="text" style="color: #57a657">right</td><td class="time"><a href="#t2018-10-17T12:34:40" class="time">12:34</a></td></tr>
<tr id="t2018-10-17T12:43:19"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">Hi, I'm trying to add libinih (meta-oe/recipes-support) to my SDK</td><td class="time"><a href="#t2018-10-17T12:43:19" class="time">12:43</a></td></tr>
<tr id="t2018-10-17T12:43:58"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">does anyone know how to handle this ?</td><td class="time"><a href="#t2018-10-17T12:43:58" class="time">12:43</a></td></tr>
<tr id="t2018-10-17T12:46:48"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">and also this package has ALLOW_EMPTY = 1</td><td class="time"><a href="#t2018-10-17T12:46:48" class="time">12:46</a></td></tr>
<tr id="t2018-10-17T12:48:03"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">rokm: the simplest way is to have your image that you create the sdk for depend in it (e.g., IMAGE_INSTALL)</td><td class="time"><a href="#t2018-10-17T12:48:03" class="time">12:48</a></td></tr>
<tr id="t2018-10-17T12:49:13"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">but I need lib file and includes in SDK to use it in apps</td><td class="time"><a href="#t2018-10-17T12:49:13" class="time">12:49</a></td></tr>
<tr id="t2018-10-17T12:49:30"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">yeah, so what?</td><td class="time"><a href="#t2018-10-17T12:49:30" class="time">12:49</a></td></tr>
<tr id="t2018-10-17T12:49:55"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">the sdk matches the image. so if your image contains the lib, the sdk will include the lib and headers too</td><td class="time"><a href="#t2018-10-17T12:49:55" class="time">12:49</a></td></tr>
<tr id="t2018-10-17T12:50:52"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">ye but image contains lib and includes but when I look into SDK there are missing</td><td class="time"><a href="#t2018-10-17T12:50:52" class="time">12:50</a></td></tr>
<tr id="t2018-10-17T12:51:01"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">I use populate-sdk</td><td class="time"><a href="#t2018-10-17T12:51:01" class="time">12:51</a></td></tr>
<tr id="t2018-10-17T12:51:18"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">and even I have this on target</td><td class="time"><a href="#t2018-10-17T12:51:18" class="time">12:51</a></td></tr>
<tr id="t2018-10-17T12:51:35"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">I need them on SDK for cross-compilation</td><td class="time"><a href="#t2018-10-17T12:51:35" class="time">12:51</a></td></tr>
<tr id="t2018-10-17T12:51:59"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">yesyes, thats obivous. just saw that it is static lib only. hm, let me check</td><td class="time"><a href="#t2018-10-17T12:51:59" class="time">12:51</a></td></tr>
<tr id="t2018-10-17T12:52:16"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">that I asked about this ALLOW_EMPTY</td><td class="time"><a href="#t2018-10-17T12:52:16" class="time">12:52</a></td></tr>
<tr id="t2018-10-17T12:52:47"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">TOOLCHAIN_HOST_TASK_append also didn't help</td><td class="time"><a href="#t2018-10-17T12:52:47" class="time">12:52</a></td></tr>
<tr id="t2018-10-17T12:53:05"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">the allow_empty is not the problem. the problem is that the static lib probably is not packed into anything else too.</td><td class="time"><a href="#t2018-10-17T12:53:05" class="time">12:53</a></td></tr>
<tr id="t2018-10-17T12:53:17"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">:|</td><td class="time"><a href="#t2018-10-17T12:53:17" class="time">12:53</a></td></tr>
<tr id="t2018-10-17T12:53:39"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">also I tried BBCLASSEXTEND = nativesdk</td><td class="time"><a href="#t2018-10-17T12:53:39" class="time">12:53</a></td></tr>
<tr id="t2018-10-17T12:53:54"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">I think all what I found in the internet</td><td class="time"><a href="#t2018-10-17T12:53:54" class="time">12:53</a></td></tr>
<tr id="t2018-10-17T12:58:55"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">LetoThe2nd: So it there any solution for this ?</td><td class="time"><a href="#t2018-10-17T12:58:55" class="time">12:58</a></td></tr>
<tr id="t2018-10-17T12:58:55"><th class="nick" style="background: #adad5b">mckoan</th><td class="text" style="color: #adad5b">rokm: probably the recipe is not specifying FILES_${PN} += "${libdir}/lib*.so.*"</td><td class="time"><a href="#t2018-10-17T12:58:55" class="time">12:58</a></td></tr>
<tr id="t2018-10-17T12:59:48"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">yep original recipe doesnt have this</td><td class="time"><a href="#t2018-10-17T12:59:48" class="time">12:59</a></td></tr>
<tr id="t2018-10-17T13:01:17"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">but I don't think that this will help in SDK issue</td><td class="time"><a href="#t2018-10-17T13:01:17" class="time">13:01</a></td></tr>
<tr id="t2018-10-17T13:01:20"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">mckoan: well the recipe explicitly states that its static only. so the question is a bit, was this intentional (because upstream means it that way) or just lazyness (because submitter likes only static, doesn't care about the rest)</td><td class="time"><a href="#t2018-10-17T13:01:20" class="time">13:01</a></td></tr>
<tr id="t2018-10-17T13:01:45"><th class="nick" style="background: #adad5b">mckoan</th><td class="text" style="color: #adad5b">LetoThe2nd: indeed</td><td class="time"><a href="#t2018-10-17T13:01:45" class="time">13:01</a></td></tr>
<tr id="t2018-10-17T13:04:29"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">ok, upstream seems to be quite unmaintened, last commit 4 or 5 years ago, but definitively shared-capable</td><td class="time"><a href="#t2018-10-17T13:04:29" class="time">13:04</a></td></tr>
<tr id="t2018-10-17T13:04:31"><th class="nick" style="background: #adad5b">mckoan</th><td class="text" style="color: #adad5b">LetoThe2nd: rokm: in fact it is creating only libinih.a, no .so</td><td class="time"><a href="#t2018-10-17T13:04:31" class="time">13:04</a></td></tr>
<tr id="t2018-10-17T13:05:35"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">probably one should remove the ALLOW_EMPTY, and pass some extra cmake arguments to build the shared version</td><td class="time"><a href="#t2018-10-17T13:05:35" class="time">13:05</a></td></tr>
<tr id="t2018-10-17T13:06:13"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">-&gt; <a href="https://github.com/OSSystems/inih/blob/master/lib/CMakeLists.txt" rel="nofollow">https://github.com/OSSystems/inih/blob/master/lib/CMakeLists.txt</a></td><td class="time"><a href="#t2018-10-17T13:06:13" class="time">13:06</a></td></tr>
<tr id="t2018-10-17T13:09:25"><th class="nick" style="background: #adad5b">mckoan</th><td class="text" style="color: #adad5b">LetoThe2nd: you need to run cmake -D BUILD_SHARED_LIBS=y .</td><td class="time"><a href="#t2018-10-17T13:09:25" class="time">13:09</a></td></tr>
<tr id="t2018-10-17T13:09:39"><th class="nick" style="background: #adad5b">mckoan</th><td class="text" style="color: #adad5b">[ 40%] Linking C shared library libinih.so</td><td class="time"><a href="#t2018-10-17T13:09:39" class="time">13:09</a></td></tr>
<tr id="t2018-10-17T13:11:27"><th class="nick" style="background: #adad5b">mckoan</th><td class="text" style="color: #adad5b">rokm: please add this into the recipe EXTRA_OECMAKE = "-D BUILD_SHARED_LIBS=y"</td><td class="time"><a href="#t2018-10-17T13:11:27" class="time">13:11</a></td></tr>
<tr id="t2018-10-17T13:11:35"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">ok will try</td><td class="time"><a href="#t2018-10-17T13:11:35" class="time">13:11</a></td></tr>
<tr id="t2018-10-17T13:12:17"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">and remove the ALLOW_EMPTY</td><td class="time"><a href="#t2018-10-17T13:12:17" class="time">13:12</a></td></tr>
<tr id="t2018-10-17T13:18:53"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">NOTE: make -j 4 -D BUILD_SHARED_LIBS=y</td><td class="time"><a href="#t2018-10-17T13:18:53" class="time">13:18</a></td></tr>
<tr id="t2018-10-17T13:19:03"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">make: invalid option -- 'D'</td><td class="time"><a href="#t2018-10-17T13:19:03" class="time">13:19</a></td></tr>
<tr id="t2018-10-17T13:26:02"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">So my make doesn't support this</td><td class="time"><a href="#t2018-10-17T13:26:02" class="time">13:26</a></td></tr>
<tr id="t2018-10-17T13:26:53"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">your make?</td><td class="time"><a href="#t2018-10-17T13:26:53" class="time">13:26</a></td></tr>
<tr id="t2018-10-17T13:27:02"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">&nbsp;&nbsp;-w, --print-directory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Print the current directory.</td><td class="time"><a href="#t2018-10-17T13:27:02" class="time">13:27</a></td></tr>
<tr id="t2018-10-17T13:27:13"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">make: invalid option -- 'D'</td><td class="time"><a href="#t2018-10-17T13:27:13" class="time">13:27</a></td></tr>
<tr id="t2018-10-17T13:27:35"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">yeah but that should not even get to make, its for cmake</td><td class="time"><a href="#t2018-10-17T13:27:35" class="time">13:27</a></td></tr>
<tr id="t2018-10-17T13:27:56"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">I run bitbake libinih</td><td class="time"><a href="#t2018-10-17T13:27:56" class="time">13:27</a></td></tr>
<tr id="t2018-10-17T13:28:10"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">rokm: did you set EXTRA_OEMAKE or EXTRA_OECMAKE?</td><td class="time"><a href="#t2018-10-17T13:28:10" class="time">13:28</a></td></tr>
<tr id="t2018-10-17T13:28:16"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">rburton: ++</td><td class="time"><a href="#t2018-10-17T13:28:16" class="time">13:28</a></td></tr>
<tr id="t2018-10-17T13:29:04"><th class="nick" style="background: #adad5b">mckoan</th><td class="text" style="color: #adad5b">rokm: as I said, you need to run cmake -D BUILD_SHARED_LIBS=y .</td><td class="time"><a href="#t2018-10-17T13:29:04" class="time">13:29</a></td></tr>
<tr id="t2018-10-17T13:29:09"><th class="nick" style="background: #adad5b">mckoan</th><td class="text" style="color: #adad5b">rokm: and then make</td><td class="time"><a href="#t2018-10-17T13:29:09" class="time">13:29</a></td></tr>
<tr id="t2018-10-17T13:37:14"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">doing this from devshell -&gt; OK</td><td class="time"><a href="#t2018-10-17T13:37:14" class="time">13:37</a></td></tr>
<tr id="t2018-10-17T13:40:32"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">from bitbake --&gt;&nbsp;&nbsp;libinih-0.0+gitrAUTOINC+25078f7156-r3 do_package_qa: QA Issue: -dev package contains non-symlink .so: libinih-dev</td><td class="time"><a href="#t2018-10-17T13:40:32" class="time">13:40</a></td></tr>
<tr id="t2018-10-17T13:41:38"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">could this be related to missing FILES_${PN} += "${libdir}/lib*.so.*" ?</td><td class="time"><a href="#t2018-10-17T13:41:38" class="time">13:41</a></td></tr>
<tr id="t2018-10-17T13:42:37"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">rokm: you shouldn't need the FILES_${PN}, actually once the EXTRA_OECMAKE is working properly</td><td class="time"><a href="#t2018-10-17T13:42:37" class="time">13:42</a></td></tr>
<tr id="t2018-10-17T13:42:39"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">no, because thats the default</td><td class="time"><a href="#t2018-10-17T13:42:39" class="time">13:42</a></td></tr>
<tr id="t2018-10-17T13:51:02"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">So is there any parameter that will force to create symlink for this lib ?</td><td class="time"><a href="#t2018-10-17T13:51:02" class="time">13:51</a></td></tr>
<tr id="t2018-10-17T13:52:24"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">rokm: can you share your recipe?</td><td class="time"><a href="#t2018-10-17T13:52:24" class="time">13:52</a></td></tr>
<tr id="t2018-10-17T13:53:31"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9"><a href="https://pastebin.com/5uQ1YGMx" rel="nofollow">https://pastebin.com/5uQ1YGMx</a></td><td class="time"><a href="#t2018-10-17T13:53:31" class="time">13:53</a></td></tr>
<tr id="t2018-10-17T13:54:03"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">i suspect you have more than that</td><td class="time"><a href="#t2018-10-17T13:54:03" class="time">13:54</a></td></tr>
<tr id="t2018-10-17T13:54:21"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">only these which is in meta-oe</td><td class="time"><a href="#t2018-10-17T13:54:21" class="time">13:54</a></td></tr>
<tr id="t2018-10-17T13:54:32"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">original bb file</td><td class="time"><a href="#t2018-10-17T13:54:32" class="time">13:54</a></td></tr>
<tr id="t2018-10-17T13:54:54"><th class="nick" style="background: #adad5b">mckoan</th><td class="text" style="color: #adad5b">rokm: what is this a .bbappend?</td><td class="time"><a href="#t2018-10-17T13:54:54" class="time">13:54</a></td></tr>
<tr id="t2018-10-17T13:55:15"><th class="nick" style="background: #adad5b">mckoan</th><td class="text" style="color: #adad5b">rokm: not sure ALLOW_EMPTY_${PN} = "0" is correct, I'd remove the whole line</td><td class="time"><a href="#t2018-10-17T13:55:15" class="time">13:55</a></td></tr>
<tr id="t2018-10-17T13:56:09"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">thats because the recipe has ALLOW_EMPTY=1, because its wrong</td><td class="time"><a href="#t2018-10-17T13:56:09" class="time">13:56</a></td></tr>
<tr id="t2018-10-17T13:56:24"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">why are you passing ${S}/lib in extra_oecmake?</td><td class="time"><a href="#t2018-10-17T13:56:24" class="time">13:56</a></td></tr>
<tr id="t2018-10-17T13:56:37"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">because it needs path to sources</td><td class="time"><a href="#t2018-10-17T13:56:37" class="time">13:56</a></td></tr>
<tr id="t2018-10-17T13:56:44"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">without this i got error</td><td class="time"><a href="#t2018-10-17T13:56:44" class="time">13:56</a></td></tr>
<tr id="t2018-10-17T13:57:34"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">that's passed before EXTRA_OECMAKE though</td><td class="time"><a href="#t2018-10-17T13:57:34" class="time">13:57</a></td></tr>
<tr id="t2018-10-17T13:58:04"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">and is ${S}</td><td class="time"><a href="#t2018-10-17T13:58:04" class="time">13:58</a></td></tr>
<tr id="t2018-10-17T13:59:24"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">when I remove lib at the end i got this linux-gnueabi/libinih/0.0+gitrAUTOINC+25078f7156-r3/build/BUILD_SHARED_LIBS=y" does not exist.</td><td class="time"><a href="#t2018-10-17T13:59:24" class="time">13:59</a></td></tr>
<tr id="t2018-10-17T14:00:01"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">from devshell I also had to put lib/ at the end</td><td class="time"><a href="#t2018-10-17T14:00:01" class="time">14:00</a></td></tr>
<tr id="t2018-10-17T14:00:09"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">to be able to compile</td><td class="time"><a href="#t2018-10-17T14:00:09" class="time">14:00</a></td></tr>
<tr id="t2018-10-17T14:00:21"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">sounds like you need to remove the space between -D and BUILD_SHARED_LIBS</td><td class="time"><a href="#t2018-10-17T14:00:21" class="time">14:00</a></td></tr>
<tr id="t2018-10-17T14:00:56"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">because it thinks BUILD_SHARED_LIBS=y is a path</td><td class="time"><a href="#t2018-10-17T14:00:56" class="time">14:00</a></td></tr>
<tr id="t2018-10-17T14:01:07"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">(yay cmake, always worse than you imagine)</td><td class="time"><a href="#t2018-10-17T14:01:07" class="time">14:01</a></td></tr>
<tr id="t2018-10-17T14:02:07"><th class="nick" style="background: #b15db1">Saur</th><td class="text" style="color: #b15db1">If I have two packages foo and bar that both provide virtual/foobar, am I supposed to be able to do EXCLUDE_PACKAGES = "virtual/foobar", or must I do "EXCLUDE_PACKAGES = "foo bar"?</td><td class="time"><a href="#t2018-10-17T14:02:07" class="time">14:02</a></td></tr>
<tr id="t2018-10-17T14:02:36"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">latter</td><td class="time"><a href="#t2018-10-17T14:02:36" class="time">14:02</a></td></tr>
<tr id="t2018-10-17T14:02:39"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">got the same results -&gt; -dev package contains non-symlink .so: libinih-dev</td><td class="time"><a href="#t2018-10-17T14:02:39" class="time">14:02</a></td></tr>
<tr id="t2018-10-17T14:02:41"><th class="nick" style="background: #b15db1">Saur</th><td class="text" style="color: #b15db1">We just upgraded to Sumo, and it seems the former worked with Rocko, but not with Sumo...</td><td class="time"><a href="#t2018-10-17T14:02:41" class="time">14:02</a></td></tr>
<tr id="t2018-10-17T14:02:57"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">it works witkout /lib at the end</td><td class="time"><a href="#t2018-10-17T14:02:57" class="time">14:02</a></td></tr>
<tr id="t2018-10-17T14:03:11"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">but the result is the same</td><td class="time"><a href="#t2018-10-17T14:03:11" class="time">14:03</a></td></tr>
<tr id="t2018-10-17T14:03:12"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">rokm: so guessing the cmake file is broken and the shared library isn't versioned</td><td class="time"><a href="#t2018-10-17T14:03:12" class="time">14:03</a></td></tr>
<tr id="t2018-10-17T14:03:16"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">which is bad form</td><td class="time"><a href="#t2018-10-17T14:03:16" class="time">14:03</a></td></tr>
<tr id="t2018-10-17T14:03:29"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93"><a href="https://wiki.yoctoproject.org/wiki/TipsAndTricks/Packaging_Prebuilt_Libraries#Non-versioned_Libraries" rel="nofollow">https://wiki.yoctoproject.org/wiki/TipsAndTricks/Packaging_Prebuilt_Libraries#Non-versioned_Libraries</a></td><td class="time"><a href="#t2018-10-17T14:03:29" class="time">14:03</a></td></tr>
<tr id="t2018-10-17T14:08:54"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">I assume that it is not possible to fix this from recipe</td><td class="time"><a href="#t2018-10-17T14:08:54" class="time">14:08</a></td></tr>
<tr id="t2018-10-17T14:13:18"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">libinih is under "new bsd" So I think it will be faster, easier and legal that I will just compile it into my app</td><td class="time"><a href="#t2018-10-17T14:13:18" class="time">14:13</a></td></tr>
<tr id="t2018-10-17T14:13:39"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">anyway thanks for support</td><td class="time"><a href="#t2018-10-17T14:13:39" class="time">14:13</a></td></tr>
<tr id="t2018-10-17T14:32:53"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">rokm: the wiki page i linked to tells you how to work around</td><td class="time"><a href="#t2018-10-17T14:32:53" class="time">14:32</a></td></tr>
<tr id="t2018-10-17T14:37:48"><th class="nick" style="background: #5fb4b4">kasper150</th><td class="text" style="color: #5fb4b4">Hi, i'm looking for some help with meta-qt5. I'd like to change default libs path (/usr/lib) to custom (/opt/lib) on the target. I've been trying for 2 days and still have problems with building (yocto-sumo).</td><td class="time"><a href="#t2018-10-17T14:37:48" class="time">14:37</a></td></tr>
<tr id="t2018-10-17T14:40:09"><td class="nickchange" colspan="2">*** lexano_ is now known as lexano</td><td><a href="#t2018-10-17T14:40:09" class="time">14:40</a></td></tr>
<tr id="t2018-10-17T14:43:30"><th class="nick" style="background: #adad5b">mckoan</th><td class="text" style="color: #adad5b">rokm: use this <a href="https://pastebin.com/whLCm0Jr" rel="nofollow">https://pastebin.com/whLCm0Jr</a></td><td class="time"><a href="#t2018-10-17T14:43:30" class="time">14:43</a></td></tr>
<tr id="t2018-10-17T15:13:34"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">mckoan: thanks I will try it</td><td class="time"><a href="#t2018-10-17T15:13:34" class="time">15:13</a></td></tr>
<tr id="t2018-10-17T15:14:33"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">mckoan: do_install will put libs on target which I dont need</td><td class="time"><a href="#t2018-10-17T15:14:33" class="time">15:14</a></td></tr>
<tr id="t2018-10-17T15:16:07"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">but now I hope thet there will not be a problem since so are generated</td><td class="time"><a href="#t2018-10-17T15:16:07" class="time">15:16</a></td></tr>
<tr id="t2018-10-17T15:20:41"><th class="nick" style="background: #adad5b">mckoan</th><td class="text" style="color: #adad5b">rokm: good luck!</td><td class="time"><a href="#t2018-10-17T15:20:41" class="time">15:20</a></td></tr>
<tr id="t2018-10-17T15:21:20"><th class="nick" style="background: #adad5b">mckoan</th><td class="text" style="color: #adad5b">rokm: I wonder how you can not to use libs.so on the target if your app is using them though</td><td class="time"><a href="#t2018-10-17T15:21:20" class="time">15:21</a></td></tr>
<tr id="t2018-10-17T15:23:03"><th class="nick" style="background: #5959a9">rokm</th><td class="text" style="color: #5959a9">hehe ;) now I have too, still had in mind .a lib</td><td class="time"><a href="#t2018-10-17T15:23:03" class="time">15:23</a></td></tr>
<tr id="t2018-10-17T15:49:52"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">Hi guys. Why I got:&nbsp;&nbsp;No IMAGE_CMD defined for IMAGE_FSTYPES entry ... mesage when I try to create an own image type?</td><td class="time"><a href="#t2018-10-17T15:49:52" class="time">15:49</a></td></tr>
<tr id="t2018-10-17T15:50:22"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">presumably because you didn't set IMAGE_CMD for your image type?</td><td class="time"><a href="#t2018-10-17T15:50:22" class="time">15:50</a></td></tr>
<tr id="t2018-10-17T15:50:26"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">IMAGE_CMD_yourtypename</td><td class="time"><a href="#t2018-10-17T15:50:26" class="time">15:50</a></td></tr>
<tr id="t2018-10-17T15:51:06"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">I have created a new class file "foo-image.bbclass" and put it to 'foo-layer/classes</td><td class="time"><a href="#t2018-10-17T15:51:06" class="time">15:51</a></td></tr>
<tr id="t2018-10-17T15:51:24"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">In this image I have added: IMAGE_CMD_foo() {}</td><td class="time"><a href="#t2018-10-17T15:51:24" class="time">15:51</a></td></tr>
<tr id="t2018-10-17T15:51:43"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">In this class-file I have added IMAGE_CMD_foo() {}</td><td class="time"><a href="#t2018-10-17T15:51:43" class="time">15:51</a></td></tr>
<tr id="t2018-10-17T15:52:43"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">And I have added to IMAGE_FSTYPES = "ext3 foo"</td><td class="time"><a href="#t2018-10-17T15:52:43" class="time">15:52</a></td></tr>
<tr id="t2018-10-17T15:53:18"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">Do I need to 'register' the 'foo' typename elsewhere?</td><td class="time"><a href="#t2018-10-17T15:53:18" class="time">15:53</a></td></tr>
<tr id="t2018-10-17T15:53:51"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">somewhere?</td><td class="time"><a href="#t2018-10-17T15:53:51" class="time">15:53</a></td></tr>
<tr id="t2018-10-17T15:54:39"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">you need to actually inherit foo-image</td><td class="time"><a href="#t2018-10-17T15:54:39" class="time">15:54</a></td></tr>
<tr id="t2018-10-17T15:54:51"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">just putting it in the folder doesn't do anything</td><td class="time"><a href="#t2018-10-17T15:54:51" class="time">15:54</a></td></tr>
<tr id="t2018-10-17T15:55:59"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">do you mean in my foo-image.bb file?</td><td class="time"><a href="#t2018-10-17T15:55:59" class="time">15:55</a></td></tr>
<tr id="t2018-10-17T15:57:01"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">Ahh... it work</td><td class="time"><a href="#t2018-10-17T15:57:01" class="time">15:57</a></td></tr>
<tr id="t2018-10-17T15:57:07"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">many thanks</td><td class="time"><a href="#t2018-10-17T15:57:07" class="time">15:57</a></td></tr>
<tr id="t2018-10-17T15:57:57"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">best to inherit it at a distro level so any image can use it</td><td class="time"><a href="#t2018-10-17T15:57:57" class="time">15:57</a></td></tr>
<tr id="t2018-10-17T16:03:41"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">rburton: Do you men via INHERIT += 'foo-image' inside of a *.conf file?</td><td class="time"><a href="#t2018-10-17T16:03:41" class="time">16:03</a></td></tr>
<tr id="t2018-10-17T16:04:07"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">kuzulis: presumably you have your own distro, as poky is an example.&nbsp;&nbsp;put it in that</td><td class="time"><a href="#t2018-10-17T16:04:07" class="time">16:04</a></td></tr>
<tr id="t2018-10-17T16:04:13"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">it being INHERIT, yes</td><td class="time"><a href="#t2018-10-17T16:04:13" class="time">16:04</a></td></tr>
<tr id="t2018-10-17T16:06:58"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">Now I got:&nbsp;&nbsp;Variable do_image contains tabs, please remove these</td><td class="time"><a href="#t2018-10-17T16:06:58" class="time">16:06</a></td></tr>
<tr id="t2018-10-17T16:07:07"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">but I don't see any tabs</td><td class="time"><a href="#t2018-10-17T16:07:07" class="time">16:07</a></td></tr>
<tr id="t2018-10-17T16:07:16"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">I use only spaces</td><td class="time"><a href="#t2018-10-17T16:07:16" class="time">16:07</a></td></tr>
<tr id="t2018-10-17T16:10:58"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">Maybe I need in: IMAGE_CLASSES += "foo-image" ?</td><td class="time"><a href="#t2018-10-17T16:10:58" class="time">16:10</a></td></tr>
<tr id="t2018-10-17T16:11:47"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">instead of inherit?</td><td class="time"><a href="#t2018-10-17T16:11:47" class="time">16:11</a></td></tr>
<tr id="t2018-10-17T16:17:40"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">What does this means: "Variable do_image contains tabs, please remove these " ?</td><td class="time"><a href="#t2018-10-17T16:17:40" class="time">16:17</a></td></tr>
<tr id="t2018-10-17T16:19:17"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">My foo-image.bbclass is simple: inherit image_types and IMAGE_CMD_foo () {}</td><td class="time"><a href="#t2018-10-17T16:19:17" class="time">16:19</a></td></tr>
<tr id="t2018-10-17T16:19:33"><th class="nick" style="background: #a25555">kuzulis</th><td class="text" style="color: #a25555">But I got an errors, related to tabs</td><td class="time"><a href="#t2018-10-17T16:19:33" class="time">16:19</a></td></tr>
<tr id="t2018-10-17T16:24:51"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2018-10-17T16:24:51" class="time">16:24</a></td></tr>
<tr id="t2018-10-17T16:36:22"><td class="part" colspan="2">*** andrey_utkin &lt;andrey_utkin!~andrey_ut@gentoo/developer/andrey-utkin&gt; has left #yocto</td><td><a href="#t2018-10-17T16:36:22" class="time">16:36</a></td></tr>
<tr id="t2018-10-17T16:45:12"><th class="nick" style="background: #854685">kergoth</th><td class="text" style="color: #854685">use bitbake -e yourimage to examine the actual final do_image task</td><td class="time"><a href="#t2018-10-17T16:45:12" class="time">16:45</a></td></tr>
<tr id="t2018-10-17T16:50:35"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">RP: just sent a patch to add PACKAGE_EXCLUDE to opkg backend.&nbsp;&nbsp;it replaces the previous warning patch.</td><td class="time"><a href="#t2018-10-17T16:50:35" class="time">16:50</a></td></tr>
<tr id="t2018-10-17T16:57:31"><td class="nickchange" colspan="2">*** Crofton_ is now known as Crofton|work</td><td><a href="#t2018-10-17T16:57:31" class="time">16:57</a></td></tr>
<tr id="t2018-10-17T17:15:49"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">rburton: great, thanks</td><td class="time"><a href="#t2018-10-17T17:15:49" class="time">17:15</a></td></tr>
<tr id="t2018-10-17T17:16:02"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">kergoth: this remove change is proving to be a right pain to get working correctly :(</td><td class="time"><a href="#t2018-10-17T17:16:02" class="time">17:16</a></td></tr>
<tr id="t2018-10-17T17:26:42"><td class="part" colspan="2">*** Carton__ &lt;Carton__!~jo@2a02:120b:7ff:51a0:d126:a7f3:36c1:9198&gt; has left #yocto</td><td><a href="#t2018-10-17T17:26:42" class="time">17:26</a></td></tr>
<tr id="t2018-10-17T17:50:09"><th class="nick" style="background: #b86161">uglyoldbob</th><td class="text" style="color: #b86161">Im writing a recipe for a shared library (libfoo) and a recipe to use that shared library (junk). My junk recipe give me a QA issue of "requres libfoo.so.0, but no providers found in RDEPENDS_junk". How might i fix this?</td><td class="time"><a href="#t2018-10-17T17:50:09" class="time">17:50</a></td></tr>
<tr id="t2018-10-17T18:00:50"><th class="nick" style="background: #b86161">uglyoldbob</th><td class="text" style="color: #b86161">it looks like it is examining /bin/junk, determining it needs libfoo.so.0, and complaining that it's not in rdepends. how might i fix this?</td><td class="time"><a href="#t2018-10-17T18:00:50" class="time">18:00</a></td></tr>
<tr id="t2018-10-17T18:02:04"><th class="nick" style="background: #854685">kergoth</th><td class="text" style="color: #854685">add libfoo to the recipe DEPENDS to begin with. beyond that, it'll get added to RDEPENDS automatically if you link against it normally. if you dlopen it, you'll need to explicitly add libfoo to RDEPENDS_junk in the junk recipe</td><td class="time"><a href="#t2018-10-17T18:02:04" class="time">18:02</a></td></tr>
<tr id="t2018-10-17T18:03:30"><th class="nick" style="background: #b86161">uglyoldbob</th><td class="text" style="color: #b86161">i'm linking normally. I add libfoo to DEPENDS, I still get the QA issue</td><td class="time"><a href="#t2018-10-17T18:03:30" class="time">18:03</a></td></tr>
<tr id="t2018-10-17T18:04:03"><th class="nick" style="background: #854685">kergoth</th><td class="text" style="color: #854685">the do_pcakage task examines all elf binaries and maps them to the recipes that provide them and adds them to rdepends for you</td><td class="time"><a href="#t2018-10-17T18:04:03" class="time">18:04</a></td></tr>
<tr id="t2018-10-17T18:04:29"><th class="nick" style="background: #854685">kergoth</th><td class="text" style="color: #854685">so either it wasn't able to pick up that libfoo provides it, or wasnt able to pick up that junk needs it</td><td class="time"><a href="#t2018-10-17T18:04:29" class="time">18:04</a></td></tr>
<tr id="t2018-10-17T18:04:49"><th class="nick" style="background: #854685">kergoth</th><td class="text" style="color: #854685">you can examine the shlibs directory in tmp</td><td class="time"><a href="#t2018-10-17T18:04:49" class="time">18:04</a></td></tr>
<tr id="t2018-10-17T18:04:58"><th class="nick" style="background: #854685">kergoth</th><td class="text" style="color: #854685">or actually i think thats under sysroots now</td><td class="time"><a href="#t2018-10-17T18:04:58" class="time">18:04</a></td></tr>
<tr id="t2018-10-17T18:05:13"><th class="nick" style="background: #854685">kergoth</th><td class="text" style="color: #854685">but that's how it maps elf shared libarries to the packages that provide them</td><td class="time"><a href="#t2018-10-17T18:05:13" class="time">18:05</a></td></tr>
<tr id="t2018-10-17T18:07:20"><th class="nick" style="background: #b86161">uglyoldbob</th><td class="text" style="color: #b86161">sysroots/blabla/pkgdata/runtime-rprovides/libfoo ?</td><td class="time"><a href="#t2018-10-17T18:07:20" class="time">18:07</a></td></tr>
<tr id="t2018-10-17T18:18:29"><th class="nick" style="background: #b86161">uglyoldbob</th><td class="text" style="color: #b86161">i think i found my problem. I didn't provide a libfoo.spec file in my libfoo recipe (I used pkgconfig in that recipe)</td><td class="time"><a href="#t2018-10-17T18:18:29" class="time">18:18</a></td></tr>
<tr id="t2018-10-17T18:19:01"><th class="nick" style="background: #854685">kergoth</th><td class="text" style="color: #854685">bitbake doesn't care about .spec files, it's not used for shlibs at all</td><td class="time"><a href="#t2018-10-17T18:19:01" class="time">18:19</a></td></tr>
<tr id="t2018-10-17T18:20:09"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">uglyoldbob: quite possible that the library is built weirdly and doesn't conform to expected behaviour</td><td class="time"><a href="#t2018-10-17T18:20:09" class="time">18:20</a></td></tr>
<tr id="t2018-10-17T18:20:21"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">presumably you can't share the source?</td><td class="time"><a href="#t2018-10-17T18:20:21" class="time">18:20</a></td></tr>
<tr id="t2018-10-17T18:21:46"><th class="nick" style="background: #b86161">uglyoldbob</th><td class="text" style="color: #b86161">rburton: correct. it is built with autotools and generates pkgconfig data as well</td><td class="time"><a href="#t2018-10-17T18:21:46" class="time">18:21</a></td></tr>
<tr id="t2018-10-17T18:22:12"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">using libtool to build the library?</td><td class="time"><a href="#t2018-10-17T18:22:12" class="time">18:22</a></td></tr>
<tr id="t2018-10-17T18:22:53"><th class="nick" style="background: #b86161">uglyoldbob</th><td class="text" style="color: #b86161">yes. lib_LTLIBRARIES = libfoo.la</td><td class="time"><a href="#t2018-10-17T18:22:53" class="time">18:22</a></td></tr>
<tr id="t2018-10-17T18:23:13"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">weird :)</td><td class="time"><a href="#t2018-10-17T18:23:13" class="time">18:23</a></td></tr>
<tr id="t2018-10-17T18:23:48"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">if you read the log.do_package for both you'll see what it scans as the library provides, and then the library depends</td><td class="time"><a href="#t2018-10-17T18:23:48" class="time">18:23</a></td></tr>
<tr id="t2018-10-17T18:24:19"><th class="nick" style="background: #b86161">uglyoldbob</th><td class="text" style="color: #b86161">adding a libfoo.spec file in my libfoo source made the QA warnings in junk (user of libfoo) go away</td><td class="time"><a href="#t2018-10-17T18:24:19" class="time">18:24</a></td></tr>
<tr id="t2018-10-17T18:28:34"><th class="nick" style="background: #b86161">uglyoldbob</th><td class="text" style="color: #b86161">wait nevermind, i did a bitbake -c cleanall libfoo, and that apparently resolved my problem</td><td class="time"><a href="#t2018-10-17T18:28:34" class="time">18:28</a></td></tr>
<tr id="t2018-10-17T18:29:01"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">so just needed a rebuild</td><td class="time"><a href="#t2018-10-17T18:29:01" class="time">18:29</a></td></tr>
<tr id="t2018-10-17T18:29:07"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">weird, but works now i guess :)</td><td class="time"><a href="#t2018-10-17T18:29:07" class="time">18:29</a></td></tr>
<tr id="t2018-10-17T18:40:23"><td class="part" colspan="2">*** sveinse &lt;sveinse!~sveinse@156.92-221-160.customer.lyse.net&gt; has left #yocto</td><td><a href="#t2018-10-17T18:40:23" class="time">18:40</a></td></tr>
<tr id="t2018-10-17T20:03:51"><td class="part" colspan="2">*** andrey_utkin &lt;andrey_utkin!~andrey_ut@gentoo/developer/andrey-utkin&gt; has left #yocto</td><td><a href="#t2018-10-17T20:03:51" class="time">20:03</a></td></tr>
<tr id="t2018-10-17T20:21:51"><td class="nickchange" colspan="2">*** lexano_ is now known as lexano</td><td><a href="#t2018-10-17T20:21:51" class="time">20:21</a></td></tr>
<tr id="t2018-10-17T20:43:26"><td class="part" colspan="2">*** andrey_utkin &lt;andrey_utkin!~andrey_ut@gentoo/developer/andrey-utkin&gt; has left #yocto</td><td><a href="#t2018-10-17T20:43:26" class="time">20:43</a></td></tr>
<tr id="t2018-10-17T20:49:19"><td class="part" colspan="2">*** andrey_utkin &lt;andrey_utkin!~andrey_ut@gentoo/developer/andrey-utkin&gt; has left #yocto</td><td><a href="#t2018-10-17T20:49:19" class="time">20:49</a></td></tr>
<tr id="t2018-10-17T22:54:30"><td class="part" colspan="2">*** andrey_utkin &lt;andrey_utkin!~andrey_ut@gentoo/developer/andrey-utkin&gt; has left #yocto</td><td><a href="#t2018-10-17T22:54:30" class="time">22:54</a></td></tr>
<tr id="t2018-10-17T23:40:02"><td class="part" colspan="2">*** andrey_utkin &lt;andrey_utkin!~andrey_ut@gentoo/developer/andrey-utkin&gt; has left #yocto</td><td><a href="#t2018-10-17T23:40:02" class="time">23:40</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2018-10-16.log.html">&#171; Tuesday, 2018-10-16</a> <a href="index.html">Index</a> <a href="%23yocto.2018-10-18.log.html">Thursday, 2018-10-18 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
