<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Thursday, 2018-10-25</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Thursday, 2018-10-25</h1>
<div class="navigation"> <a href="%23yocto.2018-10-24.log.html">&#171; Wednesday, 2018-10-24</a> <a href="index.html">Index</a> <a href="%23yocto.2018-10-26.log.html">Friday, 2018-10-26 &#187;</a> </div>
<table class="irclog">
<tr id="t2018-10-25T03:15:17"><td class="nickchange" colspan="2">*** Hoolootwo is now known as Hooloovo0</td><td><a href="#t2018-10-25T03:15:17" class="time">03:15</a></td></tr>
<tr id="t2018-10-25T06:08:40"><td class="nickchange" colspan="2">*** Guest47381 is now known as synack</td><td><a href="#t2018-10-25T06:08:40" class="time">06:08</a></td></tr>
<tr id="t2018-10-25T07:05:14"><td class="nickchange" colspan="2">*** smartin_ is now known as smartin</td><td><a href="#t2018-10-25T07:05:14" class="time">07:05</a></td></tr>
<tr id="t2018-10-25T07:15:23"><th class="nick" style="background: #407a40">yocti</th><td class="text" style="color: #407a40">New news from stackoverflow: do_compile: oe_runmake failed and do_compile: Function failed: do_compile error while building yocto project &lt;<a href="https://stackoverflow.com/questions/52983127/do-compile-oe-runmake-failed-and-do-compile-function-failed-do-compile-error&gt;" rel="nofollow">https://stackoverflow.com/questions/52983127/do-compile-oe-runmake-failed-and-do-compile-function-failed-do-compile-error&gt;</a></td><td class="time"><a href="#t2018-10-25T07:15:23" class="time">07:15</a></td></tr>
<tr id="t2018-10-25T07:42:55"><th class="nick" style="background: #42427e">armpit</th><td class="text" style="color: #42427e">has ypdd started ?</td><td class="time"><a href="#t2018-10-25T07:42:55" class="time">07:42</a></td></tr>
<tr id="t2018-10-25T08:06:43"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">armpit: technically yes</td><td class="time"><a href="#t2018-10-25T08:06:43" class="time">08:06</a></td></tr>
<tr id="t2018-10-25T08:23:12"><th class="nick" style="background: #854685">Crofton__</th><td class="text" style="color: #854685">LetoThe2nd, how do you get in ?</td><td class="time"><a href="#t2018-10-25T08:23:12" class="time">08:23</a></td></tr>
<tr id="t2018-10-25T08:23:16"><th class="nick" style="background: #854685">Crofton__</th><td class="text" style="color: #854685">any guards?</td><td class="time"><a href="#t2018-10-25T08:23:16" class="time">08:23</a></td></tr>
<tr id="t2018-10-25T08:27:02"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">Crofton__: just the usual. orcs, ogres, a hungry balrog and some lf folks &lt;/SCNR&gt;</td><td class="time"><a href="#t2018-10-25T08:27:02" class="time">08:27</a></td></tr>
<tr id="t2018-10-25T08:27:43"><th class="nick" style="background: #854685">Crofton__</th><td class="text" style="color: #854685">as always, I forget to register as staff</td><td class="time"><a href="#t2018-10-25T08:27:43" class="time">08:27</a></td></tr>
<tr id="t2018-10-25T08:27:45"><th class="nick" style="background: #854685">Crofton__</th><td class="text" style="color: #854685">I think :)</td><td class="time"><a href="#t2018-10-25T08:27:45" class="time">08:27</a></td></tr>
<tr id="t2018-10-25T08:28:24"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">Crofton__: well the usual door bouncers asking for badges are still there</td><td class="time"><a href="#t2018-10-25T08:28:24" class="time">08:28</a></td></tr>
<tr id="t2018-10-25T08:33:49"><th class="nick" style="background: #488888">RyanMeulenkamp</th><td class="text" style="color: #488888">Hi guys. Question: how should I create library symlinks? If I do this in the image_postprocess step they disappear before the image is built..</td><td class="time"><a href="#t2018-10-25T08:33:49" class="time">08:33</a></td></tr>
<tr id="t2018-10-25T08:34:51"><th class="nick" style="background: #488888">RyanMeulenkamp</th><td class="text" style="color: #488888">At least, the symlinks that I place in /lib or /usr/lib do. If I place them in another location they do remain. Which step causes them to disappear?</td><td class="time"><a href="#t2018-10-25T08:34:51" class="time">08:34</a></td></tr>
<tr id="t2018-10-25T08:35:01"><th class="nick" style="background: #8c4a4a">mns_</th><td class="text" style="color: #8c4a4a">Anyone else observing extreme slow uninative downloads <a href="http://downloads.yoctoproject.org/releases/uninative/" rel="nofollow">http://downloads.yoctoproject.org/releases/uninative/</a> ?</td><td class="time"><a href="#t2018-10-25T08:35:01" class="time">08:35</a></td></tr>
<tr id="t2018-10-25T08:36:03"><th class="nick" style="background: #488888">RyanMeulenkamp</th><td class="text" style="color: #488888">I meant rootfs_postprocess instead of image_postprocess by the way.</td><td class="time"><a href="#t2018-10-25T08:36:03" class="time">08:36</a></td></tr>
<tr id="t2018-10-25T08:36:50"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">halstead: ^^^^^^^^ (mns)</td><td class="time"><a href="#t2018-10-25T08:36:50" class="time">08:36</a></td></tr>
<tr id="t2018-10-25T08:37:15"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">RyanMeulenkamp: hum, why are you jumping through those magic hoops anyways, instead of getting stuff straight during do_install?</td><td class="time"><a href="#t2018-10-25T08:37:15" class="time">08:37</a></td></tr>
<tr id="t2018-10-25T08:38:46"><th class="nick" style="background: #4b904b">halstead</th><td class="text" style="color: #4b904b">Thanks LetoThe2nd</td><td class="time"><a href="#t2018-10-25T08:38:46" class="time">08:38</a></td></tr>
<tr id="t2018-10-25T08:39:23"><th class="nick" style="background: #4b904b">halstead</th><td class="text" style="color: #4b904b">mns_ which region is the download happening in?</td><td class="time"><a href="#t2018-10-25T08:39:23" class="time">08:39</a></td></tr>
<tr id="t2018-10-25T08:40:21"><th class="nick" style="background: #8c4a4a">mns_</th><td class="text" style="color: #8c4a4a">Denmark (Europe)</td><td class="time"><a href="#t2018-10-25T08:40:21" class="time">08:40</a></td></tr>
<tr id="t2018-10-25T08:41:48"><th class="nick" style="background: #488888">RyanMeulenkamp</th><td class="text" style="color: #488888">Because the recipe it actually 'belongs' to has it's IPK's generated externally.</td><td class="time"><a href="#t2018-10-25T08:41:48" class="time">08:41</a></td></tr>
<tr id="t2018-10-25T08:42:43"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">RyanMeulenkamp: huh? you have a recipe that takes externally packaged ipks? or is it actually not a recipe, but something you just inject in the package feed</td><td class="time"><a href="#t2018-10-25T08:42:43" class="time">08:42</a></td></tr>
<tr id="t2018-10-25T08:43:24"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">RyanMeulenkamp: despite the fact this sounds extremely painful, the standard approach would be to do repackaging in the recipe. there's examples on doing that for debs, for example</td><td class="time"><a href="#t2018-10-25T08:43:24" class="time">08:43</a></td></tr>
<tr id="t2018-10-25T08:43:41"><th class="nick" style="background: #4b904b">halstead</th><td class="text" style="color: #4b904b">mns_ thank you. I'm checking a few things.</td><td class="time"><a href="#t2018-10-25T08:43:41" class="time">08:43</a></td></tr>
<tr id="t2018-10-25T08:43:41"><th class="nick" style="background: #8c4a4a">mns_</th><td class="text" style="color: #8c4a4a">halstead: Tracepath available here: <a href="https://pastebin.com/8caVM2sS" rel="nofollow">https://pastebin.com/8caVM2sS</a> - don't know if it makes any sense to you</td><td class="time"><a href="#t2018-10-25T08:43:41" class="time">08:43</a></td></tr>
<tr id="t2018-10-25T08:46:05"><th class="nick" style="background: #488888">RyanMeulenkamp</th><td class="text" style="color: #488888">LetoThe2nd: Hmm alright, I'll have a look. Thanks!</td><td class="time"><a href="#t2018-10-25T08:46:05" class="time">08:46</a></td></tr>
<tr id="t2018-10-25T08:55:05"><th class="nick" style="background: #4d4d93">angelo_ts</th><td class="text" style="color: #4d4d93">hi, how can i skip do_compile step ? I just need a do_install</td><td class="time"><a href="#t2018-10-25T08:55:05" class="time">08:55</a></td></tr>
<tr id="t2018-10-25T08:55:39"><th class="nick" style="background: #4b904b">halstead</th><td class="text" style="color: #4b904b">mns_, I'm seeing between 64-100mbps to Amsterdam and the UK. Can you run 'tracepath downloads.yoctoproject.org' and e-mail the result to mhalstead@linuxfoundation.org?</td><td class="time"><a href="#t2018-10-25T08:55:39" class="time">08:55</a></td></tr>
<tr id="t2018-10-25T08:55:59"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">RyanMeulenkamp: i think there was some doc or example but can't find t right now too.</td><td class="time"><a href="#t2018-10-25T08:55:59" class="time">08:55</a></td></tr>
<tr id="t2018-10-25T08:56:20"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">and rburton is offline. i'd suggest to poke him</td><td class="time"><a href="#t2018-10-25T08:56:20" class="time">08:56</a></td></tr>
<tr id="t2018-10-25T08:56:47"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">angelo_ts: here you go: <a href="https://www.yoctoproject.org/docs/latest/mega-manual/mega-manual.html#packaging-externally-produced-binaries" rel="nofollow">https://www.yoctoproject.org/docs/latest/mega-manual/mega-manual.html#packaging-externally-produced-binaries</a></td><td class="time"><a href="#t2018-10-25T08:56:47" class="time">08:56</a></td></tr>
<tr id="t2018-10-25T08:59:14"><th class="nick" style="background: #4d4d93">angelo_ts</th><td class="text" style="color: #4d4d93">LetoThe2nd, thanks !</td><td class="time"><a href="#t2018-10-25T08:59:14" class="time">08:59</a></td></tr>
<tr id="t2018-10-25T09:01:09"><th class="nick" style="background: #8c4a4a">mns_</th><td class="text" style="color: #8c4a4a">Ok, I am seeing &lt;10kbps. I'll start by trying through my LTE connection - could be our corporate network. I'll get back with the observations</td><td class="time"><a href="#t2018-10-25T09:01:09" class="time">09:01</a></td></tr>
<tr id="t2018-10-25T09:10:26"><th class="nick" style="background: #8c4a4a">mns_</th><td class="text" style="color: #8c4a4a">Hmm, it works fine on a LTE connection and issue must thus be in our corporate network - sorry for the noise</td><td class="time"><a href="#t2018-10-25T09:10:26" class="time">09:10</a></td></tr>
<tr id="t2018-10-25T09:21:20"><th class="nick" style="background: #8c4a4a">mns_</th><td class="text" style="color: #8c4a4a">But thank, halstead</td><td class="time"><a href="#t2018-10-25T09:21:20" class="time">09:21</a></td></tr>
<tr id="t2018-10-25T09:57:38"><th class="nick" style="background: #97974f">FrostEyes</th><td class="text" style="color: #97974f">mns_: FYI the speed looks good from Frederiksberg. Just out of curiosity, where in DK are you working with Yocto?</td><td class="time"><a href="#t2018-10-25T09:57:38" class="time">09:57</a></td></tr>
<tr id="t2018-10-25T09:58:03"><td class="part" colspan="2">*** andrey_utkin &lt;andrey_utkin!~andrey_ut@gentoo/developer/andrey-utkin&gt; has left #yocto</td><td><a href="#t2018-10-25T09:58:03" class="time">09:58</a></td></tr>
<tr id="t2018-10-25T10:16:22"><th class="nick" style="background: #4b904b">halstead</th><td class="text" style="color: #4b904b">mns_, Thanks for reporting. I'm always glad to check in.</td><td class="time"><a href="#t2018-10-25T10:16:22" class="time">10:16</a></td></tr>
<tr id="t2018-10-25T10:39:51"><td class="nickchange" colspan="2">*** Crofton__ is now known as Crofton|work</td><td><a href="#t2018-10-25T10:39:51" class="time">10:39</a></td></tr>
<tr id="t2018-10-25T11:13:43"><th class="nick" style="background: #9b519b">mns__</th><td class="text" style="color: #9b519b">FrostEyes: Aalborg (Gomspace)</td><td class="time"><a href="#t2018-10-25T11:13:43" class="time">11:13</a></td></tr>
<tr id="t2018-10-25T12:04:57"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">ok now i have a weird one: when i try to use <a href="https://gitlab.denx.de/Xenomai/ipipe.git" rel="nofollow">https://gitlab.denx.de/Xenomai/ipipe.git</a> as SRc_URI for the kernel, it goes for a tableflip with "bb.data_smart.ExpansionError: Failure expanding variable PKG_kernel-image, expression was ...."</td><td class="time"><a href="#t2018-10-25T12:04:57" class="time">12:04</a></td></tr>
<tr id="t2018-10-25T12:06:20"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">why on earth is that?</td><td class="time"><a href="#t2018-10-25T12:06:20" class="time">12:06</a></td></tr>
<tr id="t2018-10-25T12:10:38"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">and where is zeddii when you need him</td><td class="time"><a href="#t2018-10-25T12:10:38" class="time">12:10</a></td></tr>
<tr id="t2018-10-25T12:14:10"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">gah paulbarker sorted it out</td><td class="time"><a href="#t2018-10-25T12:14:10" class="time">12:14</a></td></tr>
<tr id="t2018-10-25T12:34:42"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">hi</td><td class="time"><a href="#t2018-10-25T12:34:42" class="time">12:34</a></td></tr>
<tr id="t2018-10-25T12:36:13"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">does bitbake somehow block network access besides its own SRC_URI fetch related tasks?</td><td class="time"><a href="#t2018-10-25T12:36:13" class="time">12:36</a></td></tr>
<tr id="t2018-10-25T12:36:58"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">i.e. meson has a wrap system that allows to download missing dependencies on the fly during configuration stage</td><td class="time"><a href="#t2018-10-25T12:36:58" class="time">12:36</a></td></tr>
<tr id="t2018-10-25T12:38:58"><th class="nick" style="background: #a25555">neverpanic</th><td class="text" style="color: #a25555">T_UNIX: No. But if you want, you can do fetchall first and then run bitbake in a network namespace without internet access</td><td class="time"><a href="#t2018-10-25T12:38:58" class="time">12:38</a></td></tr>
<tr id="t2018-10-25T12:39:11"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">T_UNIX: nope it certainly doesnt</td><td class="time"><a href="#t2018-10-25T12:39:11" class="time">12:39</a></td></tr>
<tr id="t2018-10-25T12:39:22"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">at least not by default</td><td class="time"><a href="#t2018-10-25T12:39:22" class="time">12:39</a></td></tr>
<tr id="t2018-10-25T12:40:33"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">okay. Weird. Cause configuring the project works fine on my host. But fails during fetch w/ bitbake</td><td class="time"><a href="#t2018-10-25T12:40:33" class="time">12:40</a></td></tr>
<tr id="t2018-10-25T12:46:03"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">damn corporate proxy sh*$</td><td class="time"><a href="#t2018-10-25T12:46:03" class="time">12:46</a></td></tr>
<tr id="t2018-10-25T13:19:30"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">fetching via urllib in python: works; fetching via meson (urllib) inside bitbake: fails -.-'</td><td class="time"><a href="#t2018-10-25T13:19:30" class="time">13:19</a></td></tr>
<tr id="t2018-10-25T13:20:48"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">sounds like that recipe needs fixing regardless. bitbake doesn't block fetching from buildsystems, but it'd be awfully nice if it did, since all fetching belongs in do_fetch</td><td class="time"><a href="#t2018-10-25T13:20:48" class="time">13:20</a></td></tr>
<tr id="t2018-10-25T13:28:45"><td class="nickchange" colspan="2">*** bentech_ is now known as bentech</td><td><a href="#t2018-10-25T13:28:45" class="time">13:28</a></td></tr>
<tr id="t2018-10-25T13:33:02"><th class="nick" style="background: #5959a9">kuzulis</th><td class="text" style="color: #5959a9">Hi guys. Is in yocto any variable which contains a name of current git-branch? E.g. I want to use a git-branch name as a 'suffix' for generation of a name of my image.</td><td class="time"><a href="#t2018-10-25T13:33:02" class="time">13:33</a></td></tr>
<tr id="t2018-10-25T13:35:39"><th class="nick" style="background: #5959a9">kuzulis</th><td class="text" style="color: #5959a9">like: my-image-blabla-$${GIT_BRANCH_NAME}.ext3</td><td class="time"><a href="#t2018-10-25T13:35:39" class="time">13:35</a></td></tr>
<tr id="t2018-10-25T13:44:16"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">kergoth: does it clean the enviornment variables it passes when it runs the stages?</td><td class="time"><a href="#t2018-10-25T13:44:16" class="time">13:44</a></td></tr>
<tr id="t2018-10-25T13:44:24"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">i.e. removing `https_proxy`?</td><td class="time"><a href="#t2018-10-25T13:44:24" class="time">13:44</a></td></tr>
<tr id="t2018-10-25T13:44:35"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">s/stages/tasks/</td><td class="time"><a href="#t2018-10-25T13:44:35" class="time">13:44</a></td></tr>
<tr id="t2018-10-25T13:45:12"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">it does filter the environment, but iirc those should already be in the whitelist unless you're running a very old version</td><td class="time"><a href="#t2018-10-25T13:45:12" class="time">13:45</a></td></tr>
<tr id="t2018-10-25T13:55:53"><th class="nick" style="background: #5959a9">kuzulis</th><td class="text" style="color: #5959a9">guys, is it possible to call a system shell comamnds and to parse its output to some variables?</td><td class="time"><a href="#t2018-10-25T13:55:53" class="time">13:55</a></td></tr>
<tr id="t2018-10-25T13:56:47"><th class="nick" style="background: #5959a9">kuzulis</th><td class="text" style="color: #5959a9">e.g. I tried GIT_BRANCH_NAME='git rev-parse --abbrev-ref HEAD' but then ${GIT_BRANCH_NAME} returns 'git rev-parse --abbrev-ref HEAD' instead of, e.g. 'master'</td><td class="time"><a href="#t2018-10-25T13:56:47" class="time">13:56</a></td></tr>
<tr id="t2018-10-25T13:58:13"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657"><a href="https://www.yoctoproject.org/docs/current/bitbake-user-manual/bitbake-user-manual.html#basic-syntax" rel="nofollow">https://www.yoctoproject.org/docs/current/bitbake-user-manual/bitbake-user-manual.html#basic-syntax</a></td><td class="time"><a href="#t2018-10-25T13:58:13" class="time">13:58</a></td></tr>
<tr id="t2018-10-25T14:01:51"><th class="nick" style="background: #5959a9">kuzulis</th><td class="text" style="color: #5959a9">I'm not a python expert.. From that doc I see similar: DATE = "${@time.strftime('%Y%m%d',time.gmtime())}"&nbsp;&nbsp;... But I need to do similar only for 'git' command..</td><td class="time"><a href="#t2018-10-25T14:01:51" class="time">14:01</a></td></tr>
<tr id="t2018-10-25T14:11:17"><th class="nick" style="background: #5959a9">kuzulis</th><td class="text" style="color: #5959a9">I found it: GIT_BRANCH_NAME=$(git rev-parse --abbrev-ref HEAD) :))</td><td class="time"><a href="#t2018-10-25T14:11:17" class="time">14:11</a></td></tr>
<tr id="t2018-10-25T14:12:45"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">kergoth: it is in the whitelist and fetching source via SRC_URI works. I just thought that bitbake might clean the environment prior to executing the compiled scripts (tasks)</td><td class="time"><a href="#t2018-10-25T14:12:45" class="time">14:12</a></td></tr>
<tr id="t2018-10-25T14:13:25"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">if it's set in the recipe metadata, it'll be set for hte tasks. i.e. run bitbake -e somrecipe | grep 'https_proxy='</td><td class="time"><a href="#t2018-10-25T14:13:25" class="time">14:13</a></td></tr>
<tr id="t2018-10-25T14:13:39"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">filtering happens pretty early on, when setting up the global configuration metadata</td><td class="time"><a href="#t2018-10-25T14:13:39" class="time">14:13</a></td></tr>
<tr id="t2018-10-25T15:02:08"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">I've now added all the subprojects of the meson project as explicit SRC_URI (dublicating the checksum). That works.</td><td class="time"><a href="#t2018-10-25T15:02:08" class="time">15:02</a></td></tr>
<tr id="t2018-10-25T15:04:24"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">ah, nice</td><td class="time"><a href="#t2018-10-25T15:04:24" class="time">15:04</a></td></tr>
<tr id="t2018-10-25T16:05:44"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">if this question reoccurs: the workaround is to download all the files (disabling unpacking `;unpack=0`) and then append e.g. `do_configure_prepend` to copy the zip files from the `${WORKDIR}` to meson's packagecache dir (typcally: `${WORKDIR}/git/subprojects/packagecache`). From there it'll pick'em up, assuming it fetched it on its own.</td><td class="time"><a href="#t2018-10-25T16:05:44" class="time">16:05</a></td></tr>
<tr id="t2018-10-25T16:09:46"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">btw. I would have preferred `do_unpack_append` but, it seems, it is interepreted as python (i.e. indentation parsing errors, etc.)</td><td class="time"><a href="#t2018-10-25T16:09:46" class="time">16:09</a></td></tr>
<tr id="t2018-10-25T16:20:08"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">do_unpack[postfuncs] += "my_unpack_function"</td><td class="time"><a href="#t2018-10-25T16:20:08" class="time">16:20</a></td></tr>
<tr id="t2018-10-25T16:20:10"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">will do it</td><td class="time"><a href="#t2018-10-25T16:20:10" class="time">16:20</a></td></tr>
<tr id="t2018-10-25T16:30:30"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">is there a reasoning behind?</td><td class="time"><a href="#t2018-10-25T16:30:30" class="time">16:30</a></td></tr>
<tr id="t2018-10-25T16:36:23"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">I don't understandt he question</td><td class="time"><a href="#t2018-10-25T16:36:23" class="time">16:36</a></td></tr>
<tr id="t2018-10-25T16:36:39"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">the do_unpack function is python. bitbake's _append just concatenates you can't concatenate shell onto a python function</td><td class="time"><a href="#t2018-10-25T16:36:39" class="time">16:36</a></td></tr>
<tr id="t2018-10-25T16:37:16"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">whereas prefuncs/postfuncs are additional separate functions called, no string concatenation involved</td><td class="time"><a href="#t2018-10-25T16:37:16" class="time">16:37</a></td></tr>
<tr id="t2018-10-25T16:37:23"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">does that make it clear?</td><td class="time"><a href="#t2018-10-25T16:37:23" class="time">16:37</a></td></tr>
<tr id="t2018-10-25T16:52:20"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">kergoth: I didn't know one couldn't "mix". I thought commands were glued together and python snippets moved to tmp files and executed accordingly</td><td class="time"><a href="#t2018-10-25T16:52:20" class="time">16:52</a></td></tr>
<tr id="t2018-10-25T16:52:29"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">so yes, that makes it clear.</td><td class="time"><a href="#t2018-10-25T16:52:29" class="time">16:52</a></td></tr>
<tr id="t2018-10-25T16:54:36"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">it's not that granular. and wouldn't be possible in all cases. i.e. we can't just execute each fragment of an append/prepend separately, as later appends often reference earlier appends variables</td><td class="time"><a href="#t2018-10-25T16:54:36" class="time">16:54</a></td></tr>
<tr id="t2018-10-25T16:54:49"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">could break it up at each python/shell boundary, but no one has bothered to make it happen</td><td class="time"><a href="#t2018-10-25T16:54:49" class="time">16:54</a></td></tr>
<tr id="t2018-10-25T16:55:12"><th class="nick" style="background: #539e9e">T_UNIX</th><td class="text" style="color: #539e9e">that's just what I assumed. Didn't mean to complain :)</td><td class="time"><a href="#t2018-10-25T16:55:12" class="time">16:55</a></td></tr>
<tr id="t2018-10-25T16:55:38"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">eh, it's a long standing limitation that occasionally irritates me, so.. :)</td><td class="time"><a href="#t2018-10-25T16:55:38" class="time">16:55</a></td></tr>
<tr id="t2018-10-25T16:56:39"><th class="nick" style="background: #adad5b">jdel</th><td class="text" style="color: #adad5b">when is it appropriate to use work-shared?</td><td class="time"><a href="#t2018-10-25T16:56:39" class="time">16:56</a></td></tr>
<tr id="t2018-10-25T16:56:45"><th class="nick" style="background: #adad5b">jdel</th><td class="text" style="color: #adad5b">notably kernel headers seem to get installed there by default</td><td class="time"><a href="#t2018-10-25T16:56:45" class="time">16:56</a></td></tr>
<tr id="t2018-10-25T16:56:56"><th class="nick" style="background: #adad5b">jdel</th><td class="text" style="color: #adad5b">but they are not preserved in sstate</td><td class="time"><a href="#t2018-10-25T16:56:56" class="time">16:56</a></td></tr>
<tr id="t2018-10-25T16:57:05"><th class="nick" style="background: #adad5b">jdel</th><td class="text" style="color: #adad5b">(at least not in my recipe)</td><td class="time"><a href="#t2018-10-25T16:57:05" class="time">16:57</a></td></tr>
<tr id="t2018-10-25T16:57:18"><th class="nick" style="background: #adad5b">jdel</th><td class="text" style="color: #adad5b">is it reasonable to add work-shared directories to sstate output dirs?</td><td class="time"><a href="#t2018-10-25T16:57:18" class="time">16:57</a></td></tr>
<tr id="t2018-10-25T16:57:35"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">work-shared is highly special cased and is pretty much only used by the kernel and gcc sources</td><td class="time"><a href="#t2018-10-25T16:57:35" class="time">16:57</a></td></tr>
<tr id="t2018-10-25T16:57:45"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">you really shouldn't be trying to use it for anything else</td><td class="time"><a href="#t2018-10-25T16:57:45" class="time">16:57</a></td></tr>
<tr id="t2018-10-25T16:58:06"><th class="nick" style="background: #adad5b">jdel</th><td class="text" style="color: #adad5b">my kernel recipe installs the produced uapi headers there</td><td class="time"><a href="#t2018-10-25T16:58:06" class="time">16:58</a></td></tr>
<tr id="t2018-10-25T16:58:21"><th class="nick" style="background: #adad5b">jdel</th><td class="text" style="color: #adad5b">but when the kernel is restored from sstate those headers are not</td><td class="time"><a href="#t2018-10-25T16:58:21" class="time">16:58</a></td></tr>
<tr id="t2018-10-25T16:58:51"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">sounds like you're installing them wrong</td><td class="time"><a href="#t2018-10-25T16:58:51" class="time">16:58</a></td></tr>
<tr id="t2018-10-25T16:58:53"><th class="nick" style="background: #adad5b">jdel</th><td class="text" style="color: #adad5b">i guess this is covered in the libc-linux-headers recipe, which is to add explict dependencies on do_install</td><td class="time"><a href="#t2018-10-25T16:58:53" class="time">16:58</a></td></tr>
<tr id="t2018-10-25T16:59:01"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">do_install should only ever be installing to ${D}</td><td class="time"><a href="#t2018-10-25T16:59:01" class="time">16:59</a></td></tr>
<tr id="t2018-10-25T16:59:16"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">then our other functions and tasks and sstate are responsible for putting it where it belongs</td><td class="time"><a href="#t2018-10-25T16:59:16" class="time">16:59</a></td></tr>
<tr id="t2018-10-25T17:00:34"><th class="nick" style="background: #adad5b">jdel</th><td class="text" style="color: #adad5b">the recomendation in linux-libc-headers is to add #&nbsp;&nbsp;&nbsp;&nbsp;do_configure[depends] += "virtual/kernel:do_shared_workdir"</td><td class="time"><a href="#t2018-10-25T17:00:34" class="time">17:00</a></td></tr>
<tr id="t2018-10-25T17:01:20"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">that's if you want to depend on the kernel headers, not write to them</td><td class="time"><a href="#t2018-10-25T17:01:20" class="time">17:01</a></td></tr>
<tr id="t2018-10-25T17:01:29"><th class="nick" style="background: #adad5b">jdel</th><td class="text" style="color: #adad5b">err, yeah</td><td class="time"><a href="#t2018-10-25T17:01:29" class="time">17:01</a></td></tr>
<tr id="t2018-10-25T17:01:38"><th class="nick" style="background: #adad5b">jdel</th><td class="text" style="color: #adad5b">i think my kernel recipe doesn't do the headers installation at the right time</td><td class="time"><a href="#t2018-10-25T17:01:38" class="time">17:01</a></td></tr>
<tr id="t2018-10-25T17:01:45"><th class="nick" style="background: #adad5b">jdel</th><td class="text" style="color: #adad5b">and my recipes don't depend on it properly</td><td class="time"><a href="#t2018-10-25T17:01:45" class="time">17:01</a></td></tr>
<tr id="t2018-10-25T17:01:58"><th class="nick" style="background: #adad5b">jdel</th><td class="text" style="color: #adad5b">yuck</td><td class="time"><a href="#t2018-10-25T17:01:58" class="time">17:01</a></td></tr>
<tr id="t2018-10-25T17:02:49"><th class="nick" style="background: #adad5b">jdel</th><td class="text" style="color: #adad5b">it's sadly easy to write terribly broken bsps</td><td class="time"><a href="#t2018-10-25T17:02:49" class="time">17:02</a></td></tr>
<tr id="t2018-10-25T17:03:17"><th class="nick" style="background: #adad5b">jdel</th><td class="text" style="color: #adad5b">either that or qcom puts a lot of effort into making their bsps terrible :p</td><td class="time"><a href="#t2018-10-25T17:03:17" class="time">17:03</a></td></tr>
<tr id="t2018-10-25T17:03:31"><th class="nick" style="background: #adad5b">jdel</th><td class="text" style="color: #adad5b">thx for the help</td><td class="time"><a href="#t2018-10-25T17:03:31" class="time">17:03</a></td></tr>
<tr id="t2018-10-25T17:08:07"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i'd suggest reading do_shared_workdir to see how the files get deployed into workdir, but likely you just need to install the headers in do_Install to ${D}${includedir}</td><td class="time"><a href="#t2018-10-25T17:08:07" class="time">17:08</a></td></tr>
<tr id="t2018-10-25T17:08:13"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">s/workdir/shared_workdir/</td><td class="time"><a href="#t2018-10-25T17:08:13" class="time">17:08</a></td></tr>
<tr id="t2018-10-25T20:50:33"><td class="part" colspan="2">*** andrey_utkin &lt;andrey_utkin!~andrey_ut@gentoo/developer/andrey-utkin&gt; has left #yocto</td><td><a href="#t2018-10-25T20:50:33" class="time">20:50</a></td></tr>
<tr id="t2018-10-25T21:08:07"><th class="nick" style="background: #b15db1">uglyoldbob</th><td class="text" style="color: #b15db1">in a bbappend file, if I set SRCREV_thing = "${AUTOREV}", can I do PV += "${SRCPV}" to get a specific SRC_URI to always fetch when the repository is updated?</td><td class="time"><a href="#t2018-10-25T21:08:07" class="time">21:08</a></td></tr>
<tr id="t2018-10-25T21:31:35"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">4.4.3-yocto-standard corresponds to which linux kernel version? 4.4.3?</td><td class="time"><a href="#t2018-10-25T21:31:35" class="time">21:31</a></td></tr>
<tr id="t2018-10-25T21:48:48"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">noway96: yup! The output of uname -r on a yocto-built kernel is a combination of the LINUX_VERSION LINUX_VERSION_EXTENSION variables. Your LINUX_VERSION seems to be 4.4.3 and the default value of LINUX_VERSION_EXTENSION is "-yocto-standard"</td><td class="time"><a href="#t2018-10-25T21:48:48" class="time">21:48</a></td></tr>
<tr id="t2018-10-25T21:58:04"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">ok thank you robbawebba.</td><td class="time"><a href="#t2018-10-25T21:58:04" class="time">21:58</a></td></tr>
<tr id="t2018-10-25T21:58:54"><th class="nick" style="background: #62bb62">mrk377</th><td class="text" style="color: #62bb62">ALL: On rocko, my read only filesystem has most of the files with uid:gid 1000:1000 and not root:root.&nbsp;&nbsp;Is this normal or indication of a recipe issue?&nbsp;&nbsp;I didn't see this with my kergoth release.</td><td class="time"><a href="#t2018-10-25T21:58:54" class="time">21:58</a></td></tr>
<tr id="t2018-10-25T21:59:19"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">I know that linux 4.4.3 standard has NVMe support. Namely, it knows where to find the linux/nvme_ioctl.h command. But why when I try to build against 4.4.3-yocto-standard does it not compile and say unknown headers linux/nvme_ioctl.h?</td><td class="time"><a href="#t2018-10-25T21:59:19" class="time">21:59</a></td></tr>
<tr id="t2018-10-25T22:09:52"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">noway96: Was the kernel definitely compiled with nvme support? IIRC the config options are CONFIG_NVME and/or CONFIG_BLK_DEV_NVME</td><td class="time"><a href="#t2018-10-25T22:09:52" class="time">22:09</a></td></tr>
<tr id="t2018-10-25T22:11:30"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">CONFIG_BLK_DEV_NVME=m</td><td class="time"><a href="#t2018-10-25T22:11:30" class="time">22:11</a></td></tr>
<tr id="t2018-10-25T22:15:09"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">noway96: linux/nvme_ioctl.h doesn't seem to appear in linux kernel 4.4. There is NVMe support, but the only relevant header file I see in include/linux is nvme.h</td><td class="time"><a href="#t2018-10-25T22:15:09" class="time">22:15</a></td></tr>
<tr id="t2018-10-25T22:16:20"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">oh ok. how to I get the most recent yocto linux kernel version??</td><td class="time"><a href="#t2018-10-25T22:16:20" class="time">22:16</a></td></tr>
<tr id="t2018-10-25T22:16:58"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">also I found nvme_ioctl inside linux-4.4.0 headers for ubuntu but I must have done something wrong</td><td class="time"><a href="#t2018-10-25T22:16:58" class="time">22:16</a></td></tr>
<tr id="t2018-10-25T22:17:25"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">what does the =m flag mean?</td><td class="time"><a href="#t2018-10-25T22:17:25" class="time">22:17</a></td></tr>
<tr id="t2018-10-25T22:19:42"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">noway96: ahh, I think I'm mistaken. the file appears at include/uapi/linux/nvme_ioctl.h. SO it should be available. I'm actually unfamiliar with the uapi subdirectory</td><td class="time"><a href="#t2018-10-25T22:19:42" class="time">22:19</a></td></tr>
<tr id="t2018-10-25T22:19:51"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">right</td><td class="time"><a href="#t2018-10-25T22:19:51" class="time">22:19</a></td></tr>
<tr id="t2018-10-25T22:20:02"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">=m means module</td><td class="time"><a href="#t2018-10-25T22:20:02" class="time">22:20</a></td></tr>
<tr id="t2018-10-25T22:20:14"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">anyway why won't this find nvme_ioctl then?</td><td class="time"><a href="#t2018-10-25T22:20:14" class="time">22:20</a></td></tr>
<tr id="t2018-10-25T22:20:30"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">do I need to do a rebuild from scratch?</td><td class="time"><a href="#t2018-10-25T22:20:30" class="time">22:20</a></td></tr>
<tr id="t2018-10-25T22:21:21"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">the =m flag instructs the kernel build system to build the nvme driver as a loadable module, rather than built into the kernel. If it was built-in, you wouldn't be able to insert or remove the module on-demand. It is built into the kernel if you choose =y, and it won't be included at all if you choose =n</td><td class="time"><a href="#t2018-10-25T22:21:21" class="time">22:21</a></td></tr>
<tr id="t2018-10-25T22:22:29"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">noway96: not sure why it won't find it. I'll brb, going to do some googling about uapi</td><td class="time"><a href="#t2018-10-25T22:22:29" class="time">22:22</a></td></tr>
<tr id="t2018-10-25T22:23:51"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">noway96: aokay, that's just the location of userspace API headers. That makes sense. Are you compiling on the target device, or are you compiling on your host PC?</td><td class="time"><a href="#t2018-10-25T22:23:51" class="time">22:23</a></td></tr>
<tr id="t2018-10-25T22:26:01"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">host PC</td><td class="time"><a href="#t2018-10-25T22:26:01" class="time">22:26</a></td></tr>
<tr id="t2018-10-25T22:26:50"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">thanks for the explanation</td><td class="time"><a href="#t2018-10-25T22:26:50" class="time">22:26</a></td></tr>
<tr id="t2018-10-25T22:28:44"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">conf/fatal error: linux/nvme_ioctl.h: No such file or directory</td><td class="time"><a href="#t2018-10-25T22:28:44" class="time">22:28</a></td></tr>
<tr id="t2018-10-25T22:29:02"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">Is this being built with bitbake?</td><td class="time"><a href="#t2018-10-25T22:29:02" class="time">22:29</a></td></tr>
<tr id="t2018-10-25T22:29:08"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">yes</td><td class="time"><a href="#t2018-10-25T22:29:08" class="time">22:29</a></td></tr>
<tr id="t2018-10-25T22:32:34"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">noway96: Okay, so it sounds like your recipe might not have access to the shared kernel source that is provided by the virtual/kernel recipe</td><td class="time"><a href="#t2018-10-25T22:32:34" class="time">22:32</a></td></tr>
<tr id="t2018-10-25T22:33:42"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">noway96: The virtual/kernel do_shared_workdir task populates ${STAGING_DIR_KERNEL} (which is often tmp/work-shared/${MACHINE}/kernel-source), which your recipe would need</td><td class="time"><a href="#t2018-10-25T22:33:42" class="time">22:33</a></td></tr>
<tr id="t2018-10-25T22:34:57"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">noway96: what tsak is your recipe failing at? do_configure? do_compile?</td><td class="time"><a href="#t2018-10-25T22:34:57" class="time">22:34</a></td></tr>
<tr id="t2018-10-25T22:35:28"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">do_compile: Function failed: do_compile</td><td class="time"><a href="#t2018-10-25T22:35:28" class="time">22:35</a></td></tr>
<tr id="t2018-10-25T22:37:04"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">but I found nvme_ioctl.h: tmp/work-shared/genericx86-64/kernel-source/include/uapi/linux/nvme_ioctl.h</td><td class="time"><a href="#t2018-10-25T22:37:04" class="time">22:37</a></td></tr>
<tr id="t2018-10-25T22:45:10"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">noway96: yup! Thats it :)</td><td class="time"><a href="#t2018-10-25T22:45:10" class="time">22:45</a></td></tr>
<tr id="t2018-10-25T22:45:33"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">So we have to make sure your recipe has access to those files</td><td class="time"><a href="#t2018-10-25T22:45:33" class="time">22:45</a></td></tr>
<tr id="t2018-10-25T22:45:56"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">adding do_compile[depends] += "virtual/kernel:do_shared_workdir" might be a start</td><td class="time"><a href="#t2018-10-25T22:45:56" class="time">22:45</a></td></tr>
<tr id="t2018-10-25T22:45:59"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">yeah still getting the same bug: fatal error: linux/nvme_ioctl.h: No such file or directory</td><td class="time"><a href="#t2018-10-25T22:45:59" class="time">22:45</a></td></tr>
<tr id="t2018-10-25T22:46:06"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">ok</td><td class="time"><a href="#t2018-10-25T22:46:06" class="time">22:46</a></td></tr>
<tr id="t2018-10-25T22:46:08"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">I'll try that</td><td class="time"><a href="#t2018-10-25T22:46:08" class="time">22:46</a></td></tr>
<tr id="t2018-10-25T22:52:58"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">doesn't look like it worked. still getting an error</td><td class="time"><a href="#t2018-10-25T22:52:58" class="time">22:52</a></td></tr>
<tr id="t2018-10-25T22:53:04"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">same error*</td><td class="time"><a href="#t2018-10-25T22:53:04" class="time">22:53</a></td></tr>
<tr id="t2018-10-25T22:53:09"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">robbawebba^</td><td class="time"><a href="#t2018-10-25T22:53:09" class="time">22:53</a></td></tr>
<tr id="t2018-10-25T22:55:42"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">noway96: could you try making the do_configure task depend on the do_shared_workdir task? instead of do_compile</td><td class="time"><a href="#t2018-10-25T22:55:42" class="time">22:55</a></td></tr>
<tr id="t2018-10-25T22:57:14"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">yeah it could be a race condition. but I'm getting the same error still</td><td class="time"><a href="#t2018-10-25T22:57:14" class="time">22:57</a></td></tr>
<tr id="t2018-10-25T22:58:31"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">noway96: this dependency declaration should prevent the race condition, meaning that it should gaurantee that the linux kernel source is available in work_shared. But it seems like your recipe still cannot find the sources :/</td><td class="time"><a href="#t2018-10-25T22:58:31" class="time">22:58</a></td></tr>
<tr id="t2018-10-25T22:58:45"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">and you verified that they are there in the work-shared directory</td><td class="time"><a href="#t2018-10-25T22:58:45" class="time">22:58</a></td></tr>
<tr id="t2018-10-25T22:59:30"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">yes</td><td class="time"><a href="#t2018-10-25T22:59:30" class="time">22:59</a></td></tr>
<tr id="t2018-10-25T22:59:52"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">they're in the path I shared with you earlier</td><td class="time"><a href="#t2018-10-25T22:59:52" class="time">22:59</a></td></tr>
<tr id="t2018-10-25T23:00:30"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">or rather, that's the path for nvme_ioctl.h. Is that what you're referring?</td><td class="time"><a href="#t2018-10-25T23:00:30" class="time">23:00</a></td></tr>
<tr id="t2018-10-25T23:01:44"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">yeah</td><td class="time"><a href="#t2018-10-25T23:01:44" class="time">23:01</a></td></tr>
<tr id="t2018-10-25T23:02:55"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">fatal error: linux/nvme_ioctl.h: No such file or directory. Maybe not linux/nvme_ioctl.h but some other path?</td><td class="time"><a href="#t2018-10-25T23:02:55" class="time">23:02</a></td></tr>
<tr id="t2018-10-25T23:04:47"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">noway96: I think that's the right include statement. Since linux/nvme_ioctl.h is located under include/uapi, we have to make sure include/uapi is able to be found by the compiler</td><td class="time"><a href="#t2018-10-25T23:04:47" class="time">23:04</a></td></tr>
<tr id="t2018-10-25T23:17:51"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">any ideas? is there something I can depend on to ensure that linux headers are there?</td><td class="time"><a href="#t2018-10-25T23:17:51" class="time">23:17</a></td></tr>
<tr id="t2018-10-25T23:21:11"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">robbawebba^</td><td class="time"><a href="#t2018-10-25T23:21:11" class="time">23:21</a></td></tr>
<tr id="t2018-10-25T23:41:15"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">robbawebba, so turns out that it's something to do with Cython. Built my C++ code just fine using a Makefile with bitbake. So the issue is with using cython's setup.py for building.</td><td class="time"><a href="#t2018-10-25T23:41:15" class="time">23:41</a></td></tr>
<tr id="t2018-10-25T23:41:59"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">My python code wraps some C++ code that uses linux/nvme_ioctl.h</td><td class="time"><a href="#t2018-10-25T23:41:59" class="time">23:41</a></td></tr>
<tr id="t2018-10-25T23:42:24"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">C++ code compiles just fine by bitbake. But when wrapped by python, it doesn't</td><td class="time"><a href="#t2018-10-25T23:42:24" class="time">23:42</a></td></tr>
<tr id="t2018-10-25T23:42:52"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">robbawebba^</td><td class="time"><a href="#t2018-10-25T23:42:52" class="time">23:42</a></td></tr>
<tr id="t2018-10-25T23:43:12"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">noway96: ahhh okay. I'm unfamiliar with how python/cython accomplishes this. It it's documentation, does it mention anything about adding more directories to look for when including headersw?</td><td class="time"><a href="#t2018-10-25T23:43:12" class="time">23:43</a></td></tr>
<tr id="t2018-10-25T23:47:31"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">well my build command works just fine right now when not used by Yocto, but I'll take a look</td><td class="time"><a href="#t2018-10-25T23:47:31" class="time">23:47</a></td></tr>
<tr id="t2018-10-25T23:50:13"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">there's an include_path variable which I can define to the kernel headers. Question is, what path should I use?</td><td class="time"><a href="#t2018-10-25T23:50:13" class="time">23:50</a></td></tr>
<tr id="t2018-10-25T23:51:34"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">${STAGING_KERNEL_DIR} might be what you're looking for</td><td class="time"><a href="#t2018-10-25T23:51:34" class="time">23:51</a></td></tr>
<tr id="t2018-10-25T23:52:28"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">it's empty inside the devshell</td><td class="time"><a href="#t2018-10-25T23:52:28" class="time">23:52</a></td></tr>
<tr id="t2018-10-25T23:53:12"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">shoot, that might only be available to kernel recipes :/</td><td class="time"><a href="#t2018-10-25T23:53:12" class="time">23:53</a></td></tr>
<tr id="t2018-10-25T23:55:46"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">noway96: huh, I'm definitley seeingnon-kernel bb recipes and classes use the KERNEL_STAGING_DIR variable</td><td class="time"><a href="#t2018-10-25T23:55:46" class="time">23:55</a></td></tr>
<tr id="t2018-10-25T23:55:57"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">PREFIX = os.path.normpath(sys.prefix).replace( os.getenv("BUILD_SYS"), os.getenv("HOST_SYS") )</td><td class="time"><a href="#t2018-10-25T23:55:57" class="time">23:55</a></td></tr>
<tr id="t2018-10-25T23:56:06"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">TypeError: expected a string or other character buffer object</td><td class="time"><a href="#t2018-10-25T23:56:06" class="time">23:56</a></td></tr>
<tr id="t2018-10-25T23:56:26"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">So I need to set some variable in my recipe?</td><td class="time"><a href="#t2018-10-25T23:56:26" class="time">23:56</a></td></tr>
<tr id="t2018-10-25T23:56:35"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">no, that's usually set by the kernel recipe I believe</td><td class="time"><a href="#t2018-10-25T23:56:35" class="time">23:56</a></td></tr>
<tr id="t2018-10-25T23:57:05"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">can I set it? Is it BUILD_SYS ?= "" or something?</td><td class="time"><a href="#t2018-10-25T23:57:05" class="time">23:57</a></td></tr>
<tr id="t2018-10-25T23:57:10"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">so you would use the ${STAGING_KERNEL_DIR} variable in your yourto recipe</td><td class="time"><a href="#t2018-10-25T23:57:10" class="time">23:57</a></td></tr>
<tr id="t2018-10-25T23:57:14"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">yocto *</td><td class="time"><a href="#t2018-10-25T23:57:14" class="time">23:57</a></td></tr>
<tr id="t2018-10-25T23:57:56"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">I'm not sure if you can set it, without interfering with the kernel recipe at least</td><td class="time"><a href="#t2018-10-25T23:57:56" class="time">23:57</a></td></tr>
<tr id="t2018-10-25T23:58:17"><th class="nick" style="background: #b86161">robbawebba</th><td class="text" style="color: #b86161">I'm kind of lost for ideas at this point :/</td><td class="time"><a href="#t2018-10-25T23:58:17" class="time">23:58</a></td></tr>
<tr id="t2018-10-25T23:59:08"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">unparsed line: 'BUILD_SYS = ${STAGING_KERNEL_DIR}'</td><td class="time"><a href="#t2018-10-25T23:59:08" class="time">23:59</a></td></tr>
<tr id="t2018-10-25T23:59:35"><th class="nick" style="background: #5fb4b4">noway96</th><td class="text" style="color: #5fb4b4">let me just try to get setup.py to build inside the devshell</td><td class="time"><a href="#t2018-10-25T23:59:35" class="time">23:59</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2018-10-24.log.html">&#171; Wednesday, 2018-10-24</a> <a href="index.html">Index</a> <a href="%23yocto.2018-10-26.log.html">Friday, 2018-10-26 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
