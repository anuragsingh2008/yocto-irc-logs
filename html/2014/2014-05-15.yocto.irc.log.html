<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Thursday, 2014-05-15</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Thursday, 2014-05-15</h1>
<div class="navigation"> <a href="%23yocto.2014-05-14.log.html">&#171; Wednesday, 2014-05-14</a> <a href="index.html">Index</a> <a href="%23yocto.2014-05-16.log.html">Friday, 2014-05-16 &#187;</a> </div>
<table class="irclog">
<tr id="t2014-05-15T00:44:29"><td class="nickchange" colspan="2">*** radzy is now known as radzy_away</td><td><a href="#t2014-05-15T00:44:29" class="time">00:44</a></td></tr>
<tr id="t2014-05-15T01:00:32"><td class="action" colspan="2">* ajtag is away: Away</td><td><a href="#t2014-05-15T01:00:32" class="time">01:00</a></td></tr>
<tr id="t2014-05-15T01:39:32"><td class="nickchange" colspan="2">*** jchonig_ is now known as jchonig</td><td><a href="#t2014-05-15T01:39:32" class="time">01:39</a></td></tr>
<tr id="t2014-05-15T01:46:16"><td class="other" colspan="2">-YoctoAutoBuilder- build #96 of nightly-x86-64-lsb is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64-lsb/builds/96" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64-lsb/builds/96</a></td><td><a href="#t2014-05-15T01:46:16" class="time">01:46</a></td></tr>
<tr id="t2014-05-15T02:28:49"><td class="other" colspan="2">-YoctoAutoBuilder- build #77 of nightly-ipk is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-ipk/builds/77" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-ipk/builds/77</a></td><td><a href="#t2014-05-15T02:28:49" class="time">02:28</a></td></tr>
<tr id="t2014-05-15T02:41:39"><td class="other" colspan="2">-YoctoAutoBuilder- build #76 of nightly-rpm is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-rpm/builds/76" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-rpm/builds/76</a></td><td><a href="#t2014-05-15T02:41:39" class="time">02:41</a></td></tr>
<tr id="t2014-05-15T03:08:17"><td class="other" colspan="2">-YoctoAutoBuilder- build #75 of nightly-deb is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-deb/builds/75" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-deb/builds/75</a></td><td><a href="#t2014-05-15T03:08:17" class="time">03:08</a></td></tr>
<tr id="t2014-05-15T04:13:22"><td class="other" colspan="2">-YoctoAutoBuilder- build #94 of nightly-fsl-arm-lsb is complete: Failure [failed BuildImages BuildImages_1]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-fsl-arm-lsb/builds/94" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-fsl-arm-lsb/builds/94</a></td><td><a href="#t2014-05-15T04:13:22" class="time">04:13</a></td></tr>
<tr id="t2014-05-15T05:48:04"><td class="other" colspan="2">-YoctoAutoBuilder- build #96 of nightly-mips is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-mips/builds/96" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-mips/builds/96</a></td><td><a href="#t2014-05-15T05:48:04" class="time">05:48</a></td></tr>
<tr id="t2014-05-15T05:48:34"><td class="nickchange" colspan="2">*** radzy_away is now known as radzy</td><td><a href="#t2014-05-15T05:48:34" class="time">05:48</a></td></tr>
<tr id="t2014-05-15T05:50:21"><td class="part" colspan="2">*** john3213 &lt;john3213!john3213@static-72-66-66-50.washdc.fios.verizon.net&gt; has left #yocto</td><td><a href="#t2014-05-15T05:50:21" class="time">05:50</a></td></tr>
<tr id="t2014-05-15T06:11:22"><td class="nickchange" colspan="2">*** radzy is now known as radzy_away</td><td><a href="#t2014-05-15T06:11:22" class="time">06:11</a></td></tr>
<tr id="t2014-05-15T06:50:34"><td class="nickchange" colspan="2">*** jbrianceau_away is now known as jbrianceau</td><td><a href="#t2014-05-15T06:50:34" class="time">06:50</a></td></tr>
<tr id="t2014-05-15T06:57:45"><th class="nick" style="background: #407a40">akS</th><td class="text" style="color: #407a40">morgen</td><td class="time"><a href="#t2014-05-15T06:57:45" class="time">06:57</a></td></tr>
<tr id="t2014-05-15T07:12:59"><th class="nick" style="background: #42427e">vicky</th><td class="text" style="color: #42427e">hi yocto, is there any variable to get the image_name (Ex., core-mage-minimal)</td><td class="time"><a href="#t2014-05-15T07:12:59" class="time">07:12</a></td></tr>
<tr id="t2014-05-15T07:35:15"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2014-05-15T07:35:15" class="time">07:35</a></td></tr>
<tr id="t2014-05-15T07:35:22"><th class="nick" style="background: #818144">mckoan</th><td class="text" style="color: #818144">good morning</td><td class="time"><a href="#t2014-05-15T07:35:22" class="time">07:35</a></td></tr>
<tr id="t2014-05-15T07:35:44"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2014-05-15T07:35:44" class="time">07:35</a></td></tr>
<tr id="t2014-05-15T08:19:45"><th class="nick" style="background: #854685">wv</th><td class="text" style="color: #854685">How hard is it to add the latest webkit (2.4.2) to the sato stuff?</td><td class="time"><a href="#t2014-05-15T08:19:45" class="time">08:19</a></td></tr>
<tr id="t2014-05-15T08:19:54"><th class="nick" style="background: #854685">wv</th><td class="text" style="color: #854685">now it's 1.8.3 which is added</td><td class="time"><a href="#t2014-05-15T08:19:54" class="time">08:19</a></td></tr>
<tr id="t2014-05-15T08:20:16"><th class="nick" style="background: #854685">wv</th><td class="text" style="color: #854685">or is there some branch available with the latest greatest things on it?</td><td class="time"><a href="#t2014-05-15T08:20:16" class="time">08:20</a></td></tr>
<tr id="t2014-05-15T08:48:26"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">morning all</td><td class="time"><a href="#t2014-05-15T08:48:26" class="time">08:48</a></td></tr>
<tr id="t2014-05-15T08:50:32"><th class="nick" style="background: #818144">mckoan</th><td class="text" style="color: #818144">hi bluelightning, all</td><td class="time"><a href="#t2014-05-15T08:50:32" class="time">08:50</a></td></tr>
<tr id="t2014-05-15T08:52:02"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">hi mckoan</td><td class="time"><a href="#t2014-05-15T08:52:02" class="time">08:52</a></td></tr>
<tr id="t2014-05-15T08:56:01"><th class="nick" style="background: #8c4a4a">vrutkovs</th><td class="text" style="color: #8c4a4a">hey guys, is there any guide / tutorial on rewriting shell do_rootfs for yocto 1.6?</td><td class="time"><a href="#t2014-05-15T08:56:01" class="time">08:56</a></td></tr>
<tr id="t2014-05-15T08:56:31"><th class="nick" style="background: #8c4a4a">vrutkovs</th><td class="text" style="color: #8c4a4a">ot maybe someone could help me to update&nbsp;&nbsp;<a href="https://github.com/cgwalters/poky/blob/gnomeostree-3.10-dylan/meta-gnomeos/classes/gnomeos-contents.bbclass" rel="nofollow">https://github.com/cgwalters/poky/blob/gnomeostree-3.10-dylan/meta-gnomeos/classes/gnomeos-contents.bbclass</a> for daisy?</td><td class="time"><a href="#t2014-05-15T08:56:31" class="time">08:56</a></td></tr>
<tr id="t2014-05-15T09:00:14"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">vrutkovs: to be honest I would have to suggest not completely re-implementing image.bbclass like that, since the breakage you're experiencing is the result...</td><td class="time"><a href="#t2014-05-15T09:00:14" class="time">09:00</a></td></tr>
<tr id="t2014-05-15T09:00:33"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">I wasn't aware Colin had done that</td><td class="time"><a href="#t2014-05-15T09:00:33" class="time">09:00</a></td></tr>
<tr id="t2014-05-15T09:01:08"><th class="nick" style="background: #8c4a4a">vrutkovs</th><td class="text" style="color: #8c4a4a">bluelightning: yeah, I guess it was a gross hack. Any recommendation on doing it right? I'm a complete n00b in this</td><td class="time"><a href="#t2014-05-15T09:01:08" class="time">09:01</a></td></tr>
<tr id="t2014-05-15T09:02:10"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">vrutkovs: I guess what I would do is examine what this custom class is doing</td><td class="time"><a href="#t2014-05-15T09:02:10" class="time">09:02</a></td></tr>
<tr id="t2014-05-15T09:02:23"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">first, which packages it adds - these can be handled easily with the default image.bbclass</td><td class="time"><a href="#t2014-05-15T09:02:23" class="time">09:02</a></td></tr>
<tr id="t2014-05-15T09:02:27"><td class="part" colspan="2">*** gshrk &lt;gshrk!79f4c042@gateway/web/freenode/ip.121.244.192.66&gt; has left #yocto</td><td><a href="#t2014-05-15T09:02:27" class="time">09:02</a></td></tr>
<tr id="t2014-05-15T09:03:18"><th class="nick" style="background: #8c4a4a">vrutkovs</th><td class="text" style="color: #8c4a4a">bluelightning: afaik the class simply prepares a rootfs, all the packages are handled in task-gnomeos-contents-runtime</td><td class="time"><a href="#t2014-05-15T09:03:18" class="time">09:03</a></td></tr>
<tr id="t2014-05-15T09:04:04"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">then, most of the rest of it seems to be hacks at the contents of the rootfs after installing, which again can be implemented with image.bbclass using ROOTFS_POSTPROCESS_COMMAND</td><td class="time"><a href="#t2014-05-15T09:04:04" class="time">09:04</a></td></tr>
<tr id="t2014-05-15T09:04:25"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">(you can still have a custom class that your images inherit, but it should build on top of image.bbclass rather than supplanting it)</td><td class="time"><a href="#t2014-05-15T09:04:25" class="time">09:04</a></td></tr>
<tr id="t2014-05-15T09:04:53"><th class="nick" style="background: #8c4a4a">vrutkovs</th><td class="text" style="color: #8c4a4a">okay, I'm gonna try 'inherit image' and 'ROOTFS_POSTPROCESS_COMMAND += "prepare_rootfs;"'</td><td class="time"><a href="#t2014-05-15T09:04:53" class="time">09:04</a></td></tr>
<tr id="t2014-05-15T09:34:41"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">wv: last time i looked webkit had grown a ruby dependency, which makes it less than easy</td><td class="time"><a href="#t2014-05-15T09:34:41" class="time">09:34</a></td></tr>
<tr id="t2014-05-15T12:00:47"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2014-05-15T12:00:47" class="time">12:00</a></td></tr>
<tr id="t2014-05-15T12:56:53"><th class="nick" style="background: #4d4d93">LetoThe2nd</th><td class="text" style="color: #4d4d93">howdy! does Error 23: command not supported ring a bell for TCF/eclipse here</td><td class="time"><a href="#t2014-05-15T12:56:53" class="time">12:56</a></td></tr>
<tr id="t2014-05-15T12:57:40"><th class="nick" style="background: #4d4d93">LetoThe2nd</th><td class="text" style="color: #4d4d93">remote running works fine, remote system browsing over TCF works, just trying to debug ives the above message</td><td class="time"><a href="#t2014-05-15T12:57:40" class="time">12:57</a></td></tr>
<tr id="t2014-05-15T13:25:00"><th class="nick" style="background: #97974f">sce</th><td class="text" style="color: #97974f">hello is there someone who knows about bluez4 why pand is disabled ?</td><td class="time"><a href="#t2014-05-15T13:25:00" class="time">13:25</a></td></tr>
<tr id="t2014-05-15T13:26:41"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">sce: i can't think of a specific reason, feel free to add a PACKAGECONFIG to enable it (and send a patch when it works)</td><td class="time"><a href="#t2014-05-15T13:26:41" class="time">13:26</a></td></tr>
<tr id="t2014-05-15T13:26:52"><th class="nick" style="background: #97974f">sce</th><td class="text" style="color: #97974f">oki</td><td class="time"><a href="#t2014-05-15T13:26:52" class="time">13:26</a></td></tr>
<tr id="t2014-05-15T13:26:56"><th class="nick" style="background: #97974f">sce</th><td class="text" style="color: #97974f">i will try</td><td class="time"><a href="#t2014-05-15T13:26:56" class="time">13:26</a></td></tr>
<tr id="t2014-05-15T13:34:21"><th class="nick" style="background: #4d4d93">LetoThe2nd</th><td class="text" style="color: #4d4d93">ah, the tcf problem is related to bug #5069</td><td class="time"><a href="#t2014-05-15T13:34:21" class="time">13:34</a></td></tr>
<tr id="t2014-05-15T13:34:21"><th class="nick" style="background: #9b519b">yocti</th><td class="text" style="color: #9b519b">Bug <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=5069" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=5069</a> enhancement, Medium, 1.7, laurentiu.palcu, NEW , Eclipse TCF can support arm cpu debug now,but tcf-agent_git.bb can't do it this time.</td><td class="time"><a href="#t2014-05-15T13:34:21" class="time">13:34</a></td></tr>
<tr id="t2014-05-15T13:58:57"><td class="action" colspan="2">* ajtag is back (gone 00:02:30)</td><td><a href="#t2014-05-15T13:58:57" class="time">13:58</a></td></tr>
<tr id="t2014-05-15T14:00:52"><td class="nickchange" colspan="2">*** radzy_away is now known as radzy</td><td><a href="#t2014-05-15T14:00:52" class="time">14:00</a></td></tr>
<tr id="t2014-05-15T15:32:05"><th class="nick" style="background: #539e9e">volker-</th><td class="text" style="color: #539e9e">busybox udhcpc does not seem to run as a daemon. How do you make sure that you get a new IP address if network is back again or if the network changes?</td><td class="time"><a href="#t2014-05-15T15:32:05" class="time">15:32</a></td></tr>
<tr id="t2014-05-15T15:32:08"><th class="nick" style="background: #539e9e">volker-</th><td class="text" style="color: #539e9e">I only found how/why it was removed: <a href="http://patchwork.openembedded.org/patch/33183/" rel="nofollow">http://patchwork.openembedded.org/patch/33183/</a></td><td class="time"><a href="#t2014-05-15T15:32:08" class="time">15:32</a></td></tr>
<tr id="t2014-05-15T15:56:18"><th class="nick" style="background: #539e9e">volker-</th><td class="text" style="color: #539e9e">I submitted bug 6339 about it.</td><td class="time"><a href="#t2014-05-15T15:56:18" class="time">15:56</a></td></tr>
<tr id="t2014-05-15T15:56:18"><th class="nick" style="background: #9b519b">yocti</th><td class="text" style="color: #9b519b">Bug <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=6339" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=6339</a> normal, Undecided, ---, richard.purdie, NEW , busybox dhcp client not started reliable</td><td class="time"><a href="#t2014-05-15T15:56:18" class="time">15:56</a></td></tr>
<tr id="t2014-05-15T16:29:30"><td class="nickchange" colspan="2">*** jbrianceau is now known as jbrianceau_away</td><td><a href="#t2014-05-15T16:29:30" class="time">16:29</a></td></tr>
<tr id="t2014-05-15T17:53:39"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">So, does anyone ever mess with or use security_flags.inc? My specific question: Why does SECURITY_LDFLAGS not default to including -pie? It seems like a lot of packages may end up getting linked with LDFLAGS but not CFLAGS, or perhaps I am misunderstanding the relationship between them?</td><td class="time"><a href="#t2014-05-15T17:53:39" class="time">17:53</a></td></tr>
<tr id="t2014-05-15T18:00:18"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">FYI: there are still pieces of software in oe-core which don't obey LDFLAGS. meta-sourcery has a few of those fixes, since the external toolchain doesn't default to the gnu hash options we want, whereas the internal toolchain does, so its less noticeable</td><td class="time"><a href="#t2014-05-15T18:00:18" class="time">18:00</a></td></tr>
<tr id="t2014-05-15T19:32:48"><td class="nickchange" colspan="2">*** radzy is now known as radzy_away</td><td><a href="#t2014-05-15T19:32:48" class="time">19:32</a></td></tr>
<tr id="t2014-05-15T20:13:19"><th class="nick" style="background: #539e9e">volker-</th><td class="text" style="color: #539e9e">how do you guys set up the firewall? Own firewall script in init.d or rc.local?</td><td class="time"><a href="#t2014-05-15T20:13:19" class="time">20:13</a></td></tr>
<tr id="t2014-05-15T20:56:39"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">Huh.</td><td class="time"><a href="#t2014-05-15T20:56:39" class="time">20:56</a></td></tr>
<tr id="t2014-05-15T20:56:51"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">Someone just pointed me at a 777 mode packages-split directory.</td><td class="time"><a href="#t2014-05-15T20:56:51" class="time">20:56</a></td></tr>
<tr id="t2014-05-15T20:56:57"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">That can't possibly be intentional, can it?</td><td class="time"><a href="#t2014-05-15T20:56:57" class="time">20:56</a></td></tr>
<tr id="t2014-05-15T20:57:39"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">heh, that sounds bad. i'd say bad umask, but don't we sanitize that?</td><td class="time"><a href="#t2014-05-15T20:57:39" class="time">20:57</a></td></tr>
<tr id="t2014-05-15T20:57:43"><td class="action" colspan="2">* kergoth shrugs</td><td><a href="#t2014-05-15T20:57:43" class="time">20:57</a></td></tr>
<tr id="t2014-05-15T20:57:47"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">I think so. And mine are all 700.</td><td class="time"><a href="#t2014-05-15T20:57:47" class="time">20:57</a></td></tr>
<tr id="t2014-05-15T20:58:02"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">... no, wait. They're *mostly* 700.</td><td class="time"><a href="#t2014-05-15T20:58:02" class="time">20:58</a></td></tr>
<tr id="t2014-05-15T20:58:26"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">43:116 out of my sample for 777:700</td><td class="time"><a href="#t2014-05-15T20:58:26" class="time">20:58</a></td></tr>
<tr id="t2014-05-15T20:58:31"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i discovered a fun little issue the other day. if you inadvertantly do a build under a dir that's set g+s, then that leaks all the way down the child dirs into the rootfs :)</td><td class="time"><a href="#t2014-05-15T20:58:31" class="time">20:58</a></td></tr>
<tr id="t2014-05-15T20:58:40"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">gah</td><td class="time"><a href="#t2014-05-15T20:58:40" class="time">20:58</a></td></tr>
<tr id="t2014-05-15T20:58:55"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">of course, g+s is supposed to work that way, flowing into children, but it seems like we should make sure that doesn't affect our build output :)</td><td class="time"><a href="#t2014-05-15T20:58:55" class="time">20:58</a></td></tr>
<tr id="t2014-05-15T21:01:31"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">Yeah, it does.</td><td class="time"><a href="#t2014-05-15T21:01:31" class="time">21:01</a></td></tr>
<tr id="t2014-05-15T21:02:58"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i was doing that build where i keep rebuilding from scratch montioring buildhistory, and i kept noticing g+s coming and going :)</td><td class="time"><a href="#t2014-05-15T21:02:58" class="time">21:02</a></td></tr>
<tr id="t2014-05-15T21:14:02"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">kergoth, weren't you seeing some kind of permission-changing errors recently?</td><td class="time"><a href="#t2014-05-15T21:14:02" class="time">21:14</a></td></tr>
<tr id="t2014-05-15T21:15:03"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">yep, we're seeing a variety of wrong file owner problems onf iles in the rootfs. i've seen both random files getting owned by xuser, even *ping*, and random files being owned by the build user id</td><td class="time"><a href="#t2014-05-15T21:15:03" class="time">21:15</a></td></tr>
<tr id="t2014-05-15T21:15:16"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">Huh. We're not seeing that that I know of.</td><td class="time"><a href="#t2014-05-15T21:15:16" class="time">21:15</a></td></tr>
<tr id="t2014-05-15T21:16:13"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">If you get the time or spare cpu cycles, try firing off <a href="https://gist.github.com/kergoth/b00e2c84b2d4e1e5ec82," rel="nofollow">https://gist.github.com/kergoth/b00e2c84b2d4e1e5ec82,</a> if you would</td><td class="time"><a href="#t2014-05-15T21:16:13" class="time">21:16</a></td></tr>
<tr id="t2014-05-15T21:16:17"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">What we are seeing is pretty unpredictable modes on packages-split.</td><td class="time"><a href="#t2014-05-15T21:16:17" class="time">21:16</a></td></tr>
<tr id="t2014-05-15T21:16:24"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i'm seeing it with pure upstream poky master, nothing mentor included</td><td class="time"><a href="#t2014-05-15T21:16:24" class="time">21:16</a></td></tr>
<tr id="t2014-05-15T21:16:27"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">interesting</td><td class="time"><a href="#t2014-05-15T21:16:27" class="time">21:16</a></td></tr>
<tr id="t2014-05-15T21:16:33"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">Perhaps most disturbingly, I always get 700 or 777, but someone else is also seeing 775 or 755.</td><td class="time"><a href="#t2014-05-15T21:16:33" class="time">21:16</a></td></tr>
<tr id="t2014-05-15T21:20:16"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">gah, not this one again - <a href="https://gist.github.com/kergoth/b1a702ce198b1104bdf6" rel="nofollow">https://gist.github.com/kergoth/b1a702ce198b1104bdf6</a></td><td class="time"><a href="#t2014-05-15T21:20:16" class="time">21:20</a></td></tr>
<tr id="t2014-05-15T21:20:22"><td class="action" colspan="2">* kergoth tries to remember what we did to work around that last</td><td><a href="#t2014-05-15T21:20:22" class="time">21:20</a></td></tr>
<tr id="t2014-05-15T21:25:51"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">Well, hmm. There's at least one umask(0) in the system (prserv does it), but that shouldn't affect this, but it looks like there may be something happening elsewhere.</td><td class="time"><a href="#t2014-05-15T21:25:51" class="time">21:25</a></td></tr>
<tr id="t2014-05-15T21:26:25"><td class="other" colspan="2">-YoctoAutoBuilder- build #103 of eclipse-plugin-kepler is complete: Failure [failed Building Eclipse Plugin Publishing Artifacts]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/eclipse-plugin-kepler/builds/103" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/eclipse-plugin-kepler/builds/103</a></td><td><a href="#t2014-05-15T21:26:25" class="time">21:26</a></td></tr>
<tr id="t2014-05-15T21:39:16"><td class="other" colspan="2">-YoctoAutoBuilder- build #96 of nightly-non-gpl3 is complete: Failure [failed BuildImages]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-non-gpl3/builds/96" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-non-gpl3/builds/96</a></td><td><a href="#t2014-05-15T21:39:16" class="time">21:39</a></td></tr>
<tr id="t2014-05-15T21:46:05"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">Huh.</td><td class="time"><a href="#t2014-05-15T21:46:05" class="time">21:46</a></td></tr>
<tr id="t2014-05-15T21:46:16"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">So bin/bitbake-worker checks for a task-dep on umask, and if one is present, sets umask to that.</td><td class="time"><a href="#t2014-05-15T21:46:16" class="time">21:46</a></td></tr>
<tr id="t2014-05-15T21:46:31"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">There do not appear to be any circumstances under which it will attempt to reset the umask.</td><td class="time"><a href="#t2014-05-15T21:46:31" class="time">21:46</a></td></tr>
<tr id="t2014-05-15T21:48:18"><td class="nickchange" colspan="2">*** radzy_away is now known as radzy</td><td><a href="#t2014-05-15T21:48:18" class="time">21:48</a></td></tr>
<tr id="t2014-05-15T21:50:33"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">Huh. Just adding a bb.note() to bitbake-worker does not actually produce visible output, apparently.</td><td class="time"><a href="#t2014-05-15T21:50:33" class="time">21:50</a></td></tr>
<tr id="t2014-05-15T21:52:01"><td class="other" colspan="2">-YoctoAutoBuilder- build #97 of nightly-qa-skeleton is complete: Failure [failed BuildImages Running Sanity Tests]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-qa-skeleton/builds/97" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-qa-skeleton/builds/97</a></td><td><a href="#t2014-05-15T21:52:01" class="time">21:52</a></td></tr>
<tr id="t2014-05-15T22:01:35"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">Huh. That's not it, and now I am suddenly curious: What on earth is making these mode 700 packages-split directories, when nothing I see is setting umask to 077?</td><td class="time"><a href="#t2014-05-15T22:01:35" class="time">22:01</a></td></tr>
<tr id="t2014-05-15T22:04:00"><td class="other" colspan="2">-YoctoAutoBuilder- build #95 of poky-tiny is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/poky-tiny/builds/95" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/poky-tiny/builds/95</a></td><td><a href="#t2014-05-15T22:04:00" class="time">22:04</a></td></tr>
<tr id="t2014-05-15T22:11:50"><td class="other" colspan="2">-YoctoAutoBuilder- build #96 of nightly-qa-logrotate is complete: Failure [failed BuildImages Running Sanity Tests]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-qa-logrotate/builds/96" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-qa-logrotate/builds/96</a></td><td><a href="#t2014-05-15T22:11:50" class="time">22:11</a></td></tr>
<tr id="t2014-05-15T22:26:22"><th class="nick" style="background: #5959a9">rspock</th><td class="text" style="color: #5959a9">hi there why I get this error:</td><td class="time"><a href="#t2014-05-15T22:26:22" class="time">22:26</a></td></tr>
<tr id="t2014-05-15T22:26:23"><th class="nick" style="background: #5959a9">rspock</th><td class="text" style="color: #5959a9">QA Issue: package libqxt contains bad RPATH /home/rspock/Distributore/Yocto/mc2/build/tmp/work/cortexa9hf-vfp-neon-poky-linux-gnueabi/libqxt/1.0-r1/build/lib in file /home/rspock/Distributore/Yocto/mc2/build/tmp/work/cortexa9hf-vfp-neon-poky-linux-gnueabi/libqxt/1.0-r1/packages-split/libqxt/usr/bin/qxtjsonrpc</td><td class="time"><a href="#t2014-05-15T22:26:23" class="time">22:26</a></td></tr>
<tr id="t2014-05-15T22:26:31"><th class="nick" style="background: #5959a9">rspock</th><td class="text" style="color: #5959a9">libqxt is my own recipe</td><td class="time"><a href="#t2014-05-15T22:26:31" class="time">22:26</a></td></tr>
<tr id="t2014-05-15T22:27:51"><td class="other" colspan="2">-YoctoAutoBuilder- build #97 of nightly-x32 is complete: Failure [failed BuildImages Running Sanity Tests Running Sanity Tests_1]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x32/builds/97" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x32/builds/97</a></td><td><a href="#t2014-05-15T22:27:51" class="time">22:27</a></td></tr>
<tr id="t2014-05-15T22:29:01"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">rspock: you should disable rpaths in the build configuration for libxt</td><td class="time"><a href="#t2014-05-15T22:29:01" class="time">22:29</a></td></tr>
<tr id="t2014-05-15T22:29:14"><th class="nick" style="background: #488888">bluelightning</th><td class="text" style="color: #488888">(meaning, whatever scripts libxt uses to build)</td><td class="time"><a href="#t2014-05-15T22:29:14" class="time">22:29</a></td></tr>
<tr id="t2014-05-15T22:29:57"><th class="nick" style="background: #5959a9">rspock</th><td class="text" style="color: #5959a9">there is a configuration script in libqxt but I doesn't work in yocto</td><td class="time"><a href="#t2014-05-15T22:29:57" class="time">22:29</a></td></tr>
<tr id="t2014-05-15T22:30:26"><th class="nick" style="background: #5959a9">rspock</th><td class="text" style="color: #5959a9">so I set some variables and then run qmake directly</td><td class="time"><a href="#t2014-05-15T22:30:26" class="time">22:30</a></td></tr>
<tr id="t2014-05-15T22:32:11"><th class="nick" style="background: #5959a9">rspock</th><td class="text" style="color: #5959a9">how can I remove rpath from compiler flags</td><td class="time"><a href="#t2014-05-15T22:32:11" class="time">22:32</a></td></tr>
<tr id="t2014-05-15T22:39:11"><td class="other" colspan="2">-YoctoAutoBuilder- build #96 of nightly-qa-extras is complete: Failure [failed BuildImages Running Sanity Tests BuildImages_1 Running Sanity Tests_1]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-qa-extras/builds/96" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-qa-extras/builds/96</a></td><td><a href="#t2014-05-15T22:39:11" class="time">22:39</a></td></tr>
<tr id="t2014-05-15T22:50:26"><td class="other" colspan="2">-YoctoAutoBuilder- build #97 of minnow is complete: Failure [failed BuildImages]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/minnow/builds/97" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/minnow/builds/97</a></td><td><a href="#t2014-05-15T22:50:26" class="time">22:50</a></td></tr>
<tr id="t2014-05-15T22:52:33"><td class="other" colspan="2">-YoctoAutoBuilder- build #102 of nightly-arm is complete: Failure [failed BuildImages Running Sanity Tests BuildImages_1 Building Toolchain Images Building Toolchain Images_1 Publishing Artifacts]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-arm/builds/102" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-arm/builds/102</a></td><td><a href="#t2014-05-15T22:52:33" class="time">22:52</a></td></tr>
<tr id="t2014-05-15T22:58:37"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">Sp</td><td class="time"><a href="#t2014-05-15T22:58:37" class="time">22:58</a></td></tr>
<tr id="t2014-05-15T22:58:38"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">So.</td><td class="time"><a href="#t2014-05-15T22:58:38" class="time">22:58</a></td></tr>
<tr id="t2014-05-15T22:58:50"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">It turns out that GNU tar changes its behavior, in some cases, based on whether or not you appear to be root.</td><td class="time"><a href="#t2014-05-15T22:58:50" class="time">22:58</a></td></tr>
<tr id="t2014-05-15T22:59:16"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">And in particular, GNU tar 1.23, if it thinks you are root, and it is extracting a mode 777 directory, may end up calling mkdir(dir, 0700)</td><td class="time"><a href="#t2014-05-15T22:59:16" class="time">22:59</a></td></tr>
<tr id="t2014-05-15T23:00:38"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">So *part* of the issue is that packages-split can get created with different modes, but once that's done, how they'll look after extraction from sstate may depend on whether things think they are running as root, and which version of tar is being used.</td><td class="time"><a href="#t2014-05-15T23:00:38" class="time">23:00</a></td></tr>
<tr id="t2014-05-15T23:11:40"><td class="other" colspan="2">-YoctoAutoBuilder- build #100 of build-appliance is complete: Failure [failed BuildImages_1 Publishing Artifacts]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/build-appliance/builds/100" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/build-appliance/builds/100</a></td><td><a href="#t2014-05-15T23:11:40" class="time">23:11</a></td></tr>
<tr id="t2014-05-15T23:30:15"><td class="other" colspan="2">-YoctoAutoBuilder- build #78 of nightly-ipk is complete: Failure [failed BuildImages Running Sanity Tests Running Sanity Tests_1 Running Sanity Tests_2]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-ipk/builds/78" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-ipk/builds/78</a></td><td><a href="#t2014-05-15T23:30:15" class="time">23:30</a></td></tr>
<tr id="t2014-05-15T23:33:34"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">So.</td><td class="time"><a href="#t2014-05-15T23:33:34" class="time">23:33</a></td></tr>
<tr id="t2014-05-15T23:33:54"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">GNU tar, it turns out, will *always* try to use fchmodat(..., AT_SYMLINK_NOFOLLOW)</td><td class="time"><a href="#t2014-05-15T23:33:54" class="time">23:33</a></td></tr>
<tr id="t2014-05-15T23:34:05"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">And only if that fails will it try again without AT_SYMLINK_NOFOLLOW.</td><td class="time"><a href="#t2014-05-15T23:34:05" class="time">23:34</a></td></tr>
<tr id="t2014-05-15T23:34:18"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">But pseudo always ignores failures from the underlying chmod call, because they are probably harmless.</td><td class="time"><a href="#t2014-05-15T23:34:18" class="time">23:34</a></td></tr>
<tr id="t2014-05-15T23:34:25"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">So GNU tar never *retries*.</td><td class="time"><a href="#t2014-05-15T23:34:25" class="time">23:34</a></td></tr>
<tr id="t2014-05-15T23:34:44"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">So if you are running under pseudo, GNU tar will not necessarily restore permissions as expected on some files.</td><td class="time"><a href="#t2014-05-15T23:34:44" class="time">23:34</a></td></tr>
<tr id="t2014-05-15T23:35:00"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">But the exact behavior can vary depending on umask, whether or not geteuid() said 0, or whatever else.</td><td class="time"><a href="#t2014-05-15T23:35:00" class="time">23:35</a></td></tr>
<tr id="t2014-05-15T23:39:23"><th class="nick" style="background: #adad5b">fray</th><td class="text" style="color: #adad5b">so what is the right general behavior?</td><td class="time"><a href="#t2014-05-15T23:39:23" class="time">23:39</a></td></tr>
<tr id="t2014-05-15T23:39:40"><td class="other" colspan="2">-YoctoAutoBuilder- build #96 of nightly-qa-pam is complete: Failure [failed BuildImages Running Sanity Tests]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-qa-pam/builds/96" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-qa-pam/builds/96</a></td><td><a href="#t2014-05-15T23:39:40" class="time">23:39</a></td></tr>
<tr id="t2014-05-15T23:40:56"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">I am not sure.</td><td class="time"><a href="#t2014-05-15T23:40:56" class="time">23:40</a></td></tr>
<tr id="t2014-05-15T23:41:21"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">I suspect this may be a thing that works differently on Solaris, say, but I don't have to worry about that just this minute.</td><td class="time"><a href="#t2014-05-15T23:41:21" class="time">23:41</a></td></tr>
<tr id="t2014-05-15T23:41:36"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">I am currently experimenting with "just don't set that flag bit in calls to the underlying chmodat system call".</td><td class="time"><a href="#t2014-05-15T23:41:36" class="time">23:41</a></td></tr>
<tr id="t2014-05-15T23:41:56"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">And that does indeed fix the observed behavior.</td><td class="time"><a href="#t2014-05-15T23:41:56" class="time">23:41</a></td></tr>
<tr id="t2014-05-15T23:42:07"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">Of course. That just gets me to the state where these directories are "correctly" restored mode 777.</td><td class="time"><a href="#t2014-05-15T23:42:07" class="time">23:42</a></td></tr>
<tr id="t2014-05-15T23:42:22"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">Now I need to find out why they were set that way in the first place, because that's *also* almost certainly wrong.</td><td class="time"><a href="#t2014-05-15T23:42:22" class="time">23:42</a></td></tr>
<tr id="t2014-05-15T23:46:52"><td class="other" colspan="2">-YoctoAutoBuilder- build #77 of nightly-rpm is complete: Failure [failed BuildImages Running Sanity Tests]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-rpm/builds/77" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-rpm/builds/77</a></td><td><a href="#t2014-05-15T23:46:52" class="time">23:46</a></td></tr>
<tr id="t2014-05-15T23:49:19"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">kergoth, if you have some time to kill: PSEUDO_1_6_0 now has a fix for a chmod problem that *shouldn't* be affecting real rootfs stuff, because the pseudo database was getting the intended values, but might have broken stuff in very strange ways.</td><td class="time"><a href="#t2014-05-15T23:49:19" class="time">23:49</a></td></tr>
<tr id="t2014-05-15T23:49:32"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">I haven't done a recipe or update for it yet, but it's out there. (It also has extended attribute support.)</td><td class="time"><a href="#t2014-05-15T23:49:32" class="time">23:49</a></td></tr>
<tr id="t2014-05-15T23:49:41"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">k, will play with it and see how it behaves for us</td><td class="time"><a href="#t2014-05-15T23:49:41" class="time">23:49</a></td></tr>
<tr id="t2014-05-15T23:51:27"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">I don't *think* this should affect rootfs stuff, but, well. There's lots of magic here.</td><td class="time"><a href="#t2014-05-15T23:51:27" class="time">23:51</a></td></tr>
<tr id="t2014-05-15T23:51:49"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">I was totally unaware, until about an hour or two ago, that GNU tar did *completely different* things when creating directories depending on whether or not it thought you were root.</td><td class="time"><a href="#t2014-05-15T23:51:49" class="time">23:51</a></td></tr>
<tr id="t2014-05-15T23:52:35"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">at least some of our issues were affecting package contents too, not just the rootfs, and of course ipks contain tarballs</td><td class="time"><a href="#t2014-05-15T23:52:35" class="time">23:52</a></td></tr>
<tr id="t2014-05-15T23:52:39"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">will see</td><td class="time"><a href="#t2014-05-15T23:52:39" class="time">23:52</a></td></tr>
<tr id="t2014-05-15T23:53:11"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">That *shouldn't* be a possible problem from this, I don't think, but...</td><td class="time"><a href="#t2014-05-15T23:53:11" class="time">23:53</a></td></tr>
<tr id="t2014-05-15T23:53:44"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">Well, obviously, there's stuff I don't understand involved.</td><td class="time"><a href="#t2014-05-15T23:53:44" class="time">23:53</a></td></tr>
<tr id="t2014-05-15T23:53:58"><td class="nickchange" colspan="2">*** radzy is now known as radzy_away</td><td><a href="#t2014-05-15T23:53:58" class="time">23:53</a></td></tr>
<tr id="t2014-05-15T23:54:01"><th class="nick" style="background: #a25555">seebs</th><td class="text" style="color: #a25555">I am still reeling from "we are absolutely sure this flag will be rejected, so we always call fchmodat twice, once with it, and then once without it".</td><td class="time"><a href="#t2014-05-15T23:54:01" class="time">23:54</a></td></tr>
<tr id="t2014-05-15T23:57:03"><td class="other" colspan="2">-YoctoAutoBuilder- build #76 of nightly-deb is complete: Failure [failed BuildImages Running Sanity Tests Running Sanity Tests_1 Running Sanity Tests_2]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-deb/builds/76" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-deb/builds/76</a></td><td><a href="#t2014-05-15T23:57:03" class="time">23:57</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2014-05-14.log.html">&#171; Wednesday, 2014-05-14</a> <a href="index.html">Index</a> <a href="%23yocto.2014-05-16.log.html">Friday, 2014-05-16 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
