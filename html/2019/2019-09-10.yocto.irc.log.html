<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Tuesday, 2019-09-10</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Tuesday, 2019-09-10</h1>
<div class="navigation"> <a href="%23yocto.2019-09-09.log.html">&#171; Monday, 2019-09-09</a> <a href="index.html">Index</a> <a href="%23yocto.2019-09-11.log.html">Wednesday, 2019-09-11 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-09-10T07:08:12"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">Has anyone here used swupdate? I'm really struggling on how to configure it for a single-copy approach (create initrd image, create the complete .sdcard-image with both the swupdate "rescue" part and the regular system).</td><td class="time"><a href="#t2019-09-10T07:08:12" class="time">07:08</a></td></tr>
<tr id="t2019-09-10T07:10:38"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">iceaway: i guess the core thing to get your head around is that this requires two mostly distinct build, with the one being the payload of the other</td><td class="time"><a href="#t2019-09-10T07:10:38" class="time">07:10</a></td></tr>
<tr id="t2019-09-10T07:15:00"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2019-09-10T07:15:00" class="time">07:15</a></td></tr>
<tr id="t2019-09-10T07:18:08"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">LetoThe2nd: I have never worked with initrd/initramfs before so it's a bit difficult to understand how it all hangs together. It seems like u-boot + kernel + initrd (for swupdate), and u-boot + kernel + regular rootfs are two separate builds, yet they need to become "one" in the image that I flash to the sdcard/emmc.</td><td class="time"><a href="#t2019-09-10T07:18:08" class="time">07:18</a></td></tr>
<tr id="t2019-09-10T07:19:20"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">nrossi: did you get anywhere further with the rpaths or should I take a look?</td><td class="time"><a href="#t2019-09-10T07:19:20" class="time">07:19</a></td></tr>
<tr id="t2019-09-10T07:19:48"><th class="nick" style="background: #854685">nrossi</th><td class="text" style="color: #854685">RP: working on it now, just trying to get the thing to break the hardlinks</td><td class="time"><a href="#t2019-09-10T07:19:48" class="time">07:19</a></td></tr>
<tr id="t2019-09-10T07:20:07"><th class="nick" style="background: #854685">nrossi</th><td class="text" style="color: #854685">RP: out of query should chrpath handle breaking hardlinks?</td><td class="time"><a href="#t2019-09-10T07:20:07" class="time">07:20</a></td></tr>
<tr id="t2019-09-10T07:20:18"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">nrossi: ok, cool. Just wanted to check as no point in both of us&nbsp;&nbsp;doing it</td><td class="time"><a href="#t2019-09-10T07:20:18" class="time">07:20</a></td></tr>
<tr id="t2019-09-10T07:20:34"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">nrossi: I suspect it doesn't</td><td class="time"><a href="#t2019-09-10T07:20:34" class="time">07:20</a></td></tr>
<tr id="t2019-09-10T07:21:00"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">iceaway: yeah, the apprioach is right. the key point is that you must not think of swupdate as some magic to glue it together automatically, but you need basically some recipe that takes the regular build artifacts and bundles them up in some way the swupdate build can use.</td><td class="time"><a href="#t2019-09-10T07:21:00" class="time">07:21</a></td></tr>
<tr id="t2019-09-10T07:21:14"><th class="nick" style="background: #854685">nrossi</th><td class="text" style="color: #854685">RP: no it doesn't, but it sort of makes sense that it doesn't. But it could optionally by kwarg since i am already calling process_dir manually</td><td class="time"><a href="#t2019-09-10T07:21:14" class="time">07:21</a></td></tr>
<tr id="t2019-09-10T07:22:06"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">nrossi: In the general case its probably working on a copy or it doesn't matter that it changes everything</td><td class="time"><a href="#t2019-09-10T07:22:06" class="time">07:22</a></td></tr>
<tr id="t2019-09-10T07:22:20"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">nrossi: having the option is probably ok though</td><td class="time"><a href="#t2019-09-10T07:22:20" class="time">07:22</a></td></tr>
<tr id="t2019-09-10T07:23:04"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">LetoThe2nd: yeah I think I grasp the part about the .swu compound image and how that is used. Now I need to figure out 1) how to build an initramfs/initrd image with swupdate, and combine that with my regular image to create a single image for flashing.</td><td class="time"><a href="#t2019-09-10T07:23:04" class="time">07:23</a></td></tr>
<tr id="t2019-09-10T07:23:21"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">iceaway: bingo.</td><td class="time"><a href="#t2019-09-10T07:23:21" class="time">07:23</a></td></tr>
<tr id="t2019-09-10T07:26:54"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">I'm basing my initramfs image on the core-image-minimal-initramfs recipe, but when I build it there is no /boot directory in the root filesystem, alas when u-boot tries to boot it cannot find /boot/Image.gz. Any clue as to where the kernel image+dtb ends up?</td><td class="time"><a href="#t2019-09-10T07:26:54" class="time">07:26</a></td></tr>
<tr id="t2019-09-10T09:02:48"><th class="nick" style="background: #488888">yocti</th><td class="text" style="color: #488888">New news from stackoverflow: Raspberrypi cm3 not booting (missing kernel.img?) &lt;<a href="https://stackoverflow.com/questions/57867338/raspberrypi-cm3-not-booting-missing-kernel-img&gt;" rel="nofollow">https://stackoverflow.com/questions/57867338/raspberrypi-cm3-not-booting-missing-kernel-img&gt;</a></td><td class="time"><a href="#t2019-09-10T09:02:48" class="time">09:02</a></td></tr>
<tr id="t2019-09-10T09:32:51"><th class="nick" style="background: #488888">yocti</th><td class="text" style="color: #488888">New news from stackoverflow: Rerun bitbake recipes when checkout different layer revision &lt;<a href="https://stackoverflow.com/questions/57867467/rerun-bitbake-recipes-when-checkout-different-layer-revision&gt;" rel="nofollow">https://stackoverflow.com/questions/57867467/rerun-bitbake-recipes-when-checkout-different-layer-revision&gt;</a></td><td class="time"><a href="#t2019-09-10T09:32:51" class="time">09:32</a></td></tr>
<tr id="t2019-09-10T09:51:45"><th class="nick" style="background: #8c4a4a">kpo</th><td class="text" style="color: #8c4a4a">hey, could anyone point me to the good reading about device tree files? It's not really yocto-specific, but i suppose many of you&nbsp;&nbsp;know some whatnots</td><td class="time"><a href="#t2019-09-10T09:51:45" class="time">09:51</a></td></tr>
<tr id="t2019-09-10T09:52:48"><th class="nick" style="background: #8c4a4a">kpo</th><td class="text" style="color: #8c4a4a">I need some easy things for start, the thing i'm trying to do is enable SPI on RPi CM, but would love to know a little bit of insides instead pasting something from stack</td><td class="time"><a href="#t2019-09-10T09:52:48" class="time">09:52</a></td></tr>
<tr id="t2019-09-10T09:53:51"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">kpo, maybe <a href="https://www.youtube.com/watch?v=m_NyYEBxfn8" rel="nofollow">https://www.youtube.com/watch?v=m_NyYEBxfn8</a> is of interest</td><td class="time"><a href="#t2019-09-10T09:53:51" class="time">09:53</a></td></tr>
<tr id="t2019-09-10T09:54:40"><th class="nick" style="background: #8c4a4a">kpo</th><td class="text" style="color: #8c4a4a">kroon: thanks :) i prefer readable material, but will surely check</td><td class="time"><a href="#t2019-09-10T09:54:40" class="time">09:54</a></td></tr>
<tr id="t2019-09-10T10:17:29"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">Really confused now over the whole initramfs thing. I reckon now after more reading that I should set the INITRAMFS_IMAGE to the image that I want in my initramfs (in my kernel recipe). But the image I set in INITRAMFS_IMAGE is also the image I am trying to bitbake(?). It ends up with what appears to be a circular dependency between the image and the kernel.</td><td class="time"><a href="#t2019-09-10T10:17:29" class="time">10:17</a></td></tr>
<tr id="t2019-09-10T10:21:22"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">kpo, the linux kernel also ships with some general devicetree documentation</td><td class="time"><a href="#t2019-09-10T10:21:22" class="time">10:21</a></td></tr>
<tr id="t2019-09-10T10:28:25"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_: if you do have any time we have two issues which I'm not aware of anyone looking at right now and they block M3. One is strace ptest timing out (arm and x86)</td><td class="time"><a href="#t2019-09-10T10:28:25" class="time">10:28</a></td></tr>
<tr id="t2019-09-10T10:28:46"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_: other is qemumips systemd with a runtime boot failure (showing as red on all AB builds)</td><td class="time"><a href="#t2019-09-10T10:28:46" class="time">10:28</a></td></tr>
<tr id="t2019-09-10T10:29:05"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_: on the plus side both look readily reproducible. Not looked into them at all yet</td><td class="time"><a href="#t2019-09-10T10:29:05" class="time">10:29</a></td></tr>
<tr id="t2019-09-10T10:33:10"><th class="nick" style="background: #4d4d93">akrpic77</th><td class="text" style="color: #4d4d93">hello!</td><td class="time"><a href="#t2019-09-10T10:33:10" class="time">10:33</a></td></tr>
<tr id="t2019-09-10T10:34:08"><th class="nick" style="background: #4d4d93">akrpic77</th><td class="text" style="color: #4d4d93">I only need hciattach from bluez5 package... If I do PACKAGES += "hciattach" and FILES_hciattach = "/....", ... bitbake says nothing provides hciattach, but bluez5 RPROVIDES hciattach ... how to unRprovide it ?</td><td class="time"><a href="#t2019-09-10T10:34:08" class="time">10:34</a></td></tr>
<tr id="t2019-09-10T10:45:47"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">akrpic77: where did you say to yocto you needed hciattach? how?</td><td class="time"><a href="#t2019-09-10T10:45:47" class="time">10:45</a></td></tr>
<tr id="t2019-09-10T10:46:16"><th class="nick" style="background: #4d4d93">akrpic77</th><td class="text" style="color: #4d4d93">qschulz: to try out, first just bitbake hciattach</td><td class="time"><a href="#t2019-09-10T10:46:16" class="time">10:46</a></td></tr>
<tr id="t2019-09-10T10:46:33"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">akrpic77: you can't, you (bit)bake recipes, not packages</td><td class="time"><a href="#t2019-09-10T10:46:33" class="time">10:46</a></td></tr>
<tr id="t2019-09-10T10:46:35"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">you bitbake a recipe</td><td class="time"><a href="#t2019-09-10T10:46:35" class="time">10:46</a></td></tr>
<tr id="t2019-09-10T10:46:39"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">which then builds packages</td><td class="time"><a href="#t2019-09-10T10:46:39" class="time">10:46</a></td></tr>
<tr id="t2019-09-10T10:46:45"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">and you can install some of those</td><td class="time"><a href="#t2019-09-10T10:46:45" class="time">10:46</a></td></tr>
<tr id="t2019-09-10T10:46:55"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">you get the packages in tmp/deploy/{type of packages}</td><td class="time"><a href="#t2019-09-10T10:46:55" class="time">10:46</a></td></tr>
<tr id="t2019-09-10T10:47:02"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">or use oe-pkgdata-util</td><td class="time"><a href="#t2019-09-10T10:47:02" class="time">10:47</a></td></tr>
<tr id="t2019-09-10T10:47:11"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">rburton: oh, new tool to discover!</td><td class="time"><a href="#t2019-09-10T10:47:11" class="time">10:47</a></td></tr>
<tr id="t2019-09-10T10:47:37"><th class="nick" style="background: #4d4d93">akrpic77</th><td class="text" style="color: #4d4d93">qschulz: thank you</td><td class="time"><a href="#t2019-09-10T10:47:37" class="time">10:47</a></td></tr>
<tr id="t2019-09-10T10:47:56"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">akrpic77: and rburton :)</td><td class="time"><a href="#t2019-09-10T10:47:56" class="time">10:47</a></td></tr>
<tr id="t2019-09-10T10:48:05"><th class="nick" style="background: #4d4d93">akrpic77</th><td class="text" style="color: #4d4d93">and rburton of course.</td><td class="time"><a href="#t2019-09-10T10:48:05" class="time">10:48</a></td></tr>
<tr id="t2019-09-10T10:48:06"><th class="nick" style="background: #4d4d93">akrpic77</th><td class="text" style="color: #4d4d93">:)</td><td class="time"><a href="#t2019-09-10T10:48:06" class="time">10:48</a></td></tr>
<tr id="t2019-09-10T10:48:32"><th class="nick" style="background: #4d4d93">akrpic77</th><td class="text" style="color: #4d4d93">but those additional packages added inside bluez*.bb have dep on main package, yes?</td><td class="time"><a href="#t2019-09-10T10:48:32" class="time">10:48</a></td></tr>
<tr id="t2019-09-10T10:48:39"><th class="nick" style="background: #4d4d93">akrpic77</th><td class="text" style="color: #4d4d93">I also have to remove that dependency</td><td class="time"><a href="#t2019-09-10T10:48:39" class="time">10:48</a></td></tr>
<tr id="t2019-09-10T10:48:52"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">they only depend on the main package if they depend on the main package</td><td class="time"><a href="#t2019-09-10T10:48:52" class="time">10:48</a></td></tr>
<tr id="t2019-09-10T10:49:00"><th class="nick" style="background: #4d4d93">akrpic77</th><td class="text" style="color: #4d4d93">hmm. ok.</td><td class="time"><a href="#t2019-09-10T10:49:00" class="time">10:49</a></td></tr>
<tr id="t2019-09-10T10:49:13"><td class="part" colspan="2">*** jofr &lt;jofr!~jofr@193.182.166.3&gt; has left #yocto</td><td><a href="#t2019-09-10T10:49:13" class="time">10:49</a></td></tr>
<tr id="t2019-09-10T10:49:24"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">unless you've *massive* space restrictions this seems fairly pointless though :)</td><td class="time"><a href="#t2019-09-10T10:49:24" class="time">10:49</a></td></tr>
<tr id="t2019-09-10T10:49:42"><th class="nick" style="background: #4d4d93">akrpic77</th><td class="text" style="color: #4d4d93">what seems to be pointless?</td><td class="time"><a href="#t2019-09-10T10:49:42" class="time">10:49</a></td></tr>
<tr id="t2019-09-10T10:49:49"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">*just* installing hciattach</td><td class="time"><a href="#t2019-09-10T10:49:49" class="time">10:49</a></td></tr>
<tr id="t2019-09-10T10:50:16"><th class="nick" style="background: #4d4d93">akrpic77</th><td class="text" style="color: #4d4d93">ok. the other option I have is to systemd disable bluez5 (bluetooth.service)</td><td class="time"><a href="#t2019-09-10T10:50:16" class="time">10:50</a></td></tr>
<tr id="t2019-09-10T10:50:33"><th class="nick" style="background: #4d4d93">akrpic77</th><td class="text" style="color: #4d4d93">... and install&nbsp;&nbsp;it anyway</td><td class="time"><a href="#t2019-09-10T10:50:33" class="time">10:50</a></td></tr>
<tr id="t2019-09-10T10:50:42"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">also, remember that by doing that (moving a binary out of one package to another one) might break other recipes. Because they'd RDEPENDS on what used to provide the binary but it's not there anymore. It's not without consequences :)</td><td class="time"><a href="#t2019-09-10T10:50:42" class="time">10:50</a></td></tr>
<tr id="t2019-09-10T10:51:27"><th class="nick" style="background: #4d4d93">akrpic77</th><td class="text" style="color: #4d4d93">but! adding bluez5 -&gt; dep on hciattach, those that rdepend on bluez will get hciattach</td><td class="time"><a href="#t2019-09-10T10:51:27" class="time">10:51</a></td></tr>
<tr id="t2019-09-10T10:52:04"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">akrpic77: true! one more thing to not forget but you're right</td><td class="time"><a href="#t2019-09-10T10:52:04" class="time">10:52</a></td></tr>
<tr id="t2019-09-10T10:53:48"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">akrpic77: you can have a bbappend for bluez5 with just INITSCRIPT_PARAMS = "remove"</td><td class="time"><a href="#t2019-09-10T10:53:48" class="time">10:53</a></td></tr>
<tr id="t2019-09-10T10:53:55"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f"><a href="https://www.yoctoproject.org/docs/latest/ref-manual/ref-manual.html#var-INITSCRIPT_PARAMS" rel="nofollow">https://www.yoctoproject.org/docs/latest/ref-manual/ref-manual.html#var-INITSCRIPT_PARAMS</a></td><td class="time"><a href="#t2019-09-10T10:53:55" class="time">10:53</a></td></tr>
<tr id="t2019-09-10T10:54:06"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">if</td><td class="time"><a href="#t2019-09-10T10:54:06" class="time">10:54</a></td></tr>
<tr id="t2019-09-10T10:54:16"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">that don't work for systemd though :)</td><td class="time"><a href="#t2019-09-10T10:54:16" class="time">10:54</a></td></tr>
<tr id="t2019-09-10T10:54:57"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f"><a href="https://www.yoctoproject.org/docs/current/ref-manual/ref-manual.html#var-SYSTEMD_AUTO_ENABLE" rel="nofollow">https://www.yoctoproject.org/docs/current/ref-manual/ref-manual.html#var-SYSTEMD_AUTO_ENABLE</a> this one then?</td><td class="time"><a href="#t2019-09-10T10:54:57" class="time">10:54</a></td></tr>
<tr id="t2019-09-10T10:55:03"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">right</td><td class="time"><a href="#t2019-09-10T10:55:03" class="time">10:55</a></td></tr>
<tr id="t2019-09-10T10:55:26"><th class="nick" style="background: #4d4d93">akrpic77</th><td class="text" style="color: #4d4d93">great, thank you qschulz</td><td class="time"><a href="#t2019-09-10T10:55:26" class="time">10:55</a></td></tr>
<tr id="t2019-09-10T10:56:48"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">RP: I fired a build with strace</td><td class="time"><a href="#t2019-09-10T10:56:48" class="time">10:56</a></td></tr>
<tr id="t2019-09-10T11:13:05"><th class="nick" style="background: #4d4d93">akrpic77</th><td class="text" style="color: #4d4d93">anyone has experience with mgmt api of linux's bluetooth stack ?</td><td class="time"><a href="#t2019-09-10T11:13:05" class="time">11:13</a></td></tr>
<tr id="t2019-09-10T11:15:34"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">maybe ask in #bluez</td><td class="time"><a href="#t2019-09-10T11:15:34" class="time">11:15</a></td></tr>
<tr id="t2019-09-10T11:16:13"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">c</td><td class="time"><a href="#t2019-09-10T11:16:13" class="time">11:16</a></td></tr>
<tr id="t2019-09-10T11:21:02"><th class="nick" style="background: #4d4d93">akrpic77</th><td class="text" style="color: #4d4d93">rburton: asking already, thank you</td><td class="time"><a href="#t2019-09-10T11:21:02" class="time">11:21</a></td></tr>
<tr id="t2019-09-10T11:23:32"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">I don't get in which order bitbake parses assignments/statements.. not even after reading the bitbake manual section 3.1-3.3 for the 4th time</td><td class="time"><a href="#t2019-09-10T11:23:32" class="time">11:23</a></td></tr>
<tr id="t2019-09-10T11:23:56"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">_append and _remove come after = and +</td><td class="time"><a href="#t2019-09-10T11:23:56" class="time">11:23</a></td></tr>
<tr id="t2019-09-10T11:24:55"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">apart from that, it's parse order.&nbsp;&nbsp;bitbake.conf (and everything it includes) then recipe.</td><td class="time"><a href="#t2019-09-10T11:24:55" class="time">11:24</a></td></tr>
<tr id="t2019-09-10T11:25:49"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">rburton, manual says for _append/_prepend: "... their effects are deferred until after parsing completes ...". Is that "parsing" of the whole bitbake recipe ?</td><td class="time"><a href="#t2019-09-10T11:25:49" class="time">11:25</a></td></tr>
<tr id="t2019-09-10T11:26:40"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">sort of.&nbsp;&nbsp;= and + happen during the parse of the recipe line by line, _append happens afterwards</td><td class="time"><a href="#t2019-09-10T11:26:40" class="time">11:26</a></td></tr>
<tr id="t2019-09-10T11:27:11"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">FOO=1 ; FOO_append="2"; FOO+= "3" would result in FOO=132</td><td class="time"><a href="#t2019-09-10T11:27:11" class="time">11:27</a></td></tr>
<tr id="t2019-09-10T11:28:15"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">rburton, right, sofar I'm with you</td><td class="time"><a href="#t2019-09-10T11:28:15" class="time">11:28</a></td></tr>
<tr id="t2019-09-10T11:30:00"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">rburton, For a statement like "${@bb.utils.contains('PACKAGECONFIG', 'python', 'distutils3-base', '', d)}"</td><td class="time"><a href="#t2019-09-10T11:30:00" class="time">11:30</a></td></tr>
<tr id="t2019-09-10T11:30:30"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">rburton, I guess I can't use an _append to fill in the "python" PACKAGECONFIG then ?</td><td class="time"><a href="#t2019-09-10T11:30:30" class="time">11:30</a></td></tr>
<tr id="t2019-09-10T11:30:42"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">erhm</td><td class="time"><a href="#t2019-09-10T11:30:42" class="time">11:30</a></td></tr>
<tr id="t2019-09-10T11:30:53"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">sorry</td><td class="time"><a href="#t2019-09-10T11:30:53" class="time">11:30</a></td></tr>
<tr id="t2019-09-10T11:31:17"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">rburton, inherit ${@bb.utils.contains('PACKAGECONFIG', 'python', 'distutils3-base', '', d)}</td><td class="time"><a href="#t2019-09-10T11:31:17" class="time">11:31</a></td></tr>
<tr id="t2019-09-10T11:32:13"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">rburton, since I assume bitbake expands the inline python right there during parsing, before the _append's are applied ?</td><td class="time"><a href="#t2019-09-10T11:32:13" class="time">11:32</a></td></tr>
<tr id="t2019-09-10T11:32:23"><th class="nick" style="background: #a25555">fullstop</th><td class="text" style="color: #a25555">khem: it's not -- my browser wasn't actually switching branches when I changed the selection in cgit.</td><td class="time"><a href="#t2019-09-10T11:32:23" class="time">11:32</a></td></tr>
<tr id="t2019-09-10T11:33:15"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b"> kroon i *think* thats right. we do actually have a recipe doing that, which isn't right (probably).&nbsp;&nbsp;paging RP :)</td><td class="time"><a href="#t2019-09-10T11:33:15" class="time">11:33</a></td></tr>
<tr id="t2019-09-10T11:34:27"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">rburton, there are lots of recipes doing that I think... at least I added one myself in OE-core pretty recently :-/</td><td class="time"><a href="#t2019-09-10T11:34:27" class="time">11:34</a></td></tr>
<tr id="t2019-09-10T11:38:11"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">and by lots I mean a few that uses "inherit ${.....}"</td><td class="time"><a href="#t2019-09-10T11:38:11" class="time">11:38</a></td></tr>
<tr id="t2019-09-10T11:38:19"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">three in core doing it on PACKAGECONFIG</td><td class="time"><a href="#t2019-09-10T11:38:19" class="time">11:38</a></td></tr>
<tr id="t2019-09-10T11:49:23"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">rburton, this is what I get from reading the manual: 1. recipe is parsed line by line 2. _append/_prepend/_remove are applied 3. keys are expanded 4. overrides are applied</td><td class="time"><a href="#t2019-09-10T11:49:23" class="time">11:49</a></td></tr>
<tr id="t2019-09-10T11:51:29"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">but am not at all sure about the order</td><td class="time"><a href="#t2019-09-10T11:51:29" class="time">11:51</a></td></tr>
<tr id="t2019-09-10T12:13:02"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kroon: appends are applied at variable expansion time</td><td class="time"><a href="#t2019-09-10T12:13:02" class="time">12:13</a></td></tr>
<tr id="t2019-09-10T12:13:13"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kroon: so it depends if your append is set before or after that inherit</td><td class="time"><a href="#t2019-09-10T12:13:13" class="time">12:13</a></td></tr>
<tr id="t2019-09-10T12:14:17"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">RP, ok, and the appends are applied in the order they were declared, in case there were multiple of them ?</td><td class="time"><a href="#t2019-09-10T12:14:17" class="time">12:14</a></td></tr>
<tr id="t2019-09-10T12:15:25"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kroon: I'd have thought so</td><td class="time"><a href="#t2019-09-10T12:15:25" class="time">12:15</a></td></tr>
<tr id="t2019-09-10T12:18:56"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">RP, so for statements like inherit/include/require, any variable arguments are expanded immediately as the line is parsed ?</td><td class="time"><a href="#t2019-09-10T12:18:56" class="time">12:18</a></td></tr>
<tr id="t2019-09-10T12:19:12"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kroon: yes, there is no other way</td><td class="time"><a href="#t2019-09-10T12:19:12" class="time">12:19</a></td></tr>
<tr id="t2019-09-10T12:19:24"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">they're implied immediate expansion</td><td class="time"><a href="#t2019-09-10T12:19:24" class="time">12:19</a></td></tr>
<tr id="t2019-09-10T12:19:35"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">INHERIT is the only one which doesn't (for conf files)</td><td class="time"><a href="#t2019-09-10T12:19:35" class="time">12:19</a></td></tr>
<tr id="t2019-09-10T12:21:14"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">RP, rburton, ok that clears up a lot for me, thanks</td><td class="time"><a href="#t2019-09-10T12:21:14" class="time">12:21</a></td></tr>
<tr id="t2019-09-10T12:21:39"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kroon: we should probably clarify the manual</td><td class="time"><a href="#t2019-09-10T12:21:39" class="time">12:21</a></td></tr>
<tr id="t2019-09-10T12:22:08"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">RP, yeah, i'll see if I can write something up</td><td class="time"><a href="#t2019-09-10T12:22:08" class="time">12:22</a></td></tr>
<tr id="t2019-09-10T12:22:13"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kroon: thanks</td><td class="time"><a href="#t2019-09-10T12:22:13" class="time">12:22</a></td></tr>
<tr id="t2019-09-10T12:33:23"><th class="nick" style="background: #488888">yocti</th><td class="text" style="color: #488888">New news from stackoverflow: Yocto: No recipes available (tegra) &lt;<a href="https://stackoverflow.com/questions/57870762/yocto-no-recipes-available-tegra&gt;" rel="nofollow">https://stackoverflow.com/questions/57870762/yocto-no-recipes-available-tegra&gt;</a> || Overriding do_compile() functionality in bbappend &lt;<a href="https://stackoverflow.com/questions/57870590/overriding-do-compile-functionality-in-bbappend&gt;" rel="nofollow">https://stackoverflow.com/questions/57870590/overriding-do-compile-functionality-in-bbappend&gt;</a></td><td class="time"><a href="#t2019-09-10T12:33:23" class="time">12:33</a></td></tr>
<tr id="t2019-09-10T12:36:55"><td class="nickchange" colspan="2">*** grumble is now known as \emph{grumble}</td><td><a href="#t2019-09-10T12:36:55" class="time">12:36</a></td></tr>
<tr id="t2019-09-10T12:42:07"><th class="nick" style="background: #854685">nrossi</th><td class="text" style="color: #854685">RP: just sent a series with the WIP patches sorted and the rpath fix</td><td class="time"><a href="#t2019-09-10T12:42:07" class="time">12:42</a></td></tr>
<tr id="t2019-09-10T12:44:37"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">nrossi: looks good, thanks!</td><td class="time"><a href="#t2019-09-10T12:44:37" class="time">12:44</a></td></tr>
<tr id="t2019-09-10T12:44:48"><td class="action" colspan="2">* RP will fire a new testbuild</td><td><a href="#t2019-09-10T12:44:48" class="time">12:44</a></td></tr>
<tr id="t2019-09-10T12:48:12"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">rburton: I'm leaving the other patches to you in mut for now</td><td class="time"><a href="#t2019-09-10T12:48:12" class="time">12:48</a></td></tr>
<tr id="t2019-09-10T12:54:32"><th class="nick" style="background: #57a657">vmeson</th><td class="text" style="color: #57a657">RP: Kai can work on: Bug 13504 - [master-next] qemumips-lsb sytemd failure --</td><td class="time"><a href="#t2019-09-10T12:54:32" class="time">12:54</a></td></tr>
<tr id="t2019-09-10T12:54:33"><th class="nick" style="background: #488888">yocti</th><td class="text" style="color: #488888">Bug <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=13504" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=13504</a> normal, Undecided, ---, kai.kang, NEW , [master-next] qemumips-lsb sytemd failure</td><td class="time"><a href="#t2019-09-10T12:54:33" class="time">12:54</a></td></tr>
<tr id="t2019-09-10T12:59:55"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">vmeson: thanks</td><td class="time"><a href="#t2019-09-10T12:59:55" class="time">12:59</a></td></tr>
<tr id="t2019-09-10T12:59:57"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_: also thanks!</td><td class="time"><a href="#t2019-09-10T12:59:57" class="time">12:59</a></td></tr>
<tr id="t2019-09-10T13:12:29"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">RP: what is the specific image that strace fails with?</td><td class="time"><a href="#t2019-09-10T13:12:29" class="time">13:12</a></td></tr>
<tr id="t2019-09-10T13:13:45"><th class="nick" style="background: #5959a9">antoine74</th><td class="text" style="color: #5959a9">Hello</td><td class="time"><a href="#t2019-09-10T13:13:45" class="time">13:13</a></td></tr>
<tr id="t2019-09-10T13:16:42"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_: would be the -ptest one</td><td class="time"><a href="#t2019-09-10T13:16:42" class="time">13:16</a></td></tr>
<tr id="t2019-09-10T13:18:47"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">RP: yeah, started core-image-sato-ptest-fast</td><td class="time"><a href="#t2019-09-10T13:18:47" class="time">13:18</a></td></tr>
<tr id="t2019-09-10T13:19:06"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">core-image-minimal ran out of space during the test, as is actually well known</td><td class="time"><a href="#t2019-09-10T13:19:06" class="time">13:19</a></td></tr>
<tr id="t2019-09-10T13:19:20"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">(started building, will take a moment)</td><td class="time"><a href="#t2019-09-10T13:19:20" class="time">13:19</a></td></tr>
<tr id="t2019-09-10T13:19:45"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">RP, overrides are also applied at variable expansion time ?</td><td class="time"><a href="#t2019-09-10T13:19:45" class="time">13:19</a></td></tr>
<tr id="t2019-09-10T13:20:06"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_: <a href="https://autobuilder.yocto.io/pub/non-release/20190907-4/testresults/qemuarm64-ptest/strace.log" rel="nofollow">https://autobuilder.yocto.io/pub/non-release/20190907-4/testresults/qemuarm64-ptest/strace.log</a>&nbsp;&nbsp;vs <a href="https://autobuilder.yocto.io/pub/non-release/20190907-4/testresults/qemuarm64-ptest/strace.log" rel="nofollow">https://autobuilder.yocto.io/pub/non-release/20190907-4/testresults/qemuarm64-ptest/strace.log</a> and&nbsp;&nbsp;<a href="https://autobuilder.yocto.io/pub/non-release/20190907-4/testresults/testresult-report.txt" rel="nofollow">https://autobuilder.yocto.io/pub/non-release/20190907-4/testresults/testresult-report.txt</a></td><td class="time"><a href="#t2019-09-10T13:20:06" class="time">13:20</a></td></tr>
<tr id="t2019-09-10T13:20:26"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_: not sure what is going on there</td><td class="time"><a href="#t2019-09-10T13:20:26" class="time">13:20</a></td></tr>
<tr id="t2019-09-10T13:20:51"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kroon: yes, bitbake used to expand at a particular point in time but its now dynamic</td><td class="time"><a href="#t2019-09-10T13:20:51" class="time">13:20</a></td></tr>
<tr id="t2019-09-10T13:20:52"><th class="nick" style="background: #5959a9">antoine74</th><td class="text" style="color: #5959a9">I have a problem with yocto warrior-21.0.1 the bug is this one : <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=13442" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=13442</a> and the solution that works for me is there : <a href="https://git.openembedded.org/openembedded-core-contrib/commit/?h=stable/warrior-nmut&amp;id=8f13dbd9e066670d7407cd2a9293abce5ec3ac05" rel="nofollow">https://git.openembedded.org/openembedded-core-contrib/commit/?h=stable/warrior-nmut&amp;id=8f13dbd9e066670d7407cd2a9293abce5ec3ac05</a></td><td class="time"><a href="#t2019-09-10T13:20:52" class="time">13:20</a></td></tr>
<tr id="t2019-09-10T13:20:52"><th class="nick" style="background: #488888">yocti</th><td class="text" style="color: #488888">Bug 13442: normal, Medium+, 2.7.2, akuster, IN PROGRESS DESIGN COMPLETE , linux-yocto-rt 4.19 fails to build</td><td class="time"><a href="#t2019-09-10T13:20:52" class="time">13:20</a></td></tr>
<tr id="t2019-09-10T13:21:12"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">RP, ok</td><td class="time"><a href="#t2019-09-10T13:21:12" class="time">13:21</a></td></tr>
<tr id="t2019-09-10T13:21:15"><th class="nick" style="background: #5959a9">antoine74</th><td class="text" style="color: #5959a9">my question is how do I patch the file in a good "yocto-way" ?</td><td class="time"><a href="#t2019-09-10T13:21:15" class="time">13:21</a></td></tr>
<tr id="t2019-09-10T13:22:08"><th class="nick" style="background: #5959a9">antoine74</th><td class="text" style="color: #5959a9">I already patched recipes but I don't know how to patch this particular file meta/recipes-kernel/linux/linux-yocto-rt_4.19.bb</td><td class="time"><a href="#t2019-09-10T13:22:08" class="time">13:22</a></td></tr>
<tr id="t2019-09-10T13:22:26"><th class="nick" style="background: #5959a9">antoine74</th><td class="text" style="color: #5959a9">maybe it's more of a git problem ?</td><td class="time"><a href="#t2019-09-10T13:22:26" class="time">13:22</a></td></tr>
<tr id="t2019-09-10T13:39:54"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">hmm.. Where do I send bitbake manual patches ?</td><td class="time"><a href="#t2019-09-10T13:39:54" class="time">13:39</a></td></tr>
<tr id="t2019-09-10T13:40:07"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">bitbake-devel ?</td><td class="time"><a href="#t2019-09-10T13:40:07" class="time">13:40</a></td></tr>
<tr id="t2019-09-10T13:40:22"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kroon: please</td><td class="time"><a href="#t2019-09-10T13:40:22" class="time">13:40</a></td></tr>
<tr id="t2019-09-10T13:41:42"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">RP, ok, sending. I have 2 patches, not 100% confident they are correct so please review..</td><td class="time"><a href="#t2019-09-10T13:41:42" class="time">13:41</a></td></tr>
<tr id="t2019-09-10T13:46:32"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kroon: they look correct. I hadn't realised the manual had those old references!</td><td class="time"><a href="#t2019-09-10T13:46:32" class="time">13:46</a></td></tr>
<tr id="t2019-09-10T13:48:53"><th class="nick" style="background: #4b904b">kroon</th><td class="text" style="color: #4b904b">RP, ok, good</td><td class="time"><a href="#t2019-09-10T13:48:53" class="time">13:48</a></td></tr>
<tr id="t2019-09-10T13:49:48"><td class="action" colspan="2">* kroon heads home</td><td><a href="#t2019-09-10T13:49:48" class="time">13:49</a></td></tr>
<tr id="t2019-09-10T14:13:06"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">antoine74: do this modifications in multiple bbappends. I don't know if you can actually have two different ?=, so maybe you'll need to have = instead of ?= in your bbappends</td><td class="time"><a href="#t2019-09-10T14:13:06" class="time">14:13</a></td></tr>
<tr id="t2019-09-10T14:13:38"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">do these modifications in multiple bbappends? (suggestion)</td><td class="time"><a href="#t2019-09-10T14:13:38" class="time">14:13</a></td></tr>
<tr id="t2019-09-10T14:14:08"><th class="nick" style="background: #5959a9">antoine74</th><td class="text" style="color: #5959a9">actually only one is important for me, the linux-yocto-rt_4.19.bb</td><td class="time"><a href="#t2019-09-10T14:14:08" class="time">14:14</a></td></tr>
<tr id="t2019-09-10T14:14:47"><th class="nick" style="background: #5959a9">antoine74</th><td class="text" style="color: #5959a9">I tried to create a patch and then put it in a bbappend but I'm afraid my paths are wrong somewhere</td><td class="time"><a href="#t2019-09-10T14:14:47" class="time">14:14</a></td></tr>
<tr id="t2019-09-10T14:15:04"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">antoine74: yourlayer/recipes-kernel/linux/linux-yocto-rt_4.19.bbappend</td><td class="time"><a href="#t2019-09-10T14:15:04" class="time">14:15</a></td></tr>
<tr id="t2019-09-10T14:15:35"><th class="nick" style="background: #5959a9">antoine74</th><td class="text" style="color: #5959a9">ok I'm going to try that right now, thank you</td><td class="time"><a href="#t2019-09-10T14:15:35" class="time">14:15</a></td></tr>
<tr id="t2019-09-10T14:15:43"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">in there, SRCREV_machine = "ca2e3322f4c5678eaef6434c808d0842c805d74d" and SRCREV_meta = "960be4218436fbbb3500e019f7abf02fa94e6aac" and LINUX_VERSION = "4.19.61"</td><td class="time"><a href="#t2019-09-10T14:15:43" class="time">14:15</a></td></tr>
<tr id="t2019-09-10T14:15:47"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">what was your path?</td><td class="time"><a href="#t2019-09-10T14:15:47" class="time">14:15</a></td></tr>
<tr id="t2019-09-10T14:16:20"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JPEW: would you be able to redo the stats patch on top of master-next?</td><td class="time"><a href="#t2019-09-10T14:16:20" class="time">14:16</a></td></tr>
<tr id="t2019-09-10T14:16:33"><th class="nick" style="background: #5959a9">antoine74</th><td class="text" style="color: #5959a9">I think my paths problems where in the .patch file I created</td><td class="time"><a href="#t2019-09-10T14:16:33" class="time">14:16</a></td></tr>
<tr id="t2019-09-10T14:16:40"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JPEW: I've removed the threading I added and tried to simplify it to the thing which profiling shows was fastest</td><td class="time"><a href="#t2019-09-10T14:16:40" class="time">14:16</a></td></tr>
<tr id="t2019-09-10T14:16:56"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JPEW: also got a small tweak which reduces the number of equiv queries in there</td><td class="time"><a href="#t2019-09-10T14:16:56" class="time">14:16</a></td></tr>
<tr id="t2019-09-10T14:17:00"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">antoine74: what do you mean a patch?</td><td class="time"><a href="#t2019-09-10T14:17:00" class="time">14:17</a></td></tr>
<tr id="t2019-09-10T14:17:29"><th class="nick" style="background: #5959a9">antoine74</th><td class="text" style="color: #5959a9">I thought the right way to do it was to create a .patch file that was applied on the original one</td><td class="time"><a href="#t2019-09-10T14:17:29" class="time">14:17</a></td></tr>
<tr id="t2019-09-10T14:17:44"><th class="nick" style="background: #5959a9">antoine74</th><td class="text" style="color: #5959a9">but just changing the variables is perfect for me</td><td class="time"><a href="#t2019-09-10T14:17:44" class="time">14:17</a></td></tr>
<tr id="t2019-09-10T14:18:13"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: Yes, I'll look it over</td><td class="time"><a href="#t2019-09-10T14:18:13" class="time">14:18</a></td></tr>
<tr id="t2019-09-10T14:19:09"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">antoine74: patches are for source code, not for recipes. When you want to modify a recipe, you use bbappend :)</td><td class="time"><a href="#t2019-09-10T14:19:09" class="time">14:19</a></td></tr>
<tr id="t2019-09-10T14:19:46"><th class="nick" style="background: #5959a9">antoine74</th><td class="text" style="color: #5959a9">ok, I definitly misunderstood that, thank you for the clarification !!</td><td class="time"><a href="#t2019-09-10T14:19:46" class="time">14:19</a></td></tr>
<tr id="t2019-09-10T14:20:34"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: does core-image-weston boot in qemu ?</td><td class="time"><a href="#t2019-09-10T14:20:34" class="time">14:20</a></td></tr>
<tr id="t2019-09-10T14:23:02"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: don't know. rburton?</td><td class="time"><a href="#t2019-09-10T14:23:02" class="time">14:23</a></td></tr>
<tr id="t2019-09-10T14:24:52"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP: I am trying to unify weston-init recipe bringing some changes from other BSP layers and was trying on qemuarm64</td><td class="time"><a href="#t2019-09-10T14:24:52" class="time">14:24</a></td></tr>
<tr id="t2019-09-10T14:25:49"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I am not sure :/</td><td class="time"><a href="#t2019-09-10T14:25:49" class="time">14:25</a></td></tr>
<tr id="t2019-09-10T14:26:18"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">it works on pi3</td><td class="time"><a href="#t2019-09-10T14:26:18" class="time">14:26</a></td></tr>
<tr id="t2019-09-10T14:26:26"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">RP: I am not done testing yet, but it seems as though strace is hitting ptest-runner's inactivity limit</td><td class="time"><a href="#t2019-09-10T14:26:26" class="time">14:26</a></td></tr>
<tr id="t2019-09-10T14:26:39"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">which got me thinking that we need to be able to configure it per ptest</td><td class="time"><a href="#t2019-09-10T14:26:39" class="time">14:26</a></td></tr>
<tr id="t2019-09-10T14:27:02"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_: That sounds like a very slow test then :/</td><td class="time"><a href="#t2019-09-10T14:27:02" class="time">14:27</a></td></tr>
<tr id="t2019-09-10T14:27:31"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_: we've talked about per test config, it would be useful. Hard to figure out in practise but we could do with it</td><td class="time"><a href="#t2019-09-10T14:27:31" class="time">14:27</a></td></tr>
<tr id="t2019-09-10T14:27:31"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">RP: it has a testcase that outputs nothing for more than 5 minutes, but eventually succeeds</td><td class="time"><a href="#t2019-09-10T14:27:31" class="time">14:27</a></td></tr>
<tr id="t2019-09-10T14:27:57"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_: could we tweak it to produce output periodically? is the test useful?</td><td class="time"><a href="#t2019-09-10T14:27:57" class="time">14:27</a></td></tr>
<tr id="t2019-09-10T14:28:12"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">RP: actually there are three tests that behave like this</td><td class="time"><a href="#t2019-09-10T14:28:12" class="time">14:28</a></td></tr>
<tr id="t2019-09-10T14:28:47"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_: I'm not surprised, that would explain the output in the logs</td><td class="time"><a href="#t2019-09-10T14:28:47" class="time">14:28</a></td></tr>
<tr id="t2019-09-10T14:29:18"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">RP: sched, regex and clock, and another one that is currently crunching</td><td class="time"><a href="#t2019-09-10T14:29:18" class="time">14:29</a></td></tr>
<tr id="t2019-09-10T14:29:32"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">I am running the run-ptest directly now, next I will try under ptest-runner</td><td class="time"><a href="#t2019-09-10T14:29:32" class="time">14:29</a></td></tr>
<tr id="t2019-09-10T14:30:14"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">RP: it's a bit of unfortunate situation that ptest-runner is written in C</td><td class="time"><a href="#t2019-09-10T14:30:14" class="time">14:30</a></td></tr>
<tr id="t2019-09-10T14:30:27"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">RP: if it was python, I could rapidly add support for a per-ptest config file</td><td class="time"><a href="#t2019-09-10T14:30:27" class="time">14:30</a></td></tr>
<tr id="t2019-09-10T14:30:52"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">basically we could add some file that goes next to run-ptest that contains an integer that overrides the default timeout</td><td class="time"><a href="#t2019-09-10T14:30:52" class="time">14:30</a></td></tr>
<tr id="t2019-09-10T14:30:57"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">(which is 300 seconds)</td><td class="time"><a href="#t2019-09-10T14:30:57" class="time">14:30</a></td></tr>
<tr id="t2019-09-10T14:34:13"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">the slow testcases all print this to console</td><td class="time"><a href="#t2019-09-10T14:34:13" class="time">14:34</a></td></tr>
<tr id="t2019-09-10T14:34:14"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">[ 1273.665567] futex_atomic_op_inuser: 2 callbacks suppressed</td><td class="time"><a href="#t2019-09-10T14:34:14" class="time">14:34</a></td></tr>
<tr id="t2019-09-10T14:34:15"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">[ 1273.665572] futex_wake_op: futex tries to shift op by -849; fix this program</td><td class="time"><a href="#t2019-09-10T14:34:15" class="time">14:34</a></td></tr>
<tr id="t2019-09-10T14:34:15"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">[ 1273.668122] futex_wake_op: futex tries to shift op by -849; fix this program</td><td class="time"><a href="#t2019-09-10T14:34:15" class="time">14:34</a></td></tr>
<tr id="t2019-09-10T14:34:15"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">[ 1273.669388] futex_wake_op: futex tries to shift op by -518; fix this program</td><td class="time"><a href="#t2019-09-10T14:34:15" class="time">14:34</a></td></tr>
<tr id="t2019-09-10T14:34:22"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">I wonder if I could try a newer strace first</td><td class="time"><a href="#t2019-09-10T14:34:22" class="time">14:34</a></td></tr>
<tr id="t2019-09-10T14:36:52"><th class="nick" style="background: #5959a9">antoine74</th><td class="text" style="color: #5959a9">qschulz yout solution works perfectly, thanks ;)</td><td class="time"><a href="#t2019-09-10T14:36:52" class="time">14:36</a></td></tr>
<tr id="t2019-09-10T14:39:46"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">pleasure :)</td><td class="time"><a href="#t2019-09-10T14:39:46" class="time">14:39</a></td></tr>
<tr id="t2019-09-10T14:42:59"><td class="action" colspan="2">* LetoThe2nd is getting ready to totally fail in doing kernel stuff in public!</td><td><a href="#t2019-09-10T14:42:59" class="time">14:42</a></td></tr>
<tr id="t2019-09-10T14:44:08"><th class="nick" style="background: #5fb4b4">PinkSnake</th><td class="text" style="color: #5fb4b4">Hi all, Someone here has already build a meta-xilinx Yocto based image inside Docker container ? because I have a correct trabbl extraction but Xilinx tools are missing :S No trouble on the host machine</td><td class="time"><a href="#t2019-09-10T14:44:08" class="time">14:44</a></td></tr>
<tr id="t2019-09-10T14:44:21"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">LetoThe2nd: gl :)</td><td class="time"><a href="#t2019-09-10T14:44:21" class="time">14:44</a></td></tr>
<tr id="t2019-09-10T14:45:04"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">you're all invited to watch me break stuff on <a href="https://www.twitch.tv/yocto_project" rel="nofollow">https://www.twitch.tv/yocto_project</a></td><td class="time"><a href="#t2019-09-10T14:45:04" class="time">14:45</a></td></tr>
<tr id="t2019-09-10T14:45:13"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">starting in 15 minutes.</td><td class="time"><a href="#t2019-09-10T14:45:13" class="time">14:45</a></td></tr>
<tr id="t2019-09-10T14:46:32"><th class="nick" style="background: #b86161">JaMa</th><td class="text" style="color: #b86161">now I'll be really disapointed if you don't break it</td><td class="time"><a href="#t2019-09-10T14:46:32" class="time">14:46</a></td></tr>
<tr id="t2019-09-10T14:46:45"><th class="nick" style="background: #a25555">fullstop</th><td class="text" style="color: #a25555">any tips on getting gfortran built for cross compiling?</td><td class="time"><a href="#t2019-09-10T14:46:45" class="time">14:46</a></td></tr>
<tr id="t2019-09-10T14:47:06"><th class="nick" style="background: #b86161">JaMa</th><td class="text" style="color: #b86161">fullstop: see lapack recipe which documents what to put in local.conf</td><td class="time"><a href="#t2019-09-10T14:47:06" class="time">14:47</a></td></tr>
<tr id="t2019-09-10T14:47:13"><th class="nick" style="background: #a25555">fullstop</th><td class="text" style="color: #a25555">thanks</td><td class="time"><a href="#t2019-09-10T14:47:13" class="time">14:47</a></td></tr>
<tr id="t2019-09-10T14:47:17"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">fullstop: there has been work on recent master so it *might* work. older releases have broken fortran support.</td><td class="time"><a href="#t2019-09-10T14:47:17" class="time">14:47</a></td></tr>
<tr id="t2019-09-10T14:47:30"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">khem: i think i've seen it in qemux86-64</td><td class="time"><a href="#t2019-09-10T14:47:30" class="time">14:47</a></td></tr>
<tr id="t2019-09-10T14:47:33"><th class="nick" style="background: #b86161">JaMa</th><td class="text" style="color: #b86161">"works" for me on thud :)</td><td class="time"><a href="#t2019-09-10T14:47:33" class="time">14:47</a></td></tr>
<tr id="t2019-09-10T14:48:13"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">fullstop: turn it on, it works.</td><td class="time"><a href="#t2019-09-10T14:48:13" class="time">14:48</a></td></tr>
<tr id="t2019-09-10T14:48:34"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">i even added autobuilder tests to ensure it keeps working</td><td class="time"><a href="#t2019-09-10T14:48:34" class="time">14:48</a></td></tr>
<tr id="t2019-09-10T14:50:05"><th class="nick" style="background: #a25555">fullstop</th><td class="text" style="color: #a25555">I'm using the linaro-7.2 layer which may complicate things.</td><td class="time"><a href="#t2019-09-10T14:50:05" class="time">14:50</a></td></tr>
<tr id="t2019-09-10T14:54:33"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">RP: the same tests on my host execute reasonably fast. Something is slowing them down inside qemu, I'll try to narrow it down.</td><td class="time"><a href="#t2019-09-10T14:54:33" class="time">14:54</a></td></tr>
<tr id="t2019-09-10T14:54:41"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">5.2 kernel is the prime suspect I guess?</td><td class="time"><a href="#t2019-09-10T14:54:41" class="time">14:54</a></td></tr>
<tr id="t2019-09-10T14:59:33"><th class="nick" style="background: #a25555">fullstop</th><td class="text" style="color: #a25555">looks like it is building gfortran now.&nbsp;&nbsp;Thanks all.</td><td class="time"><a href="#t2019-09-10T14:59:33" class="time">14:59</a></td></tr>
<tr id="t2019-09-10T15:13:36"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_: or maybe an upgrade</td><td class="time"><a href="#t2019-09-10T15:13:36" class="time">15:13</a></td></tr>
<tr id="t2019-09-10T15:30:54"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_: figuring out what is so slow would be good. KVM qemu system mode shouldn't be that slow</td><td class="time"><a href="#t2019-09-10T15:30:54" class="time">15:30</a></td></tr>
<tr id="t2019-09-10T15:31:53"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">RP: yes, I'll try to narrow it down</td><td class="time"><a href="#t2019-09-10T15:31:53" class="time">15:31</a></td></tr>
<tr id="t2019-09-10T15:58:46"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">mckoan: i promised i will mess up, i did mess up!</td><td class="time"><a href="#t2019-09-10T15:58:46" class="time">15:58</a></td></tr>
<tr id="t2019-09-10T15:59:41"><th class="nick" style="background: #62bb62">Chrusel</th><td class="text" style="color: #62bb62">LetoThe2nd: It wasn't so bad ... head-up ;-)</td><td class="time"><a href="#t2019-09-10T15:59:41" class="time">15:59</a></td></tr>
<tr id="t2019-09-10T16:00:42"><td class="action" colspan="2">* LetoThe2nd is off for the evening.</td><td><a href="#t2019-09-10T16:00:42" class="time">16:00</a></td></tr>
<tr id="t2019-09-10T16:14:58"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">RP: regarding strace, reverting to kernel 4.19 makes the slowness go away :-/</td><td class="time"><a href="#t2019-09-10T16:14:58" class="time">16:14</a></td></tr>
<tr id="t2019-09-10T16:15:19"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">RP: I can then try and see if latest upstream of strace has a fix, but otherwise it becomes a bit tricky to narrow down</td><td class="time"><a href="#t2019-09-10T16:15:19" class="time">16:15</a></td></tr>
<tr id="t2019-09-10T16:20:36"><th class="nick" style="background: #6464bf">mckoan</th><td class="text" style="color: #6464bf">LetoThe2nd: that's not a problem at all. More problems = more learn</td><td class="time"><a href="#t2019-09-10T16:20:36" class="time">16:20</a></td></tr>
<tr id="t2019-09-10T16:21:12"><th class="nick" style="background: #6464bf">mckoan</th><td class="text" style="color: #6464bf">LetoThe2nd: the useful thing in this case should be to recap and explain what happened</td><td class="time"><a href="#t2019-09-10T16:21:12" class="time">16:21</a></td></tr>
<tr id="t2019-09-10T16:21:58"><th class="nick" style="background: #6464bf">mckoan</th><td class="text" style="color: #6464bf">LetoThe2nd: in the real life nothing is straightforward. You have to face to the problems and learn to solve them</td><td class="time"><a href="#t2019-09-10T16:21:58" class="time">16:21</a></td></tr>
<tr id="t2019-09-10T16:25:47"><th class="nick" style="background: #a25555">fullstop</th><td class="text" style="color: #a25555">That's what I tell my kids.&nbsp;&nbsp;One day I was learning to walk and fell over and I just never walked again because I failed on my first attempt.</td><td class="time"><a href="#t2019-09-10T16:25:47" class="time">16:25</a></td></tr>
<tr id="t2019-09-10T16:26:14"><th class="nick" style="background: #a25555">fullstop</th><td class="text" style="color: #a25555">They realize how absurd this is, of course, and try again.</td><td class="time"><a href="#t2019-09-10T16:26:14" class="time">16:26</a></td></tr>
<tr id="t2019-09-10T16:28:37"><td class="part" colspan="2">*** kergoth &lt;kergoth!~kergoth@107.170.225.75&gt; has left #yocto</td><td><a href="#t2019-09-10T16:28:37" class="time">16:28</a></td></tr>
<tr id="t2019-09-10T16:30:52"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_: you could try the 5.0 kernel?</td><td class="time"><a href="#t2019-09-10T16:30:52" class="time">16:30</a></td></tr>
<tr id="t2019-09-10T16:31:00"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">(it was remved but easy to get back)</td><td class="time"><a href="#t2019-09-10T16:31:00" class="time">16:31</a></td></tr>
<tr id="t2019-09-10T16:33:03"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">RP: trying now...</td><td class="time"><a href="#t2019-09-10T16:33:03" class="time">16:33</a></td></tr>
<tr id="t2019-09-10T16:44:16"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2019-09-10T16:44:16" class="time">16:44</a></td></tr>
<tr id="t2019-09-10T16:44:28"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">RP: 5.0 also works fine. Seems like a regression in 5.2, but it would be good to still try the latest commit of strace. I'll try to get to it tomorrow.</td><td class="time"><a href="#t2019-09-10T16:44:28" class="time">16:44</a></td></tr>
<tr id="t2019-09-10T16:55:36"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_: thanks! Sounds like progress at least</td><td class="time"><a href="#t2019-09-10T16:55:36" class="time">16:55</a></td></tr>
<tr id="t2019-09-10T17:14:59"><th class="nick" style="background: #539e9e">kanavin_</th><td class="text" style="color: #539e9e">RP: I went ahead and tried the latest strace commit, and it did not help</td><td class="time"><a href="#t2019-09-10T17:14:59" class="time">17:14</a></td></tr>
<tr id="t2019-09-10T20:40:25"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin_: hmm, so something in 5-0-5.2 :/</td><td class="time"><a href="#t2019-09-10T20:40:25" class="time">20:40</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-09-09.log.html">&#171; Monday, 2019-09-09</a> <a href="index.html">Index</a> <a href="%23yocto.2019-09-11.log.html">Wednesday, 2019-09-11 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
