<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2019-08-16</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Friday, 2019-08-16</h1>
<div class="navigation"> <a href="%23yocto.2019-08-15.log.html">&#171; Thursday, 2019-08-15</a> <a href="index.html">Index</a> <a href="%23yocto.2019-08-17.log.html">Saturday, 2019-08-17 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-08-16T03:15:32"><td class="nickchange" colspan="2">*** chinhuat8 is now known as chinhuat</td><td><a href="#t2019-08-16T03:15:32" class="time">03:15</a></td></tr>
<tr id="t2019-08-16T03:47:25"><td class="nickchange" colspan="2">*** camus is now known as kaspter</td><td><a href="#t2019-08-16T03:47:25" class="time">03:47</a></td></tr>
<tr id="t2019-08-16T06:54:10"><td class="part" colspan="2">*** jeanba &lt;jeanba!~jbl@77.243.63.34&gt; has left #yocto</td><td><a href="#t2019-08-16T06:54:10" class="time">06:54</a></td></tr>
<tr id="t2019-08-16T07:32:57"><th class="nick" style="background: #407a40">silviof</th><td class="text" style="color: #407a40">How you are testing your images without hardware? via `-c testimage`? There exists some other tools which are good to know to test images?</td><td class="time"><a href="#t2019-08-16T07:32:57" class="time">07:32</a></td></tr>
<tr id="t2019-08-16T08:26:37"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">RP: and with latest bitbake a5e084a266f63c2fd370122327615e49beaeb94e <a href="http://paste.ubuntu.com/p/YhMCHPmg56/" rel="nofollow">http://paste.ubuntu.com/p/YhMCHPmg56/</a></td><td class="time"><a href="#t2019-08-16T08:26:37" class="time">08:26</a></td></tr>
<tr id="t2019-08-16T08:51:54"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JaMa: thanks</td><td class="time"><a href="#t2019-08-16T08:51:54" class="time">08:51</a></td></tr>
<tr id="t2019-08-16T08:54:34"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">RP: now I'm running it with even older 18d4a31fdcec1f0e5d2199d6142f0ce833fca1a7</td><td class="time"><a href="#t2019-08-16T08:54:34" class="time">08:54</a></td></tr>
<tr id="t2019-08-16T08:54:51"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JaMa: <a href="http://paste.ubuntu.com/p/RMGbm9DyZz/" rel="nofollow">http://paste.ubuntu.com/p/RMGbm9DyZz/</a> is quite interesting, the sorted() shows up badly</td><td class="time"><a href="#t2019-08-16T08:54:51" class="time">08:54</a></td></tr>
<tr id="t2019-08-16T08:55:22"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">and pformat</td><td class="time"><a href="#t2019-08-16T08:55:22" class="time">08:55</a></td></tr>
<tr id="t2019-08-16T08:56:12"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">18d4a31fdcec1f0e5d2199d6142f0ce833fca1a7 seems to be fine, it's already executing tasks</td><td class="time"><a href="#t2019-08-16T08:56:12" class="time">08:56</a></td></tr>
<tr id="t2019-08-16T08:57:03"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JaMa: just to confirm, <a href="http://paste.ubuntu.com/p/RMGbm9DyZz/" rel="nofollow">http://paste.ubuntu.com/p/RMGbm9DyZz/</a> was without the logger.debug removal?</td><td class="time"><a href="#t2019-08-16T08:57:03" class="time">08:57</a></td></tr>
<tr id="t2019-08-16T08:57:44"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">I think that sorted comes from part of pformat, going to need to be careful with that</td><td class="time"><a href="#t2019-08-16T08:57:44" class="time">08:57</a></td></tr>
<tr id="t2019-08-16T09:00:34"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">yes, <a href="http://paste.ubuntu.com/p/RMGbm9DyZz/" rel="nofollow">http://paste.ubuntu.com/p/RMGbm9DyZz/</a> was 1f630fdf0260db08541d3ca9f25f852931c19905 without any modifications, it was supposed to be the "good old" baseline based on the times with old image, but it seems that this revision already regressed badly</td><td class="time"><a href="#t2019-08-16T09:00:34" class="time">09:00</a></td></tr>
<tr id="t2019-08-16T09:02:09"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">so it's something in 6 commits between 18d4a31 and 1f630fdf</td><td class="time"><a href="#t2019-08-16T09:02:09" class="time">09:02</a></td></tr>
<tr id="t2019-08-16T09:04:39"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">the later has the line logger.debug(2, "Holding off tasks %s" % pprint.pformat(self.holdoff_tasks))</td><td class="time"><a href="#t2019-08-16T09:04:39" class="time">09:04</a></td></tr>
<tr id="t2019-08-16T09:10:02"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JaMa: right, that line in particular performs terribly! :)</td><td class="time"><a href="#t2019-08-16T09:10:02" class="time">09:10</a></td></tr>
<tr id="t2019-08-16T09:20:15"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">RP: yes, I just thought that this was only in master-next at that time, not in master, will send an e-mail once last run with even older bitbake revision is uploaded to make it a bit clearer what is what</td><td class="time"><a href="#t2019-08-16T09:20:15" class="time">09:20</a></td></tr>
<tr id="t2019-08-16T09:21:53"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">RP: latest world build last night with latest bitbake shown some unexpected failures with missing native deps when building e.g. some node recipes, but maybe it wasn't caused by bitbake, will re-test</td><td class="time"><a href="#t2019-08-16T09:21:53" class="time">09:21</a></td></tr>
<tr id="t2019-08-16T09:25:54"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JaMa: I'm not aware of deps going missing like that but there were various fixes made, this is partly why I've merged everything to master, so we all have a common test target with the known issues fixed</td><td class="time"><a href="#t2019-08-16T09:25:54" class="time">09:25</a></td></tr>
<tr id="t2019-08-16T09:59:30"><th class="nick" style="background: #854685">mcfrisk</th><td class="text" style="color: #854685">hmm, python3 doesn't seem to build without readline (GPLv3) due to do_install check. Any hints how to make the test compatible with non-default PACKAGECONFIG which removes readline support?</td><td class="time"><a href="#t2019-08-16T09:59:30" class="time">09:59</a></td></tr>
<tr id="t2019-08-16T10:48:04"><th class="nick" style="background: #854685">mcfrisk</th><td class="text" style="color: #854685">seems I really need to patch python3 recipe to remove check_build_completeness.py if I build without readline support</td><td class="time"><a href="#t2019-08-16T10:48:04" class="time">10:48</a></td></tr>
<tr id="t2019-08-16T10:51:49"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">RP: I've sent a change to the bitbake list that adds a progress meter for the part between "Initialising tasks" and "Checking sstate mirror object availability" where runqueue currently hangs for a while without any output.</td><td class="time"><a href="#t2019-08-16T10:51:49" class="time">10:51</a></td></tr>
<tr id="t2019-08-16T10:52:53"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">RP: So unless you can't make the delay introduced by that part of the code go away, this will at least make it obvious that something is happening.</td><td class="time"><a href="#t2019-08-16T10:52:53" class="time">10:52</a></td></tr>
<tr id="t2019-08-16T11:39:56"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: ok, but wrapping everything in more progress bars isn't really the answer...</td><td class="time"><a href="#t2019-08-16T11:39:56" class="time">11:39</a></td></tr>
<tr id="t2019-08-16T11:42:26"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">RP: Well, if the delay is unavoidable then the progressbar is needed to show that something is happening. But if you can find ways to make the delay go away, then that is of course even better. ;)</td><td class="time"><a href="#t2019-08-16T11:42:26" class="time">11:42</a></td></tr>
<tr id="t2019-08-16T11:42:46"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: I just hate progress bars</td><td class="time"><a href="#t2019-08-16T11:42:46" class="time">11:42</a></td></tr>
<tr id="t2019-08-16T11:43:31"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">RP: Well, I hate long periods of no output even more.</td><td class="time"><a href="#t2019-08-16T11:43:31" class="time">11:43</a></td></tr>
<tr id="t2019-08-16T11:47:24"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">Saur, welcome to my life</td><td class="time"><a href="#t2019-08-16T11:47:24" class="time">11:47</a></td></tr>
<tr id="t2019-08-16T11:48:04"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">I made a fake progress bar once, always fun when underlying thing crashed and kept showing progress</td><td class="time"><a href="#t2019-08-16T11:48:04" class="time">11:48</a></td></tr>
<tr id="t2019-08-16T11:48:50"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">Crofton|work: That sounds like the worst of both worlds...</td><td class="time"><a href="#t2019-08-16T11:48:50" class="time">11:48</a></td></tr>
<tr id="t2019-08-16T11:48:57"><th class="nick" style="background: #854685">mcfrisk</th><td class="text" style="color: #854685">I follow progress with strace if things are taking too long. should have known about bitbake -P earlier and started debugging the sometimes long delays..</td><td class="time"><a href="#t2019-08-16T11:48:57" class="time">11:48</a></td></tr>
<tr id="t2019-08-16T11:53:21"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: does the progress bar even increment properly with the way you've written that patch?</td><td class="time"><a href="#t2019-08-16T11:53:21" class="time">11:53</a></td></tr>
<tr id="t2019-08-16T11:53:34"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">RP: Yes it does.</td><td class="time"><a href="#t2019-08-16T11:53:34" class="time">11:53</a></td></tr>
<tr id="t2019-08-16T11:53:36"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: it looks to me like the increments are around the fast part of the code</td><td class="time"><a href="#t2019-08-16T11:53:36" class="time">11:53</a></td></tr>
<tr id="t2019-08-16T11:54:03"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">RP: "Properly" in the sense that it updates once per task.</td><td class="time"><a href="#t2019-08-16T11:54:03" class="time">11:54</a></td></tr>
<tr id="t2019-08-16T11:54:16"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: so it doesn't get quickly to say&nbsp;&nbsp;95% then sit there?</td><td class="time"><a href="#t2019-08-16T11:54:16" class="time">11:54</a></td></tr>
<tr id="t2019-08-16T11:54:24"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">No.</td><td class="time"><a href="#t2019-08-16T11:54:24" class="time">11:54</a></td></tr>
<tr id="t2019-08-16T11:54:44"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">then there is something very wrong :(</td><td class="time"><a href="#t2019-08-16T11:54:44" class="time">11:54</a></td></tr>
<tr id="t2019-08-16T11:55:52"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">RP: Well, one thing I noticed was that nothing is ever added to tocheck (with the current state I have: some updated recipes and stuff).</td><td class="time"><a href="#t2019-08-16T11:55:52" class="time">11:55</a></td></tr>
<tr id="t2019-08-16T11:56:34"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">Because I first had the update at the end before I noticed the continue statements, and then the update event never fired.</td><td class="time"><a href="#t2019-08-16T11:56:34" class="time">11:56</a></td></tr>
<tr id="t2019-08-16T11:56:48"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur:&nbsp;&nbsp;a clean build or an existing completed build?</td><td class="time"><a href="#t2019-08-16T11:56:48" class="time">11:56</a></td></tr>
<tr id="t2019-08-16T11:57:34"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">RP: A completed build that then have had a couple of layer updates that have not built as I've been using bitbake -n.</td><td class="time"><a href="#t2019-08-16T11:57:34" class="time">11:57</a></td></tr>
<tr id="t2019-08-16T11:58:05"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: tocheck should be added to for things it needs to check the sstate cache for</td><td class="time"><a href="#t2019-08-16T11:58:05" class="time">11:58</a></td></tr>
<tr id="t2019-08-16T12:00:10"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">Saur, I was told to do it :) So I did</td><td class="time"><a href="#t2019-08-16T12:00:10" class="time">12:00</a></td></tr>
<tr id="t2019-08-16T12:00:59"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">RP: Ok, it seems tocheck isn't completely empty. There are 24 entries in it for my current build.</td><td class="time"><a href="#t2019-08-16T12:00:59" class="time">12:00</a></td></tr>
<tr id="t2019-08-16T12:01:24"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: try it on an empty build and it will be much higher</td><td class="time"><a href="#t2019-08-16T12:01:24" class="time">12:01</a></td></tr>
<tr id="t2019-08-16T12:01:59"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">RP: I guess those 24 updates to the progress were so few compared to the 5600 tasks in total that the loop checks that i never saw the progress meter move.</td><td class="time"><a href="#t2019-08-16T12:01:59" class="time">12:01</a></td></tr>
<tr id="t2019-08-16T12:02:47"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: we need to fix the underlying code not to suck, this should be fast</td><td class="time"><a href="#t2019-08-16T12:02:47" class="time">12:02</a></td></tr>
<tr id="t2019-08-16T12:03:20"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">This is why I wanted to get correctness before looking at performance</td><td class="time"><a href="#t2019-08-16T12:03:20" class="time">12:03</a></td></tr>
<tr id="t2019-08-16T12:03:28"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">RP: I'll probably leave that part to you. ;)</td><td class="time"><a href="#t2019-08-16T12:03:28" class="time">12:03</a></td></tr>
<tr id="t2019-08-16T12:03:41"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Now I'm trying to optimise code before its even working properly :(</td><td class="time"><a href="#t2019-08-16T12:03:41" class="time">12:03</a></td></tr>
<tr id="t2019-08-16T12:03:45"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">RP: Now you at least know where one of the delays are...</td><td class="time"><a href="#t2019-08-16T12:03:45" class="time">12:03</a></td></tr>
<tr id="t2019-08-16T12:05:21"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">RP: Btw, if I remove the tmp directory, that delay goes away.</td><td class="time"><a href="#t2019-08-16T12:05:21" class="time">12:05</a></td></tr>
<tr id="t2019-08-16T12:05:48"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: right, no stamps so that code does less</td><td class="time"><a href="#t2019-08-16T12:05:48" class="time">12:05</a></td></tr>
<tr id="t2019-08-16T12:11:37"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=9ab56f41b8785fb8e3ede91bbad9d094f4806e27" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=9ab56f41b8785fb8e3ede91bbad9d094f4806e27</a> (top patch) might help</td><td class="time"><a href="#t2019-08-16T12:11:37" class="time">12:11</a></td></tr>
<tr id="t2019-08-16T12:14:45"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: if that doesn't make it fast enough there is another change we can try. Each one of these moves the goalposts on the other issues I'm trying to fix of course :/</td><td class="time"><a href="#t2019-08-16T12:14:45" class="time">12:14</a></td></tr>
<tr id="t2019-08-16T12:21:12"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">RP: That change took the time for that part from 36 to 25 seconds for me.</td><td class="time"><a href="#t2019-08-16T12:21:12" class="time">12:21</a></td></tr>
<tr id="t2019-08-16T12:23:02"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">RP: And no, I do not expect you to focus on the performance at this time. As long as you are aware of the performance implications, make it work first.</td><td class="time"><a href="#t2019-08-16T12:23:02" class="time">12:23</a></td></tr>
<tr id="t2019-08-16T12:25:22"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">RP: Hmm, I no longer seem to have push rights to poky-contrib. Have something changed regarding it?</td><td class="time"><a href="#t2019-08-16T12:25:22" class="time">12:25</a></td></tr>
<tr id="t2019-08-16T12:26:16"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">(Haven't tried pushing to it for a couple of months so it is not necessarily recent.)</td><td class="time"><a href="#t2019-08-16T12:26:16" class="time">12:26</a></td></tr>
<tr id="t2019-08-16T12:26:21"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: ssh git@git.yoctoproject.org will show the perms</td><td class="time"><a href="#t2019-08-16T12:26:21" class="time">12:26</a></td></tr>
<tr id="t2019-08-16T12:26:38"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: don't think anything changed</td><td class="time"><a href="#t2019-08-16T12:26:38" class="time">12:26</a></td></tr>
<tr id="t2019-08-16T12:26:41"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">git@git.yoctoproject.org: Permission denied (publickey).</td><td class="time"><a href="#t2019-08-16T12:26:41" class="time">12:26</a></td></tr>
<tr id="t2019-08-16T12:27:09"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: sounds like the key isn't right&nbsp;&nbsp;:/</td><td class="time"><a href="#t2019-08-16T12:27:09" class="time">12:27</a></td></tr>
<tr id="t2019-08-16T12:27:23"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">It does, doesn't it...</td><td class="time"><a href="#t2019-08-16T12:27:23" class="time">12:27</a></td></tr>
<tr id="t2019-08-16T12:32:55"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: you can try adding <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=1b5162b94c0b61317e547a3f881f569350aac0fb" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=1b5162b94c0b61317e547a3f881f569350aac0fb</a> on top, see if that brings the time down further</td><td class="time"><a href="#t2019-08-16T12:32:55" class="time">12:32</a></td></tr>
<tr id="t2019-08-16T12:33:13"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: less sure about what that last one might break</td><td class="time"><a href="#t2019-08-16T12:33:13" class="time">12:33</a></td></tr>
<tr id="t2019-08-16T12:35:00"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">selftest says its ok</td><td class="time"><a href="#t2019-08-16T12:35:00" class="time">12:35</a></td></tr>
<tr id="t2019-08-16T12:37:56"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">RP: That brought the time down to 3 seconds, so yes if that still does what it is supposed to, then I guess&nbsp;&nbsp;that progress meter is no longer needed. :)</td><td class="time"><a href="#t2019-08-16T12:37:56" class="time">12:37</a></td></tr>
<tr id="t2019-08-16T12:38:19"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: it moves work around</td><td class="time"><a href="#t2019-08-16T12:38:19" class="time">12:38</a></td></tr>
<tr id="t2019-08-16T12:40:12"><th class="nick" style="background: #488888">Saur</th><td class="text" style="color: #488888">RP: Well, the lost 22 seconds didn't show up anywhere else at least as the total time decreased correspondingly. :)</td><td class="time"><a href="#t2019-08-16T12:40:12" class="time">12:40</a></td></tr>
<tr id="t2019-08-16T12:42:15"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Saur: Its more a question of whether anything accesses those data structures while the data is out of date</td><td class="time"><a href="#t2019-08-16T12:42:15" class="time">12:42</a></td></tr>
<tr id="t2019-08-16T12:47:56"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">Looking at the updated profile, those two changes look to optimise most of the recent changes out the profile data</td><td class="time"><a href="#t2019-08-16T12:47:56" class="time">12:47</a></td></tr>
<tr id="t2019-08-16T13:05:38"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">RP: Here is the latest update.&nbsp;&nbsp; bitbake is now out of the picture.</td><td class="time"><a href="#t2019-08-16T13:05:38" class="time">13:05</a></td></tr>
<tr id="t2019-08-16T13:05:45"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I duplicated the problem outside of bitbake.</td><td class="time"><a href="#t2019-08-16T13:05:45" class="time">13:05</a></td></tr>
<tr id="t2019-08-16T13:06:07"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">/glibc-locale/2.28-r0/locale-tree% ls -d usr/lib64/locale/*.ISO* |xargs rm -rf&nbsp;&nbsp;; make -j128</td><td class="time"><a href="#t2019-08-16T13:06:07" class="time">13:06</a></td></tr>
<tr id="t2019-08-16T13:06:55"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">What ever the cross-localedef is doing is not safe to run in a massively parallel context.</td><td class="time"><a href="#t2019-08-16T13:06:55" class="time">13:06</a></td></tr>
<tr id="t2019-08-16T13:07:41"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Because it is moving files from a .tmp -&gt; real and or hard link, stuff is disappearing that is actually needed.</td><td class="time"><a href="#t2019-08-16T13:07:41" class="time">13:07</a></td></tr>
<tr id="t2019-08-16T13:08:01"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I can probably run it without pseudo at all to rule pseudo out.</td><td class="time"><a href="#t2019-08-16T13:08:01" class="time">13:08</a></td></tr>
<tr id="t2019-08-16T13:08:53"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">It will require quite a bit of further analysis, but at least we know conclusively all the bitbake/oe and such is out of the picture.</td><td class="time"><a href="#t2019-08-16T13:08:53" class="time">13:08</a></td></tr>
<tr id="t2019-08-16T13:13:01"><th class="nick" style="background: #4d4d93">zeddii</th><td class="text" style="color: #4d4d93">these 5.2 libc-headers are going to make me insane</td><td class="time"><a href="#t2019-08-16T13:13:01" class="time">13:13</a></td></tr>
<tr id="t2019-08-16T13:13:05"><td class="action" colspan="2">* zeddii goes for coffee</td><td><a href="#t2019-08-16T13:13:05" class="time">13:13</a></td></tr>
<tr id="t2019-08-16T13:28:25"><th class="nick" style="background: #4d4d93">zeddii</th><td class="text" style="color: #4d4d93">coffee worked. bluez5 is building again.</td><td class="time"><a href="#t2019-08-16T13:28:25" class="time">13:28</a></td></tr>
<tr id="t2019-08-16T13:50:43"><th class="nick" style="background: #97974f">litb</th><td class="text" style="color: #97974f">hello folk</td><td class="time"><a href="#t2019-08-16T13:50:43" class="time">13:50</a></td></tr>
<tr id="t2019-08-16T13:51:03"><th class="nick" style="background: #97974f">litb</th><td class="text" style="color: #97974f">is it OK to query the value of DEBUG_BUILD in a recipe, and pass some package Makefile specific flag depending on it?</td><td class="time"><a href="#t2019-08-16T13:51:03" class="time">13:51</a></td></tr>
<tr id="t2019-08-16T13:51:46"><th class="nick" style="background: #97974f">litb</th><td class="text" style="color: #97974f">I.e&nbsp;&nbsp;DEBUG_BUILD ?= "0"&nbsp;&nbsp; MyDebugFlag = "${DEBUG_BUILD}"&nbsp;&nbsp; ?. In the docs, it'ss said that DEBUG_BUILD is used to specify that yocto should build packages with debug information</td><td class="time"><a href="#t2019-08-16T13:51:46" class="time">13:51</a></td></tr>
<tr id="t2019-08-16T13:53:59"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">jwessel: cool, always good to narrow down the issue! :)</td><td class="time"><a href="#t2019-08-16T13:53:59" class="time">13:53</a></td></tr>
<tr id="t2019-08-16T13:54:50"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">heh... I already found the offending code in the cross-localedef</td><td class="time"><a href="#t2019-08-16T13:54:50" class="time">13:54</a></td></tr>
<tr id="t2019-08-16T13:55:03"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I don't exactly know how to fix it yet, but I see why it is clearly not parallel safe.</td><td class="time"><a href="#t2019-08-16T13:55:03" class="time">13:55</a></td></tr>
<tr id="t2019-08-16T13:55:21"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">The code is written to assume hard links might not work.</td><td class="time"><a href="#t2019-08-16T13:55:21" class="time">13:55</a></td></tr>
<tr id="t2019-08-16T13:55:52"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">And it will unlink a file, which could be in the process of being tested and used by one of the other parallel treads.</td><td class="time"><a href="#t2019-08-16T13:55:52" class="time">13:55</a></td></tr>
<tr id="t2019-08-16T13:56:17"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">If you were to run this serially with just a single cross-localedef there is no way to hit that problem.</td><td class="time"><a href="#t2019-08-16T13:56:17" class="time">13:56</a></td></tr>
<tr id="t2019-08-16T13:56:36"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">It replaces the file with a hard link when they test out to be the same.</td><td class="time"><a href="#t2019-08-16T13:56:36" class="time">13:56</a></td></tr>
<tr id="t2019-08-16T13:57:04"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">the original use of cross-localedef was serial...</td><td class="time"><a href="#t2019-08-16T13:57:04" class="time">13:57</a></td></tr>
<tr id="t2019-08-16T13:57:26"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">So if you go back to that, the problem is solved.</td><td class="time"><a href="#t2019-08-16T13:57:26" class="time">13:57</a></td></tr>
<tr id="t2019-08-16T13:58:18"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Or change cross-localedef to not be stupid and allow --force-hard links and write out a .tmp file to perform the test.</td><td class="time"><a href="#t2019-08-16T13:58:18" class="time">13:58</a></td></tr>
<tr id="t2019-08-16T13:58:33"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">serial is very very slow so hacking localedef would be better</td><td class="time"><a href="#t2019-08-16T13:58:33" class="time">13:58</a></td></tr>
<tr id="t2019-08-16T13:58:36"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Testing against a file that might go-away for a fraction of a second will not end well.</td><td class="time"><a href="#t2019-08-16T13:58:36" class="time">13:58</a></td></tr>
<tr id="t2019-08-16T13:58:47"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">jwessel: no, it explains alot</td><td class="time"><a href="#t2019-08-16T13:58:47" class="time">13:58</a></td></tr>
<tr id="t2019-08-16T13:59:02"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">ya, that's why it moved to parallel..&nbsp;&nbsp;but ya, definitely a race to check and then act..</td><td class="time"><a href="#t2019-08-16T13:59:02" class="time">13:59</a></td></tr>
<tr id="t2019-08-16T13:59:13"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I have no reason to believe that pseudo is the issue here.</td><td class="time"><a href="#t2019-08-16T13:59:13" class="time">13:59</a></td></tr>
<tr id="t2019-08-16T13:59:42"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I'd say at this point we have the root cause.</td><td class="time"><a href="#t2019-08-16T13:59:42" class="time">13:59</a></td></tr>
<tr id="t2019-08-16T14:00:04"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">ya.. I agree, sounds more like fix the issue first.. :)</td><td class="time"><a href="#t2019-08-16T14:00:04" class="time">14:00</a></td></tr>
<tr id="t2019-08-16T14:00:45"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">other systems BTW do the hard linking in two steps.. one step to generate all of the files, then a second to hash them and set them as parallel</td><td class="time"><a href="#t2019-08-16T14:00:45" class="time">14:00</a></td></tr>
<tr id="t2019-08-16T14:00:56"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">It was mighty interesting to have a log though in pseudo for a place in the code that should never happen.</td><td class="time"><a href="#t2019-08-16T14:00:56" class="time">14:00</a></td></tr>
<tr id="t2019-08-16T14:01:03"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">We might consider keeping that change.</td><td class="time"><a href="#t2019-08-16T14:01:03" class="time">14:01</a></td></tr>
<tr id="t2019-08-16T14:01:25"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">'er.. set them as hardlinks I mean</td><td class="time"><a href="#t2019-08-16T14:01:25" class="time">14:01</a></td></tr>
<tr id="t2019-08-16T14:01:31"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Because it tells you... "You really screwed up somewhere else..."</td><td class="time"><a href="#t2019-08-16T14:01:31" class="time">14:01</a></td></tr>
<tr id="t2019-08-16T14:02:47"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">fray: You might have to do just that.</td><td class="time"><a href="#t2019-08-16T14:02:47" class="time">14:02</a></td></tr>
<tr id="t2019-08-16T14:03:38"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">if I remember right (like 18 years ago right) that is what was being done.. then it was merged into a single program..</td><td class="time"><a href="#t2019-08-16T14:03:38" class="time">14:03</a></td></tr>
<tr id="t2019-08-16T14:03:53"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">the origin of the cross-localedef is either MontaVista or CodeSourcery.. it's -old-</td><td class="time"><a href="#t2019-08-16T14:03:53" class="time">14:03</a></td></tr>
<tr id="t2019-08-16T14:05:19"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">Looks liek CodeSourcery</td><td class="time"><a href="#t2019-08-16T14:05:19" class="time">14:05</a></td></tr>
<tr id="t2019-08-16T14:05:19"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cross-Compiling GLIBC</td><td class="time"><a href="#t2019-08-16T14:05:19" class="time">14:05</a></td></tr>
<tr id="t2019-08-16T14:05:19"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jim Blandy &lt;jimb@codesourcery.com&gt;</td><td class="time"><a href="#t2019-08-16T14:05:19" class="time">14:05</a></td></tr>
<tr id="t2019-08-16T14:05:34"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Perform generation, and then coalesce</td><td class="time"><a href="#t2019-08-16T14:05:34" class="time">14:05</a></td></tr>
<tr id="t2019-08-16T14:05:39"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">ya</td><td class="time"><a href="#t2019-08-16T14:05:39" class="time">14:05</a></td></tr>
<tr id="t2019-08-16T14:06:09"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Does the generation even support skipping the combine step?</td><td class="time"><a href="#t2019-08-16T14:06:09" class="time">14:06</a></td></tr>
<tr id="t2019-08-16T14:06:11"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">I knew it was old though, far pre-YP</td><td class="time"><a href="#t2019-08-16T14:06:11" class="time">14:06</a></td></tr>
<tr id="t2019-08-16T14:06:27"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Because there are other programs that can combine stuff.</td><td class="time"><a href="#t2019-08-16T14:06:27" class="time">14:06</a></td></tr>
<tr id="t2019-08-16T14:06:42"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">Ya, looking at Khem's repo..&nbsp;&nbsp;2006 or before.. :)</td><td class="time"><a href="#t2019-08-16T14:06:42" class="time">14:06</a></td></tr>
<tr id="t2019-08-16T14:06:48"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">I know the first version was before.. :)</td><td class="time"><a href="#t2019-08-16T14:06:48" class="time">14:06</a></td></tr>
<tr id="t2019-08-16T14:07:03"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">the original version of the code didnt do the hardlink stuff..</td><td class="time"><a href="#t2019-08-16T14:07:03" class="time">14:07</a></td></tr>
<tr id="t2019-08-16T14:07:15"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">we (WR) paid CodeSourcery to do that back in 2007/2008 timeframe?</td><td class="time"><a href="#t2019-08-16T14:07:15" class="time">14:07</a></td></tr>
<tr id="t2019-08-16T14:07:38"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">(not saying they wouldn't have done it on their own or someone else didn't pay them as well...)</td><td class="time"><a href="#t2019-08-16T14:07:38" class="time">14:07</a></td></tr>
<tr id="t2019-08-16T14:07:53"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">I just remember having that discussion with them as a system optimization</td><td class="time"><a href="#t2019-08-16T14:07:53" class="time">14:07</a></td></tr>
<tr id="t2019-08-16T14:09:13"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">(probably was before 2007 now that I think of it.. probably closer to 2005/2006</td><td class="time"><a href="#t2019-08-16T14:09:13" class="time">14:09</a></td></tr>
<tr id="t2019-08-16T14:09:51"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">&nbsp;&nbsp;/* Compare the file with the locale data files for the same category in</td><td class="time"><a href="#t2019-08-16T14:09:51" class="time">14:09</a></td></tr>
<tr id="t2019-08-16T14:09:51"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">&nbsp;&nbsp;&nbsp;&nbsp; other locales, and see if we can reuse it, to save disk space.&nbsp;&nbsp;*/</td><td class="time"><a href="#t2019-08-16T14:09:51" class="time">14:09</a></td></tr>
<tr id="t2019-08-16T14:09:51"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">&nbsp;&nbsp;other_paths = siblings (output_path);</td><td class="time"><a href="#t2019-08-16T14:09:51" class="time">14:09</a></td></tr>
<tr id="t2019-08-16T14:10:07"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">FYI that is what kills you in the parallel case.</td><td class="time"><a href="#t2019-08-16T14:10:07" class="time">14:10</a></td></tr>
<tr id="t2019-08-16T14:10:25"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Those other ones may in the act of being processed.</td><td class="time"><a href="#t2019-08-16T14:10:25" class="time">14:10</a></td></tr>
<tr id="t2019-08-16T14:11:04"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">ya.. I think 'easiest' to implement fix is break into two steps.. generate (&amp; hash?) and (hash &amp;) hardlink&nbsp;&nbsp; (not sure where the hashing should be done, but it can be done in parallel)</td><td class="time"><a href="#t2019-08-16T14:11:04" class="time">14:11</a></td></tr>
<tr id="t2019-08-16T14:11:10"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Which is 100% the reason it could be unlinked and replaced with a hard link while someone else is executing.</td><td class="time"><a href="#t2019-08-16T14:11:10" class="time">14:11</a></td></tr>
<tr id="t2019-08-16T14:11:12"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">so maybe three steps?</td><td class="time"><a href="#t2019-08-16T14:11:12" class="time">14:11</a></td></tr>
<tr id="t2019-08-16T14:11:21"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">You don't necessarily have to.</td><td class="time"><a href="#t2019-08-16T14:11:21" class="time">14:11</a></td></tr>
<tr id="t2019-08-16T14:11:43"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">But it would be the best way to do it.</td><td class="time"><a href="#t2019-08-16T14:11:43" class="time">14:11</a></td></tr>
<tr id="t2019-08-16T14:13:50"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">The problem even with the current code is that since all these are running in parallel you really won't get the right number of hard links ever.</td><td class="time"><a href="#t2019-08-16T14:13:50" class="time">14:13</a></td></tr>
<tr id="t2019-08-16T14:15:04"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">there is the '--no-hard-links' option in locale generation.. enable that and do the hardlinks later?</td><td class="time"><a href="#t2019-08-16T14:15:04" class="time">14:15</a></td></tr>
<tr id="t2019-08-16T14:15:21"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I was advocating adding one.</td><td class="time"><a href="#t2019-08-16T14:15:21" class="time">14:15</a></td></tr>
<tr id="t2019-08-16T14:15:25"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">Ohh ok</td><td class="time"><a href="#t2019-08-16T14:15:25" class="time">14:15</a></td></tr>
<tr id="t2019-08-16T14:15:32"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">It won't work though due to the problem I just mentioned.</td><td class="time"><a href="#t2019-08-16T14:15:32" class="time">14:15</a></td></tr>
<tr id="t2019-08-16T14:15:49"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">If you are generating these all in parallel some will simply be generating at the same time.</td><td class="time"><a href="#t2019-08-16T14:15:49" class="time">14:15</a></td></tr>
<tr id="t2019-08-16T14:16:04"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">the no-hard-links commit mentions:</td><td class="time"><a href="#t2019-08-16T14:16:04" class="time">14:16</a></td></tr>
<tr id="t2019-08-16T14:16:08"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">You can't check the existence of something that isn't there yet.</td><td class="time"><a href="#t2019-08-16T14:16:08" class="time">14:16</a></td></tr>
<tr id="t2019-08-16T14:16:15"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">Add --no-hard-links option to localedef (bug 23923)</td><td class="time"><a href="#t2019-08-16T14:16:15" class="time">14:16</a></td></tr>
<tr id="t2019-08-16T14:16:15"><th class="nick" style="background: #539e9e">yocti</th><td class="text" style="color: #539e9e">Bug <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=23923" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=23923</a> was not found.</td><td class="time"><a href="#t2019-08-16T14:16:15" class="time">14:16</a></td></tr>
<tr id="t2019-08-16T14:16:15"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b"></td><td class="time"><a href="#t2019-08-16T14:16:15" class="time">14:16</a></td></tr>
<tr id="t2019-08-16T14:16:15"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">&nbsp;&nbsp;&nbsp;&nbsp;Downstream distributions need consistent sets of hardlinks in</td><td class="time"><a href="#t2019-08-16T14:16:15" class="time">14:16</a></td></tr>
<tr id="t2019-08-16T14:16:15"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">&nbsp;&nbsp;&nbsp;&nbsp;order for rpm to operate effectively. This means that even if</td><td class="time"><a href="#t2019-08-16T14:16:15" class="time">14:16</a></td></tr>
<tr id="t2019-08-16T14:16:15"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">&nbsp;&nbsp;&nbsp;&nbsp;locales are built with a high level of parallelism that the</td><td class="time"><a href="#t2019-08-16T14:16:15" class="time">14:16</a></td></tr>
<tr id="t2019-08-16T14:16:15"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">&nbsp;&nbsp;&nbsp;&nbsp;resulting files need to have consistent hardlink counts. The only</td><td class="time"><a href="#t2019-08-16T14:16:15" class="time">14:16</a></td></tr>
<tr id="t2019-08-16T14:16:15"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">&nbsp;&nbsp;&nbsp;&nbsp;way to achieve this is with a post-install hardlink pass using a</td><td class="time"><a href="#t2019-08-16T14:16:15" class="time">14:16</a></td></tr>
<tr id="t2019-08-16T14:16:16"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">&nbsp;&nbsp;&nbsp;&nbsp;program like 'hardlink' (shipped in Fedora).</td><td class="time"><a href="#t2019-08-16T14:16:16" class="time">14:16</a></td></tr>
<tr id="t2019-08-16T14:16:38"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Correct.</td><td class="time"><a href="#t2019-08-16T14:16:38" class="time">14:16</a></td></tr>
<tr id="t2019-08-16T14:16:40"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">so it might even be helpful to break it in two for determinism sake</td><td class="time"><a href="#t2019-08-16T14:16:40" class="time">14:16</a></td></tr>
<tr id="t2019-08-16T14:17:22"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">But why bother doing the summing and checking in cross-localedef?</td><td class="time"><a href="#t2019-08-16T14:17:22" class="time">14:17</a></td></tr>
<tr id="t2019-08-16T14:17:40"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">You can do the hardlink pass outside of pseudo if you want.</td><td class="time"><a href="#t2019-08-16T14:17:40" class="time">14:17</a></td></tr>
<tr id="t2019-08-16T14:17:58"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">psuedo will be happy so long as the inode had created was preserved.</td><td class="time"><a href="#t2019-08-16T14:17:58" class="time">14:17</a></td></tr>
<tr id="t2019-08-16T14:17:59"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">Has to be done under control of pseudo or the DB will get messed up..</td><td class="time"><a href="#t2019-08-16T14:17:59" class="time">14:17</a></td></tr>
<tr id="t2019-08-16T14:18:02"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">For at least one file.</td><td class="time"><a href="#t2019-08-16T14:18:02" class="time">14:18</a></td></tr>
<tr id="t2019-08-16T14:18:17"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Not really.&nbsp;&nbsp; Not the way it works... Because I read the code :-)</td><td class="time"><a href="#t2019-08-16T14:18:17" class="time">14:18</a></td></tr>
<tr id="t2019-08-16T14:18:22"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">that wasn't always true..&nbsp;&nbsp;at one point it was a combo of inode and filename</td><td class="time"><a href="#t2019-08-16T14:18:22" class="time">14:18</a></td></tr>
<tr id="t2019-08-16T14:18:36"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">I suspect fakeroot still works based on filename.. (at least it also used to)</td><td class="time"><a href="#t2019-08-16T14:18:36" class="time">14:18</a></td></tr>
<tr id="t2019-08-16T14:18:49"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">fakeroot yes.&nbsp;&nbsp;pseudo is fine.</td><td class="time"><a href="#t2019-08-16T14:18:49" class="time">14:18</a></td></tr>
<tr id="t2019-08-16T14:19:01"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I don't know what the timepenalty is for the hardlink</td><td class="time"><a href="#t2019-08-16T14:19:01" class="time">14:19</a></td></tr>
<tr id="t2019-08-16T14:19:14"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">I'd still be cautious and do the hard linking under pseudo..</td><td class="time"><a href="#t2019-08-16T14:19:14" class="time">14:19</a></td></tr>
<tr id="t2019-08-16T14:19:38"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">We used 'hardlink' in the past for something, and I remember it being fast.. but I don't completely remember how it worked..</td><td class="time"><a href="#t2019-08-16T14:19:38" class="time">14:19</a></td></tr>
<tr id="t2019-08-16T14:22:10"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">locale-tree% hardlink -n usr/lib64/locale</td><td class="time"><a href="#t2019-08-16T14:22:10" class="time">14:22</a></td></tr>
<tr id="t2019-08-16T14:22:10"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Mode:&nbsp;&nbsp;&nbsp;&nbsp; dry-run</td><td class="time"><a href="#t2019-08-16T14:22:10" class="time">14:22</a></td></tr>
<tr id="t2019-08-16T14:22:10"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Files:&nbsp;&nbsp;&nbsp;&nbsp;4919</td><td class="time"><a href="#t2019-08-16T14:22:10" class="time">14:22</a></td></tr>
<tr id="t2019-08-16T14:22:10"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Linked:&nbsp;&nbsp; 389 files</td><td class="time"><a href="#t2019-08-16T14:22:10" class="time">14:22</a></td></tr>
<tr id="t2019-08-16T14:22:27"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">So we missed 389 files in my sample run.</td><td class="time"><a href="#t2019-08-16T14:22:27" class="time">14:22</a></td></tr>
<tr id="t2019-08-16T14:22:44"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Just to prove my point :-)</td><td class="time"><a href="#t2019-08-16T14:22:44" class="time">14:22</a></td></tr>
<tr id="t2019-08-16T14:23:24"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I'd say we just add a fast exit on the checks in localedef either via cmdline arg or environment variable.</td><td class="time"><a href="#t2019-08-16T14:23:24" class="time">14:23</a></td></tr>
<tr id="t2019-08-16T14:23:24"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">looks like hardlink might be part of util-linux now (or at least is on Fedora)</td><td class="time"><a href="#t2019-08-16T14:23:24" class="time">14:23</a></td></tr>
<tr id="t2019-08-16T14:23:42"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">that's what the --no-hard-links is supposed to do.. fast exit</td><td class="time"><a href="#t2019-08-16T14:23:42" class="time">14:23</a></td></tr>
<tr id="t2019-08-16T14:23:47"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">or am I missing something?</td><td class="time"><a href="#t2019-08-16T14:23:47" class="time">14:23</a></td></tr>
<tr id="t2019-08-16T14:24:00"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">lets look...&nbsp;&nbsp;I didn't see that option.</td><td class="time"><a href="#t2019-08-16T14:24:00" class="time">14:24</a></td></tr>
<tr id="t2019-08-16T14:24:24"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">commit 8cebd4ffe67bf94508809ea0caa02a4f1d52e8b1</td><td class="time"><a href="#t2019-08-16T14:24:24" class="time">14:24</a></td></tr>
<tr id="t2019-08-16T14:24:29"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">(in glibc of course)</td><td class="time"><a href="#t2019-08-16T14:24:29" class="time">14:24</a></td></tr>
<tr id="t2019-08-16T14:24:55"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">+&nbsp;&nbsp;if (hard_links)</td><td class="time"><a href="#t2019-08-16T14:24:55" class="time">14:24</a></td></tr>
<tr id="t2019-08-16T14:24:55"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">+&nbsp;&nbsp;&nbsp;&nbsp;other_paths = siblings (output_path);</td><td class="time"><a href="#t2019-08-16T14:24:55" class="time">14:24</a></td></tr>
<tr id="t2019-08-16T14:25:07"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">otherwise it skips that whole section of code</td><td class="time"><a href="#t2019-08-16T14:25:07" class="time">14:25</a></td></tr>
<tr id="t2019-08-16T14:25:10"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">That is not in the version I have.</td><td class="time"><a href="#t2019-08-16T14:25:10" class="time">14:25</a></td></tr>
<tr id="t2019-08-16T14:25:21"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">That is what I was considering adding.</td><td class="time"><a href="#t2019-08-16T14:25:21" class="time">14:25</a></td></tr>
<tr id="t2019-08-16T14:25:23"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">Date:&nbsp;&nbsp; Mon Nov 26 09:51:51 2018 -0500</td><td class="time"><a href="#t2019-08-16T14:25:23" class="time">14:25</a></td></tr>
<tr id="t2019-08-16T14:25:29"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">I'm looking at master</td><td class="time"><a href="#t2019-08-16T14:25:29" class="time">14:25</a></td></tr>
<tr id="t2019-08-16T14:25:33"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">glibc 2.30</td><td class="time"><a href="#t2019-08-16T14:25:33" class="time">14:25</a></td></tr>
<tr id="t2019-08-16T14:25:46"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">commit 8cebd4ffe67bf94508809ea0caa02a4f1d52e8b1</td><td class="time"><a href="#t2019-08-16T14:25:46" class="time">14:25</a></td></tr>
<tr id="t2019-08-16T14:25:46"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">Author: Carlos O'Donell &lt;carlos@redhat.com&gt;</td><td class="time"><a href="#t2019-08-16T14:25:46" class="time">14:25</a></td></tr>
<tr id="t2019-08-16T14:25:46"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">Date:&nbsp;&nbsp; Mon Nov 26 09:51:51 2018 -0500</td><td class="time"><a href="#t2019-08-16T14:25:46" class="time">14:25</a></td></tr>
<tr id="t2019-08-16T14:25:46"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">&nbsp;&nbsp;&nbsp;&nbsp;Add --no-hard-links option to localedef (bug 23923)</td><td class="time"><a href="#t2019-08-16T14:25:46" class="time">14:25</a></td></tr>
<tr id="t2019-08-16T14:25:47"><th class="nick" style="background: #539e9e">yocti</th><td class="text" style="color: #539e9e">Bug <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=23923" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=23923</a> was not found.</td><td class="time"><a href="#t2019-08-16T14:25:47" class="time">14:25</a></td></tr>
<tr id="t2019-08-16T14:25:50"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I am on thud glibc-2.28</td><td class="time"><a href="#t2019-08-16T14:25:50" class="time">14:25</a></td></tr>
<tr id="t2019-08-16T14:25:55"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Which is why I don't have it.</td><td class="time"><a href="#t2019-08-16T14:25:55" class="time">14:25</a></td></tr>
<tr id="t2019-08-16T14:26:08"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">ya, too old.. you'd need to backport it.. but the commit is -simple-</td><td class="time"><a href="#t2019-08-16T14:26:08" class="time">14:26</a></td></tr>
<tr id="t2019-08-16T14:26:14"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">it's not YP bugzilla this is upstream glibc</td><td class="time"><a href="#t2019-08-16T14:26:14" class="time">14:26</a></td></tr>
<tr id="t2019-08-16T14:26:17"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">All you need to do, to make this problem go away is use that option + the hardlink program.</td><td class="time"><a href="#t2019-08-16T14:26:17" class="time">14:26</a></td></tr>
<tr id="t2019-08-16T14:26:18"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">look at the glibc bugzilla</td><td class="time"><a href="#t2019-08-16T14:26:18" class="time">14:26</a></td></tr>
<tr id="t2019-08-16T14:26:36"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">I just don't know if 'hardlink' is now standard or not</td><td class="time"><a href="#t2019-08-16T14:26:36" class="time">14:26</a></td></tr>
<tr id="t2019-08-16T14:26:37"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Then your mystery localedef issue is fixed :-)</td><td class="time"><a href="#t2019-08-16T14:26:37" class="time">14:26</a></td></tr>
<tr id="t2019-08-16T14:26:46"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">(on non-Fedora/RH based systems)</td><td class="time"><a href="#t2019-08-16T14:26:46" class="time">14:26</a></td></tr>
<tr id="t2019-08-16T14:26:59"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">It is on ubuntu, if you install it.</td><td class="time"><a href="#t2019-08-16T14:26:59" class="time">14:26</a></td></tr>
<tr id="t2019-08-16T14:27:07"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">Ubuntu 18.04 does NOT have hardlink</td><td class="time"><a href="#t2019-08-16T14:27:07" class="time">14:27</a></td></tr>
<tr id="t2019-08-16T14:27:08"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">It will have to go into host-native.</td><td class="time"><a href="#t2019-08-16T14:27:08" class="time">14:27</a></td></tr>
<tr id="t2019-08-16T14:27:20"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">ok.. so it's optional there..</td><td class="time"><a href="#t2019-08-16T14:27:20" class="time">14:27</a></td></tr>
<tr id="t2019-08-16T14:27:25"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">% cat /etc/issue</td><td class="time"><a href="#t2019-08-16T14:27:25" class="time">14:27</a></td></tr>
<tr id="t2019-08-16T14:27:25"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Ubuntu 18.04.2 LTS \n \l</td><td class="time"><a href="#t2019-08-16T14:27:25" class="time">14:27</a></td></tr>
<tr id="t2019-08-16T14:27:28"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">ya.. sounds like a host-native...</td><td class="time"><a href="#t2019-08-16T14:27:28" class="time">14:27</a></td></tr>
<tr id="t2019-08-16T14:27:30"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">It is optional.</td><td class="time"><a href="#t2019-08-16T14:27:30" class="time">14:27</a></td></tr>
<tr id="t2019-08-16T14:27:52"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I shudder to think how far we have to back port, but I assume we need to at least fix thud.</td><td class="time"><a href="#t2019-08-16T14:27:52" class="time">14:27</a></td></tr>
<tr id="t2019-08-16T14:27:55"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">Fedora claims it's part of util-linux, but I don't know if it's 'real' util-linux or Fedora's version</td><td class="time"><a href="#t2019-08-16T14:27:55" class="time">14:27</a></td></tr>
<tr id="t2019-08-16T14:28:03"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">yes.. we need to at least fix thud..</td><td class="time"><a href="#t2019-08-16T14:28:03" class="time">14:28</a></td></tr>
<tr id="t2019-08-16T14:28:13"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">I'd say fix master first, make that work and backport to warrior and thud</td><td class="time"><a href="#t2019-08-16T14:28:13" class="time">14:28</a></td></tr>
<tr id="t2019-08-16T14:28:21"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">since we now know the problem is common</td><td class="time"><a href="#t2019-08-16T14:28:21" class="time">14:28</a></td></tr>
<tr id="t2019-08-16T14:28:41"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">(and at least master has a partial fix already implemented from upstream, warrior probably does?)</td><td class="time"><a href="#t2019-08-16T14:28:41" class="time">14:28</a></td></tr>
<tr id="t2019-08-16T14:28:52"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">The generation should be faster with the checking gutted too.</td><td class="time"><a href="#t2019-08-16T14:28:52" class="time">14:28</a></td></tr>
<tr id="t2019-08-16T14:29:16"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">That code was _really_ not efficient, or parallel safe.</td><td class="time"><a href="#t2019-08-16T14:29:16" class="time">14:29</a></td></tr>
<tr id="t2019-08-16T14:30:15"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">so the 'hard part' is getting 'hardlink' (or finding something equivalent)</td><td class="time"><a href="#t2019-08-16T14:30:15" class="time">14:30</a></td></tr>
<tr id="t2019-08-16T14:31:11"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b"><a href="http://jak-linux.org/projects/hardlink/" rel="nofollow">http://jak-linux.org/projects/hardlink/</a></td><td class="time"><a href="#t2019-08-16T14:31:11" class="time">14:31</a></td></tr>
<tr id="t2019-08-16T14:31:40"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I would just use what works.</td><td class="time"><a href="#t2019-08-16T14:31:40" class="time">14:31</a></td></tr>
<tr id="t2019-08-16T14:31:47"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">If that works</td><td class="time"><a href="#t2019-08-16T14:31:47" class="time">14:31</a></td></tr>
<tr id="t2019-08-16T14:31:57"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">I was looking at the Fedora version.. and it went 'away'</td><td class="time"><a href="#t2019-08-16T14:31:57" class="time">14:31</a></td></tr>
<tr id="t2019-08-16T14:32:02"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Ubuntu used 0.2.0 the 14.04 release.</td><td class="time"><a href="#t2019-08-16T14:32:02" class="time">14:32</a></td></tr>
<tr id="t2019-08-16T14:32:08"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b"><a href="https://src.fedoraproject.org/rpms/hardlink/c/6f80279847fc132377e1110b57360358c2920b07?branch=master" rel="nofollow">https://src.fedoraproject.org/rpms/hardlink/c/6f80279847fc132377e1110b57360358c2920b07?branch=master</a></td><td class="time"><a href="#t2019-08-16T14:32:08" class="time">14:32</a></td></tr>
<tr id="t2019-08-16T14:32:14"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">0.3 is the latest.</td><td class="time"><a href="#t2019-08-16T14:32:14" class="time">14:32</a></td></tr>
<tr id="t2019-08-16T14:32:54"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">jwessel: nice to finally have some answers, nice work!</td><td class="time"><a href="#t2019-08-16T14:32:54" class="time">14:32</a></td></tr>
<tr id="t2019-08-16T14:32:55"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">Fedora's version was 1.3</td><td class="time"><a href="#t2019-08-16T14:32:55" class="time">14:32</a></td></tr>
<tr id="t2019-08-16T14:32:57"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">That site states fedora has a different version.</td><td class="time"><a href="#t2019-08-16T14:32:57" class="time">14:32</a></td></tr>
<tr id="t2019-08-16T14:33:06"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">It is different code.</td><td class="time"><a href="#t2019-08-16T14:33:06" class="time">14:33</a></td></tr>
<tr id="t2019-08-16T14:33:11"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">removed in Feb of this year I think..</td><td class="time"><a href="#t2019-08-16T14:33:11" class="time">14:33</a></td></tr>
<tr id="t2019-08-16T14:33:17"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">ok</td><td class="time"><a href="#t2019-08-16T14:33:17" class="time">14:33</a></td></tr>
<tr id="t2019-08-16T14:33:27"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I suspect there are other programs that do the same thing.</td><td class="time"><a href="#t2019-08-16T14:33:27" class="time">14:33</a></td></tr>
<tr id="t2019-08-16T14:33:37"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">hardlink from the jak linux just works.</td><td class="time"><a href="#t2019-08-16T14:33:37" class="time">14:33</a></td></tr>
<tr id="t2019-08-16T14:34:05"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b"><a href="https://pagure.io/hardlink/blob/master/f/hardlink.c" rel="nofollow">https://pagure.io/hardlink/blob/master/f/hardlink.c</a></td><td class="time"><a href="#t2019-08-16T14:34:05" class="time">14:34</a></td></tr>
<tr id="t2019-08-16T14:34:10"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">that appears to be the latest version</td><td class="time"><a href="#t2019-08-16T14:34:10" class="time">14:34</a></td></tr>
<tr id="t2019-08-16T14:35:16"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Makes no difference to me where we get it from.</td><td class="time"><a href="#t2019-08-16T14:35:16" class="time">14:35</a></td></tr>
<tr id="t2019-08-16T14:35:26"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I am just happy we don't have to fix pseudo.</td><td class="time"><a href="#t2019-08-16T14:35:26" class="time">14:35</a></td></tr>
<tr id="t2019-08-16T14:35:55"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">I did just verify.. util-linux-2.34 includes 'hardlink'</td><td class="time"><a href="#t2019-08-16T14:35:55" class="time">14:35</a></td></tr>
<tr id="t2019-08-16T14:36:21"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">version included looks like it's the Red Hat version.. (or at least a refactored one)</td><td class="time"><a href="#t2019-08-16T14:36:21" class="time">14:36</a></td></tr>
<tr id="t2019-08-16T14:36:22"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555"><a href="https://paste.fedoraproject.org/paste/rnsbsvEHQbH9iVrc0A-fOg" rel="nofollow">https://paste.fedoraproject.org/paste/rnsbsvEHQbH9iVrc0A-fOg</a></td><td class="time"><a href="#t2019-08-16T14:36:22" class="time">14:36</a></td></tr>
<tr id="t2019-08-16T14:36:46"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">this just started showing up when building this image. i have no idea why</td><td class="time"><a href="#t2019-08-16T14:36:46" class="time">14:36</a></td></tr>
<tr id="t2019-08-16T14:36:52"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">clues would be appreciated</td><td class="time"><a href="#t2019-08-16T14:36:52" class="time">14:36</a></td></tr>
<tr id="t2019-08-16T14:37:30"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">the image was building fine a week or two ago..</td><td class="time"><a href="#t2019-08-16T14:37:30" class="time">14:37</a></td></tr>
<tr id="t2019-08-16T14:37:39"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">not sure.. pyro is pretty old so it might justbe a simple bug</td><td class="time"><a href="#t2019-08-16T14:37:39" class="time">14:37</a></td></tr>
<tr id="t2019-08-16T14:38:20"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">I'd simply start with rebuilding (clean and build) the locale's</td><td class="time"><a href="#t2019-08-16T14:38:20" class="time">14:38</a></td></tr>
<tr id="t2019-08-16T14:38:32"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">fray: are you talking to me?</td><td class="time"><a href="#t2019-08-16T14:38:32" class="time">14:38</a></td></tr>
<tr id="t2019-08-16T14:39:27"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">yes</td><td class="time"><a href="#t2019-08-16T14:39:27" class="time">14:39</a></td></tr>
<tr id="t2019-08-16T14:39:46"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray, jwessel: please keep in mind that adding a util-linux-native depends to glibc-locale would be pretty bad for build performance</td><td class="time"><a href="#t2019-08-16T14:39:46" class="time">14:39</a></td></tr>
<tr id="t2019-08-16T14:40:01"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">If there is a python script we can use it would be much more efficient</td><td class="time"><a href="#t2019-08-16T14:40:01" class="time">14:40</a></td></tr>
<tr id="t2019-08-16T14:40:29"><td class="action" colspan="2">* RP finally figures out the one line fix bitbake needs :/</td><td><a href="#t2019-08-16T14:40:29" class="time">14:40</a></td></tr>
<tr id="t2019-08-16T14:40:43"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">I'm more thinking we add just 'hardlink' until a time comes when all of the regular hosts have updated to more modern util-linux</td><td class="time"><a href="#t2019-08-16T14:40:43" class="time">14:40</a></td></tr>
<tr id="t2019-08-16T14:40:55"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">hardlink itself is very small.. 430 something lines</td><td class="time"><a href="#t2019-08-16T14:40:55" class="time">14:40</a></td></tr>
<tr id="t2019-08-16T14:41:04"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: right, fine by me</td><td class="time"><a href="#t2019-08-16T14:41:04" class="time">14:41</a></td></tr>
<tr id="t2019-08-16T14:41:41"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">but with that said, re-implementing those 430 lines in python should be possible, just don't know the performance impact</td><td class="time"><a href="#t2019-08-16T14:41:41" class="time">14:41</a></td></tr>
<tr id="t2019-08-16T14:42:21"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">this isn't rocket science.. it basically parses the filesystem and checksums everything into a linked list.. with the items inode, device, checksum and filename..</td><td class="time"><a href="#t2019-08-16T14:42:21" class="time">14:42</a></td></tr>
<tr id="t2019-08-16T14:42:35"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">it searches that list for the device and checksum, and if they are the same then hardlinks</td><td class="time"><a href="#t2019-08-16T14:42:35" class="time">14:42</a></td></tr>
<tr id="t2019-08-16T14:42:46"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">if item is unknown it adds to the data structure and moves on to the next file</td><td class="time"><a href="#t2019-08-16T14:42:46" class="time">14:42</a></td></tr>
<tr id="t2019-08-16T14:43:37"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">fray: we already do similar kinds of things elsewhere, its trivial in python</td><td class="time"><a href="#t2019-08-16T14:43:37" class="time">14:43</a></td></tr>
<tr id="t2019-08-16T14:44:44"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">looks like the hardest thing in the code is there is something that if the file is in-use it renames it and removes it when it hardlinks to keep the old file alive..</td><td class="time"><a href="#t2019-08-16T14:44:44" class="time">14:44</a></td></tr>
<tr id="t2019-08-16T14:44:50"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">that shouldn't be a problem</td><td class="time"><a href="#t2019-08-16T14:44:50" class="time">14:44</a></td></tr>
<tr id="t2019-08-16T14:44:50"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144"><a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/patch/?id=6e19aa62ad8d0d1ded272690d21186d95743bb00" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/patch/?id=6e19aa62ad8d0d1ded272690d21186d95743bb00</a> - so simple yet problematic</td><td class="time"><a href="#t2019-08-16T14:44:50" class="time">14:44</a></td></tr>
<tr id="t2019-08-16T14:45:51"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">RP is there exisitng oe code that does checksum and hardlink behavior or would this be a new lib/oe function?</td><td class="time"><a href="#t2019-08-16T14:45:51" class="time">14:45</a></td></tr>
<tr id="t2019-08-16T14:46:41"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">(I know we have copy or hardlink functions)</td><td class="time"><a href="#t2019-08-16T14:46:41" class="time">14:46</a></td></tr>
<tr id="t2019-08-16T14:47:50"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Dude... Don't do it python.</td><td class="time"><a href="#t2019-08-16T14:47:50" class="time">14:47</a></td></tr>
<tr id="t2019-08-16T14:48:06"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Use the C one.&nbsp;&nbsp;It is faster than python is ever going to be.</td><td class="time"><a href="#t2019-08-16T14:48:06" class="time">14:48</a></td></tr>
<tr id="t2019-08-16T14:48:33"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">but it' one more thing to compile and support that's my only concern</td><td class="time"><a href="#t2019-08-16T14:48:33" class="time">14:48</a></td></tr>
<tr id="t2019-08-16T14:49:02"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">How is it any better than having to compile cross-localedef</td><td class="time"><a href="#t2019-08-16T14:49:02" class="time">14:49</a></td></tr>
<tr id="t2019-08-16T14:49:04"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">and for the python it would run in the native bitbake context, not execute 'another thing'.. (conceptually)</td><td class="time"><a href="#t2019-08-16T14:49:04" class="time">14:49</a></td></tr>
<tr id="t2019-08-16T14:49:08"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">If anything add it in there.</td><td class="time"><a href="#t2019-08-16T14:49:08" class="time">14:49</a></td></tr>
<tr id="t2019-08-16T14:49:12"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">cause that is existing</td><td class="time"><a href="#t2019-08-16T14:49:12" class="time">14:49</a></td></tr>
<tr id="t2019-08-16T14:49:32"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">either we have to add a new native recipe for hardlink itself (which may someday go away) or we implement it as a library function</td><td class="time"><a href="#t2019-08-16T14:49:32" class="time">14:49</a></td></tr>
<tr id="t2019-08-16T14:49:47"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">either way will work -- but it moves around support items</td><td class="time"><a href="#t2019-08-16T14:49:47" class="time">14:49</a></td></tr>
<tr id="t2019-08-16T14:50:09"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">jwessel: I suspect there isn't that much difference C to python for this...</td><td class="time"><a href="#t2019-08-16T14:50:09" class="time">14:50</a></td></tr>
<tr id="t2019-08-16T14:50:12"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">builing native-util-linux is too big and has been avoided for a long time</td><td class="time"><a href="#t2019-08-16T14:50:12" class="time">14:50</a></td></tr>
<tr id="t2019-08-16T14:50:13"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b"><a href="https://code.google.com/archive/p/hardlinkpy/" rel="nofollow">https://code.google.com/archive/p/hardlinkpy/</a></td><td class="time"><a href="#t2019-08-16T14:50:13" class="time">14:50</a></td></tr>
<tr id="t2019-08-16T14:50:20"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">That is the code you are looking for btw.</td><td class="time"><a href="#t2019-08-16T14:50:20" class="time">14:50</a></td></tr>
<tr id="t2019-08-16T14:51:41"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">jwessel: I say this as someone who thought bitbake in C might be faster, once.</td><td class="time"><a href="#t2019-08-16T14:51:41" class="time">14:51</a></td></tr>
<tr id="t2019-08-16T14:53:09"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I guess that older version is not python 3 compliant.</td><td class="time"><a href="#t2019-08-16T14:53:09" class="time">14:53</a></td></tr>
<tr id="t2019-08-16T14:53:17"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">It says to run 2to3 on it...</td><td class="time"><a href="#t2019-08-16T14:53:17" class="time">14:53</a></td></tr>
<tr id="t2019-08-16T14:53:17"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JPEW: I had to drop the extra stats code, it was causing the autobuilder to lock up :(</td><td class="time"><a href="#t2019-08-16T14:53:17" class="time">14:53</a></td></tr>
<tr id="t2019-08-16T14:53:24"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">that python one looks like it doesn't hash once and store, but instead compares each time</td><td class="time"><a href="#t2019-08-16T14:53:24" class="time">14:53</a></td></tr>
<tr id="t2019-08-16T14:53:30"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">that's going to be less efficient then hash and store</td><td class="time"><a href="#t2019-08-16T14:53:30" class="time">14:53</a></td></tr>
<tr id="t2019-08-16T14:53:42"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">yes, but that is just bad design</td><td class="time"><a href="#t2019-08-16T14:53:42" class="time">14:53</a></td></tr>
<tr id="t2019-08-16T14:53:48"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">(not python per se)</td><td class="time"><a href="#t2019-08-16T14:53:48" class="time">14:53</a></td></tr>
<tr id="t2019-08-16T14:54:43"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I'd be inclined to just add the c file to the cross-localedef package.</td><td class="time"><a href="#t2019-08-16T14:54:43" class="time">14:54</a></td></tr>
<tr id="t2019-08-16T14:54:55"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">the modern 'hardlink' have two hash points.. one based on size, owner, group, mode.. and then one based on content..</td><td class="time"><a href="#t2019-08-16T14:54:55" class="time">14:54</a></td></tr>
<tr id="t2019-08-16T14:55:04"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">The c file does exactly what is needed, and you have to compile the cross-localedef anyway.</td><td class="time"><a href="#t2019-08-16T14:55:04" class="time">14:55</a></td></tr>
<tr id="t2019-08-16T14:55:09"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">since if the first hash doesn't match, you can skip the second (kind of)...</td><td class="time"><a href="#t2019-08-16T14:55:09" class="time">14:55</a></td></tr>
<tr id="t2019-08-16T14:55:12"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Just name it cross-localedef-hardlink.</td><td class="time"><a href="#t2019-08-16T14:55:12" class="time">14:55</a></td></tr>
<tr id="t2019-08-16T14:55:26"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">then if you find a match in the first, you have to hash them both to compare -- but then youc an cache those for the future..</td><td class="time"><a href="#t2019-08-16T14:55:26" class="time">14:55</a></td></tr>
<tr id="t2019-08-16T14:55:26"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">The modern one is much more effecient.</td><td class="time"><a href="#t2019-08-16T14:55:26" class="time">14:55</a></td></tr>
<tr id="t2019-08-16T14:55:38"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">yes.. adding it to cross-localdef is fine</td><td class="time"><a href="#t2019-08-16T14:55:38" class="time">14:55</a></td></tr>
<tr id="t2019-08-16T14:55:53"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">(least in my opinion) key is to be careful that it's efficient in what it's doing</td><td class="time"><a href="#t2019-08-16T14:55:53" class="time">14:55</a></td></tr>
<tr id="t2019-08-16T14:55:56"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Take the path of least resistance, call it a day.</td><td class="time"><a href="#t2019-08-16T14:55:56" class="time">14:55</a></td></tr>
<tr id="t2019-08-16T14:56:52"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">I'd take the util-linux (modern) hardlink, and put it into cross-localdef for now.. it'd be the easiest to maintain.. (I think)</td><td class="time"><a href="#t2019-08-16T14:56:52" class="time">14:56</a></td></tr>
<tr id="t2019-08-16T14:56:53"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">right</td><td class="time"><a href="#t2019-08-16T14:56:53" class="time">14:56</a></td></tr>
<tr id="t2019-08-16T14:57:04"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">You'll spend time debugging and porting it to python otherwise.&nbsp;&nbsp;I am saying you can't make it portable etc... but why bother.&nbsp;&nbsp; The hardlink compiles on everything.</td><td class="time"><a href="#t2019-08-16T14:57:04" class="time">14:57</a></td></tr>
<tr id="t2019-08-16T14:57:39"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">oops.&nbsp;&nbsp;I meant you can make it portable with python, but I don't believe the effort is worth it.</td><td class="time"><a href="#t2019-08-16T14:57:39" class="time">14:57</a></td></tr>
<tr id="t2019-08-16T14:57:49"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">I was working on the assumption there is a sane python version around which there isn't</td><td class="time"><a href="#t2019-08-16T14:57:49" class="time">14:57</a></td></tr>
<tr id="t2019-08-16T14:58:06"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">if we can get a C version and use that, fine</td><td class="time"><a href="#t2019-08-16T14:58:06" class="time">14:58</a></td></tr>
<tr id="t2019-08-16T14:59:11"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">You might as well just stick it in cross-localedef.&nbsp;&nbsp; No new package etc...&nbsp;&nbsp;Don't know if the license is compatible.</td><td class="time"><a href="#t2019-08-16T14:59:11" class="time">14:59</a></td></tr>
<tr id="t2019-08-16T14:59:15"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Didn't look at that bit.</td><td class="time"><a href="#t2019-08-16T14:59:15" class="time">14:59</a></td></tr>
<tr id="t2019-08-16T14:59:39"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">it's GPLv2 so should be fine..</td><td class="time"><a href="#t2019-08-16T14:59:39" class="time">14:59</a></td></tr>
<tr id="t2019-08-16T14:59:48"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">(latest util-linux version)</td><td class="time"><a href="#t2019-08-16T14:59:48" class="time">14:59</a></td></tr>
<tr id="t2019-08-16T15:00:24"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b"><a href="https://git.kernel.org/pub/scm/utils/util-linux/util-linux.git/tree/misc-utils/hardlink.1" rel="nofollow">https://git.kernel.org/pub/scm/utils/util-linux/util-linux.git/tree/misc-utils/hardlink.1</a></td><td class="time"><a href="#t2019-08-16T15:00:24" class="time">15:00</a></td></tr>
<tr id="t2019-08-16T15:00:35"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b"><a href="https://git.kernel.org/pub/scm/utils/util-linux/util-linux.git/tree/misc-utils/hardlink.c" rel="nofollow">https://git.kernel.org/pub/scm/utils/util-linux/util-linux.git/tree/misc-utils/hardlink.c</a></td><td class="time"><a href="#t2019-08-16T15:00:35" class="time">15:00</a></td></tr>
<tr id="t2019-08-16T15:00:37"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">'er.. ya .c not .1</td><td class="time"><a href="#t2019-08-16T15:00:37" class="time">15:00</a></td></tr>
<tr id="t2019-08-16T15:01:16"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">#include "c.h"</td><td class="time"><a href="#t2019-08-16T15:01:16" class="time">15:01</a></td></tr>
<tr id="t2019-08-16T15:01:16"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">#include "xalloc.h"</td><td class="time"><a href="#t2019-08-16T15:01:16" class="time">15:01</a></td></tr>
<tr id="t2019-08-16T15:01:16"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">#include "nls.h"</td><td class="time"><a href="#t2019-08-16T15:01:16" class="time">15:01</a></td></tr>
<tr id="t2019-08-16T15:01:16"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">#include "closestream.h"</td><td class="time"><a href="#t2019-08-16T15:01:16" class="time">15:01</a></td></tr>
<tr id="t2019-08-16T15:01:27"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">that bit might need to be ported or hacked aorund.. but otherwise it looks entirely standard</td><td class="time"><a href="#t2019-08-16T15:01:27" class="time">15:01</a></td></tr>
<tr id="t2019-08-16T15:02:06"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">(and I don't see any reason to build it with the PCRE support which is newer then the old standalone version)</td><td class="time"><a href="#t2019-08-16T15:02:06" class="time">15:02</a></td></tr>
<tr id="t2019-08-16T15:02:44"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">khem: I've sent one more RDEPENDS fix which might look like duplicate, but it's for another package in scsirastools</td><td class="time"><a href="#t2019-08-16T15:02:44" class="time">15:02</a></td></tr>
<tr id="t2019-08-16T15:02:59"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">removing tmp and rebuilding got rid of that</td><td class="time"><a href="#t2019-08-16T15:02:59" class="time">15:02</a></td></tr>
<tr id="t2019-08-16T15:03:19"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">khem: feel free to squash them if you want, It was detected in follow-up builds, that's the only reason why I haven't put both in first commit</td><td class="time"><a href="#t2019-08-16T15:03:19" class="time">15:03</a></td></tr>
<tr id="t2019-08-16T15:30:53"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">JaMa:yes queued up</td><td class="time"><a href="#t2019-08-16T15:30:53" class="time">15:30</a></td></tr>
<tr id="t2019-08-16T15:31:45"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">JaMa: the gcc problem you are seeing, whats best way to reproduce it, does it only happen with multilib builds</td><td class="time"><a href="#t2019-08-16T15:31:45" class="time">15:31</a></td></tr>
<tr id="t2019-08-16T15:33:13"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">JaMa:<a href="https://errors.yoctoproject.org/Errors/Build/86953/" rel="nofollow">https://errors.yoctoproject.org/Errors/Build/86953/</a> was the full build where these qa errors are listed</td><td class="time"><a href="#t2019-08-16T15:33:13" class="time">15:33</a></td></tr>
<tr id="t2019-08-16T15:33:29"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">hoping your series will fix most if not all of them</td><td class="time"><a href="#t2019-08-16T15:33:29" class="time">15:33</a></td></tr>
<tr id="t2019-08-16T15:39:06"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">khem: I've fixed all which I was seeing in my builds</td><td class="time"><a href="#t2019-08-16T15:39:06" class="time">15:39</a></td></tr>
<tr id="t2019-08-16T15:39:27"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">ok</td><td class="time"><a href="#t2019-08-16T15:39:27" class="time">15:39</a></td></tr>
<tr id="t2019-08-16T15:40:03"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">didn't you realize I was hinting you to fix mine too :)</td><td class="time"><a href="#t2019-08-16T15:40:03" class="time">15:40</a></td></tr>
<tr id="t2019-08-16T15:40:20"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">e.g. hplip shown in ours is blacklisted in all our builds, because needs lp group which we don't have</td><td class="time"><a href="#t2019-08-16T15:40:20" class="time">15:40</a></td></tr>
<tr id="t2019-08-16T15:40:38"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">wasn't alex going to fix them? :)</td><td class="time"><a href="#t2019-08-16T15:40:38" class="time">15:40</a></td></tr>
<tr id="t2019-08-16T15:40:38"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">I see</td><td class="time"><a href="#t2019-08-16T15:40:38" class="time">15:40</a></td></tr>
<tr id="t2019-08-16T15:42:08"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">and mime-construct burn-boot libextutils-parsexs-perl webmin recipes aren't in my world</td><td class="time"><a href="#t2019-08-16T15:42:08" class="time">15:42</a></td></tr>
<tr id="t2019-08-16T15:43:00"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">will check the gomp issue on some non-multilib config soon</td><td class="time"><a href="#t2019-08-16T15:43:00" class="time">15:43</a></td></tr>
<tr id="t2019-08-16T15:58:17"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">ok</td><td class="time"><a href="#t2019-08-16T15:58:17" class="time">15:58</a></td></tr>
<tr id="t2019-08-16T15:58:44"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">I will report the results and see if Alex helps</td><td class="time"><a href="#t2019-08-16T15:58:44" class="time">15:58</a></td></tr>
<tr id="t2019-08-16T16:31:17"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">RP: maybe I'm reading the profile badly, but to me it looks like worker thread was waiting in select most of the time and then finished executing tasks relatively quickly</td><td class="time"><a href="#t2019-08-16T16:31:17" class="time">16:31</a></td></tr>
<tr id="t2019-08-16T16:31:59"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">e.g. latest builds shows 4082.736 seconds in main process, 3977.939 seconds in worker and</td><td class="time"><a href="#t2019-08-16T16:31:59" class="time">16:31</a></td></tr>
<tr id="t2019-08-16T16:32:09"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">&nbsp;&nbsp;877733 3294.319&nbsp;&nbsp;&nbsp;&nbsp;0.004 3294.319&nbsp;&nbsp;&nbsp;&nbsp;0.004 {built-in method select.select}</td><td class="time"><a href="#t2019-08-16T16:32:09" class="time">16:32</a></td></tr>
<tr id="t2019-08-16T16:32:18"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">&nbsp;&nbsp; 58394&nbsp;&nbsp;366.063&nbsp;&nbsp;&nbsp;&nbsp;0.006&nbsp;&nbsp;366.063&nbsp;&nbsp;&nbsp;&nbsp;0.006 {built-in method posix.fork}</td><td class="time"><a href="#t2019-08-16T16:32:18" class="time">16:32</a></td></tr>
<tr id="t2019-08-16T16:32:31"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">&nbsp;&nbsp;&nbsp;&nbsp;58394&nbsp;&nbsp;&nbsp;&nbsp;6.290&nbsp;&nbsp;&nbsp;&nbsp;0.000&nbsp;&nbsp;493.595&nbsp;&nbsp;&nbsp;&nbsp;0.008 bitbake/bin/bitbake-worker:431(handle_runtask)</td><td class="time"><a href="#t2019-08-16T16:32:31" class="time">16:32</a></td></tr>
<tr id="t2019-08-16T16:33:35"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">if it was handling tasks for 8 minutes from 68, then it seems reasonable</td><td class="time"><a href="#t2019-08-16T16:33:35" class="time">16:33</a></td></tr>
<tr id="t2019-08-16T16:36:10"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">khem: the omp.h issue is reproducible without multilib as well, should I try it without 9.2.0 upgrade or is it definitely the gcc-runtime change? (I belive it is)</td><td class="time"><a href="#t2019-08-16T16:36:10" class="time">16:36</a></td></tr>
<tr id="t2019-08-16T16:43:59"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JaMa: you read that correctly, it does spend most of its time waiting</td><td class="time"><a href="#t2019-08-16T16:43:59" class="time">16:43</a></td></tr>
<tr id="t2019-08-16T16:44:08"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JaMa: turnaround time for tasks is important too though</td><td class="time"><a href="#t2019-08-16T16:44:08" class="time">16:44</a></td></tr>
<tr id="t2019-08-16T16:45:15"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">Rewrite bitbake in go</td><td class="time"><a href="#t2019-08-16T16:45:15" class="time">16:45</a></td></tr>
<tr id="t2019-08-16T16:45:54"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">rewrite go in bitbake</td><td class="time"><a href="#t2019-08-16T16:45:54" class="time">16:45</a></td></tr>
<tr id="t2019-08-16T16:48:23"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">even better</td><td class="time"><a href="#t2019-08-16T16:48:23" class="time">16:48</a></td></tr>
<tr id="t2019-08-16T16:57:02"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">we just add the new sentience module to bitbake and make it self hosting...</td><td class="time"><a href="#t2019-08-16T16:57:02" class="time">16:57</a></td></tr>
<tr id="t2019-08-16T17:01:45"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">The hardlink program takes 2.3 seconds in pseudo context, and .7 seconds outside of pseudo.</td><td class="time"><a href="#t2019-08-16T17:01:45" class="time">17:01</a></td></tr>
<tr id="t2019-08-16T17:02:12"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">That is still way faster than what it takes for the cross-localedef</td><td class="time"><a href="#t2019-08-16T17:02:12" class="time">17:02</a></td></tr>
<tr id="t2019-08-16T17:03:49"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">jwessel: that is a nice win!</td><td class="time"><a href="#t2019-08-16T17:03:49" class="time">17:03</a></td></tr>
<tr id="t2019-08-16T17:04:17"><td class="action" colspan="2">* RP -&gt; away (most of the weekend to)</td><td><a href="#t2019-08-16T17:04:17" class="time">17:04</a></td></tr>
<tr id="t2019-08-16T17:06:59"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">Would more machine learning help?</td><td class="time"><a href="#t2019-08-16T17:06:59" class="time">17:06</a></td></tr>
<tr id="t2019-08-16T17:17:14"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I wonder what the bugzilla id is for the glibc-locale issue.</td><td class="time"><a href="#t2019-08-16T17:17:14" class="time">17:17</a></td></tr>
<tr id="t2019-08-16T17:17:26"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">jwessel: <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=12434#c48" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=12434#c48</a></td><td class="time"><a href="#t2019-08-16T17:17:26" class="time">17:17</a></td></tr>
<tr id="t2019-08-16T17:17:27"><th class="nick" style="background: #539e9e">yocti</th><td class="text" style="color: #539e9e">Bug 12434: normal, Medium+, 2.8 M3, randy.macleod, ACCEPTED , pseudo: Incorrect UID/GID in packaged files</td><td class="time"><a href="#t2019-08-16T17:17:27" class="time">17:17</a></td></tr>
<tr id="t2019-08-16T17:17:42"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Thanks.</td><td class="time"><a href="#t2019-08-16T17:17:42" class="time">17:17</a></td></tr>
<tr id="t2019-08-16T17:18:16"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I am testing a fix for it.</td><td class="time"><a href="#t2019-08-16T17:18:16" class="time">17:18</a></td></tr>
<tr id="t2019-08-16T17:18:35"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I'll send it out as an RFC, since it is kind of ugly looking.</td><td class="time"><a href="#t2019-08-16T17:18:35" class="time">17:18</a></td></tr>
<tr id="t2019-08-16T17:18:37"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">cool, let me know if you want me to test it as well</td><td class="time"><a href="#t2019-08-16T17:18:37" class="time">17:18</a></td></tr>
<tr id="t2019-08-16T17:18:48"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">For sure, we'll need it tested.</td><td class="time"><a href="#t2019-08-16T17:18:48" class="time">17:18</a></td></tr>
<tr id="t2019-08-16T17:18:50"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">pseudo standard :)</td><td class="time"><a href="#t2019-08-16T17:18:50" class="time">17:18</a></td></tr>
<tr id="t2019-08-16T17:19:30"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I'll have to forward port it when I am done because I did all the work on thud, where I am stuck at the moment.</td><td class="time"><a href="#t2019-08-16T17:19:30" class="time">17:19</a></td></tr>
<tr id="t2019-08-16T17:28:16"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">JaMa:I have a fix that I am testing</td><td class="time"><a href="#t2019-08-16T17:28:16" class="time">17:28</a></td></tr>
<tr id="t2019-08-16T17:41:57"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">khem: that was quick! thanks will include it in next world build</td><td class="time"><a href="#t2019-08-16T17:41:57" class="time">17:41</a></td></tr>
<tr id="t2019-08-16T17:44:33"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">khem: btw for those gcc patches it would be useful to use "git format-patch --no-signature --no-numbered" when refreshing them for new version (like devtool does now)</td><td class="time"><a href="#t2019-08-16T17:44:33" class="time">17:44</a></td></tr>
<tr id="t2019-08-16T17:46:04"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">anyone hiding bullet3 or netpbm recipes from layerindex?</td><td class="time"><a href="#t2019-08-16T17:46:04" class="time">17:46</a></td></tr>
<tr id="t2019-08-16T17:49:20"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">JaMa: thats a good idea, it has bothered me a bit but not enough</td><td class="time"><a href="#t2019-08-16T17:49:20" class="time">17:49</a></td></tr>
<tr id="t2019-08-16T17:50:11"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">I keep a local fork for these patches</td><td class="time"><a href="#t2019-08-16T17:50:11" class="time">17:50</a></td></tr>
<tr id="t2019-08-16T17:50:20"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">and devtool workflow does not fit in there</td><td class="time"><a href="#t2019-08-16T17:50:20" class="time">17:50</a></td></tr>
<tr id="t2019-08-16T18:07:51"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">khem: understood, I use the same e.g. with qt* patches, I've noticed only because when replacing 9.2.0 v1 with v2 there were much more changes than expected just because many patches were re-numbered after removal of one and then the include path change changed the git signature as well :)</td><td class="time"><a href="#t2019-08-16T18:07:51" class="time">18:07</a></td></tr>
<tr id="t2019-08-16T18:25:35"><td class="nickchange" colspan="2">*** JPEW_ is now known as JPEW</td><td><a href="#t2019-08-16T18:25:35" class="time">18:25</a></td></tr>
<tr id="t2019-08-16T18:26:45"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Strange that the stat code caused lockups.</td><td class="time"><a href="#t2019-08-16T18:26:45" class="time">18:26</a></td></tr>
<tr id="t2019-08-16T19:06:06"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">can i put INITRAMFS_IMAGE somewhere other than build/conf/local.conf?</td><td class="time"><a href="#t2019-08-16T19:06:06" class="time">19:06</a></td></tr>
<tr id="t2019-08-16T19:16:12"><th class="nick" style="background: #b15db1">robbawebba</th><td class="text" style="color: #b15db1">mischief: yup! I have INITRAMFS_IMAGE defined in a distro conf file in my layer. I'm guessing you could define INITRAMFS_IMAGE in an image recipe as well, but I've never tried it. I would definitely appreciate another perspective on that possibility.</td><td class="time"><a href="#t2019-08-16T19:16:12" class="time">19:16</a></td></tr>
<tr id="t2019-08-16T19:17:20"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">we're starting to use yocto with pretty much 0 experience, so i'm sure i've done something wrong</td><td class="time"><a href="#t2019-08-16T19:17:20" class="time">19:17</a></td></tr>
<tr id="t2019-08-16T19:17:49"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">i made a directory for TEMPLATECONF and that is checked into git but build/conf/local.conf is not in git, where INITRAMFS_IMAGE is currently defined</td><td class="time"><a href="#t2019-08-16T19:17:49" class="time">19:17</a></td></tr>
<tr id="t2019-08-16T19:18:17"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">robbawebba: do you have something i can read about making distro layers/confs?</td><td class="time"><a href="#t2019-08-16T19:18:17" class="time">19:18</a></td></tr>
<tr id="t2019-08-16T19:18:59"><th class="nick" style="background: #b15db1">robbawebba</th><td class="text" style="color: #b15db1">mischief: sure! give me a few minutes to find the right links</td><td class="time"><a href="#t2019-08-16T19:18:59" class="time">19:18</a></td></tr>
<tr id="t2019-08-16T19:19:29"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">thank you.. i've asked a few questions here previously but you are the first to answer any of them :-)</td><td class="time"><a href="#t2019-08-16T19:19:29" class="time">19:19</a></td></tr>
<tr id="t2019-08-16T19:22:08"><th class="nick" style="background: #b15db1">robbawebba</th><td class="text" style="color: #b15db1">mischief: This entire section, section 7.1, contains tons of information on how to create and manage layers. Please let me know if you have any other questions!</td><td class="time"><a href="#t2019-08-16T19:22:08" class="time">19:22</a></td></tr>
<tr id="t2019-08-16T19:22:12"><th class="nick" style="background: #b15db1">robbawebba</th><td class="text" style="color: #b15db1"><a href="https://www.yoctoproject.org/docs/current/mega-manual/mega-manual.html#understanding-and-creating-layers" rel="nofollow">https://www.yoctoproject.org/docs/current/mega-manual/mega-manual.html#understanding-and-creating-layers</a></td><td class="time"><a href="#t2019-08-16T19:22:12" class="time">19:22</a></td></tr>
<tr id="t2019-08-16T19:23:32"><th class="nick" style="background: #b15db1">robbawebba</th><td class="text" style="color: #b15db1">I'll try and find info on Distros next, but you'll need a layer before you create a custom distro :) so the layer stuff should keep you busy in the meantime</td><td class="time"><a href="#t2019-08-16T19:23:32" class="time">19:23</a></td></tr>
<tr id="t2019-08-16T19:24:48"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">right now we have a git repo with meta-$COMPANY with basically just our kernel recipe, and poky as a submodule. not sure if this is right but i've been able to make at least a kernel build.</td><td class="time"><a href="#t2019-08-16T19:24:48" class="time">19:24</a></td></tr>
<tr id="t2019-08-16T19:26:13"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">so i guess we have one layer.</td><td class="time"><a href="#t2019-08-16T19:26:13" class="time">19:26</a></td></tr>
<tr id="t2019-08-16T19:26:14"><th class="nick" style="background: #b15db1">robbawebba</th><td class="text" style="color: #b15db1">mischief: nice! That's essentially a layer. Did you add that meta-$COMPANY to your build/conf/bblayers.conf file, either manually or using the bitbake-layers tool?</td><td class="time"><a href="#t2019-08-16T19:26:14" class="time">19:26</a></td></tr>
<tr id="t2019-08-16T19:26:26"><th class="nick" style="background: #b15db1">robbawebba</th><td class="text" style="color: #b15db1">also, here's the distro documentation: <a href="https://www.yoctoproject.org/docs/current/mega-manual/mega-manual.html#creating-your-own-distribution" rel="nofollow">https://www.yoctoproject.org/docs/current/mega-manual/mega-manual.html#creating-your-own-distribution</a></td><td class="time"><a href="#t2019-08-16T19:26:26" class="time">19:26</a></td></tr>
<tr id="t2019-08-16T19:26:28"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">yes</td><td class="time"><a href="#t2019-08-16T19:26:28" class="time">19:26</a></td></tr>
<tr id="t2019-08-16T19:26:36"><th class="nick" style="background: #b15db1">robbawebba</th><td class="text" style="color: #b15db1">cool! Then you have a layer :)</td><td class="time"><a href="#t2019-08-16T19:26:36" class="time">19:26</a></td></tr>
<tr id="t2019-08-16T19:26:47"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">i put that in meta-$COMPANY/conf/bblayers.conf.sample</td><td class="time"><a href="#t2019-08-16T19:26:47" class="time">19:26</a></td></tr>
<tr id="t2019-08-16T19:27:24"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">so unfortunately if i modify it in build/conf then it is not tracked in git.. but if i modify bblayers.conf.sample it would require a user to re-initialize build/conf, correct?</td><td class="time"><a href="#t2019-08-16T19:27:24" class="time">19:27</a></td></tr>
<tr id="t2019-08-16T19:28:04"><th class="nick" style="background: #b15db1">robbawebba</th><td class="text" style="color: #b15db1">yup!</td><td class="time"><a href="#t2019-08-16T19:28:04" class="time">19:28</a></td></tr>
<tr id="t2019-08-16T19:29:17"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">is there no better way to track build/conf changes in revision control?</td><td class="time"><a href="#t2019-08-16T19:29:17" class="time">19:29</a></td></tr>
<tr id="t2019-08-16T19:29:23"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">(i.e, for INITRAMFS_IMAGE)</td><td class="time"><a href="#t2019-08-16T19:29:23" class="time">19:29</a></td></tr>
<tr id="t2019-08-16T19:29:41"><th class="nick" style="background: #b15db1">robbawebba</th><td class="text" style="color: #b15db1">and as long as the command `bitbake-layers show-layers` command shows your layer, then your're good! Plus, you mentioned that you're able to build your kernel recipe that's in your layer, so that's another sign that bitbake can find your layer</td><td class="time"><a href="#t2019-08-16T19:29:41" class="time">19:29</a></td></tr>
<tr id="t2019-08-16T19:30:01"><th class="nick" style="background: #b15db1">robbawebba</th><td class="text" style="color: #b15db1">and yes, there are a couple of options, the TEMPLATECONF mechanism is one that you already mentioned</td><td class="time"><a href="#t2019-08-16T19:30:01" class="time">19:30</a></td></tr>
<tr id="t2019-08-16T19:31:24"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">would it be a Bad Idea (tm) to just put build/conf/*.conf in the git repo?</td><td class="time"><a href="#t2019-08-16T19:31:24" class="time">19:31</a></td></tr>
<tr id="t2019-08-16T19:32:22"><th class="nick" style="background: #b15db1">robbawebba</th><td class="text" style="color: #b15db1">yup, I believe it is not a good practice</td><td class="time"><a href="#t2019-08-16T19:32:22" class="time">19:32</a></td></tr>
<tr id="t2019-08-16T19:32:35"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">I'm pretty sure that would be awful :)</td><td class="time"><a href="#t2019-08-16T19:32:35" class="time">19:32</a></td></tr>
<tr id="t2019-08-16T19:33:08"><th class="nick" style="background: #b15db1">robbawebba</th><td class="text" style="color: #b15db1">mischief: are you aware that you can put local.conf.sample in your layer, just like bblayers.conf.sample?</td><td class="time"><a href="#t2019-08-16T19:33:08" class="time">19:33</a></td></tr>
<tr id="t2019-08-16T19:33:23"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">robbawebba: that is currently what i am doing</td><td class="time"><a href="#t2019-08-16T19:33:23" class="time">19:33</a></td></tr>
<tr id="t2019-08-16T19:33:44"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a"><a href="https://github.com/balister/meta-sdr/tree/master/conf" rel="nofollow">https://github.com/balister/meta-sdr/tree/master/conf</a></td><td class="time"><a href="#t2019-08-16T19:33:44" class="time">19:33</a></td></tr>
<tr id="t2019-08-16T19:33:57"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">but my concern is that if i change a variable and commit that to git, other developers would not see it unless they re-initialize build/conf from TEMPLATECONF.</td><td class="time"><a href="#t2019-08-16T19:33:57" class="time">19:33</a></td></tr>
<tr id="t2019-08-16T19:34:19"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">good concern</td><td class="time"><a href="#t2019-08-16T19:34:19" class="time">19:34</a></td></tr>
<tr id="t2019-08-16T19:34:29"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">auto.conf and site.conf are also searched</td><td class="time"><a href="#t2019-08-16T19:34:29" class="time">19:34</a></td></tr>
<tr id="t2019-08-16T19:34:34"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">in the BBPATH</td><td class="time"><a href="#t2019-08-16T19:34:34" class="time">19:34</a></td></tr>
<tr id="t2019-08-16T19:34:55"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a"><a href="https://github.com/balister/meta-sdr/blob/master/conf/bblayers.conf.sample#L5" rel="nofollow">https://github.com/balister/meta-sdr/blob/master/conf/bblayers.conf.sample#L5</a></td><td class="time"><a href="#t2019-08-16T19:34:55" class="time">19:34</a></td></tr>
<tr id="t2019-08-16T19:35:13"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">I use that so all build on one machine check .oe in my home dir</td><td class="time"><a href="#t2019-08-16T19:35:13" class="time">19:35</a></td></tr>
<tr id="t2019-08-16T19:35:30"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">and I can insert something like site.conf where I might point to a local source mirros</td><td class="time"><a href="#t2019-08-16T19:35:30" class="time">19:35</a></td></tr>
<tr id="t2019-08-16T19:37:28"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">some of my coworkers are going to embedded linux conference and now i am somewhat regretting not attending ._.</td><td class="time"><a href="#t2019-08-16T19:37:28" class="time">19:37</a></td></tr>
<tr id="t2019-08-16T19:37:41"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">as well you should</td><td class="time"><a href="#t2019-08-16T19:37:41" class="time">19:37</a></td></tr>
<tr id="t2019-08-16T19:37:53"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">well I am not going either, but I will be at ELCE</td><td class="time"><a href="#t2019-08-16T19:37:53" class="time">19:37</a></td></tr>
<tr id="t2019-08-16T19:38:09"><th class="nick" style="background: #b15db1">robbawebba</th><td class="text" style="color: #b15db1">Crofton|work: nice! So mischief can just add site.conf to his layer's conf directory and check those configuration options into version control?</td><td class="time"><a href="#t2019-08-16T19:38:09" class="time">19:38</a></td></tr>
<tr id="t2019-08-16T19:38:48"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">with careful tweaking of BBPATH</td><td class="time"><a href="#t2019-08-16T19:38:48" class="time">19:38</a></td></tr>
<tr id="t2019-08-16T19:39:05"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">my BBPATH is just $TOPDIR</td><td class="time"><a href="#t2019-08-16T19:39:05" class="time">19:39</a></td></tr>
<tr id="t2019-08-16T19:39:10"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">and use custom distro.conf also</td><td class="time"><a href="#t2019-08-16T19:39:10" class="time">19:39</a></td></tr>
<tr id="t2019-08-16T19:39:38"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a"><a href="https://github.com/balister/sdr-build" rel="nofollow">https://github.com/balister/sdr-build</a></td><td class="time"><a href="#t2019-08-16T19:39:38" class="time">19:39</a></td></tr>
<tr id="t2019-08-16T19:39:53"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">do something like this and have actual content with conf files also</td><td class="time"><a href="#t2019-08-16T19:39:53" class="time">19:39</a></td></tr>
<tr id="t2019-08-16T19:40:11"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">you want to split things that imapct product from things that are truly local</td><td class="time"><a href="#t2019-08-16T19:40:11" class="time">19:40</a></td></tr>
<tr id="t2019-08-16T19:40:19"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">like local source irrors, DL_DIR etc</td><td class="time"><a href="#t2019-08-16T19:40:19" class="time">19:40</a></td></tr>
<tr id="t2019-08-16T19:40:33"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">yes I ahve screwed up having important stuff in local.conf</td><td class="time"><a href="#t2019-08-16T19:40:33" class="time">19:40</a></td></tr>
<tr id="t2019-08-16T19:41:04"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">Crofton|work: currently we have just one git repo containing meta-$COMPANY/{conf,recipes-*} and poky/ as a submodule</td><td class="time"><a href="#t2019-08-16T19:41:04" class="time">19:41</a></td></tr>
<tr id="t2019-08-16T19:43:25"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">personally, I do what I do and drop the meta-poky stuff and use your own distro.conf</td><td class="time"><a href="#t2019-08-16T19:43:25" class="time">19:43</a></td></tr>
<tr id="t2019-08-16T19:43:30"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">and keep the settings there</td><td class="time"><a href="#t2019-08-16T19:43:30" class="time">19:43</a></td></tr>
<tr id="t2019-08-16T19:43:41"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">depending on what they are of course</td><td class="time"><a href="#t2019-08-16T19:43:41" class="time">19:43</a></td></tr>
<tr id="t2019-08-16T19:43:51"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">and we are sorry this is really well spelt out for people</td><td class="time"><a href="#t2019-08-16T19:43:51" class="time">19:43</a></td></tr>
<tr id="t2019-08-16T19:44:39"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">i'm not sure my skill level with this stuff is high enough to jump the boat on poky just yet :-)</td><td class="time"><a href="#t2019-08-16T19:44:39" class="time">19:44</a></td></tr>
<tr id="t2019-08-16T19:45:08"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">you are asking the questions that suggest you are there</td><td class="time"><a href="#t2019-08-16T19:45:08" class="time">19:45</a></td></tr>
<tr id="t2019-08-16T19:45:38"><th class="nick" style="background: #8c4a4a">Crofton|work</th><td class="text" style="color: #8c4a4a">You are basically changing stuff set in poky.conf?</td><td class="time"><a href="#t2019-08-16T19:45:38" class="time">19:45</a></td></tr>
<tr id="t2019-08-16T19:45:49"><td class="action" colspan="2">* Crofton|work has never used poky :)</td><td><a href="#t2019-08-16T19:45:49" class="time">19:45</a></td></tr>
<tr id="t2019-08-16T19:47:03"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">creating a distro .conf is not difficult. cp poky.conf to your own, go</td><td class="time"><a href="#t2019-08-16T19:47:03" class="time">19:47</a></td></tr>
<tr id="t2019-08-16T19:47:03"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">i see, you are suggesting removing meta-poky layer from layers.conf? i thought you meant remove the poky/ submodule from my git repo :s</td><td class="time"><a href="#t2019-08-16T19:47:03" class="time">19:47</a></td></tr>
<tr id="t2019-08-16T20:02:14"><th class="nick" style="background: #539e9e">yocti</th><td class="text" style="color: #539e9e">New news from stackoverflow: Yacto/BitBake new dir does not show up &lt;<a href="https://stackoverflow.com/questions/57530178/yacto-bitbake-new-dir-does-not-show-up&gt;" rel="nofollow">https://stackoverflow.com/questions/57530178/yacto-bitbake-new-dir-does-not-show-up&gt;</a></td><td class="time"><a href="#t2019-08-16T20:02:14" class="time">20:02</a></td></tr>
<tr id="t2019-08-16T20:53:56"><th class="nick" style="background: #b86161">__angelo</th><td class="text" style="color: #b86161">in a machine.conf, is the field "#@SOC:" used for any special purpose or it's just a comment ?</td><td class="time"><a href="#t2019-08-16T20:53:56" class="time">20:53</a></td></tr>
<tr id="t2019-08-16T20:59:24"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">mischief: in conf/ dir you can create a site.conf file and put your customizations in that file</td><td class="time"><a href="#t2019-08-16T20:59:24" class="time">20:59</a></td></tr>
<tr id="t2019-08-16T20:59:47"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">__angelo:I think linux yocto uses it</td><td class="time"><a href="#t2019-08-16T20:59:47" class="time">20:59</a></td></tr>
<tr id="t2019-08-16T21:00:03"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">i mean linux-yocto kernel recipe</td><td class="time"><a href="#t2019-08-16T21:00:03" class="time">21:00</a></td></tr>
<tr id="t2019-08-16T21:00:28"><th class="nick" style="background: #b86161">__angelo</th><td class="text" style="color: #b86161">khem, ok. mmm i have a linux-mystuff recipe</td><td class="time"><a href="#t2019-08-16T21:00:28" class="time">21:00</a></td></tr>
<tr id="t2019-08-16T21:00:41"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">then it wont bother you</td><td class="time"><a href="#t2019-08-16T21:00:41" class="time">21:00</a></td></tr>
<tr id="t2019-08-16T21:02:40"><th class="nick" style="background: #b86161">__angelo</th><td class="text" style="color: #b86161">khem, thanks !ù</td><td class="time"><a href="#t2019-08-16T21:02:40" class="time">21:02</a></td></tr>
<tr id="t2019-08-16T21:03:09"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">Crofton|work and mischief take a look here <a href="https://github.com/YoeDistro/yoe-distro" rel="nofollow">https://github.com/YoeDistro/yoe-distro</a></td><td class="time"><a href="#t2019-08-16T21:03:09" class="time">21:03</a></td></tr>
<tr id="t2019-08-16T21:05:23"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">thats one way to solve it</td><td class="time"><a href="#t2019-08-16T21:05:23" class="time">21:05</a></td></tr>
<tr id="t2019-08-16T21:07:21"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I put the RFC patch set out there to solve the glibc-locale issue.</td><td class="time"><a href="#t2019-08-16T21:07:21" class="time">21:07</a></td></tr>
<tr id="t2019-08-16T21:09:31"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">We could certainly benefit from some testing on it for those who were most affected by this issue.</td><td class="time"><a href="#t2019-08-16T21:09:31" class="time">21:09</a></td></tr>
<tr id="t2019-08-16T21:09:31"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I only saw it once, myself.&nbsp;&nbsp;But our automated build cluster would have a number of failures each week.</td><td class="time"><a href="#t2019-08-16T21:09:31" class="time">21:09</a></td></tr>
<tr id="t2019-08-16T21:09:51"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">There could be other corner cases, but they will certainly not be the same as the one the patch set corrects.</td><td class="time"><a href="#t2019-08-16T21:09:51" class="time">21:09</a></td></tr>
<tr id="t2019-08-16T21:10:44"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JPEW: I don't understand it. We also have a small race with the hash reporting and the generation of the sstate package. I think the latter is lagging the former and leading to a race :/</td><td class="time"><a href="#t2019-08-16T21:10:44" class="time">21:10</a></td></tr>
<tr id="t2019-08-16T21:11:00"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">jwessel:cool.. pointer ?</td><td class="time"><a href="#t2019-08-16T21:11:00" class="time">21:11</a></td></tr>
<tr id="t2019-08-16T21:11:38"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: That... shouldn't be possible?</td><td class="time"><a href="#t2019-08-16T21:11:38" class="time">21:11</a></td></tr>
<tr id="t2019-08-16T21:11:39"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">[OE-core] [RFC PATCH 1/2] cross-localedef-native: Add hardlink resolver from util-linux</td><td class="time"><a href="#t2019-08-16T21:11:39" class="time">21:11</a></td></tr>
<tr id="t2019-08-16T21:12:08"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">It is a two patch set with some explanation about the problem, but not about how it was tracked down.</td><td class="time"><a href="#t2019-08-16T21:12:08" class="time">21:12</a></td></tr>
<tr id="t2019-08-16T21:12:09"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Unless we are thinking of different things</td><td class="time"><a href="#t2019-08-16T21:12:09" class="time">21:12</a></td></tr>
<tr id="t2019-08-16T21:12:42"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I had to use a modified version of pseudo, which I'd likely use in the future, if we have other such problems.</td><td class="time"><a href="#t2019-08-16T21:12:42" class="time">21:12</a></td></tr>
<tr id="t2019-08-16T21:13:21"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">jwessel: I think this may be related to all of: <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=11551" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=11551</a> <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=11299" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=11299</a> <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=12664" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=12664</a>&nbsp;&nbsp;<a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=12434" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=12434</a></td><td class="time"><a href="#t2019-08-16T21:13:21" class="time">21:13</a></td></tr>
<tr id="t2019-08-16T21:13:24"><th class="nick" style="background: #539e9e">yocti</th><td class="text" style="color: #539e9e">Bug 11551: normal, Medium+, 2.99, ross.burton, NEW , inconsistent dependencies in glibc-locale packages</td><td class="time"><a href="#t2019-08-16T21:13:24" class="time">21:13</a></td></tr>
<tr id="t2019-08-16T21:13:25"><th class="nick" style="background: #539e9e">yocti</th><td class="text" style="color: #539e9e">Bug 11299: normal, Medium+, 3.1, Qi.Chen, NEW , glibc-locale warning [host-user-contaminated]</td><td class="time"><a href="#t2019-08-16T21:13:25" class="time">21:13</a></td></tr>
<tr id="t2019-08-16T21:13:26"><th class="nick" style="background: #539e9e">yocti</th><td class="text" style="color: #539e9e">Bug 12664: normal, Medium+, 2.8 M4, ross.burton, NEW , glibc-binary-localedata packages may contain .tmp files</td><td class="time"><a href="#t2019-08-16T21:13:26" class="time">21:13</a></td></tr>
<tr id="t2019-08-16T21:13:27"><th class="nick" style="background: #539e9e">yocti</th><td class="text" style="color: #539e9e">Bug 12434: normal, Medium+, 2.8 M3, randy.macleod, ACCEPTED , pseudo: Incorrect UID/GID in packaged files</td><td class="time"><a href="#t2019-08-16T21:13:27" class="time">21:13</a></td></tr>
<tr id="t2019-08-16T21:14:31"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JPEW: <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/97/builds/282/steps/8/logs/step1b" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/97/builds/282/steps/8/logs/step1b</a> is interesting. There is obviously a bitbake problem with the rebuild of encodings but why wasn't it in sstate?</td><td class="time"><a href="#t2019-08-16T21:14:31" class="time">21:14</a></td></tr>
<tr id="t2019-08-16T21:14:40"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I don't doubt there are a number of cases to reference for this particular problem.</td><td class="time"><a href="#t2019-08-16T21:14:40" class="time">21:14</a></td></tr>
<tr id="t2019-08-16T21:14:58"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">jwessel: the .tmp thing in particular in hindsight is a smoking gun</td><td class="time"><a href="#t2019-08-16T21:14:58" class="time">21:14</a></td></tr>
<tr id="t2019-08-16T21:15:22"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I don't think I ever saw a build with .tmp files though.</td><td class="time"><a href="#t2019-08-16T21:15:22" class="time">21:15</a></td></tr>
<tr id="t2019-08-16T21:15:39"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Something really had to go wrong to have that happen.</td><td class="time"><a href="#t2019-08-16T21:15:39" class="time">21:15</a></td></tr>
<tr id="t2019-08-16T21:15:54"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">But given the nature of the race.&nbsp;&nbsp;It is probably possible.</td><td class="time"><a href="#t2019-08-16T21:15:54" class="time">21:15</a></td></tr>
<tr id="t2019-08-16T21:15:55"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">jwessel: there were references to X.tmp files in that log you shared weren't there?</td><td class="time"><a href="#t2019-08-16T21:15:55" class="time">21:15</a></td></tr>
<tr id="t2019-08-16T21:16:11"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Sure but that is the mechanics of how the linkage works.</td><td class="time"><a href="#t2019-08-16T21:16:11" class="time">21:16</a></td></tr>
<tr id="t2019-08-16T21:16:31"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">jwessel: I suspect somehow that leaks. Perhaps this doesn't solve it, not sure</td><td class="time"><a href="#t2019-08-16T21:16:31" class="time">21:16</a></td></tr>
<tr id="t2019-08-16T21:16:41"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Oh it solves it.</td><td class="time"><a href="#t2019-08-16T21:16:41" class="time">21:16</a></td></tr>
<tr id="t2019-08-16T21:16:51"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">There are no more .tmp files at all with this change.</td><td class="time"><a href="#t2019-08-16T21:16:51" class="time">21:16</a></td></tr>
<tr id="t2019-08-16T21:17:01"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I can see how a tmp file could have leaked.</td><td class="time"><a href="#t2019-08-16T21:17:01" class="time">21:17</a></td></tr>
<tr id="t2019-08-16T21:17:13"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">jwessel: right. We've only seen that .tmp thing on very few occasions</td><td class="time"><a href="#t2019-08-16T21:17:13" class="time">21:17</a></td></tr>
<tr id="t2019-08-16T21:17:44"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">The timing window on that one was way smaller for failure, than promoting the link to a file.</td><td class="time"><a href="#t2019-08-16T21:17:44" class="time">21:17</a></td></tr>
<tr id="t2019-08-16T21:17:50"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Which was happening in ever single build.</td><td class="time"><a href="#t2019-08-16T21:17:50" class="time">21:17</a></td></tr>
<tr id="t2019-08-16T21:17:55"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">We just didn't know it.</td><td class="time"><a href="#t2019-08-16T21:17:55" class="time">21:17</a></td></tr>
<tr id="t2019-08-16T21:18:35"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">If I put some sleeps right after the unlink.&nbsp;&nbsp;You can make it explode into flames easily.</td><td class="time"><a href="#t2019-08-16T21:18:35" class="time">21:18</a></td></tr>
<tr id="t2019-08-16T21:19:04"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: How many AB nodes are hitting the hash server at the same time?</td><td class="time"><a href="#t2019-08-16T21:19:04" class="time">21:19</a></td></tr>
<tr id="t2019-08-16T21:19:26"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">But there is no point anymore.&nbsp;&nbsp;This is a concise type of failure, with a number of different symptoms.</td><td class="time"><a href="#t2019-08-16T21:19:26" class="time">21:19</a></td></tr>
<tr id="t2019-08-16T21:19:36"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: ^ I'm trying to see if I can get the timeouts to reproduce locally</td><td class="time"><a href="#t2019-08-16T21:19:36" class="time">21:19</a></td></tr>
<tr id="t2019-08-16T21:20:08"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I do think we should consider patching pseudo a bit to have the special logs.&nbsp;&nbsp;But that is a back burner task.</td><td class="time"><a href="#t2019-08-16T21:20:08" class="time">21:20</a></td></tr>
<tr id="t2019-08-16T21:20:33"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I don't know any other way to track down a problem like this, even when it is not pseudo that is the root cause.</td><td class="time"><a href="#t2019-08-16T21:20:33" class="time">21:20</a></td></tr>
<tr id="t2019-08-16T21:20:55"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Only an strace log could have told the story.&nbsp;&nbsp; And those are even harder to read. :-/</td><td class="time"><a href="#t2019-08-16T21:20:55" class="time">21:20</a></td></tr>
<tr id="t2019-08-16T21:22:17"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JPEW: ~40 builds</td><td class="time"><a href="#t2019-08-16T21:22:17" class="time">21:22</a></td></tr>
<tr id="t2019-08-16T21:22:45"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">jwessel: totally agreed. I'm just trying to think ahead about which bugs this covers</td><td class="time"><a href="#t2019-08-16T21:22:45" class="time">21:22</a></td></tr>
<tr id="t2019-08-16T21:22:59"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">jwessel: indeed, they're also huge</td><td class="time"><a href="#t2019-08-16T21:22:59" class="time">21:22</a></td></tr>
<tr id="t2019-08-16T21:23:12"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">Probably a number of them with glibc-locale</td><td class="time"><a href="#t2019-08-16T21:23:12" class="time">21:23</a></td></tr>
<tr id="t2019-08-16T21:25:29"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">jwessel: do we have to include hardlink files into cross-locale-def, or can it call the utility from util-linux-native and then we depend on util-linux-native that gives us maintained version of hardlink utility</td><td class="time"><a href="#t2019-08-16T21:25:29" class="time">21:25</a></td></tr>
<tr id="t2019-08-16T21:25:41"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I just replied on list about that</td><td class="time"><a href="#t2019-08-16T21:25:41" class="time">21:25</a></td></tr>
<tr id="t2019-08-16T21:25:54"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: its a build performance nightmare if we add that dependency</td><td class="time"><a href="#t2019-08-16T21:25:54" class="time">21:25</a></td></tr>
<tr id="t2019-08-16T21:27:52"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I'd kind of preferred a simple python script but that didn't appear so simple</td><td class="time"><a href="#t2019-08-16T21:27:52" class="time">21:27</a></td></tr>
<tr id="t2019-08-16T21:28:23"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: I've forgotten; does bitbake check for an sstate tarball before adding the _setscene task to the runqueue? Perhaps the encoding unihash changed after it was added but before the task actually ran?</td><td class="time"><a href="#t2019-08-16T21:28:23" class="time">21:28</a></td></tr>
<tr id="t2019-08-16T21:29:05"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">im;\'</td><td class="time"><a href="#t2019-08-16T21:29:05" class="time">21:29</a></td></tr>
<tr id="t2019-08-16T21:29:24"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I would have preferred to just depend on util-linux-native...&nbsp;&nbsp;RP said it was too much of a problem.</td><td class="time"><a href="#t2019-08-16T21:29:24" class="time">21:29</a></td></tr>
<tr id="t2019-08-16T21:30:08"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">I'm just the person who's spent a lot of time trying to speed the builds up, what do I know :(</td><td class="time"><a href="#t2019-08-16T21:30:08" class="time">21:30</a></td></tr>
<tr id="t2019-08-16T21:30:58"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I would have thought the host tools simply don't recompile too often.&nbsp;&nbsp;RP, you have more data points than I.</td><td class="time"><a href="#t2019-08-16T21:30:58" class="time">21:30</a></td></tr>
<tr id="t2019-08-16T21:31:01"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JPEW: I think you don't quite comprehend the runqueue as it isn't an actual list of tasks we're running, its a list of all tasks we could possibly run</td><td class="time"><a href="#t2019-08-16T21:31:01" class="time">21:31</a></td></tr>
<tr id="t2019-08-16T21:31:02"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">I think if its adding some significant bit then I agree but there is maintainance part as well</td><td class="time"><a href="#t2019-08-16T21:31:02" class="time">21:31</a></td></tr>
<tr id="t2019-08-16T21:31:11"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">So I implemented what was asked.</td><td class="time"><a href="#t2019-08-16T21:31:11" class="time">21:31</a></td></tr>
<tr id="t2019-08-16T21:31:49"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">To make it easier, should it need to be upgraded for some reason.&nbsp;&nbsp;I did separate the patch to the raw version.</td><td class="time"><a href="#t2019-08-16T21:31:49" class="time">21:31</a></td></tr>
<tr id="t2019-08-16T21:31:50"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">it would not matter much for endusers since they hardly rebuild things so deep so often</td><td class="time"><a href="#t2019-08-16T21:31:50" class="time">21:31</a></td></tr>
<tr id="t2019-08-16T21:31:55"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">My instinct says it will hurt things. Its based on us having done this in places before and knowing what the changes on performance in glibc-locale do to the build</td><td class="time"><a href="#t2019-08-16T21:31:55" class="time">21:31</a></td></tr>
<tr id="t2019-08-16T21:33:24"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JPEW: in that sense if you're asking when we mark it as buildable, we'd check the sstate cache after something is marked as having a new unihash.</td><td class="time"><a href="#t2019-08-16T21:33:24" class="time">21:33</a></td></tr>
<tr id="t2019-08-16T21:33:25"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">I wouldn't worry to much about needing to replace it down the road.&nbsp;&nbsp; The reasons for the patches over the years were all to add features.&nbsp;&nbsp; Any kind of bug fixes were few and far between.</td><td class="time"><a href="#t2019-08-16T21:33:25" class="time">21:33</a></td></tr>
<tr id="t2019-08-16T21:33:47"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">There are only so many ways to make a checksum and a series of calls to link() unlink()</td><td class="time"><a href="#t2019-08-16T21:33:47" class="time">21:33</a></td></tr>
<tr id="t2019-08-16T21:33:47"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JPEW: so you're right, we should have already checked this was valid in sstate so its strange it suddenly wasn't</td><td class="time"><a href="#t2019-08-16T21:33:47" class="time">21:33</a></td></tr>
<tr id="t2019-08-16T21:34:31"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">That being said, we can just use the host version 3-4 years from now, when util-linux is upreved in the distros.</td><td class="time"><a href="#t2019-08-16T21:34:31" class="time">21:34</a></td></tr>
<tr id="t2019-08-16T21:34:43"><th class="nick" style="background: #4b904b">jwessel</th><td class="text" style="color: #4b904b">hardlink was a very recent addition from RedHat.</td><td class="time"><a href="#t2019-08-16T21:34:43" class="time">21:34</a></td></tr>
<tr id="t2019-08-16T21:34:47"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: it would hurt anyone building from scratch and people do that a fair bit and criticise the project for it</td><td class="time"><a href="#t2019-08-16T21:34:47" class="time">21:34</a></td></tr>
<tr id="t2019-08-16T21:34:50"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Ya, I think I'm confusing some terminology somewhere... need to read more code :)</td><td class="time"><a href="#t2019-08-16T21:34:50" class="time">21:34</a></td></tr>
<tr id="t2019-08-16T21:35:40"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">RP: I understand that but I dont know how much,</td><td class="time"><a href="#t2019-08-16T21:35:40" class="time">21:35</a></td></tr>
<tr id="t2019-08-16T21:36:13"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: based on experience it will hurt a fair bit, particularly on people with fewer cores</td><td class="time"><a href="#t2019-08-16T21:36:13" class="time">21:36</a></td></tr>
<tr id="t2019-08-16T21:36:14"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">and util-linux appears in many recipes as dependency</td><td class="time"><a href="#t2019-08-16T21:36:14" class="time">21:36</a></td></tr>
<tr id="t2019-08-16T21:37:40"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">e.g. python3-native needs util-linux-native</td><td class="time"><a href="#t2019-08-16T21:37:40" class="time">21:37</a></td></tr>
<tr id="t2019-08-16T21:37:52"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">do we build glibc before that ?</td><td class="time"><a href="#t2019-08-16T21:37:52" class="time">21:37</a></td></tr>
<tr id="t2019-08-16T21:39:15"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">so my caution is to not create technical debt for ourselves unless absolutely required</td><td class="time"><a href="#t2019-08-16T21:39:15" class="time">21:39</a></td></tr>
<tr id="t2019-08-16T21:39:28"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I suspect that is a recently introduced performance regression then :(</td><td class="time"><a href="#t2019-08-16T21:39:28" class="time">21:39</a></td></tr>
<tr id="t2019-08-16T21:40:06"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: If we don't care about build times, sure but I have done one heck of a lot of work to try and keep the bootstrap process clear of this kind of painpoint</td><td class="time"><a href="#t2019-08-16T21:40:06" class="time">21:40</a></td></tr>
<tr id="t2019-08-16T21:40:49"><td class="action" colspan="2">* RP notes systemd also has the dependency. On the plus side most of the rest of the system does not</td><td><a href="#t2019-08-16T21:40:49" class="time">21:40</a></td></tr>
<tr id="t2019-08-16T21:40:59"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">we patch it out of quilt-native for example</td><td class="time"><a href="#t2019-08-16T21:40:59" class="time">21:40</a></td></tr>
<tr id="t2019-08-16T21:42:15"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: glibc is kind of special as its the choke point on the task graph. The locales connect to it not as a direct blocker but influencing packaging</td><td class="time"><a href="#t2019-08-16T21:42:15" class="time">21:42</a></td></tr>
<tr id="t2019-08-16T21:42:22"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">RP:we do care, but if python3-native is required early enough and its building util-linux-native for us, then we can certainly use it in cross-localedef isnt it or am I missing something</td><td class="time"><a href="#t2019-08-16T21:42:22" class="time">21:42</a></td></tr>
<tr id="t2019-08-16T21:43:08"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: IMO we should fix python3-native, not use it as a justification for slowing down the build further</td><td class="time"><a href="#t2019-08-16T21:43:08" class="time">21:43</a></td></tr>
<tr id="t2019-08-16T21:47:11"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">its not justifying it, its calling out what is is</td><td class="time"><a href="#t2019-08-16T21:47:11" class="time">21:47</a></td></tr>
<tr id="t2019-08-16T21:48:23"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">I looked a bit of forever technical debt that we will carry and it does come at some cost</td><td class="time"><a href="#t2019-08-16T21:48:23" class="time">21:48</a></td></tr>
<tr id="t2019-08-16T21:50:44"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: its not forever, its until we can depend on it from the host systems</td><td class="time"><a href="#t2019-08-16T21:50:44" class="time">21:50</a></td></tr>
<tr id="t2019-08-16T21:51:14"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">this is why I also preferred the python option but what do I know</td><td class="time"><a href="#t2019-08-16T21:51:14" class="time">21:51</a></td></tr>
<tr id="t2019-08-16T21:53:42"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">at one point util-linux-native was also a 'provided' thing.. stuff could specify it, but it never actually built</td><td class="time"><a href="#t2019-08-16T21:53:42" class="time">21:53</a></td></tr>
<tr id="t2019-08-16T21:55:05"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">perhaps uninative should capture all native dependencies and we should have none of those during build maybe</td><td class="time"><a href="#t2019-08-16T21:55:05" class="time">21:55</a></td></tr>
<tr id="t2019-08-16T21:56:20"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">so which hosts dont yet provide it</td><td class="time"><a href="#t2019-08-16T21:56:20" class="time">21:56</a></td></tr>
<tr id="t2019-08-16T21:56:21"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: that isn't the point of uninative but was the point of buildtools-tarball</td><td class="time"><a href="#t2019-08-16T21:56:21" class="time">21:56</a></td></tr>
<tr id="t2019-08-16T21:56:27"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">Ubuntu</td><td class="time"><a href="#t2019-08-16T21:56:27" class="time">21:56</a></td></tr>
<tr id="t2019-08-16T21:56:44"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">I assume current Debian doesn't as well, but not sure</td><td class="time"><a href="#t2019-08-16T21:56:44" class="time">21:56</a></td></tr>
<tr id="t2019-08-16T21:57:05"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">Fedora and RHEL/CentOS have for a very long time</td><td class="time"><a href="#t2019-08-16T21:57:05" class="time">21:57</a></td></tr>
<tr id="t2019-08-16T21:57:29"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">RP: uninative is the right answer a collection of packages which are distro independendent and are downloaded automatically during build there is no third party involved</td><td class="time"><a href="#t2019-08-16T21:57:29" class="time">21:57</a></td></tr>
<tr id="t2019-08-16T21:58:17"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: it is not the problem uninative is designed to solve</td><td class="time"><a href="#t2019-08-16T21:58:17" class="time">21:58</a></td></tr>
<tr id="t2019-08-16T21:58:18"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">current debian/buster is going to live for next 5 years :( I was hoping it was some old stinky centos</td><td class="time"><a href="#t2019-08-16T21:58:18" class="time">21:58</a></td></tr>
<tr id="t2019-08-16T21:58:43"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">RP: I understand that</td><td class="time"><a href="#t2019-08-16T21:58:43" class="time">21:58</a></td></tr>
<tr id="t2019-08-16T21:58:45"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: it could be extended to solve that problem sure but its a very different one</td><td class="time"><a href="#t2019-08-16T21:58:45" class="time">21:58</a></td></tr>
<tr id="t2019-08-16T21:59:02"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">I am asking for widening its scope</td><td class="time"><a href="#t2019-08-16T21:59:02" class="time">21:59</a></td></tr>
<tr id="t2019-08-16T21:59:04"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">and we do already have a different solution there called buildtools-tarball, its just not downloaded automatically</td><td class="time"><a href="#t2019-08-16T21:59:04" class="time">21:59</a></td></tr>
<tr id="t2019-08-16T21:59:58"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">this would be a candidate for buildtools-tarball, but reality is that we'd then need to make hardlink a sanity checked item...</td><td class="time"><a href="#t2019-08-16T21:59:58" class="time">21:59</a></td></tr>
<tr id="t2019-08-16T22:00:21"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">and the out-of-box-experience for this one binary is better this way (for now)...</td><td class="time"><a href="#t2019-08-16T22:00:21" class="time">22:00</a></td></tr>
<tr id="t2019-08-16T22:00:36"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: after all the complaints about naming we need to try and be really clear with names. uninative has a specific purpose and I'd prefer not to break that...</td><td class="time"><a href="#t2019-08-16T22:00:36" class="time">22:00</a></td></tr>
<tr id="t2019-08-16T22:00:38"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">I think its something we should do, otherwise we are spreading ourselves into supporing host distros</td><td class="time"><a href="#t2019-08-16T22:00:38" class="time">22:00</a></td></tr>
<tr id="t2019-08-16T22:01:04"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: we already do that</td><td class="time"><a href="#t2019-08-16T22:01:04" class="time">22:01</a></td></tr>
<tr id="t2019-08-16T22:01:07"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">that's why (in this case) the tooling goes into the recipe and isn't distributed elsewhere.. it's local to limit support</td><td class="time"><a href="#t2019-08-16T22:01:07" class="time">22:01</a></td></tr>
<tr id="t2019-08-16T22:01:50"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">RP:question is should we keep doing that or have some solution to abstract on host distro</td><td class="time"><a href="#t2019-08-16T22:01:50" class="time">22:01</a></td></tr>
<tr id="t2019-08-16T22:02:36"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">we (WR) use the buildtools-tarball to bring old OSes up to date to be able to build..&nbsp;&nbsp;but since hardlink is -so- new, even 'current' versions don't have the missing functionality to we're stuck for a bit</td><td class="time"><a href="#t2019-08-16T22:02:36" class="time">22:02</a></td></tr>
<tr id="t2019-08-16T22:03:06"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: good question. I'd just like to know who is going to do the work in developing it and making it work and handling the transition and its relative priority to everything else</td><td class="time"><a href="#t2019-08-16T22:03:06" class="time">22:03</a></td></tr>
<tr id="t2019-08-16T22:03:15"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">meanwhile it would be nice to fix the locale corruption issue</td><td class="time"><a href="#t2019-08-16T22:03:15" class="time">22:03</a></td></tr>
<tr id="t2019-08-16T22:04:14"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">fray: thats understood, instead of making tools tarball an optional thing it should be made made mandatory and downloaded automatically during build</td><td class="time"><a href="#t2019-08-16T22:04:14" class="time">22:04</a></td></tr>
<tr id="t2019-08-16T22:06:03"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">currently we build same number of native packages irrespective of buildtools tarball is my understanding, it just brings those arcane machine to something that can build modern OE</td><td class="time"><a href="#t2019-08-16T22:06:03" class="time">22:06</a></td></tr>
<tr id="t2019-08-16T22:06:05"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: people hate prebuilt binaries to the point I can't make uninative the default for OE-Core</td><td class="time"><a href="#t2019-08-16T22:06:05" class="time">22:06</a></td></tr>
<tr id="t2019-08-16T22:07:43"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">you mentioned build times earliers thats why I brought this up, its the time we spend building python-native and other large time consuming enabling packages that irritates the user</td><td class="time"><a href="#t2019-08-16T22:07:43" class="time">22:07</a></td></tr>
<tr id="t2019-08-16T22:08:46"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: but buildtools-tarball doesn't help us with python-native or perl-native :(</td><td class="time"><a href="#t2019-08-16T22:08:46" class="time">22:08</a></td></tr>
<tr id="t2019-08-16T22:09:10"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">those recipes are so tightly coupled you can't do much but have identical versions -native and target</td><td class="time"><a href="#t2019-08-16T22:09:10" class="time">22:09</a></td></tr>
<tr id="t2019-08-16T22:09:24"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">We need to have option to rebuild the releases tarballs, otherwise shared state and buildtools tarballs are same, people should hate them equally</td><td class="time"><a href="#t2019-08-16T22:09:24" class="time">22:09</a></td></tr>
<tr id="t2019-08-16T22:09:36"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">python-nativesdk which is what would be in the buildtools-tarball isn't good enough</td><td class="time"><a href="#t2019-08-16T22:09:36" class="time">22:09</a></td></tr>
<tr id="t2019-08-16T22:10:22"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I do understand the attraction but I've been told binaries like that aren't acceptable</td><td class="time"><a href="#t2019-08-16T22:10:22" class="time">22:10</a></td></tr>
<tr id="t2019-08-16T22:10:56"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">and same folks would be using containers eh ?</td><td class="time"><a href="#t2019-08-16T22:10:56" class="time">22:10</a></td></tr>
<tr id="t2019-08-16T22:11:23"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: no idea. Perhaps people have come around to the idea of uninative now</td><td class="time"><a href="#t2019-08-16T22:11:23" class="time">22:11</a></td></tr>
<tr id="t2019-08-16T22:11:37"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">or nobody uses poky and therefore they don't see it, I don't know</td><td class="time"><a href="#t2019-08-16T22:11:37" class="time">22:11</a></td></tr>
<tr id="t2019-08-16T22:14:33"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">anyway, I would rest my case</td><td class="time"><a href="#t2019-08-16T22:14:33" class="time">22:14</a></td></tr>
<tr id="t2019-08-16T22:16:13"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">we use uninative at WR, but in the same way that poky does..</td><td class="time"><a href="#t2019-08-16T22:16:13" class="time">22:16</a></td></tr>
<tr id="t2019-08-16T22:16:23"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">we use buildtools to augment old (broken) OSes..</td><td class="time"><a href="#t2019-08-16T22:16:23" class="time">22:16</a></td></tr>
<tr id="t2019-08-16T22:16:32"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">the combo works really well for us an our customers..</td><td class="time"><a href="#t2019-08-16T22:16:32" class="time">22:16</a></td></tr>
<tr id="t2019-08-16T22:18:05"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">fray: do you use ASSUME_PROVIDED then to not build bunch of native packages becasue they now are in buildtools ?</td><td class="time"><a href="#t2019-08-16T22:18:05" class="time">22:18</a></td></tr>
<tr id="t2019-08-16T22:18:37"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">Only the same ones that Poky has</td><td class="time"><a href="#t2019-08-16T22:18:37" class="time">22:18</a></td></tr>
<tr id="t2019-08-16T22:18:55"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">python3, make, tar were the major things we've needed on older RHEL</td><td class="time"><a href="#t2019-08-16T22:18:55" class="time">22:18</a></td></tr>
<tr id="t2019-08-16T22:19:52"><th class="nick" style="background: #9b519b">fray</th><td class="text" style="color: #9b519b">(RHEL / CentOS 7 is still REALLY common..)</td><td class="time"><a href="#t2019-08-16T22:19:52" class="time">22:19</a></td></tr>
<tr id="t2019-08-16T22:22:00"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">yes they are</td><td class="time"><a href="#t2019-08-16T22:22:00" class="time">22:22</a></td></tr>
<tr id="t2019-08-16T22:22:52"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">oh btw. glibc also needs python3 now during build, fun fun</td><td class="time"><a href="#t2019-08-16T22:22:52" class="time">22:22</a></td></tr>
<tr id="t2019-08-16T22:46:30"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: can that not come from the host system though?</td><td class="time"><a href="#t2019-08-16T22:46:30" class="time">22:46</a></td></tr>
<tr id="t2019-08-16T22:47:03"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">python3-native is really for the python builds and python modules, not general python3</td><td class="time"><a href="#t2019-08-16T22:47:03" class="time">22:47</a></td></tr>
<tr id="t2019-08-16T22:52:25"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">khem: I guess a key question is any version reqs?</td><td class="time"><a href="#t2019-08-16T22:52:25" class="time">22:52</a></td></tr>
<tr id="t2019-08-16T22:54:42"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">i have a kernel module.. and it has RPROVIDES_${PN} += "kernel-module-${PN}" inside of it. if i add kernel-module-$foo to PACKAGE_INSTALL, i get an error saying 'no installation candidate' even though it also says it is a virtual package provided by ${PN}. why is that?</td><td class="time"><a href="#t2019-08-16T22:54:42" class="time">22:54</a></td></tr>
<tr id="t2019-08-16T22:55:13"><th class="nick" style="background: #adad5b">mischief</th><td class="text" style="color: #adad5b">if i just use the kernel module ${PN} for PACKAGE_INSTALL it seems to work</td><td class="time"><a href="#t2019-08-16T22:55:13" class="time">22:55</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-08-15.log.html">&#171; Thursday, 2019-08-15</a> <a href="index.html">Index</a> <a href="%23yocto.2019-08-17.log.html">Saturday, 2019-08-17 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
