<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Wednesday, 2019-09-25</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Wednesday, 2019-09-25</h1>
<div class="navigation"> <a href="%23yocto.2019-09-24.log.html">&#171; Tuesday, 2019-09-24</a> <a href="index.html">Index</a> <a href="%23yocto.2019-09-26.log.html">Thursday, 2019-09-26 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-09-25T03:08:37"><td class="nickchange" colspan="2">*** camus is now known as kaspter</td><td><a href="#t2019-09-25T03:08:37" class="time">03:08</a></td></tr>
<tr id="t2019-09-25T05:25:28"><th class="nick" style="background: #407a40">Domin1k</th><td class="text" style="color: #407a40">I have a recipe question. In case of writing a manual do_install() do i really need to install each single file with an specific install command? I have a bunch of shared objects and also some xml-files that i like to install. Is there a way to use wildcards like: (install -m 0644 ${S}/libs/*.so ${D}/usr/lib/) and (FILES_${PN} += "/usr/lib/*.so") ?</td><td class="time"><a href="#t2019-09-25T05:25:28" class="time">05:25</a></td></tr>
<tr id="t2019-09-25T06:14:46"><th class="nick" style="background: #42427e">nayfe</th><td class="text" style="color: #42427e">Domin1k you can use 'cp' instead of install</td><td class="time"><a href="#t2019-09-25T06:14:46" class="time">06:14</a></td></tr>
<tr id="t2019-09-25T06:25:52"><th class="nick" style="background: #407a40">Domin1k</th><td class="text" style="color: #407a40">thanks(y)</td><td class="time"><a href="#t2019-09-25T06:25:52" class="time">06:25</a></td></tr>
<tr id="t2019-09-25T06:28:12"><th class="nick" style="background: #818144">khem</th><td class="text" style="color: #818144">tesaddict: thank you for your testimony, please tell others too, but if you have gripes then tell us first :)</td><td class="time"><a href="#t2019-09-25T06:28:12" class="time">06:28</a></td></tr>
<tr id="t2019-09-25T06:30:19"><th class="nick" style="background: #818144">khem</th><td class="text" style="color: #818144">mischief: are you adding to rdep or to dep, dep on output package wont work, only rdep will work.</td><td class="time"><a href="#t2019-09-25T06:30:19" class="time">06:30</a></td></tr>
<tr id="t2019-09-25T07:07:46"><th class="nick" style="background: #818144">khem</th><td class="text" style="color: #818144">yates: sdk sets up right env for pkg-config, so are you sourcing the env ?</td><td class="time"><a href="#t2019-09-25T07:07:46" class="time">07:07</a></td></tr>
<tr id="t2019-09-25T07:09:44"><th class="nick" style="background: #818144">khem</th><td class="text" style="color: #818144">Domin1k: prefer to use install program to setup right username/groups install can do multiple files</td><td class="time"><a href="#t2019-09-25T07:09:44" class="time">07:09</a></td></tr>
<tr id="t2019-09-25T07:30:58"><th class="nick" style="background: #854685">yocti</th><td class="text" style="color: #854685">New news from stackoverflow: Node.js error "invalid opcode ip" on Yocto(rocko) &lt;<a href="https://stackoverflow.com/questions/57920363/node-js-error-invalid-opcode-ip-on-yoctorocko&gt;" rel="nofollow">https://stackoverflow.com/questions/57920363/node-js-error-invalid-opcode-ip-on-yoctorocko&gt;</a></td><td class="time"><a href="#t2019-09-25T07:30:58" class="time">07:30</a></td></tr>
<tr id="t2019-09-25T08:31:07"><th class="nick" style="background: #854685">yocti</th><td class="text" style="color: #854685">New news from stackoverflow: Unable to show splashscreen using Yocto custom image for iMX6 &lt;<a href="https://stackoverflow.com/questions/58093934/unable-to-show-splashscreen-using-yocto-custom-image-for-imx6&gt;" rel="nofollow">https://stackoverflow.com/questions/58093934/unable-to-show-splashscreen-using-yocto-custom-image-for-imx6&gt;</a></td><td class="time"><a href="#t2019-09-25T08:31:07" class="time">08:31</a></td></tr>
<tr id="t2019-09-25T08:44:03"><th class="nick" style="background: #488888">Smit-Tay</th><td class="text" style="color: #488888">I can't seem to find a way to specify a specific Git commit to use as a patch.&nbsp;&nbsp;Is this supported ?</td><td class="time"><a href="#t2019-09-25T08:44:03" class="time">08:44</a></td></tr>
<tr id="t2019-09-25T08:47:14"><th class="nick" style="background: #407a40">Domin1k</th><td class="text" style="color: #407a40">Smit-Tay: Why don't you use git format-patch to create a patch that you then can apply within your recipe?</td><td class="time"><a href="#t2019-09-25T08:47:14" class="time">08:47</a></td></tr>
<tr id="t2019-09-25T08:49:25"><th class="nick" style="background: #8c4a4a">mranostay</th><td class="text" style="color: #8c4a4a">khem: was wondering is there any plans to upgrade the vboxguestdrivers to the 6.0.x release. see you blacklisted the old 5.2.18 one</td><td class="time"><a href="#t2019-09-25T08:49:25" class="time">08:49</a></td></tr>
<tr id="t2019-09-25T08:52:15"><th class="nick" style="background: #488888">Smit-Tay</th><td class="text" style="color: #488888">A patch already exists in a git repository.&nbsp;&nbsp;Ideally, I would specify the repo and commit ID and bitbake would do the rest.&nbsp;&nbsp;Seems like this ought to be pretty standard</td><td class="time"><a href="#t2019-09-25T08:52:15" class="time">08:52</a></td></tr>
<tr id="t2019-09-25T08:57:42"><th class="nick" style="background: #407a40">Domin1k</th><td class="text" style="color: #407a40">Smit-Tay: So you would like to cherry-pick a specific commit ontop of your SRCREV?</td><td class="time"><a href="#t2019-09-25T08:57:42" class="time">08:57</a></td></tr>
<tr id="t2019-09-25T09:21:31"><th class="nick" style="background: #488888">Smit-Tay</th><td class="text" style="color: #488888">Yes, My particular issue is building tags/yocto-2.7.1 - in this qemu-native doesn't build under Fedora 30 (current).&nbsp;&nbsp;It seems there's a compile error related to changes in kernel headers.&nbsp;&nbsp;So, I am thinking I need to apply a patch, which I think resides here: <a href="https://github.com/patchew-project/qemu" rel="nofollow">https://github.com/patchew-project/qemu</a> tags/patchew/20190604071915.288045-1-borntraeger@de.ibm.com</td><td class="time"><a href="#t2019-09-25T09:21:31" class="time">09:21</a></td></tr>
<tr id="t2019-09-25T09:23:43"><td class="part" colspan="2">*** RP &lt;RP!~RP@5751f4a1.skybroadband.com&gt; has left #yocto</td><td><a href="#t2019-09-25T09:23:43" class="time">09:23</a></td></tr>
<tr id="t2019-09-25T09:24:04"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: sorry, I never got back to you with that data did I? :(</td><td class="time"><a href="#t2019-09-25T09:24:04" class="time">09:24</a></td></tr>
<tr id="t2019-09-25T09:24:48"><th class="nick" style="background: #4d4d93">rburton_</th><td class="text" style="color: #4d4d93">smit-tay: oe-contrib branch thud-next has the fix waiting for you to cherry-pick</td><td class="time"><a href="#t2019-09-25T09:24:48" class="time">09:24</a></td></tr>
<tr id="t2019-09-25T09:29:17"><th class="nick" style="background: #488888">Smit-Tay</th><td class="text" style="color: #488888">rburton:&nbsp;&nbsp;OK, so, how do I find it ?&nbsp;&nbsp; And, how do I apply it via BitBake during the build ?&nbsp;&nbsp; I've looked through the docs, but don't see this covered</td><td class="time"><a href="#t2019-09-25T09:29:17" class="time">09:29</a></td></tr>
<tr id="t2019-09-25T09:32:56"><th class="nick" style="background: #4d4d93">rburton_</th><td class="text" style="color: #4d4d93">Smit-Tay: apply <a href="http://git.openembedded.org/openembedded-core-contrib/patch/?id=fac2d3846dadfda256e94500bdf33f546a8d1fb4" rel="nofollow">http://git.openembedded.org/openembedded-core-contrib/patch/?id=fac2d3846dadfda256e94500bdf33f546a8d1fb4</a> to your tree</td><td class="time"><a href="#t2019-09-25T09:32:56" class="time">09:32</a></td></tr>
<tr id="t2019-09-25T09:33:16"><th class="nick" style="background: #4d4d93">rburton_</th><td class="text" style="color: #4d4d93">if you're using a git checkout of the tag then you can just git am that, or fetch oe-contrib and cherry-pick it</td><td class="time"><a href="#t2019-09-25T09:33:16" class="time">09:33</a></td></tr>
<tr id="t2019-09-25T09:37:17"><th class="nick" style="background: #488888">Smit-Tay</th><td class="text" style="color: #488888">OK, but, that's a manual step which I would have to repeat each time I build.&nbsp;&nbsp;So, if I am automating a build which is going to be performed many times per day via a CI that's not a solution - at least as far as I can understand what you are talking about.&nbsp;&nbsp;What I *think* I need to do is to change the recipe for Qemu so that it automatically applies that patch.&nbsp;&nbsp;Right ?</td><td class="time"><a href="#t2019-09-25T09:37:17" class="time">09:37</a></td></tr>
<tr id="t2019-09-25T09:38:53"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">Smit-Tay: bbappend with the two patches in this commit in SRC_URI +=</td><td class="time"><a href="#t2019-09-25T09:38:53" class="time">09:38</a></td></tr>
<tr id="t2019-09-25T09:40:10"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">or you force your whole layer to checkout this revision instead of the one you currently have (but then you have all patches in between your revision and the new one)</td><td class="time"><a href="#t2019-09-25T09:40:10" class="time">09:40</a></td></tr>
<tr id="t2019-09-25T09:40:18"><th class="nick" style="background: #488888">Smit-Tay</th><td class="text" style="color: #488888">OK, that sounds more like what I am thinking.</td><td class="time"><a href="#t2019-09-25T09:40:18" class="time">09:40</a></td></tr>
<tr id="t2019-09-25T09:40:25"><th class="nick" style="background: #488888">Smit-Tay</th><td class="text" style="color: #488888">exactly, which is what I don't want</td><td class="time"><a href="#t2019-09-25T09:40:25" class="time">09:40</a></td></tr>
<tr id="t2019-09-25T09:54:20"><th class="nick" style="background: #4d4d93">rburton_</th><td class="text" style="color: #4d4d93">i'd personall branch 2.7.1 and cherry-pick that commit</td><td class="time"><a href="#t2019-09-25T09:54:20" class="time">09:54</a></td></tr>
<tr id="t2019-09-25T09:54:39"><th class="nick" style="background: #4d4d93">rburton_</th><td class="text" style="color: #4d4d93">then when 2.7.2 is out, you can switch to that</td><td class="time"><a href="#t2019-09-25T09:54:39" class="time">09:54</a></td></tr>
<tr id="t2019-09-25T09:55:37"><th class="nick" style="background: #4d4d93">rburton_</th><td class="text" style="color: #4d4d93">this is precisely why we endorse using a git clone over tarballs.&nbsp;&nbsp;you can grab fixes before they're released if you need them.</td><td class="time"><a href="#t2019-09-25T09:55:37" class="time">09:55</a></td></tr>
<tr id="t2019-09-25T09:55:54"><td class="nickchange" colspan="2">*** rburton_ is now known as rburton</td><td><a href="#t2019-09-25T09:55:54" class="time">09:55</a></td></tr>
<tr id="t2019-09-25T09:57:27"><th class="nick" style="background: #488888">Smit-Tay</th><td class="text" style="color: #488888">D'Oh</td><td class="time"><a href="#t2019-09-25T09:57:27" class="time">09:57</a></td></tr>
<tr id="t2019-09-25T09:57:55"><th class="nick" style="background: #488888">Smit-Tay</th><td class="text" style="color: #488888">D' Oh, D'Oh.....&nbsp;&nbsp;&nbsp;&nbsp;god, how stupid I feel now</td><td class="time"><a href="#t2019-09-25T09:57:55" class="time">09:57</a></td></tr>
<tr id="t2019-09-25T10:03:24"><th class="nick" style="background: #488888">Smit-Tay</th><td class="text" style="color: #488888">But, wait - now I am confused.&nbsp;&nbsp;Yocto/tag 2.7.1 is just a bunch of recipies.&nbsp;&nbsp;It doesn't include the sources, they're downloaded at build time.&nbsp;&nbsp;So, how do I cherry pick a patch to a "dynamic" set of source files ?</td><td class="time"><a href="#t2019-09-25T10:03:24" class="time">10:03</a></td></tr>
<tr id="t2019-09-25T10:06:33"><th class="nick" style="background: #488888">Smit-Tay</th><td class="text" style="color: #488888">Thus the bbappend solution is basically mandatory</td><td class="time"><a href="#t2019-09-25T10:06:33" class="time">10:06</a></td></tr>
<tr id="t2019-09-25T10:16:44"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">do you have a git clone of poky/oe/yocto whatever?</td><td class="time"><a href="#t2019-09-25T10:16:44" class="time">10:16</a></td></tr>
<tr id="t2019-09-25T10:17:00"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">that commit i pointed to is a fix to the recipe to add a patch during the buid</td><td class="time"><a href="#t2019-09-25T10:17:00" class="time">10:17</a></td></tr>
<tr id="t2019-09-25T10:17:03"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">just cherry-pick that</td><td class="time"><a href="#t2019-09-25T10:17:03" class="time">10:17</a></td></tr>
<tr id="t2019-09-25T10:17:16"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">(or switch to thud-next, and contribute to the testing of that branch)</td><td class="time"><a href="#t2019-09-25T10:17:16" class="time">10:17</a></td></tr>
<tr id="t2019-09-25T10:22:09"><th class="nick" style="background: #488888">Smit-Tay</th><td class="text" style="color: #488888">ahhhh</td><td class="time"><a href="#t2019-09-25T10:22:09" class="time">10:22</a></td></tr>
<tr id="t2019-09-25T10:45:29"><th class="nick" style="background: #488888">Smit-Tay</th><td class="text" style="color: #488888">rburton:&nbsp;&nbsp;Can I ask why this patch is so complicated, and isn't just a bbappend file which applies the cherry pick ?&nbsp;&nbsp; Basically like qschultz has suggested ?</td><td class="time"><a href="#t2019-09-25T10:45:29" class="time">10:45</a></td></tr>
<tr id="t2019-09-25T10:47:24"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">Smit-Tay: why would oe-core need a bbappend to alter its own recipes?</td><td class="time"><a href="#t2019-09-25T10:47:24" class="time">10:47</a></td></tr>
<tr id="t2019-09-25T10:47:34"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">that patch is just the fix, and a one line change to qemu.bb to apply it</td><td class="time"><a href="#t2019-09-25T10:47:34" class="time">10:47</a></td></tr>
<tr id="t2019-09-25T10:47:53"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">feel free to use a bbappend if you don't want to pick this patch</td><td class="time"><a href="#t2019-09-25T10:47:53" class="time">10:47</a></td></tr>
<tr id="t2019-09-25T10:48:00"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">i was just pointing you to something easier than writing a bbappend</td><td class="time"><a href="#t2019-09-25T10:48:00" class="time">10:48</a></td></tr>
<tr id="t2019-09-25T10:48:49"><th class="nick" style="background: #488888">Smit-Tay</th><td class="text" style="color: #488888">Understood.&nbsp;&nbsp;Trying to get the mindset so I can make better decisions myself.</td><td class="time"><a href="#t2019-09-25T10:48:49" class="time">10:48</a></td></tr>
<tr id="t2019-09-25T13:01:42"><th class="nick" style="background: #9b519b">alessioigor</th><td class="text" style="color: #9b519b">jwessel: ping</td><td class="time"><a href="#t2019-09-25T13:01:42" class="time">13:01</a></td></tr>
<tr id="t2019-09-25T13:01:55"><th class="nick" style="background: #854685">yocti</th><td class="text" style="color: #854685">New news from stackoverflow: Yocto Initramfs Transaction Error adding cryptsetup package &lt;<a href="https://stackoverflow.com/questions/58098744/yocto-initramfs-transaction-error-adding-cryptsetup-package&gt;" rel="nofollow">https://stackoverflow.com/questions/58098744/yocto-initramfs-transaction-error-adding-cryptsetup-package&gt;</a></td><td class="time"><a href="#t2019-09-25T13:01:55" class="time">13:01</a></td></tr>
<tr id="t2019-09-25T13:44:47"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: No, you didn't. I would still like the AB hashequiv DB if you can.</td><td class="time"><a href="#t2019-09-25T13:44:47" class="time">13:44</a></td></tr>
<tr id="t2019-09-25T13:49:26"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: its around 820MB. <a href="https://www.rpsys.net/wp/rp/hash/" rel="nofollow">https://www.rpsys.net/wp/rp/hash/</a></td><td class="time"><a href="#t2019-09-25T13:49:26" class="time">13:49</a></td></tr>
<tr id="t2019-09-25T13:50:06"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: I think I know why I can't reproduce. Its because I'm using an "auto" hashserv whilst the autobuilder is a static address</td><td class="time"><a href="#t2019-09-25T13:50:06" class="time">13:50</a></td></tr>
<tr id="t2019-09-25T13:50:34"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: I was wondering if we can just copy the bb_unihashes.dat file into the eSDK?</td><td class="time"><a href="#t2019-09-25T13:50:34" class="time">13:50</a></td></tr>
<tr id="t2019-09-25T13:50:48"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">Ya, thats what I was thinking</td><td class="time"><a href="#t2019-09-25T13:50:48" class="time">13:50</a></td></tr>
<tr id="t2019-09-25T13:59:56"><th class="nick" style="background: #a25555">kroon</th><td class="text" style="color: #a25555">Is it safe to remove build/cache/[bb_codeparser.dat,bb_unihashes.dat], in the sense that they will be recreated automatically ?</td><td class="time"><a href="#t2019-09-25T13:59:56" class="time">13:59</a></td></tr>
<tr id="t2019-09-25T14:00:44"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">kroon: Should be. You might end up rebuilding some things.</td><td class="time"><a href="#t2019-09-25T14:00:44" class="time">14:00</a></td></tr>
<tr id="t2019-09-25T14:01:06"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: Is the eSDK querying the hash server?</td><td class="time"><a href="#t2019-09-25T14:01:06" class="time">14:01</a></td></tr>
<tr id="t2019-09-25T14:02:41"><th class="nick" style="background: #a25555">kroon</th><td class="text" style="color: #a25555">JPEW, or.. are those two files not forever-growing in the same way that the sstate-cache is ?</td><td class="time"><a href="#t2019-09-25T14:02:41" class="time">14:02</a></td></tr>
<tr id="t2019-09-25T14:07:34"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">kroon: Not sure about bb_codeparser.dat, but AFAIK, bb_unihashes.dat will grow indefinitely</td><td class="time"><a href="#t2019-09-25T14:07:34" class="time">14:07</a></td></tr>
<tr id="t2019-09-25T14:08:34"><th class="nick" style="background: #a25555">kroon</th><td class="text" style="color: #a25555">JPEW, ok</td><td class="time"><a href="#t2019-09-25T14:08:34" class="time">14:08</a></td></tr>
<tr id="t2019-09-25T14:09:06"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: depends if it can find one. "auto" would start one locally :/</td><td class="time"><a href="#t2019-09-25T14:09:06" class="time">14:09</a></td></tr>
<tr id="t2019-09-25T14:10:26"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: Ah... the AB would find the one that you have set up though correct?</td><td class="time"><a href="#t2019-09-25T14:10:26" class="time">14:10</a></td></tr>
<tr id="t2019-09-25T14:10:35"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: I suspect so</td><td class="time"><a href="#t2019-09-25T14:10:35" class="time">14:10</a></td></tr>
<tr id="t2019-09-25T14:11:22"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: My current theory is that some other builder has changed the hashes after the eSDK is built but before it runs the tests (and thus reports different hashes in the test)</td><td class="time"><a href="#t2019-09-25T14:11:22" class="time">14:11</a></td></tr>
<tr id="t2019-09-25T14:12:29"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: Haven't gotten to test this yet... running the eSDK test murders my under-powered desktop</td><td class="time"><a href="#t2019-09-25T14:12:29" class="time">14:12</a></td></tr>
<tr id="t2019-09-25T14:17:27"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: how can another builder change the hashes?</td><td class="time"><a href="#t2019-09-25T14:17:27" class="time">14:17</a></td></tr>
<tr id="t2019-09-25T14:18:41"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: you can reduce the tests to the ones that fail</td><td class="time"><a href="#t2019-09-25T14:18:41" class="time">14:18</a></td></tr>
<tr id="t2019-09-25T14:18:53"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: Ya, I'll try that</td><td class="time"><a href="#t2019-09-25T14:18:53" class="time">14:18</a></td></tr>
<tr id="t2019-09-25T14:52:44"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">Hi all, could we backport <a href="https://git.yoctoproject.org/cgit.cgi/poky/commit/meta/conf/machine/include/arm/arch-arm64.inc?id=29edc44efabf605c4ba1d7a5ca34d1a574e0e016" rel="nofollow">https://git.yoctoproject.org/cgit.cgi/poky/commit/meta/conf/machine/include/arm/arch-arm64.inc?id=29edc44efabf605c4ba1d7a5ca34d1a574e0e016</a> to thud maybe?</td><td class="time"><a href="#t2019-09-25T14:52:44" class="time">14:52</a></td></tr>
<tr id="t2019-09-25T15:20:42"><th class="nick" style="background: #9b519b">alessioigor</th><td class="text" style="color: #9b519b">Could someone review my patch (<a href="http://lists.openembedded.org/pipermail/openembedded-core/2019-September/287342.html" rel="nofollow">http://lists.openembedded.org/pipermail/openembedded-core/2019-September/287342.html</a>), please? :)</td><td class="time"><a href="#t2019-09-25T15:20:42" class="time">15:20</a></td></tr>
<tr id="t2019-09-25T15:22:54"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: I'm going to try <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=b346cb9f423ed271fe7fa966a42d3c23093e1a26" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=b346cb9f423ed271fe7fa966a42d3c23093e1a26</a></td><td class="time"><a href="#t2019-09-25T15:22:54" class="time">15:22</a></td></tr>
<tr id="t2019-09-25T15:25:32"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: Looks good. That sounds like a reasonable fix if that is indeed the problem (which I think seems likely)</td><td class="time"><a href="#t2019-09-25T15:25:32" class="time">15:25</a></td></tr>
<tr id="t2019-09-25T15:26:07"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: there are two changes there, copy in the hashes db and fix the siggen mismatch warning for unihashes</td><td class="time"><a href="#t2019-09-25T15:26:07" class="time">15:26</a></td></tr>
<tr id="t2019-09-25T15:26:19"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">since with the latter, the fact they don't match doesn't surprise us</td><td class="time"><a href="#t2019-09-25T15:26:19" class="time">15:26</a></td></tr>
<tr id="t2019-09-25T15:27:26"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: Makes sense, I think. I still don't fully grasp how the locked signatures are supposed to behave, but I'm slowing figuring it out :)</td><td class="time"><a href="#t2019-09-25T15:27:26" class="time">15:27</a></td></tr>
<tr id="t2019-09-25T15:29:00"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: "The signature is X, ignore what else you think it may be" :)</td><td class="time"><a href="#t2019-09-25T15:29:00" class="time">15:29</a></td></tr>
<tr id="t2019-09-25T16:27:37"><th class="nick" style="background: #818144">khem</th><td class="text" style="color: #818144">mranostay: I am open for someone sending a fix and unblacklist it</td><td class="time"><a href="#t2019-09-25T16:27:37" class="time">16:27</a></td></tr>
<tr id="t2019-09-25T16:45:10"><th class="nick" style="background: #818144">khem</th><td class="text" style="color: #818144">halstead: I am seeing "ERROR: HTTP Error 500: OK" when trying to upload logs into errors.yp.org from oe builders</td><td class="time"><a href="#t2019-09-25T16:45:10" class="time">16:45</a></td></tr>
<tr id="t2019-09-25T16:45:18"><th class="nick" style="background: #818144">khem</th><td class="text" style="color: #818144">any hints ? it use to work fine</td><td class="time"><a href="#t2019-09-25T16:45:18" class="time">16:45</a></td></tr>
<tr id="t2019-09-25T17:32:43"><th class="nick" style="background: #854685">yocti</th><td class="text" style="color: #854685">New news from stackoverflow: Modify Yocto image to use Systemd instead of SysVInit &lt;<a href="https://stackoverflow.com/questions/58103574/modify-yocto-image-to-use-systemd-instead-of-sysvinit&gt;" rel="nofollow">https://stackoverflow.com/questions/58103574/modify-yocto-image-to-use-systemd-instead-of-sysvinit&gt;</a></td><td class="time"><a href="#t2019-09-25T17:32:43" class="time">17:32</a></td></tr>
<tr id="t2019-09-25T17:47:58"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">khem: that usually means something in the error report it can't cope with</td><td class="time"><a href="#t2019-09-25T17:47:58" class="time">17:47</a></td></tr>
<tr id="t2019-09-25T17:48:00"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">alessioigor: Pong</td><td class="time"><a href="#t2019-09-25T17:48:00" class="time">17:48</a></td></tr>
<tr id="t2019-09-25T17:48:43"><th class="nick" style="background: #9b519b">alessioigor</th><td class="text" style="color: #9b519b">jwessel: Could you review my patch (<a href="http://lists.openembedded.org/pipermail/openembedded-core/2019-September/287342.html" rel="nofollow">http://lists.openembedded.org/pipermail/openembedded-core/2019-September/287342.html</a>), please?</td><td class="time"><a href="#t2019-09-25T17:48:43" class="time">17:48</a></td></tr>
<tr id="t2019-09-25T17:48:59"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">I was doing more than that.&nbsp;&nbsp;I took a look at the patch, I was trying to test it.</td><td class="time"><a href="#t2019-09-25T17:48:59" class="time">17:48</a></td></tr>
<tr id="t2019-09-25T17:49:14"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">I setup a build a couple hours ago against it.</td><td class="time"><a href="#t2019-09-25T17:49:14" class="time">17:49</a></td></tr>
<tr id="t2019-09-25T17:49:40"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">I'll let you know the results.</td><td class="time"><a href="#t2019-09-25T17:49:40" class="time">17:49</a></td></tr>
<tr id="t2019-09-25T17:50:52"><th class="nick" style="background: #9b519b">alessioigor</th><td class="text" style="color: #9b519b">jwessel: It's kind of you.</td><td class="time"><a href="#t2019-09-25T17:50:52" class="time">17:50</a></td></tr>
<tr id="t2019-09-25T17:53:48"><th class="nick" style="background: #9b519b">alessioigor</th><td class="text" style="color: #9b519b">jwessel: It isn't first time that you test my patches... ;)</td><td class="time"><a href="#t2019-09-25T17:53:48" class="time">17:53</a></td></tr>
<tr id="t2019-09-25T17:53:53"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">I wanted to make sure it still works.&nbsp;&nbsp;I couldn't tell by just looking at the code that it still going to do the right thing&nbsp;&nbsp;or not for additional partitions which reference another directory for the content.</td><td class="time"><a href="#t2019-09-25T17:53:53" class="time">17:53</a></td></tr>
<tr id="t2019-09-25T17:54:47"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: that didn't fix the AB failure FWIW but did quieten the warnings</td><td class="time"><a href="#t2019-09-25T17:54:47" class="time">17:54</a></td></tr>
<tr id="t2019-09-25T17:58:50"><th class="nick" style="background: #818144">khem</th><td class="text" style="color: #818144">RP:hmm I wonder how we can debug it</td><td class="time"><a href="#t2019-09-25T17:58:50" class="time">17:58</a></td></tr>
<tr id="t2019-09-25T18:02:57"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">khem: I've setup a local server before to do it. You can also copy the error report file off the worker to test submission locally</td><td class="time"><a href="#t2019-09-25T18:02:57" class="time">18:02</a></td></tr>
<tr id="t2019-09-25T18:17:37"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">alessioigor: The build finally finished.&nbsp;&nbsp;It is back to the old behavior of using what ever the first computed volume for each partition, which is what the original commit changed.</td><td class="time"><a href="#t2019-09-25T18:17:37" class="time">18:17</a></td></tr>
<tr id="t2019-09-25T18:17:46"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">I suspected that would happen.</td><td class="time"><a href="#t2019-09-25T18:17:46" class="time">18:17</a></td></tr>
<tr id="t2019-09-25T18:20:28"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">If you try to set the IMAGE_ROOTFS_SIZE to be the empty string, then the tar image bit fails.</td><td class="time"><a href="#t2019-09-25T18:20:28" class="time">18:20</a></td></tr>
<tr id="t2019-09-25T18:22:50"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">alessioigor: What is the behavior you are seeking, or rather what is broken with wic?&nbsp;&nbsp; It does have the ability to use a fixed or suggested size for a partition.</td><td class="time"><a href="#t2019-09-25T18:22:50" class="time">18:22</a></td></tr>
<tr id="t2019-09-25T18:23:07"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">I think the IMAGE_ROOTFS_SIZE happens to be used for more than one purpose however.</td><td class="time"><a href="#t2019-09-25T18:23:07" class="time">18:23</a></td></tr>
<tr id="t2019-09-25T18:36:23"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: Ok. I'll keep trying</td><td class="time"><a href="#t2019-09-25T18:36:23" class="time">18:36</a></td></tr>
<tr id="t2019-09-25T18:41:55"><th class="nick" style="background: #5959a9">mischief</th><td class="text" style="color: #5959a9">khem: re: dep or rdep, i'm using MACHINE_ESSENTIAL_EXTRA_RDEPENDS, which is pulled in via PACKAGE_INSTALL to my initramfs.</td><td class="time"><a href="#t2019-09-25T18:41:55" class="time">18:41</a></td></tr>
<tr id="t2019-09-25T18:45:47"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: finally reproduced locally. Had to use a shared hashserv and ssate cache and two different build directories</td><td class="time"><a href="#t2019-09-25T18:45:47" class="time">18:45</a></td></tr>
<tr id="t2019-09-25T18:46:13"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: no idea what is wrong but its a start</td><td class="time"><a href="#t2019-09-25T18:46:13" class="time">18:46</a></td></tr>
<tr id="t2019-09-25T18:46:21"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: Interesting, is that with the bb_unihash.dat in the eSDK?</td><td class="time"><a href="#t2019-09-25T18:46:21" class="time">18:46</a></td></tr>
<tr id="t2019-09-25T18:46:34"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: yes, that is with the patch in -next</td><td class="time"><a href="#t2019-09-25T18:46:34" class="time">18:46</a></td></tr>
<tr id="t2019-09-25T18:47:23"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: Did the warnings appear?</td><td class="time"><a href="#t2019-09-25T18:47:23" class="time">18:47</a></td></tr>
<tr id="t2019-09-25T18:47:39"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: no, warnings are silenced</td><td class="time"><a href="#t2019-09-25T18:47:39" class="time">18:47</a></td></tr>
<tr id="t2019-09-25T18:48:07"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: looks like <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/59/builds/1071" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/59/builds/1071</a></td><td class="time"><a href="#t2019-09-25T18:48:07" class="time">18:48</a></td></tr>
<tr id="t2019-09-25T18:48:15"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">(step2c there failed)</td><td class="time"><a href="#t2019-09-25T18:48:15" class="time">18:48</a></td></tr>
<tr id="t2019-09-25T18:49:16"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: Which means the locked hash matched the unihash (or taskhash)</td><td class="time"><a href="#t2019-09-25T18:49:16" class="time">18:49</a></td></tr>
<tr id="t2019-09-25T18:49:34"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: yes</td><td class="time"><a href="#t2019-09-25T18:49:34" class="time">18:49</a></td></tr>
<tr id="t2019-09-25T18:55:19"><th class="nick" style="background: #818144">khem</th><td class="text" style="color: #818144">mischief: you mean IMAGE_INSTALL</td><td class="time"><a href="#t2019-09-25T18:55:19" class="time">18:55</a></td></tr>
<tr id="t2019-09-25T18:56:18"><th class="nick" style="background: #adad5b">tgoodwin</th><td class="text" style="color: #adad5b">Has anyone seen gnulib fail at do_install when being restored from sstate?</td><td class="time"><a href="#t2019-09-25T18:56:18" class="time">18:56</a></td></tr>
<tr id="t2019-09-25T19:17:46"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">tgoodwin: an old release?</td><td class="time"><a href="#t2019-09-25T19:17:46" class="time">19:17</a></td></tr>
<tr id="t2019-09-25T19:18:42"><th class="nick" style="background: #5959a9">mischief</th><td class="text" style="color: #5959a9">khem: no, im using PACKAGE_INSTALL. maybe thats my mistake?</td><td class="time"><a href="#t2019-09-25T19:18:42" class="time">19:18</a></td></tr>
<tr id="t2019-09-25T19:19:06"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">tgoodwin: I'm thinking of something else now I look...</td><td class="time"><a href="#t2019-09-25T19:19:06" class="time">19:19</a></td></tr>
<tr id="t2019-09-25T19:38:11"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">alessioigor: I sent you the fix, which makes your use case and mine work together.</td><td class="time"><a href="#t2019-09-25T19:38:11" class="time">19:38</a></td></tr>
<tr id="t2019-09-25T19:38:31"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">There is an explanation attached too.</td><td class="time"><a href="#t2019-09-25T19:38:31" class="time">19:38</a></td></tr>
<tr id="t2019-09-25T19:42:33"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jwessel: are there extra tests we should have for this?</td><td class="time"><a href="#t2019-09-25T19:42:33" class="time">19:42</a></td></tr>
<tr id="t2019-09-25T19:42:49"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">RP: probably.</td><td class="time"><a href="#t2019-09-25T19:42:49" class="time">19:42</a></td></tr>
<tr id="t2019-09-25T19:43:01"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">I hadn't given it much thought about creating wic tests.</td><td class="time"><a href="#t2019-09-25T19:43:01" class="time">19:43</a></td></tr>
<tr id="t2019-09-25T19:43:12"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jwessel: wic does have a lot of tests already</td><td class="time"><a href="#t2019-09-25T19:43:12" class="time">19:43</a></td></tr>
<tr id="t2019-09-25T19:43:25"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jwessel: oe-selftest -r wic</td><td class="time"><a href="#t2019-09-25T19:43:25" class="time">19:43</a></td></tr>
<tr id="t2019-09-25T19:43:54"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jwessel: see lib/oeqa/selftest/cases/wic.py</td><td class="time"><a href="#t2019-09-25T19:43:54" class="time">19:43</a></td></tr>
<tr id="t2019-09-25T19:44:14"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">My guess is that doesn't have any which test the size of the images using the dynamic partition sizing.</td><td class="time"><a href="#t2019-09-25T19:44:14" class="time">19:44</a></td></tr>
<tr id="t2019-09-25T19:44:27"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jwessel: highly likely</td><td class="time"><a href="#t2019-09-25T19:44:27" class="time">19:44</a></td></tr>
<tr id="t2019-09-25T19:44:49"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">% oe-selftest -r wic</td><td class="time"><a href="#t2019-09-25T19:44:49" class="time">19:44</a></td></tr>
<tr id="t2019-09-25T19:44:49"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">2019-09-25 12:44:11,644 - oe-selftest - WARNING - meta-selftest layer not found in BBLAYERS, adding it</td><td class="time"><a href="#t2019-09-25T19:44:49" class="time">19:44</a></td></tr>
<tr id="t2019-09-25T19:44:49"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">2019-09-25 12:44:16,463 - oe-selftest - ERROR - Please unset SANITY_TESTED_DISTROS in order to run oe-selftest</td><td class="time"><a href="#t2019-09-25T19:44:49" class="time">19:44</a></td></tr>
<tr id="t2019-09-25T19:44:58"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">hmm...&nbsp;&nbsp;I am not even sure what that means.</td><td class="time"><a href="#t2019-09-25T19:44:58" class="time">19:44</a></td></tr>
<tr id="t2019-09-25T19:45:10"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jwessel: put SANITY_TESTED_DISTROS="" in local.conf</td><td class="time"><a href="#t2019-09-25T19:45:10" class="time">19:45</a></td></tr>
<tr id="t2019-09-25T19:45:31"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">we do need to make it handle this kind of thing better but its harder than you'd think</td><td class="time"><a href="#t2019-09-25T19:45:31" class="time">19:45</a></td></tr>
<tr id="t2019-09-25T19:45:35"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">heh... probably ought to patch that.</td><td class="time"><a href="#t2019-09-25T19:45:35" class="time">19:45</a></td></tr>
<tr id="t2019-09-25T19:45:40"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">The message that is.</td><td class="time"><a href="#t2019-09-25T19:45:40" class="time">19:45</a></td></tr>
<tr id="t2019-09-25T19:45:57"><td class="action" colspan="2">* jwessel runs it to see what it does</td><td><a href="#t2019-09-25T19:45:57" class="time">19:45</a></td></tr>
<tr id="t2019-09-25T19:46:05"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">unset or clear would be more understandable</td><td class="time"><a href="#t2019-09-25T19:46:05" class="time">19:46</a></td></tr>
<tr id="t2019-09-25T19:46:41"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">I was going to send a patch that changes it literally to what you told me.</td><td class="time"><a href="#t2019-09-25T19:46:41" class="time">19:46</a></td></tr>
<tr id="t2019-09-25T19:47:13"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">Please add SANITY_TESTED_DISTROS="" to your local.conf in order to run oe-selftest</td><td class="time"><a href="#t2019-09-25T19:47:13" class="time">19:47</a></td></tr>
<tr id="t2019-09-25T19:47:20"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jwessel: well, you could also unset it</td><td class="time"><a href="#t2019-09-25T19:47:20" class="time">19:47</a></td></tr>
<tr id="t2019-09-25T19:47:31"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">Where is it set?</td><td class="time"><a href="#t2019-09-25T19:47:31" class="time">19:47</a></td></tr>
<tr id="t2019-09-25T19:47:50"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jwessel: probably in your distro config somewhere (poky sets it if you're using that)</td><td class="time"><a href="#t2019-09-25T19:47:50" class="time">19:47</a></td></tr>
<tr id="t2019-09-25T19:47:59"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">I was using the poky.</td><td class="time"><a href="#t2019-09-25T19:47:59" class="time">19:47</a></td></tr>
<tr id="t2019-09-25T19:48:13"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">it'll be poky.conf then</td><td class="time"><a href="#t2019-09-25T19:48:13" class="time">19:48</a></td></tr>
<tr id="t2019-09-25T19:48:24"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">In general that is what I use for all the oe submissions since everyone has it.</td><td class="time"><a href="#t2019-09-25T19:48:24" class="time">19:48</a></td></tr>
<tr id="t2019-09-25T19:49:27"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">hi all, is there a way to specify LICENSE_FLAGS_WHITELIST in an image recipe in a layer, instead of having it in build/local.conf?</td><td class="time"><a href="#t2019-09-25T19:49:27" class="time">19:49</a></td></tr>
<tr id="t2019-09-25T19:50:04"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">an related, how would one integrate with builders like jenkins when this var is specified in build/local.conf? inject it with a script?</td><td class="time"><a href="#t2019-09-25T19:50:04" class="time">19:50</a></td></tr>
<tr id="t2019-09-25T19:50:12"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">s/an related/and related/</td><td class="time"><a href="#t2019-09-25T19:50:12" class="time">19:50</a></td></tr>
<tr id="t2019-09-25T19:50:47"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">marble_visions: CI systems usually generate some configuration into a conf/auto.conf which has similar behaviour to local.conf</td><td class="time"><a href="#t2019-09-25T19:50:47" class="time">19:50</a></td></tr>
<tr id="t2019-09-25T19:51:46"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">RP: yep, can definitely do that, was wondering if that was canonical, or there was some other way to incorporate license whitelists in image recipes</td><td class="time"><a href="#t2019-09-25T19:51:46" class="time">19:51</a></td></tr>
<tr id="t2019-09-25T19:52:49"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">RP: The existing tests are fairly comprehensive.&nbsp;&nbsp;It is simply the case there is no test for the dynamic partition sizing.&nbsp;&nbsp;I can add it to my backlog of things to look at, at some point.</td><td class="time"><a href="#t2019-09-25T19:52:49" class="time">19:52</a></td></tr>
<tr id="t2019-09-25T19:53:02"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">That is one way to stop it from breaking in the future :-)</td><td class="time"><a href="#t2019-09-25T19:53:02" class="time">19:53</a></td></tr>
<tr id="t2019-09-25T19:54:33"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jwessel: wic has good tests which is why I'm a little surprised this isn't tested. Maybe you could file a bug for the fact its missing so we don't forget?</td><td class="time"><a href="#t2019-09-25T19:54:33" class="time">19:54</a></td></tr>
<tr id="t2019-09-25T19:55:06"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">marble_visions: I can't remember if that variable is an image level one or a global configuration one</td><td class="time"><a href="#t2019-09-25T19:55:06" class="time">19:55</a></td></tr>
<tr id="t2019-09-25T19:55:49"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">The reason there is no test has more to do with the fact I added the feature and didn't realize there was extensive tests already in place.</td><td class="time"><a href="#t2019-09-25T19:55:49" class="time">19:55</a></td></tr>
<tr id="t2019-09-25T19:56:25"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">There is also another test missing for adding a resizable fat partition at the end of the image.</td><td class="time"><a href="#t2019-09-25T19:56:25" class="time">19:56</a></td></tr>
<tr id="t2019-09-25T19:56:49"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">I am guilty of adding that feature as well and not realizing I could add a test for it.</td><td class="time"><a href="#t2019-09-25T19:56:49" class="time">19:56</a></td></tr>
<tr id="t2019-09-25T19:56:58"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jwessel: hmm, I should have probably blocked merging on that! ;-)</td><td class="time"><a href="#t2019-09-25T19:56:58" class="time">19:56</a></td></tr>
<tr id="t2019-09-25T19:57:14"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">Most likely.</td><td class="time"><a href="#t2019-09-25T19:57:14" class="time">19:57</a></td></tr>
<tr id="t2019-09-25T19:57:39"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">You know I don't have an issue writing the test cases etc... Just didn't know they were there for wic.</td><td class="time"><a href="#t2019-09-25T19:57:39" class="time">19:57</a></td></tr>
<tr id="t2019-09-25T19:58:07"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">I took some notes down about it, and it will get fixed sometime after we get the release out.</td><td class="time"><a href="#t2019-09-25T19:58:07" class="time">19:58</a></td></tr>
<tr id="t2019-09-25T19:58:12"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jwessel: right, I should have mentioned this before now so I'm partly to blame...</td><td class="time"><a href="#t2019-09-25T19:58:12" class="time">19:58</a></td></tr>
<tr id="t2019-09-25T19:58:30"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jwessel: not everything has good tests but wic does</td><td class="time"><a href="#t2019-09-25T19:58:30" class="time">19:58</a></td></tr>
<tr id="t2019-09-25T19:58:31"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">Nah... fray was harping on oe-qa tests for a long time.</td><td class="time"><a href="#t2019-09-25T19:58:31" class="time">19:58</a></td></tr>
<tr id="t2019-09-25T19:58:43"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">I should have checked it had tests.</td><td class="time"><a href="#t2019-09-25T19:58:43" class="time">19:58</a></td></tr>
<tr id="t2019-09-25T19:58:52"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">Especially since I was adding stuff to it.</td><td class="time"><a href="#t2019-09-25T19:58:52" class="time">19:58</a></td></tr>
<tr id="t2019-09-25T19:59:04"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jwessel: I do try and ensure where we have tests, we keep their coverage correct</td><td class="time"><a href="#t2019-09-25T19:59:04" class="time">19:59</a></td></tr>
<tr id="t2019-09-25T19:59:38"><th class="nick" style="background: #57a657">jwessel</th><td class="text" style="color: #57a657">I like stuff not to break, makes it easier to justify reverts and keep thing working etc...&nbsp;&nbsp;I am a believer too.</td><td class="time"><a href="#t2019-09-25T19:59:38" class="time">19:59</a></td></tr>
<tr id="t2019-09-25T20:02:55"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jwessel: with these tests we shouldn't really need reverts :)</td><td class="time"><a href="#t2019-09-25T20:02:55" class="time">20:02</a></td></tr>
<tr id="t2019-09-25T20:15:49"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: this is starting to make my head hurt. The esdk that fails locally, repeatedly with testsdkext will externally install and work just fine</td><td class="time"><a href="#t2019-09-25T20:15:49" class="time">20:15</a></td></tr>
<tr id="t2019-09-25T20:17:23"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: Ya... it's not very easy to figure out whats going on.</td><td class="time"><a href="#t2019-09-25T20:17:23" class="time">20:17</a></td></tr>
<tr id="t2019-09-25T20:17:31"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: I have an idea though</td><td class="time"><a href="#t2019-09-25T20:17:31" class="time">20:17</a></td></tr>
<tr id="t2019-09-25T20:17:54"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">Need to check and see if it even makes sense</td><td class="time"><a href="#t2019-09-25T20:17:54" class="time">20:17</a></td></tr>
<tr id="t2019-09-25T20:26:37"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=jpew/hash-equivalence&amp;id=2d5fa1545f5531f4692f9dbcb6934c8d00c09291" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=jpew/hash-equivalence&amp;id=2d5fa1545f5531f4692f9dbcb6934c8d00c09291</a></td><td class="time"><a href="#t2019-09-25T20:26:37" class="time">20:26</a></td></tr>
<tr id="t2019-09-25T20:27:22"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: The theory is that lockedhashes isn't populate because no one is calling get_taskhash() anymore</td><td class="time"><a href="#t2019-09-25T20:27:22" class="time">20:27</a></td></tr>
<tr id="t2019-09-25T20:27:47"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">or at least not fully populated</td><td class="time"><a href="#t2019-09-25T20:27:47" class="time">20:27</a></td></tr>
<tr id="t2019-09-25T20:28:30"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: I've wondered about that but that is a parameter error</td><td class="time"><a href="#t2019-09-25T20:28:30" class="time">20:28</a></td></tr>
<tr id="t2019-09-25T20:28:53"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: Hah, ya it is</td><td class="time"><a href="#t2019-09-25T20:28:53" class="time">20:28</a></td></tr>
<tr id="t2019-09-25T20:28:53"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: and wouldn't runqueue call get_taskhash ?</td><td class="time"><a href="#t2019-09-25T20:28:53" class="time">20:28</a></td></tr>
<tr id="t2019-09-25T20:36:43"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: Hmm, yes. I see it also passes around lockedhashes in the taskdata, so it should all be in sync</td><td class="time"><a href="#t2019-09-25T20:36:43" class="time">20:36</a></td></tr>
<tr id="t2019-09-25T21:05:46"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: right :/</td><td class="time"><a href="#t2019-09-25T21:05:46" class="time">21:05</a></td></tr>
<tr id="t2019-09-25T21:08:51"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: I have a bit more data on the failure case</td><td class="time"><a href="#t2019-09-25T21:08:51" class="time">21:08</a></td></tr>
<tr id="t2019-09-25T21:09:15"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: myapp.bb:do_packagedata only depends on myapp.bb:do_package</td><td class="time"><a href="#t2019-09-25T21:09:15" class="time">21:09</a></td></tr>
<tr id="t2019-09-25T21:09:38"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">myapp.bb:do_package 83c471cb25be6a8f2859151654336c601449782719c6f222db0f178048adc85d</td><td class="time"><a href="#t2019-09-25T21:09:38" class="time">21:09</a></td></tr>
<tr id="t2019-09-25T21:09:38"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Uni: myapp.bb:do_package 39805da03d7f02671cfe599936ec72ce08893de550c9c1660cfcd55acf32ab82</td><td class="time"><a href="#t2019-09-25T21:09:38" class="time">21:09</a></td></tr>
<tr id="t2019-09-25T21:09:56"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">So do_package does have a different unihash to taskhash</td><td class="time"><a href="#t2019-09-25T21:09:56" class="time">21:09</a></td></tr>
<tr id="t2019-09-25T21:10:28"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: the hash being used in the calc_taskhash is the taskhash, not the unihash</td><td class="time"><a href="#t2019-09-25T21:10:28" class="time">21:10</a></td></tr>
<tr id="t2019-09-25T21:11:33"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: which suggests data['runtaskhashes'][dep] = self.get_unihash(dep) gets the wrong thing</td><td class="time"><a href="#t2019-09-25T21:11:33" class="time">21:11</a></td></tr>
<tr id="t2019-09-25T21:16:14"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: do_package for that task shouldn't be locked?</td><td class="time"><a href="#t2019-09-25T21:16:14" class="time">21:16</a></td></tr>
<tr id="t2019-09-25T21:18:02"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: no, since myapp is something its building with the sdk</td><td class="time"><a href="#t2019-09-25T21:18:02" class="time">21:18</a></td></tr>
<tr id="t2019-09-25T21:19:31"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: Well, it's not setscene (AFAIK) so get_unihash() should return the taskhash</td><td class="time"><a href="#t2019-09-25T21:19:31" class="time">21:19</a></td></tr>
<tr id="t2019-09-25T21:20:57"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: its hitting&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # If its not a setscene task we can return</td><td class="time"><a href="#t2019-09-25T21:20:57" class="time">21:20</a></td></tr>
<tr id="t2019-09-25T21:20:57"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if self.setscenetasks and tid not in self.setscenetasks</td><td class="time"><a href="#t2019-09-25T21:20:57" class="time">21:20</a></td></tr>
<tr id="t2019-09-25T21:21:03"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: so its my optimisation :(</td><td class="time"><a href="#t2019-09-25T21:21:03" class="time">21:21</a></td></tr>
<tr id="t2019-09-25T21:21:20"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: do_package is a setscene task?</td><td class="time"><a href="#t2019-09-25T21:21:20" class="time">21:21</a></td></tr>
<tr id="t2019-09-25T21:21:35"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">Right... I suppose the question is why does a non-setscene task have a unihash?</td><td class="time"><a href="#t2019-09-25T21:21:35" class="time">21:21</a></td></tr>
<tr id="t2019-09-25T21:22:25"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: it is a setscene task</td><td class="time"><a href="#t2019-09-25T21:22:25" class="time">21:22</a></td></tr>
<tr id="t2019-09-25T21:22:37"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">do_package?</td><td class="time"><a href="#t2019-09-25T21:22:37" class="time">21:22</a></td></tr>
<tr id="t2019-09-25T21:22:50"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: well it has a setscene task</td><td class="time"><a href="#t2019-09-25T21:22:50" class="time">21:22</a></td></tr>
<tr id="t2019-09-25T21:23:00"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">Ah, OK, I missed that</td><td class="time"><a href="#t2019-09-25T21:23:00" class="time">21:23</a></td></tr>
<tr id="t2019-09-25T21:41:27"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: This is looking to be a very silly mistake :/</td><td class="time"><a href="#t2019-09-25T21:41:27" class="time">21:41</a></td></tr>
<tr id="t2019-09-25T21:50:19"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: <a href="http://git.yoctoproject.org/cgit.cgi/poky/commit/?h=master-next&amp;id=1e8ef4aed8d3030f43ac89870fa7858832532e9e" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky/commit/?h=master-next&amp;id=1e8ef4aed8d3030f43ac89870fa7858832532e9e</a></td><td class="time"><a href="#t2019-09-25T21:50:19" class="time">21:50</a></td></tr>
<tr id="t2019-09-25T21:50:26"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">maybe...</td><td class="time"><a href="#t2019-09-25T21:50:26" class="time">21:50</a></td></tr>
<tr id="t2019-09-25T22:03:22"><td class="action" colspan="2">* RP lets the autobuilder crunch that and aims for sleep</td><td><a href="#t2019-09-25T22:03:22" class="time">22:03</a></td></tr>
<tr id="t2019-09-25T22:30:44"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: setting the setscene tasks sooner is the fix?</td><td class="time"><a href="#t2019-09-25T22:30:44" class="time">22:30</a></td></tr>
<tr id="t2019-09-25T22:31:59"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: The stuff in set_unihash doesn't seem as critical. if that were even getting called I would expect the bb.fatal to trigger</td><td class="time"><a href="#t2019-09-25T22:31:59" class="time">22:31</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-09-24.log.html">&#171; Tuesday, 2019-09-24</a> <a href="index.html">Index</a> <a href="%23yocto.2019-09-26.log.html">Thursday, 2019-09-26 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
