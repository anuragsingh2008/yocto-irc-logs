<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Thursday, 2019-04-25</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Thursday, 2019-04-25</h1>
<div class="navigation"> <a href="%23yocto.2019-04-24.log.html">&#171; Wednesday, 2019-04-24</a> <a href="index.html">Index</a> <a href="%23yocto.2019-04-26.log.html">Friday, 2019-04-26 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-04-25T02:18:25"><th class="nick" style="background: #407a40">yocti</th><td class="text" style="color: #407a40">New news from stackoverflow: Yocto: Nothing provides python-re-native &lt;<a href="https://stackoverflow.com/questions/55840781/yocto-nothing-provides-python-re-native&gt;" rel="nofollow">https://stackoverflow.com/questions/55840781/yocto-nothing-provides-python-re-native&gt;</a></td><td class="time"><a href="#t2019-04-25T02:18:25" class="time">02:18</a></td></tr>
<tr id="t2019-04-25T06:51:39"><td class="part" colspan="2">*** jeanba &lt;jeanba!~jbl@77.243.63.34&gt; has left #yocto</td><td><a href="#t2019-04-25T06:51:39" class="time">06:51</a></td></tr>
<tr id="t2019-04-25T07:50:42"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2019-04-25T07:50:42" class="time">07:50</a></td></tr>
<tr id="t2019-04-25T09:10:13"><th class="nick" style="background: #42427e">miwa</th><td class="text" style="color: #42427e">so, throwing this out there as someone here might now. Is there a small, standalone, user-initiated tftp server for linux? Ideally, it'd run command-line without daemonizing and would read configuration either from arguments or from a small cfg file not placed globally (i.e. in /etc)</td><td class="time"><a href="#t2019-04-25T09:10:13" class="time">09:10</a></td></tr>
<tr id="t2019-04-25T09:12:51"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">miwa: busybox tftpd not fitting the bill?</td><td class="time"><a href="#t2019-04-25T09:12:51" class="time">09:12</a></td></tr>
<tr id="t2019-04-25T09:14:19"><th class="nick" style="background: #854685">xtron</th><td class="text" style="color: #854685">is it ok to inherit a class in recipe multiple time?</td><td class="time"><a href="#t2019-04-25T09:14:19" class="time">09:14</a></td></tr>
<tr id="t2019-04-25T09:14:48"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">xtron: for what use?</td><td class="time"><a href="#t2019-04-25T09:14:48" class="time">09:14</a></td></tr>
<tr id="t2019-04-25T09:16:07"><th class="nick" style="background: #42427e">miwa</th><td class="text" style="color: #42427e">LetoThe2nd: even busybox's tftpd's documentation says "should be used as an inetd service", so no I guess even if there might be a way to run it in the foreground?</td><td class="time"><a href="#t2019-04-25T09:16:07" class="time">09:16</a></td></tr>
<tr id="t2019-04-25T09:16:08"><th class="nick" style="background: #854685">xtron</th><td class="text" style="color: #854685">LetoThe2nd, making some code common, there is a case when a recipe can require 'common.inc' 'other.inc' both inherit kernel for example</td><td class="time"><a href="#t2019-04-25T09:16:08" class="time">09:16</a></td></tr>
<tr id="t2019-04-25T09:16:47"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">miwa: "should" does not mean "must"</td><td class="time"><a href="#t2019-04-25T09:16:47" class="time">09:16</a></td></tr>
<tr id="t2019-04-25T09:16:53"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">miwa: i'd just give it a try</td><td class="time"><a href="#t2019-04-25T09:16:53" class="time">09:16</a></td></tr>
<tr id="t2019-04-25T09:17:46"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">xtron: i don't get it. do you mean you want multiple require lines? in that case: yes. do you mean you want to require the very same include multiple times? in that case: rethink your code.</td><td class="time"><a href="#t2019-04-25T09:17:46" class="time">09:17</a></td></tr>
<tr id="t2019-04-25T09:18:23"><th class="nick" style="background: #854685">xtron</th><td class="text" style="color: #854685">LetoThe2nd, obviously these *.inc files inheriting other stuff too, but 'inherit kernel' is an example of common include</td><td class="time"><a href="#t2019-04-25T09:18:23" class="time">09:18</a></td></tr>
<tr id="t2019-04-25T09:19:03"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">xtron: sounds very much like "rethink your code"</td><td class="time"><a href="#t2019-04-25T09:19:03" class="time">09:19</a></td></tr>
<tr id="t2019-04-25T09:21:07"><th class="nick" style="background: #854685">xtron</th><td class="text" style="color: #854685">LetoThe2nd, I'm using multiple require lines,</td><td class="time"><a href="#t2019-04-25T09:21:07" class="time">09:21</a></td></tr>
<tr id="t2019-04-25T09:28:30"><td class="part" colspan="2">*** Hodhr &lt;Hodhr!~Hodhr@162.206.70.37.rev.sfr.net&gt; has left #yocto</td><td><a href="#t2019-04-25T09:28:30" class="time">09:28</a></td></tr>
<tr id="t2019-04-25T09:31:19"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">Hi. Is it normal behaviour to have a setscene tasks run for a recipe and then mid-building an image that said recipe to actually start building? I'm having an issue with my kernel recipe. I can see the logs in the SetScene part that it successfully executes do_package_write_ipk_setscene, but then when it get to the RunQueue stage is starts doing fetch/compile/etc/install and do_deploy (but not do_package).</td><td class="time"><a href="#t2019-04-25T09:31:19" class="time">09:31</a></td></tr>
<tr id="t2019-04-25T09:31:41"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">The problem is that the zImage that ends up in the image is different than the one in tmp/deploy/images/....</td><td class="time"><a href="#t2019-04-25T09:31:41" class="time">09:31</a></td></tr>
<tr id="t2019-04-25T09:32:23"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">This confuses me, I assumed that when bitbake computes the tasks it knows before hand that a recipe it's either pulled from sstate or is completely build, not doing half-half</td><td class="time"><a href="#t2019-04-25T09:32:23" class="time">09:32</a></td></tr>
<tr id="t2019-04-25T09:32:33"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">This is on sumo, btw</td><td class="time"><a href="#t2019-04-25T09:32:33" class="time">09:32</a></td></tr>
<tr id="t2019-04-25T09:55:11"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">Sorry, thud</td><td class="time"><a href="#t2019-04-25T09:55:11" class="time">09:55</a></td></tr>
<tr id="t2019-04-25T11:09:59"><th class="nick" style="background: #8c4a4a">paulbarker</th><td class="text" style="color: #8c4a4a">blitz00: What's the kernel recipe? Does it inherit the deploy bbclass?</td><td class="time"><a href="#t2019-04-25T11:09:59" class="time">11:09</a></td></tr>
<tr id="t2019-04-25T11:16:51"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: there is a patch mentioned on the netdev list which might fix the python test hang</td><td class="time"><a href="#t2019-04-25T11:16:51" class="time">11:16</a></td></tr>
<tr id="t2019-04-25T11:17:10"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: someone else ran into a problem too</td><td class="time"><a href="#t2019-04-25T11:17:10" class="time">11:17</a></td></tr>
<tr id="t2019-04-25T12:51:01"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">paulbarker: it only inherits kernel</td><td class="time"><a href="#t2019-04-25T12:51:01" class="time">12:51</a></td></tr>
<tr id="t2019-04-25T12:51:49"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">paulbarker: but yes, kernel.bbclass inherits deploy</td><td class="time"><a href="#t2019-04-25T12:51:49" class="time">12:51</a></td></tr>
<tr id="t2019-04-25T12:54:38"><th class="nick" style="background: #8c4a4a">paulbarker</th><td class="text" style="color: #8c4a4a">blitz00: Ok, my first guess was that you should be seeing do_deploy_setscene as well as do_package_write_ipk_setscene. But if the deploy bbclass is inherited that should be handled unless there's something messing with the do_deploy function</td><td class="time"><a href="#t2019-04-25T12:54:38" class="time">12:54</a></td></tr>
<tr id="t2019-04-25T12:54:58"><th class="nick" style="background: #8c4a4a">paulbarker</th><td class="text" style="color: #8c4a4a">Perhaps you need to post this one to the mailing list with some more info</td><td class="time"><a href="#t2019-04-25T12:54:58" class="time">12:54</a></td></tr>
<tr id="t2019-04-25T13:04:06"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">blitz00: it suggests something has a dependency which isn't being met from the sstate covered tasks and hence something triggers a kernel build</td><td class="time"><a href="#t2019-04-25T13:04:06" class="time">13:04</a></td></tr>
<tr id="t2019-04-25T13:04:52"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">blitz00: the system will gracefully handle it by rebuilding it which is what its designed to do (graceful fallback), it can sometimes be tricky to work out which dependency causes it though</td><td class="time"><a href="#t2019-04-25T13:04:52" class="time">13:04</a></td></tr>
<tr id="t2019-04-25T13:14:11"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">RP: ah okay. So restoring from sstate and then rebuilding is normal behaviour. I always assumed that the system figures out at the beginning if something will be used from sstate or built, and not run both setscene and runqueue tasks</td><td class="time"><a href="#t2019-04-25T13:14:11" class="time">13:14</a></td></tr>
<tr id="t2019-04-25T13:15:19"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">RP: however, it seems the triggered rebuild is not complete, not all tasks are run at the rebuild, hence my assumption that I end up with different zImage in different places. Let me pastebin something</td><td class="time"><a href="#t2019-04-25T13:15:19" class="time">13:15</a></td></tr>
<tr id="t2019-04-25T13:15:26"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">blitz00: its suboptimal but not an error as such depending on what was in the sstate cache</td><td class="time"><a href="#t2019-04-25T13:15:26" class="time">13:15</a></td></tr>
<tr id="t2019-04-25T13:16:14"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">blitz00: you shouldn't get a different zImage, it may get changed if the zImage task hasn't run yet though</td><td class="time"><a href="#t2019-04-25T13:16:14" class="time">13:16</a></td></tr>
<tr id="t2019-04-25T13:16:36"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">(probably do_deploy for the case you're talking about)</td><td class="time"><a href="#t2019-04-25T13:16:36" class="time">13:16</a></td></tr>
<tr id="t2019-04-25T13:26:43"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">RP: <a href="https://pastebin.com/a4Tq9mED" rel="nofollow">https://pastebin.com/a4Tq9mED</a> and <a href="https://pastebin.com/D0F72dvY" rel="nofollow">https://pastebin.com/D0F72dvY</a></td><td class="time"><a href="#t2019-04-25T13:26:43" class="time">13:26</a></td></tr>
<tr id="t2019-04-25T13:26:59"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">what bugs me is that do_deploy does run at rebuild</td><td class="time"><a href="#t2019-04-25T13:26:59" class="time">13:26</a></td></tr>
<tr id="t2019-04-25T13:27:08"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">but I see no do_package_ipk, nothing after do_install</td><td class="time"><a href="#t2019-04-25T13:27:08" class="time">13:27</a></td></tr>
<tr id="t2019-04-25T13:28:15"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">at this point I don't understand if the kernel in the image is the wrong one, or the one in deploy. Problem is that I have signed modules enabled, and it using the kernel in deploy it doesn't boot, but the one in /boot works</td><td class="time"><a href="#t2019-04-25T13:28:15" class="time">13:28</a></td></tr>
<tr id="t2019-04-25T13:28:47"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">that means that either the modules in the image are themselves the old ones or are the new built ones</td><td class="time"><a href="#t2019-04-25T13:28:47" class="time">13:28</a></td></tr>
<tr id="t2019-04-25T13:30:07"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">on my setup I should be able to boot with the kernel in the image or the one in deploy, it shouldn't matter... unless I get a build like this one, when the kernel from deploy is bad because it contains a different signature than the modules</td><td class="time"><a href="#t2019-04-25T13:30:07" class="time">13:30</a></td></tr>
<tr id="t2019-04-25T13:37:26"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">RP, regarding the manual sdk test.&nbsp;&nbsp;maybe its a special case selftest but lives in a "release" dir</td><td class="time"><a href="#t2019-04-25T13:37:26" class="time">13:37</a></td></tr>
<tr id="t2019-04-25T13:38:19"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">armpit: not sure I follow? :/</td><td class="time"><a href="#t2019-04-25T13:38:19" class="time">13:38</a></td></tr>
<tr id="t2019-04-25T13:38:48"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">that manual test can be automated using the selftest classes</td><td class="time"><a href="#t2019-04-25T13:38:48" class="time">13:38</a></td></tr>
<tr id="t2019-04-25T13:39:09"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">but you don't want to run it every time you run selftests</td><td class="time"><a href="#t2019-04-25T13:39:09" class="time">13:39</a></td></tr>
<tr id="t2019-04-25T13:39:34"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">it needs to be aware of where the release artifacts are</td><td class="time"><a href="#t2019-04-25T13:39:34" class="time">13:39</a></td></tr>
<tr id="t2019-04-25T13:40:32"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">so have&nbsp;&nbsp;a release dir might make sense to indicate things to be run for release or at release time</td><td class="time"><a href="#t2019-04-25T13:40:32" class="time">13:40</a></td></tr>
<tr id="t2019-04-25T13:40:55"><td class="action" colspan="2">* armpit maybe a patch might make more sense ; )</td><td><a href="#t2019-04-25T13:40:55" class="time">13:40</a></td></tr>
<tr id="t2019-04-25T13:41:53"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">armpit: I understand now</td><td class="time"><a href="#t2019-04-25T13:41:53" class="time">13:41</a></td></tr>
<tr id="t2019-04-25T13:41:59"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">we have a 24 hour crashme test that might be better suit living there too</td><td class="time"><a href="#t2019-04-25T13:41:59" class="time">13:41</a></td></tr>
<tr id="t2019-04-25T13:42:18"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">armpit: with regard to the 24 crashme, I'm quite happy to move that to be a "BSP" test</td><td class="time"><a href="#t2019-04-25T13:42:18" class="time">13:42</a></td></tr>
<tr id="t2019-04-25T13:42:35"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">armpit: its more poking at hardware than software</td><td class="time"><a href="#t2019-04-25T13:42:35" class="time">13:42</a></td></tr>
<tr id="t2019-04-25T13:42:42"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">yeah, it should be because its very BSP specific</td><td class="time"><a href="#t2019-04-25T13:42:42" class="time">13:42</a></td></tr>
<tr id="t2019-04-25T13:43:15"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">armpit: Perhaps for release we should have a separate release sanity test as part of the final release process?</td><td class="time"><a href="#t2019-04-25T13:43:15" class="time">13:43</a></td></tr>
<tr id="t2019-04-25T13:43:52"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">sure</td><td class="time"><a href="#t2019-04-25T13:43:52" class="time">13:43</a></td></tr>
<tr id="t2019-04-25T13:45:39"><td class="action" colspan="2">* armpit might even automate the release process ; )</td><td><a href="#t2019-04-25T13:45:39" class="time">13:45</a></td></tr>
<tr id="t2019-04-25T13:45:49"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">armpit: there are scripts already</td><td class="time"><a href="#t2019-04-25T13:45:49" class="time">13:45</a></td></tr>
<tr id="t2019-04-25T13:46:09"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">yeah. but the the AB do it</td><td class="time"><a href="#t2019-04-25T13:46:09" class="time">13:46</a></td></tr>
<tr id="t2019-04-25T13:46:10"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">armpit: digging into them is something I haven't gotten around to yet</td><td class="time"><a href="#t2019-04-25T13:46:10" class="time">13:46</a></td></tr>
<tr id="t2019-04-25T13:46:47"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">armpit: the AB already preps the release directory to a large extent</td><td class="time"><a href="#t2019-04-25T13:46:47" class="time">13:46</a></td></tr>
<tr id="t2019-04-25T13:47:20"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">release notes?</td><td class="time"><a href="#t2019-04-25T13:47:20" class="time">13:47</a></td></tr>
<tr id="t2019-04-25T13:47:37"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">armpit: would always have to be a two pass process</td><td class="time"><a href="#t2019-04-25T13:47:37" class="time">13:47</a></td></tr>
<tr id="t2019-04-25T13:48:34"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">what are VM for ; )</td><td class="time"><a href="#t2019-04-25T13:48:34" class="time">13:48</a></td></tr>
<tr id="t2019-04-25T13:50:01"><td class="action" colspan="2">* armpit hmmm, bsp layers containing there own tests...</td><td><a href="#t2019-04-25T13:50:01" class="time">13:50</a></td></tr>
<tr id="t2019-04-25T13:50:28"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">armpit: we need to get the QA test results back, merge them, sort the QA report header, bug reports and release notes - can't all be automated</td><td class="time"><a href="#t2019-04-25T13:50:28" class="time">13:50</a></td></tr>
<tr id="t2019-04-25T13:52:14"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">armpit: btw, which stable branch am I meant to be merging? You have so many different ones now :(</td><td class="time"><a href="#t2019-04-25T13:52:14" class="time">13:52</a></td></tr>
<tr id="t2019-04-25T13:54:06"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">armpit: I saw you added the LTP test results to resulttool. Are there logs that would be useful to pull out with the new 'resulttool log' subcommand?</td><td class="time"><a href="#t2019-04-25T13:54:06" class="time">13:54</a></td></tr>
<tr id="t2019-04-25T13:57:14"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">armpit: oh, its an oecore one now isn't it. Perhaps the older poky-contrib stable ones should be tidied up?</td><td class="time"><a href="#t2019-04-25T13:57:14" class="time">13:57</a></td></tr>
<tr id="t2019-04-25T13:57:18"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">JPEW, should be if you understand LTP raw logs.</td><td class="time"><a href="#t2019-04-25T13:57:18" class="time">13:57</a></td></tr>
<tr id="t2019-04-25T13:58:05"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">RP, openembedded-core-contrib/log/?h=stable/sumo-next</td><td class="time"><a href="#t2019-04-25T13:58:05" class="time">13:58</a></td></tr>
<tr id="t2019-04-25T13:58:20"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">for sure.. now I have go figure out thud.</td><td class="time"><a href="#t2019-04-25T13:58:20" class="time">13:58</a></td></tr>
<tr id="t2019-04-25T13:59:42"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">RP, my pull requests no longer come from poky</td><td class="time"><a href="#t2019-04-25T13:59:42" class="time">13:59</a></td></tr>
<tr id="t2019-04-25T14:01:19"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">RP.. you got my last Thud pull request</td><td class="time"><a href="#t2019-04-25T14:01:19" class="time">14:01</a></td></tr>
<tr id="t2019-04-25T14:02:13"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">armpit: right, can we remove the stable/xxx-next from poky to stop confusing me then please? :)</td><td class="time"><a href="#t2019-04-25T14:02:13" class="time">14:02</a></td></tr>
<tr id="t2019-04-25T14:02:20"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">yes</td><td class="time"><a href="#t2019-04-25T14:02:20" class="time">14:02</a></td></tr>
<tr id="t2019-04-25T14:02:37"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">I can't do that but you or MH can</td><td class="time"><a href="#t2019-04-25T14:02:37" class="time">14:02</a></td></tr>
<tr id="t2019-04-25T14:02:46"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">armpit: you can't? :/</td><td class="time"><a href="#t2019-04-25T14:02:46" class="time">14:02</a></td></tr>
<tr id="t2019-04-25T14:02:47"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">I use stable/*-nmut for builds</td><td class="time"><a href="#t2019-04-25T14:02:47" class="time">14:02</a></td></tr>
<tr id="t2019-04-25T14:03:01"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">contrib.. let me check</td><td class="time"><a href="#t2019-04-25T14:03:01" class="time">14:03</a></td></tr>
<tr id="t2019-04-25T14:04:34"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">armpit: if not I'll clean them up</td><td class="time"><a href="#t2019-04-25T14:04:34" class="time">14:04</a></td></tr>
<tr id="t2019-04-25T14:06:45"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">looks like I can remove mine</td><td class="time"><a href="#t2019-04-25T14:06:45" class="time">14:06</a></td></tr>
<tr id="t2019-04-25T14:07:43"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">sumo &amp; thud -next removed</td><td class="time"><a href="#t2019-04-25T14:07:43" class="time">14:07</a></td></tr>
<tr id="t2019-04-25T14:10:55"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">armpit: thanks</td><td class="time"><a href="#t2019-04-25T14:10:55" class="time">14:10</a></td></tr>
<tr id="t2019-04-25T14:13:17"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">RP: any hints on how can I force it to run all tasks if it starts building the kernel? Seems that it's missing do_package_ipk</td><td class="time"><a href="#t2019-04-25T14:13:17" class="time">14:13</a></td></tr>
<tr id="t2019-04-25T14:14:00"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">blitz00: why would it need to run all tasks?</td><td class="time"><a href="#t2019-04-25T14:14:00" class="time">14:14</a></td></tr>
<tr id="t2019-04-25T14:14:38"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">either the sstate checksum changes and it needs to rebuild or it doesn't and the output is identical</td><td class="time"><a href="#t2019-04-25T14:14:38" class="time">14:14</a></td></tr>
<tr id="t2019-04-25T14:14:58"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Is that isn't the case, the checksum has a bug and there are missing dependencies</td><td class="time"><a href="#t2019-04-25T14:14:58" class="time">14:14</a></td></tr>
<tr id="t2019-04-25T14:15:33"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">Right, it considers it needs a rebuild, but I do not see all the tasks being rebuilt: <a href="https://pastebin.com/D0F72dvY" rel="nofollow">https://pastebin.com/D0F72dvY</a> - I see do_install and do_deploy, but no do_package</td><td class="time"><a href="#t2019-04-25T14:15:33" class="time">14:15</a></td></tr>
<tr id="t2019-04-25T14:15:47"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">and the kernel in the image seems it comes from the ipk restored from sstate</td><td class="time"><a href="#t2019-04-25T14:15:47" class="time">14:15</a></td></tr>
<tr id="t2019-04-25T14:16:04"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">blitz00: I'm still not seeing a bug</td><td class="time"><a href="#t2019-04-25T14:16:04" class="time">14:16</a></td></tr>
<tr id="t2019-04-25T14:18:20"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">I'm not saying there is one... maybe I'm doing something funky (i'm using uboot-sign and kernel-fitimage classes as well,. so maybe those are doing something funky). Still I do not understand why /boot/zImage is not the same as tmp/deploy/images/zImage</td><td class="time"><a href="#t2019-04-25T14:18:20" class="time">14:18</a></td></tr>
<tr id="t2019-04-25T14:18:46"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">well, as you say, one is package manager and one is from do_deploy</td><td class="time"><a href="#t2019-04-25T14:18:46" class="time">14:18</a></td></tr>
<tr id="t2019-04-25T14:18:50"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">And since I'm seeing do_compile/do_install/do_deploy actually run</td><td class="time"><a href="#t2019-04-25T14:18:50" class="time">14:18</a></td></tr>
<tr id="t2019-04-25T14:19:06"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">I was expecting to see a do_package as well</td><td class="time"><a href="#t2019-04-25T14:19:06" class="time">14:19</a></td></tr>
<tr id="t2019-04-25T14:19:29"><td class="action" colspan="2">* zeddii is watching the activity on RPs TCP hang thread .. fingers crossed that it finally gets attention</td><td><a href="#t2019-04-25T14:19:29" class="time">14:19</a></td></tr>
<tr id="t2019-04-25T14:19:32"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">and as you mention the kernel is getting rebuilt. In theory the rebuild should give the same output. The fact it isn't is a reproducibility issue</td><td class="time"><a href="#t2019-04-25T14:19:32" class="time">14:19</a></td></tr>
<tr id="t2019-04-25T14:19:45"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">zeddii: yes, would be interesting to try that patch with our hang</td><td class="time"><a href="#t2019-04-25T14:19:45" class="time">14:19</a></td></tr>
<tr id="t2019-04-25T14:20:47"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">blitz00: Its something like there being a dependency change A &lt;- B &lt;- C &lt;- D&nbsp;&nbsp;where D is an sstate task and A-C are not. Something in your setup is depending on A, B or C and hence its causing them to rerun</td><td class="time"><a href="#t2019-04-25T14:20:47" class="time">14:20</a></td></tr>
<tr id="t2019-04-25T14:21:05"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">blitz00: since D already built and D doesn't need to be rebuild its only rebuilding A-C</td><td class="time"><a href="#t2019-04-25T14:21:05" class="time">14:21</a></td></tr>
<tr id="t2019-04-25T14:21:18"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">s/change/chain/</td><td class="time"><a href="#t2019-04-25T14:21:18" class="time">14:21</a></td></tr>
<tr id="t2019-04-25T14:21:18"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">the rebuild is different because the module signing key changes at every build. So, generally speaking, when something rebuilds and re-runs do_install there is a requirement that do_package runs?</td><td class="time"><a href="#t2019-04-25T14:21:18" class="time">14:21</a></td></tr>
<tr id="t2019-04-25T14:21:47"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">blitz00: when a task reruns it should have exactly the same output for any given set of inputs</td><td class="time"><a href="#t2019-04-25T14:21:47" class="time">14:21</a></td></tr>
<tr id="t2019-04-25T14:22:02"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">you've broken than rule if you change signing key</td><td class="time"><a href="#t2019-04-25T14:22:02" class="time">14:22</a></td></tr>
<tr id="t2019-04-25T14:22:03"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">I see, that helps. I suspect uboot-sign and kernel-fitimage doing something funky. I've seens some fixes in warrior for those and I've tried to backport them</td><td class="time"><a href="#t2019-04-25T14:22:03" class="time">14:22</a></td></tr>
<tr id="t2019-04-25T14:23:49"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">Hmm, yes, I'm letting the kernel build generate the key - I'm not providing one</td><td class="time"><a href="#t2019-04-25T14:23:49" class="time">14:23</a></td></tr>
<tr id="t2019-04-25T14:27:51"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">uboot's do_deploy depends on the kernel's do_deploy cf. uboot-sign.bbclass</td><td class="time"><a href="#t2019-04-25T14:27:51" class="time">14:27</a></td></tr>
<tr id="t2019-04-25T14:32:13"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">RP focus</td><td class="time"><a href="#t2019-04-25T14:32:13" class="time">14:32</a></td></tr>
<tr id="t2019-04-25T14:32:39"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">armpit: coming</td><td class="time"><a href="#t2019-04-25T14:32:39" class="time">14:32</a></td></tr>
<tr id="t2019-04-25T14:50:21"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">kanavin: fancy being the perl maintainer? as you sent the rewrite?</td><td class="time"><a href="#t2019-04-25T14:50:21" class="time">14:50</a></td></tr>
<tr id="t2019-04-25T14:53:32"><td class="action" colspan="2">* armpit heheh</td><td><a href="#t2019-04-25T14:53:32" class="time">14:53</a></td></tr>
<tr id="t2019-04-25T14:54:20"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">shock discovery was that i'm the owner :)</td><td class="time"><a href="#t2019-04-25T14:54:20" class="time">14:54</a></td></tr>
<tr id="t2019-04-25T15:00:58"><th class="nick" style="background: #539e9e">mcfrisk</th><td class="text" style="color: #539e9e">hmm, kernel module signing seems to not work with sumo. does one need to disable kernel modulue stripping or something?</td><td class="time"><a href="#t2019-04-25T15:00:58" class="time">15:00</a></td></tr>
<tr id="t2019-04-25T15:04:14"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">mcfrisk: most likely yes.&nbsp;&nbsp;thud iirc has code to not strip signed modules.</td><td class="time"><a href="#t2019-04-25T15:04:14" class="time">15:04</a></td></tr>
<tr id="t2019-04-25T15:04:19"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">(which sucks)</td><td class="time"><a href="#t2019-04-25T15:04:19" class="time">15:04</a></td></tr>
<tr id="t2019-04-25T15:20:46"><th class="nick" style="background: #539e9e">mcfrisk</th><td class="text" style="color: #539e9e">rburton: thanks, I'll have a look at the patches in thud or master branch</td><td class="time"><a href="#t2019-04-25T15:20:46" class="time">15:20</a></td></tr>
<tr id="t2019-04-25T15:21:54"><td class="action" colspan="2">* Piraty curses Xilinx</td><td><a href="#t2019-04-25T15:21:54" class="time">15:21</a></td></tr>
<tr id="t2019-04-25T16:38:12"><td class="part" colspan="2">*** varjag &lt;varjag!~user@ti0040a400-3113.bb.online.no&gt; has left #yocto</td><td><a href="#t2019-04-25T16:38:12" class="time">16:38</a></td></tr>
<tr id="t2019-04-25T16:51:55"><th class="nick" style="background: #a25555">Crofton</th><td class="text" style="color: #a25555">Piraty, would did they do this time?</td><td class="time"><a href="#t2019-04-25T16:51:55" class="time">16:51</a></td></tr>
<tr id="t2019-04-25T17:07:46"><th class="nick" style="background: #488888">blitz00</th><td class="text" style="color: #488888">mcfrisk: in thud it kind of works, meaning that it will not strip them anymore, but you end up with fat modules. Add EXTRA_OEMAKE += "INSTALL_MOD_STRIP=1" in your recipe to let the kernel strip them at install</td><td class="time"><a href="#t2019-04-25T17:07:46" class="time">17:07</a></td></tr>
<tr id="t2019-04-25T17:21:10"><th class="nick" style="background: #407a40">yocti</th><td class="text" style="color: #407a40">New news from stackoverflow: How to do a clean rebuild of Linux kernel modules in Yocto? &lt;<a href="https://stackoverflow.com/questions/55854263/how-to-do-a-clean-rebuild-of-linux-kernel-modules-in-yocto&gt;" rel="nofollow">https://stackoverflow.com/questions/55854263/how-to-do-a-clean-rebuild-of-linux-kernel-modules-in-yocto&gt;</a></td><td class="time"><a href="#t2019-04-25T17:21:10" class="time">17:21</a></td></tr>
<tr id="t2019-04-25T23:36:23"><td class="part" colspan="2">*** scottrif &lt;scottrif!~scottrif@47.39.60.15&gt; has left #yocto</td><td><a href="#t2019-04-25T23:36:23" class="time">23:36</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-04-24.log.html">&#171; Wednesday, 2019-04-24</a> <a href="index.html">Index</a> <a href="%23yocto.2019-04-26.log.html">Friday, 2019-04-26 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
