<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Thursday, 2019-04-04</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Thursday, 2019-04-04</h1>
<div class="navigation"> <a href="%23yocto.2019-04-03.log.html">&#171; Wednesday, 2019-04-03</a> <a href="index.html">Index</a> <a href="%23yocto.2019-04-05.log.html">Friday, 2019-04-05 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-04-04T01:55:27"><td class="nickchange" colspan="2">*** armpit2 is now known as armpit</td><td><a href="#t2019-04-04T01:55:27" class="time">01:55</a></td></tr>
<tr id="t2019-04-04T02:13:37"><th class="nick" style="background: #407a40">armpit</th><td class="text" style="color: #407a40">zeddii, you here ?</td><td class="time"><a href="#t2019-04-04T02:13:37" class="time">02:13</a></td></tr>
<tr id="t2019-04-04T02:14:32"><td class="action" colspan="2">* armpit maybe I'll send an email</td><td><a href="#t2019-04-04T02:14:32" class="time">02:14</a></td></tr>
<tr id="t2019-04-04T02:21:07"><th class="nick" style="background: #42427e">yocti</th><td class="text" style="color: #42427e">New news from stackoverflow: How can I use bitbake to set /etc/timestamp? &lt;<a href="https://stackoverflow.com/questions/55506890/how-can-i-use-bitbake-to-set-etc-timestamp&gt;" rel="nofollow">https://stackoverflow.com/questions/55506890/how-can-i-use-bitbake-to-set-etc-timestamp&gt;</a></td><td class="time"><a href="#t2019-04-04T02:21:07" class="time">02:21</a></td></tr>
<tr id="t2019-04-04T06:40:57"><th class="nick" style="background: #818144">xtron</th><td class="text" style="color: #818144">does u-boot support modifying configuration through *.cfg file, like SRC_URI += 'file://example.cfg'&nbsp;&nbsp;?</td><td class="time"><a href="#t2019-04-04T06:40:57" class="time">06:40</a></td></tr>
<tr id="t2019-04-04T07:29:37"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2019-04-04T07:29:37" class="time">07:29</a></td></tr>
<tr id="t2019-04-04T10:00:22"><th class="nick" style="background: #854685">willie2</th><td class="text" style="color: #854685">Hello, I'm still trying to do stuff I don't understand :) <a href="https://pastebin.com/T9wZWkx8" rel="nofollow">https://pastebin.com/T9wZWkx8</a> thankful for any tips</td><td class="time"><a href="#t2019-04-04T10:00:22" class="time">10:00</a></td></tr>
<tr id="t2019-04-04T11:04:02"><th class="nick" style="background: #488888">jofr</th><td class="text" style="color: #488888">willie2: Make a kernel- and u-boot recipes that pull in those repos, build them and they should provide virtual/kernel and virtual/bootloader (respectively) and then in your image or machine recipes, you should set those as your preferred provider for those packages (the "virtual" ones).</td><td class="time"><a href="#t2019-04-04T11:04:02" class="time">11:04</a></td></tr>
<tr id="t2019-04-04T11:05:37"><th class="nick" style="background: #488888">jofr</th><td class="text" style="color: #488888">It's actually quite likely that you could even bbappend to your existing u-boot and kernel recipes and just override the SRC</td><td class="time"><a href="#t2019-04-04T11:05:37" class="time">11:05</a></td></tr>
<tr id="t2019-04-04T11:07:31"><th class="nick" style="background: #488888">jofr</th><td class="text" style="color: #488888">(SRC_URI and SRCREV)</td><td class="time"><a href="#t2019-04-04T11:07:31" class="time">11:07</a></td></tr>
<tr id="t2019-04-04T11:24:21"><th class="nick" style="background: #854685">willie2</th><td class="text" style="color: #854685">jofr: thanks for your help, a implementation question, I'm I supposed to create a new u-boot? e.g recipes-bsp/u-boot/u-boot-custom.bb?</td><td class="time"><a href="#t2019-04-04T11:24:21" class="time">11:24</a></td></tr>
<tr id="t2019-04-04T11:31:50"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">marka, g-ir-scanner should not be executed for native recipes at all, if it is, then it's a bug somewhere</td><td class="time"><a href="#t2019-04-04T11:31:50" class="time">11:31</a></td></tr>
<tr id="t2019-04-04T11:32:20"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">which recipe is having the issue?</td><td class="time"><a href="#t2019-04-04T11:32:20" class="time">11:32</a></td></tr>
<tr id="t2019-04-04T11:36:43"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">psrcode: sorry to bother you, the lttng ptest timeout is causing us a few other problems. Is there a way I could easily fix/workaround it?</td><td class="time"><a href="#t2019-04-04T11:36:43" class="time">11:36</a></td></tr>
<tr id="t2019-04-04T11:37:14"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">alimon: happen to be around? I'm guessing you're travelling?</td><td class="time"><a href="#t2019-04-04T11:37:14" class="time">11:37</a></td></tr>
<tr id="t2019-04-04T11:55:22"><th class="nick" style="background: #488888">jofr</th><td class="text" style="color: #488888">willie2: Probably not....</td><td class="time"><a href="#t2019-04-04T11:55:22" class="time">11:55</a></td></tr>
<tr id="t2019-04-04T11:55:35"><th class="nick" style="background: #488888">jofr</th><td class="text" style="color: #488888">willie2: First of all, you should never change anything in the upstream layers.</td><td class="time"><a href="#t2019-04-04T11:55:35" class="time">11:55</a></td></tr>
<tr id="t2019-04-04T11:56:05"><th class="nick" style="background: #488888">jofr</th><td class="text" style="color: #488888">willie2: I always create your own layer where you override stuff from upstream. Otherwise you're going to have a bad day at some point.</td><td class="time"><a href="#t2019-04-04T11:56:05" class="time">11:56</a></td></tr>
<tr id="t2019-04-04T11:56:11"><th class="nick" style="background: #854685">willie2</th><td class="text" style="color: #854685">jofr: In my own layer ofcourse</td><td class="time"><a href="#t2019-04-04T11:56:11" class="time">11:56</a></td></tr>
<tr id="t2019-04-04T11:57:07"><th class="nick" style="background: #488888">jofr</th><td class="text" style="color: #488888">So in your layer, you should be able to create a u-boot_&lt;version-or-%&gt;.bbappend and then override the SRC* veriables</td><td class="time"><a href="#t2019-04-04T11:57:07" class="time">11:57</a></td></tr>
<tr id="t2019-04-04T11:57:13"><th class="nick" style="background: #488888">jofr</th><td class="text" style="color: #488888">variables*</td><td class="time"><a href="#t2019-04-04T11:57:13" class="time">11:57</a></td></tr>
<tr id="t2019-04-04T11:57:44"><th class="nick" style="background: #854685">willie2</th><td class="text" style="color: #854685">jofr: Now it looks like this <a href="https://pastebin.com/mVUdBqnU" rel="nofollow">https://pastebin.com/mVUdBqnU</a></td><td class="time"><a href="#t2019-04-04T11:57:44" class="time">11:57</a></td></tr>
<tr id="t2019-04-04T12:01:10"><th class="nick" style="background: #488888">jofr</th><td class="text" style="color: #488888">willie2: You have a couple of .bb's.. Sure there aren't some upstream recipes that you coulds .bbappend to instead?</td><td class="time"><a href="#t2019-04-04T12:01:10" class="time">12:01</a></td></tr>
<tr id="t2019-04-04T12:01:37"><th class="nick" style="background: #488888">jofr</th><td class="text" style="color: #488888">willie2: That you you're re-using the upstream code instead of duplicating it in your own repositoriy/layer</td><td class="time"><a href="#t2019-04-04T12:01:37" class="time">12:01</a></td></tr>
<tr id="t2019-04-04T12:01:55"><th class="nick" style="background: #488888">jofr</th><td class="text" style="color: #488888">willie2: That way you're*</td><td class="time"><a href="#t2019-04-04T12:01:55" class="time">12:01</a></td></tr>
<tr id="t2019-04-04T12:02:03"><th class="nick" style="background: #488888">jofr</th><td class="text" style="color: #488888">I can't type today!</td><td class="time"><a href="#t2019-04-04T12:02:03" class="time">12:02</a></td></tr>
<tr id="t2019-04-04T12:02:15"><th class="nick" style="background: #854685">willie2</th><td class="text" style="color: #854685">:D</td><td class="time"><a href="#t2019-04-04T12:02:15" class="time">12:02</a></td></tr>
<tr id="t2019-04-04T12:03:07"><th class="nick" style="background: #854685">willie2</th><td class="text" style="color: #854685">jofr: Well the qt application is custom and the scripts to take care of it, but i can probably use the poky/meta-recipes-bsp/u-boot. Since i think they based their custom u-boot on it</td><td class="time"><a href="#t2019-04-04T12:03:07" class="time">12:03</a></td></tr>
<tr id="t2019-04-04T12:04:53"><th class="nick" style="background: #4d4d93">luneff</th><td class="text" style="color: #4d4d93">hey guys! please help the stupid me :-) I want to get chromium on x11. I need X. Should asking for "xorg-server" and something like "xserver-nodm-init" suffice? DISTRO_FEATURES set</td><td class="time"><a href="#t2019-04-04T12:04:53" class="time">12:04</a></td></tr>
<tr id="t2019-04-04T12:06:26"><th class="nick" style="background: #4d4d93">luneff</th><td class="text" style="color: #4d4d93">any packagegroup with reasonable defaults?</td><td class="time"><a href="#t2019-04-04T12:06:26" class="time">12:06</a></td></tr>
<tr id="t2019-04-04T12:12:15"><th class="nick" style="background: #488888">jofr</th><td class="text" style="color: #488888">willie2: Cool.</td><td class="time"><a href="#t2019-04-04T12:12:15" class="time">12:12</a></td></tr>
<tr id="t2019-04-04T12:12:50"><th class="nick" style="background: #488888">jofr</th><td class="text" style="color: #488888">willie2: Are you over in Malmköping?</td><td class="time"><a href="#t2019-04-04T12:12:50" class="time">12:12</a></td></tr>
<tr id="t2019-04-04T12:13:28"><th class="nick" style="background: #854685">willie2</th><td class="text" style="color: #854685">jofr: :o</td><td class="time"><a href="#t2019-04-04T12:13:28" class="time">12:13</a></td></tr>
<tr id="t2019-04-04T12:14:11"><th class="nick" style="background: #854685">willie2</th><td class="text" style="color: #854685">jofr: I'm not but they guys I'm doing this for are. Do you know them?</td><td class="time"><a href="#t2019-04-04T12:14:11" class="time">12:14</a></td></tr>
<tr id="t2019-04-04T12:14:31"><th class="nick" style="background: #488888">jofr</th><td class="text" style="color: #488888">willie2: Don't think so...</td><td class="time"><a href="#t2019-04-04T12:14:31" class="time">12:14</a></td></tr>
<tr id="t2019-04-04T12:15:18"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">luneff: core-image-x11 is an example of a image that just boots X</td><td class="time"><a href="#t2019-04-04T12:15:18" class="time">12:15</a></td></tr>
<tr id="t2019-04-04T12:15:21"><th class="nick" style="background: #854685">willie2</th><td class="text" style="color: #854685">jofr: Then how did you figure that out?</td><td class="time"><a href="#t2019-04-04T12:15:21" class="time">12:15</a></td></tr>
<tr id="t2019-04-04T12:15:47"><th class="nick" style="background: #488888">jofr</th><td class="text" style="color: #488888">willie2: I just Googled Tjeders. And since (for some reason) our company ISP is in Sweden it favors swedish results or something&nbsp;&nbsp;:P</td><td class="time"><a href="#t2019-04-04T12:15:47" class="time">12:15</a></td></tr>
<tr id="t2019-04-04T12:16:35"><th class="nick" style="background: #4d4d93">luneff</th><td class="text" style="color: #4d4d93">rburton, thanks! It lists x11-base , will try</td><td class="time"><a href="#t2019-04-04T12:16:35" class="time">12:16</a></td></tr>
<tr id="t2019-04-04T12:16:51"><th class="nick" style="background: #854685">willie2</th><td class="text" style="color: #854685">jofr: Oh :) Well i work at Acte solutions!</td><td class="time"><a href="#t2019-04-04T12:16:51" class="time">12:16</a></td></tr>
<tr id="t2019-04-04T12:30:41"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: I am looking into the timeouts just now, it seems as though ptest-runner is erroneously thinking the tests haven't printed anything for the default timeout of 5 minutes and killing them off, even though they are</td><td class="time"><a href="#t2019-04-04T12:30:41" class="time">12:30</a></td></tr>
<tr id="t2019-04-04T12:31:17"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: hmm, a bug in ptest-runner then?</td><td class="time"><a href="#t2019-04-04T12:31:17" class="time">12:31</a></td></tr>
<tr id="t2019-04-04T12:32:01"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: rburton and I think when a timeout happens, things are not getting killed properly so we have a patch testining on the AB now to see if that is part of the issue</td><td class="time"><a href="#t2019-04-04T12:32:01" class="time">12:32</a></td></tr>
<tr id="t2019-04-04T12:32:18"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: I think your theory is worth following</td><td class="time"><a href="#t2019-04-04T12:32:18" class="time">12:32</a></td></tr>
<tr id="t2019-04-04T12:32:35"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: possibly, I am in the 'staring at the code' phase now</td><td class="time"><a href="#t2019-04-04T12:32:35" class="time">12:32</a></td></tr>
<tr id="t2019-04-04T12:32:45"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">kanavin: that was my hunch this morning too but i was trying to stare at code whilst talking :)</td><td class="time"><a href="#t2019-04-04T12:32:45" class="time">12:32</a></td></tr>
<tr id="t2019-04-04T12:32:46"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">extra complication: the thing is written in C</td><td class="time"><a href="#t2019-04-04T12:32:46" class="time">12:32</a></td></tr>
<tr id="t2019-04-04T12:32:53"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: fair enough. I suspect multiple issues in here</td><td class="time"><a href="#t2019-04-04T12:32:53" class="time">12:32</a></td></tr>
<tr id="t2019-04-04T12:33:31"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: we do have alimon around who wrote/maintains it</td><td class="time"><a href="#t2019-04-04T12:33:31" class="time">12:33</a></td></tr>
<tr id="t2019-04-04T12:47:19"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">rburton, RP: it's a buffering issue in the pipe between ptest-runner and ptests</td><td class="time"><a href="#t2019-04-04T12:47:19" class="time">12:47</a></td></tr>
<tr id="t2019-04-04T12:47:44"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">yay kanavin</td><td class="time"><a href="#t2019-04-04T12:47:44" class="time">12:47</a></td></tr>
<tr id="t2019-04-04T12:47:53"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">tldr: "c is hard"</td><td class="time"><a href="#t2019-04-04T12:47:53" class="time">12:47</a></td></tr>
<tr id="t2019-04-04T12:47:55"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">ptest-runner receives the child's output in big buffered chunks, and timeouts if the buffer is slow to fill</td><td class="time"><a href="#t2019-04-04T12:47:55" class="time">12:47</a></td></tr>
<tr id="t2019-04-04T12:48:14"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">how big is big?</td><td class="time"><a href="#t2019-04-04T12:48:14" class="time">12:48</a></td></tr>
<tr id="t2019-04-04T12:48:15"><th class="nick" style="background: #488888">jofr</th><td class="text" style="color: #488888">willie2: I see! I'm in Denmark (Hillerød) - but I'm Icelandic myself. Are you across the water in Göteborg? Or over in Stockholm?</td><td class="time"><a href="#t2019-04-04T12:48:15" class="time">12:48</a></td></tr>
<tr id="t2019-04-04T12:48:19"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">my unix-fu is slightly rusty, I don't remember right away how to control that</td><td class="time"><a href="#t2019-04-04T12:48:19" class="time">12:48</a></td></tr>
<tr id="t2019-04-04T12:49:07"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">kanavin: oh the send buffer?</td><td class="time"><a href="#t2019-04-04T12:49:07" class="time">12:49</a></td></tr>
<tr id="t2019-04-04T12:52:06"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">no, the fd pair created via pipe2() and passed to the child</td><td class="time"><a href="#t2019-04-04T12:52:06" class="time">12:52</a></td></tr>
<tr id="t2019-04-04T12:52:48"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: why would that buffer large amounts?</td><td class="time"><a href="#t2019-04-04T12:52:48" class="time">12:52</a></td></tr>
<tr id="t2019-04-04T12:53:34"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: I have no idea, but run for instance openssh ptest directly, and then via 'ptest-runner openssh' and note the difference in how things get written to the terminal from the child tests</td><td class="time"><a href="#t2019-04-04T12:53:34" class="time">12:53</a></td></tr>
<tr id="t2019-04-04T12:53:40"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: need to run to grab lunch!</td><td class="time"><a href="#t2019-04-04T12:53:40" class="time">12:53</a></td></tr>
<tr id="t2019-04-04T12:53:40"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">F_SETPIPE_SZ?</td><td class="time"><a href="#t2019-04-04T12:53:40" class="time">12:53</a></td></tr>
<tr id="t2019-04-04T12:54:03"><th class="nick" style="background: #854685">willie2</th><td class="text" style="color: #854685">jofr: cool! I'm from Stockholm :)</td><td class="time"><a href="#t2019-04-04T12:54:03" class="time">12:54</a></td></tr>
<tr id="t2019-04-04T12:54:13"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">must be buffering heavily if ptest-runner can actually timeout waiting for output</td><td class="time"><a href="#t2019-04-04T12:54:13" class="time">12:54</a></td></tr>
<tr id="t2019-04-04T12:54:37"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton, kanavin: what doesn't happen in this code is the pipes don't get cleared after something is killed?</td><td class="time"><a href="#t2019-04-04T12:54:37" class="time">12:54</a></td></tr>
<tr id="t2019-04-04T12:54:51"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">and are reused between ptests?</td><td class="time"><a href="#t2019-04-04T12:54:51" class="time">12:54</a></td></tr>
<tr id="t2019-04-04T12:55:11"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">huh</td><td class="time"><a href="#t2019-04-04T12:55:11" class="time">12:55</a></td></tr>
<tr id="t2019-04-04T12:56:51"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: I think that means that stderr gets dumped only when something later writes to it again (such as the failing python3 ssl test)</td><td class="time"><a href="#t2019-04-04T12:56:51" class="time">12:56</a></td></tr>
<tr id="t2019-04-04T12:57:02"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">which would explain why its in the logs at the same place each time</td><td class="time"><a href="#t2019-04-04T12:57:02" class="time">12:57</a></td></tr>
<tr id="t2019-04-04T12:57:06"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">yes</td><td class="time"><a href="#t2019-04-04T12:57:06" class="time">12:57</a></td></tr>
<tr id="t2019-04-04T12:57:21"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">need to flush it out when bailing</td><td class="time"><a href="#t2019-04-04T12:57:21" class="time">12:57</a></td></tr>
<tr id="t2019-04-04T12:59:28"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: I'm puzzled why poll wouldn't say reading is possible sooner though</td><td class="time"><a href="#t2019-04-04T12:59:28" class="time">12:59</a></td></tr>
<tr id="t2019-04-04T13:00:29"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">Hi, I have a kernel image which is built with yocto and I can boot it from SD card. Now I copied it from SD card to the flash of the eval board, and try to boot from SD card. That fails. Why? Do I need to compile a kernel image of another type? If yes, where can I read that in the yocto docs?</td><td class="time"><a href="#t2019-04-04T13:00:29" class="time">13:00</a></td></tr>
<tr id="t2019-04-04T13:01:27"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">RP: seems like a safe thing to do would be to ensure that the pipes are flushed when timing out, and stop re-using them</td><td class="time"><a href="#t2019-04-04T13:01:27" class="time">13:01</a></td></tr>
<tr id="t2019-04-04T13:01:53"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: right, just not sure we fully understand why this is breaking</td><td class="time"><a href="#t2019-04-04T13:01:53" class="time">13:01</a></td></tr>
<tr id="t2019-04-04T13:03:26"><th class="nick" style="background: #539e9e">Crofton</th><td class="text" style="color: #539e9e">fbre, how does it fail?</td><td class="time"><a href="#t2019-04-04T13:03:26" class="time">13:03</a></td></tr>
<tr id="t2019-04-04T13:09:48"><th class="nick" style="background: #854685">willie2</th><td class="text" style="color: #854685">jofr:&nbsp;&nbsp;I made a u-boot-imx_2016.04.bbappend that just adds SRC_URI +="git://my/local/repo. It builds but it is still using the old source.</td><td class="time"><a href="#t2019-04-04T13:09:48" class="time">13:09</a></td></tr>
<tr id="t2019-04-04T13:13:48"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: I think the problem is its not flushing output streams</td><td class="time"><a href="#t2019-04-04T13:13:48" class="time">13:13</a></td></tr>
<tr id="t2019-04-04T13:14:57"><th class="nick" style="background: #488888">jofr</th><td class="text" style="color: #488888">willie2: You need to either use = to replace it, or do a SRC_URI_remove first</td><td class="time"><a href="#t2019-04-04T13:14:57" class="time">13:14</a></td></tr>
<tr id="t2019-04-04T13:16:25"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">doesn't explain the timeout but would explain the logging</td><td class="time"><a href="#t2019-04-04T13:16:25" class="time">13:16</a></td></tr>
<tr id="t2019-04-04T13:27:46"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton, kanavin: <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=b68875cfe44e63a4de5f2d2a728a207d6d02996f" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=b68875cfe44e63a4de5f2d2a728a207d6d02996f</a> look sane?</td><td class="time"><a href="#t2019-04-04T13:27:46" class="time">13:27</a></td></tr>
<tr id="t2019-04-04T13:28:09"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: I know the second patch is yours, will fix that, just want to quickly test before a meeting</td><td class="time"><a href="#t2019-04-04T13:28:09" class="time">13:28</a></td></tr>
<tr id="t2019-04-04T13:31:54"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">RP: looks reasonable</td><td class="time"><a href="#t2019-04-04T13:31:54" class="time">13:31</a></td></tr>
<tr id="t2019-04-04T13:33:59"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">Crofton: If the SD card is plugged, it boots although the jumper pins are set to "boot from SPI NOR flash" and not from SD card. But if the SD card is not plugged into the eval board, simply nothing happens. The serial console doesn't show anything.</td><td class="time"><a href="#t2019-04-04T13:33:59" class="time">13:33</a></td></tr>
<tr id="t2019-04-04T13:39:55"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: it reads from two decscriptors there, but you flush only when reading from the second one?</td><td class="time"><a href="#t2019-04-04T13:39:55" class="time">13:39</a></td></tr>
<tr id="t2019-04-04T13:41:03"><th class="nick" style="background: #539e9e">Crofton</th><td class="text" style="color: #539e9e">fbre, what is the borad?</td><td class="time"><a href="#t2019-04-04T13:41:03" class="time">13:41</a></td></tr>
<tr id="t2019-04-04T13:49:38"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">ah, I found out now my mistake is to put the file "Image" (about 26MB) at address 0x0 of the flash of the board. But I should rather put the u-boot image to address 0x0, which is just about 60KB. Then that first stage u-boot loader loads the second stage u-boot loader which is about 600KB and that loads "Image" (which is the Linux kernel) as third step.</td><td class="time"><a href="#t2019-04-04T13:49:38" class="time">13:49</a></td></tr>
<tr id="t2019-04-04T13:50:16"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">Sorry, I have to understand the boot mechanism at first.</td><td class="time"><a href="#t2019-04-04T13:50:16" class="time">13:50</a></td></tr>
<tr id="t2019-04-04T13:52:02"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">My next question is to found out how I must change the yocto configuration in a way that the first stage u-boot should load the second-stage u-boot from SPI NOR flash instead of SD card.</td><td class="time"><a href="#t2019-04-04T13:52:02" class="time">13:52</a></td></tr>
<tr id="t2019-04-04T13:52:29"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">Do you know where I find that in the yocto files?</td><td class="time"><a href="#t2019-04-04T13:52:29" class="time">13:52</a></td></tr>
<tr id="t2019-04-04T13:58:40"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">I think, as I wrongly flashed the Linux kernel (file is called "Image"), it still boots with SD card plugged because booting from SD card is a fallback if booting from SPI NOR flash fails.</td><td class="time"><a href="#t2019-04-04T13:58:40" class="time">13:58</a></td></tr>
<tr id="t2019-04-04T14:06:19"><th class="nick" style="background: #a25555">u1106</th><td class="text" style="color: #a25555">I set IMAGE_FEATURES = "tools-profile tools-debug" in my image recipe just to see what nice tools that would give me, but the manifest remains unchanged. (The setting is at least not completely ignored, if I also add "foo" I get the expected error with the list of supported features)</td><td class="time"><a href="#t2019-04-04T14:06:19" class="time">14:06</a></td></tr>
<tr id="t2019-04-04T14:10:03"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">My u-boot image has the string "sd" in the filename. So I guess it's has built for SD card. I wonder what the magic yocto config file is to change the target device type to SPI NOR flash.</td><td class="time"><a href="#t2019-04-04T14:10:03" class="time">14:10</a></td></tr>
<tr id="t2019-04-04T14:14:22"><th class="nick" style="background: #a25555">u1106</th><td class="text" style="color: #a25555">fbre: I have not the slightest idea, because I have never built U-Boot in Yocto. But the first place I would search around is the environment of your recipe. You get it using "bitbake -e". If you search who sets the sd part you might find possible alternatives.</td><td class="time"><a href="#t2019-04-04T14:14:22" class="time">14:14</a></td></tr>
<tr id="t2019-04-04T14:15:40"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">fbre: most likely you need to adjust your UBOOT_CONFIG or UBOOT_MACHINE. you should examine the machine .conf for your machine. (conf/machine/${MACHINE}.conf)</td><td class="time"><a href="#t2019-04-04T14:15:40" class="time">14:15</a></td></tr>
<tr id="t2019-04-04T14:16:38"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">cool hints, thank you, guys! :-)</td><td class="time"><a href="#t2019-04-04T14:16:38" class="time">14:16</a></td></tr>
<tr id="t2019-04-04T14:17:24"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: I need to explain that, basically I avoid it flushing stdout all the time, only when stderr is in action</td><td class="time"><a href="#t2019-04-04T14:17:24" class="time">14:17</a></td></tr>
<tr id="t2019-04-04T14:17:35"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: stdout should be the common case</td><td class="time"><a href="#t2019-04-04T14:17:35" class="time">14:17</a></td></tr>
<tr id="t2019-04-04T14:17:39"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">(you'd hope)</td><td class="time"><a href="#t2019-04-04T14:17:39" class="time">14:17</a></td></tr>
<tr id="t2019-04-04T14:18:35"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: I did my own testing, and only the stdout fd ever gets any input. Also flushing does not resolve the problem at all; it seems like we do read from the input buffer all that there is :(</td><td class="time"><a href="#t2019-04-04T14:18:35" class="time">14:18</a></td></tr>
<tr id="t2019-04-04T14:19:47"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">u1106: I think you must write the following instead: EXTRA_IMAGE_FEATURES_append += " tools-profile"</td><td class="time"><a href="#t2019-04-04T14:19:47" class="time">14:19</a></td></tr>
<tr id="t2019-04-04T14:20:12"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: see the python3 test log output on the autobuilder, there is problematic output there on stderr afaict</td><td class="time"><a href="#t2019-04-04T14:20:12" class="time">14:20</a></td></tr>
<tr id="t2019-04-04T14:20:31"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: I'm flushing the output buffer, not the input one</td><td class="time"><a href="#t2019-04-04T14:20:31" class="time">14:20</a></td></tr>
<tr id="t2019-04-04T14:21:43"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: I am testing with just openssh for now, and what I am seeing doesn't make any sense :( I am flushing the output buffers as well, but the 'truncated output written in chunks' problem is still there, which means the problem is in the input buffer somehow</td><td class="time"><a href="#t2019-04-04T14:21:43" class="time">14:21</a></td></tr>
<tr id="t2019-04-04T14:22:25"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">u1106: I put that in an extra file, say my.conf&nbsp;&nbsp;and then build yocto with:&nbsp;&nbsp; bitbake core-image-minimal --read=my.conf</td><td class="time"><a href="#t2019-04-04T14:22:25" class="time">14:22</a></td></tr>
<tr id="t2019-04-04T14:23:14"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: I think we're looking at different problems</td><td class="time"><a href="#t2019-04-04T14:23:14" class="time">14:23</a></td></tr>
<tr id="t2019-04-04T14:23:21"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">u1106: but you can also put it in your conf/local.conf</td><td class="time"><a href="#t2019-04-04T14:23:21" class="time">14:23</a></td></tr>
<tr id="t2019-04-04T14:23:26"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: is it just at the end of the tests?</td><td class="time"><a href="#t2019-04-04T14:23:26" class="time">14:23</a></td></tr>
<tr id="t2019-04-04T14:23:53"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">nope, in the middle of them too</td><td class="time"><a href="#t2019-04-04T14:23:53" class="time">14:23</a></td></tr>
<tr id="t2019-04-04T14:25:05"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (pfds[0].revents != 0) {</td><td class="time"><a href="#t2019-04-04T14:25:05" class="time">14:25</a></td></tr>
<tr id="t2019-04-04T14:25:05"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ((n = read(fds[0], buf, WAIT_CHILD_BUF_MAX_SIZE)) &gt; 0)</td><td class="time"><a href="#t2019-04-04T14:25:05" class="time">14:25</a></td></tr>
<tr id="t2019-04-04T14:25:05"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fwrite(buf, n, 1, fps[0]);</td><td class="time"><a href="#t2019-04-04T14:25:05" class="time">14:25</a></td></tr>
<tr id="t2019-04-04T14:25:05"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fwrite(buf, n, 1, fps[0]); fwrite("hallo", 5 ,1 ,fps[0]); fflush(fps[0]);</td><td class="time"><a href="#t2019-04-04T14:25:05" class="time">14:25</a></td></tr>
<tr id="t2019-04-04T14:25:09"><th class="nick" style="background: #a25555">u1106</th><td class="text" style="color: #a25555">fbre: hmm, I think _append is always written with a "=" not with a "+=". Not sure whether the "+" would harm. The manual says IMAGE_FEATURES belongs into the recipe, not into conf <a href="https://www.yoctoproject.org/docs/2.6.1/mega-manual/mega-manual.html#usingpoky-extend-customimage-imagefeatures" rel="nofollow">https://www.yoctoproject.org/docs/2.6.1/mega-manual/mega-manual.html#usingpoky-extend-customimage-imagefeatures</a></td><td class="time"><a href="#t2019-04-04T14:25:09" class="time">14:25</a></td></tr>
<tr id="t2019-04-04T14:25:18"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">and same for fps[1]</td><td class="time"><a href="#t2019-04-04T14:25:18" class="time">14:25</a></td></tr>
<tr id="t2019-04-04T14:26:45"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: your patch seems dangerous as I think it caused the runner to commit suicide :/</td><td class="time"><a href="#t2019-04-04T14:26:45" class="time">14:26</a></td></tr>
<tr id="t2019-04-04T14:27:39"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: loads of ptests not in the output and it didn't run for as long</td><td class="time"><a href="#t2019-04-04T14:27:39" class="time">14:27</a></td></tr>
<tr id="t2019-04-04T14:27:59"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: only took an hour instead of three</td><td class="time"><a href="#t2019-04-04T14:27:59" class="time">14:27</a></td></tr>
<tr id="t2019-04-04T14:28:45"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">u1106: I'm pretty sure it's the way as I suggest to you. Because I also installed that package tools-profile</td><td class="time"><a href="#t2019-04-04T14:28:45" class="time">14:28</a></td></tr>
<tr id="t2019-04-04T14:29:47"><th class="nick" style="background: #a25555">u1106</th><td class="text" style="color: #a25555">Ok, I'll try. Maybe the code has not read the manual ;)</td><td class="time"><a href="#t2019-04-04T14:29:47" class="time">14:29</a></td></tr>
<tr id="t2019-04-04T14:29:59"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: small flaw in the patch, how does group in he child make it to the parent? :)</td><td class="time"><a href="#t2019-04-04T14:29:59" class="time">14:29</a></td></tr>
<tr id="t2019-04-04T14:30:19"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">u1106: at least that works for me ;)</td><td class="time"><a href="#t2019-04-04T14:30:19" class="time">14:30</a></td></tr>
<tr id="t2019-04-04T14:30:22"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: needs to be -child</td><td class="time"><a href="#t2019-04-04T14:30:22" class="time">14:30</a></td></tr>
<tr id="t2019-04-04T14:31:20"><th class="nick" style="background: #5959a9">marka</th><td class="text" style="color: #5959a9">RP: rburton: the gobject-introspection issue was a transient issue related to the fact I was pulling my build forward</td><td class="time"><a href="#t2019-04-04T14:31:20" class="time">14:31</a></td></tr>
<tr id="t2019-04-04T14:32:38"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">u1106: you can also do this magic in your local.conf file:&nbsp;&nbsp;&nbsp;&nbsp;CORE_IMAGE_EXTRA_INSTALL_append ?= "perf procps"</td><td class="time"><a href="#t2019-04-04T14:32:38" class="time">14:32</a></td></tr>
<tr id="t2019-04-04T14:32:42"><th class="nick" style="background: #5959a9">marka</th><td class="text" style="color: #5959a9">once I started to dig, pulling some commits off and doing more builds caused it to no longer be reproducible</td><td class="time"><a href="#t2019-04-04T14:32:42" class="time">14:32</a></td></tr>
<tr id="t2019-04-04T14:33:20"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">u1106: the names I use are just examples of packages. You can use your own packages instead.</td><td class="time"><a href="#t2019-04-04T14:33:20" class="time">14:33</a></td></tr>
<tr id="t2019-04-04T14:33:57"><th class="nick" style="background: #5959a9">marka</th><td class="text" style="color: #5959a9">I tried to reproduce the transient issue, pulling off several hundred commits and stepping forward, doing builds as I go. Unfortunately no joy.</td><td class="time"><a href="#t2019-04-04T14:33:57" class="time">14:33</a></td></tr>
<tr id="t2019-04-04T14:35:00"><td class="part" colspan="2">*** prabhakarlad &lt;prabhakarlad!~prabhakar@194.75.40.178&gt; has left #yocto</td><td><a href="#t2019-04-04T14:35:00" class="time">14:35</a></td></tr>
<tr id="t2019-04-04T14:35:13"><th class="nick" style="background: #5959a9">marka</th><td class="text" style="color: #5959a9">at any rate, no need to make any adjustments to the use of the scanner cache for the -native builds. nothing to see here.</td><td class="time"><a href="#t2019-04-04T14:35:13" class="time">14:35</a></td></tr>
<tr id="t2019-04-04T14:38:08"><th class="nick" style="background: #a25555">u1106</th><td class="text" style="color: #a25555">fbre: sure I can install packages I know of / come to my mind and I have several already. I was just curious what "tools-profile" would provide, I could not find the list of dependencies in the source so I just tried to build it. But that seemed to confirm my reading of the source that there is nothing...</td><td class="time"><a href="#t2019-04-04T14:38:08" class="time">14:38</a></td></tr>
<tr id="t2019-04-04T14:38:25"><th class="nick" style="background: #5959a9">marka</th><td class="text" style="color: #5959a9">the only outcome is a reminder I need to do more fresh builds before digging into a build failure</td><td class="time"><a href="#t2019-04-04T14:38:25" class="time">14:38</a></td></tr>
<tr id="t2019-04-04T14:43:03"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">u1106: "tools-profile" contains all the kernel debugging Gedöns like trace-cmd and perf and so on</td><td class="time"><a href="#t2019-04-04T14:43:03" class="time">14:43</a></td></tr>
<tr id="t2019-04-04T14:43:43"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">u1106: for profiling of the Linux kernel, and tracing and stuff</td><td class="time"><a href="#t2019-04-04T14:43:43" class="time">14:43</a></td></tr>
<tr id="t2019-04-04T14:44:03"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">u1106: I don't know a command to show the content of a package either</td><td class="time"><a href="#t2019-04-04T14:44:03" class="time">14:44</a></td></tr>
<tr id="t2019-04-04T14:46:34"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">u1106: <a href="https://layers.openembedded.org/layerindex/recipe/80780/" rel="nofollow">https://layers.openembedded.org/layerindex/recipe/80780/</a></td><td class="time"><a href="#t2019-04-04T14:46:34" class="time">14:46</a></td></tr>
<tr id="t2019-04-04T14:46:48"><th class="nick" style="background: #a25555">u1106</th><td class="text" style="color: #a25555">fbre: oe-pkg-util does that, but an IMAGE_FEATURE is not a package</td><td class="time"><a href="#t2019-04-04T14:46:48" class="time">14:46</a></td></tr>
<tr id="t2019-04-04T14:47:50"><th class="nick" style="background: #a25555">u1106</th><td class="text" style="color: #a25555">fbre: right that packagegroup I also saw in the source. But why doesn't it get built and installed here?</td><td class="time"><a href="#t2019-04-04T14:47:50" class="time">14:47</a></td></tr>
<tr id="t2019-04-04T14:48:43"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">u1106: not with my suggested lines either?</td><td class="time"><a href="#t2019-04-04T14:48:43" class="time">14:48</a></td></tr>
<tr id="t2019-04-04T14:49:56"><th class="nick" style="background: #a25555">u1106</th><td class="text" style="color: #a25555">fbre: haven't been able to try yet, I have a "more important" build running</td><td class="time"><a href="#t2019-04-04T14:49:56" class="time">14:49</a></td></tr>
<tr id="t2019-04-04T15:04:08"><th class="nick" style="background: #a25555">u1106</th><td class="text" style="color: #a25555">fbre: s/oe-pkg-util/oe-pkgdata-util/ (Just noted when working on higher priority item that bash completed a bit differently than what I had typed in irc)</td><td class="time"><a href="#t2019-04-04T15:04:08" class="time">15:04</a></td></tr>
<tr id="t2019-04-04T15:07:29"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">u1106: I have here:&nbsp;&nbsp; CORE_IMAGE_EXTRA_INSTALL_append ?= "opkg"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and EXTRA_IMAGE_FEATURES ?= "package-management"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and PACKAGE_CLASSES = "package_ipk"</td><td class="time"><a href="#t2019-04-04T15:07:29" class="time">15:07</a></td></tr>
<tr id="t2019-04-04T15:08:15"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">u1106: just to have the opkg stuff available</td><td class="time"><a href="#t2019-04-04T15:08:15" class="time">15:08</a></td></tr>
<tr id="t2019-04-04T15:10:18"><th class="nick" style="background: #a25555">u1106</th><td class="text" style="color: #a25555">fbre: Thanks for your help for now, I need to return to this later, need to get some merge done in the next 50 minutes...</td><td class="time"><a href="#t2019-04-04T15:10:18" class="time">15:10</a></td></tr>
<tr id="t2019-04-04T15:11:01"><th class="nick" style="background: #9b519b">fbre</th><td class="text" style="color: #9b519b">yo, I'm also almost on my way home :) See yeah</td><td class="time"><a href="#t2019-04-04T15:11:01" class="time">15:11</a></td></tr>
<tr id="t2019-04-04T15:43:15"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: I'm wondering if you broke python3 relocation :/</td><td class="time"><a href="#t2019-04-04T15:43:15" class="time">15:43</a></td></tr>
<tr id="t2019-04-04T15:43:30"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: (<a href="http://git.yoctoproject.org/cgit.cgi/poky/commit/meta/recipes-devtools/python/?id=e2c3247c233876ab090c9ce3d5325a6d46ab350f" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky/commit/meta/recipes-devtools/python/?id=e2c3247c233876ab090c9ce3d5325a6d46ab350f</a> removed the create_wrapper ${D}${bindir}/python${PYTHON_MAJMIN}&nbsp;&nbsp;PYTHONHOME='${prefix}'&nbsp;&nbsp;TERMINFO_DIRS='${sysconfdir}/terminfo:/etc/terminfo:/usr/share/terminfo:/usr/share/misc/terminfo:/lib/terminfo'&nbsp;&nbsp;PYTHONNOUSERSITE='1')</td><td class="time"><a href="#t2019-04-04T15:43:30" class="time">15:43</a></td></tr>
<tr id="t2019-04-04T15:44:10"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">jae1: I think we need to add that bit back to the python3 recipe, then update as we discussed on #13208</td><td class="time"><a href="#t2019-04-04T15:44:10" class="time">15:44</a></td></tr>
<tr id="t2019-04-04T15:45:09"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: could well be. I didn't add many bits of the'old stuff'</td><td class="time"><a href="#t2019-04-04T15:45:09" class="time">15:45</a></td></tr>
<tr id="t2019-04-04T15:45:33"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: on the other hand, I made progress with the ptest buffering issue</td><td class="time"><a href="#t2019-04-04T15:45:33" class="time">15:45</a></td></tr>
<tr id="t2019-04-04T15:45:51"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: I'm curious what you found?</td><td class="time"><a href="#t2019-04-04T15:45:51" class="time">15:45</a></td></tr>
<tr id="t2019-04-04T15:46:04"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: btw, in triage you got the python ptest issues, I took strace and lttng</td><td class="time"><a href="#t2019-04-04T15:46:04" class="time">15:46</a></td></tr>
<tr id="t2019-04-04T15:46:24"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: <a href="https://lists.yoctoproject.org/pipermail/yocto/2019-April/044722.html" rel="nofollow">https://lists.yoctoproject.org/pipermail/yocto/2019-April/044722.html</a></td><td class="time"><a href="#t2019-04-04T15:46:24" class="time">15:46</a></td></tr>
<tr id="t2019-04-04T15:46:36"><th class="nick" style="background: #818144">xtron</th><td class="text" style="color: #818144">how to perform 'if NOT env exists ${var}' in hush shell for u-boot</td><td class="time"><a href="#t2019-04-04T15:46:36" class="time">15:46</a></td></tr>
<tr id="t2019-04-04T15:46:53"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">I just tested this, and with the patch, the output is received as at happens</td><td class="time"><a href="#t2019-04-04T15:46:53" class="time">15:46</a></td></tr>
<tr id="t2019-04-04T15:46:58"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">*as it happens</td><td class="time"><a href="#t2019-04-04T15:46:58" class="time">15:46</a></td></tr>
<tr id="t2019-04-04T15:47:19"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">(patch is erroneous, it adds some debug stuff, only the 'stdbuf' chunk is important)</td><td class="time"><a href="#t2019-04-04T15:47:19" class="time">15:47</a></td></tr>
<tr id="t2019-04-04T15:49:57"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: can we call setlinebuf() on the fd directly rather than need coreutils?</td><td class="time"><a href="#t2019-04-04T15:49:57" class="time">15:49</a></td></tr>
<tr id="t2019-04-04T15:50:28"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: good find though!</td><td class="time"><a href="#t2019-04-04T15:50:28" class="time">15:50</a></td></tr>
<tr id="t2019-04-04T15:51:32"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: <a href="https://linux.die.net/man/3/setlinebuf" rel="nofollow">https://linux.die.net/man/3/setlinebuf</a></td><td class="time"><a href="#t2019-04-04T15:51:32" class="time">15:51</a></td></tr>
<tr id="t2019-04-04T15:51:37"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: I think we can't - we operate on file descriptors, and setlinebuf operates on FILE*</td><td class="time"><a href="#t2019-04-04T15:51:37" class="time">15:51</a></td></tr>
<tr id="t2019-04-04T15:51:59"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">I do wonder what magic stdbuf does though</td><td class="time"><a href="#t2019-04-04T15:51:59" class="time">15:51</a></td></tr>
<tr id="t2019-04-04T15:52:05"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">I might go and read its source code</td><td class="time"><a href="#t2019-04-04T15:52:05" class="time">15:52</a></td></tr>
<tr id="t2019-04-04T15:53:41"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: I was just thinking that...</td><td class="time"><a href="#t2019-04-04T15:53:41" class="time">15:53</a></td></tr>
<tr id="t2019-04-04T15:54:04"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: sounds like wrappers around setvbuf</td><td class="time"><a href="#t2019-04-04T15:54:04" class="time">15:54</a></td></tr>
<tr id="t2019-04-04T15:55:04"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: unless the intermediate process is now doing the buffering :/</td><td class="time"><a href="#t2019-04-04T15:55:04" class="time">15:55</a></td></tr>
<tr id="t2019-04-04T15:57:29"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: yes, a LD_PRELOAD hack</td><td class="time"><a href="#t2019-04-04T15:57:29" class="time">15:57</a></td></tr>
<tr id="t2019-04-04T16:15:17"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">Hi, is this the right place to ask about bitbake?</td><td class="time"><a href="#t2019-04-04T16:15:17" class="time">16:15</a></td></tr>
<tr id="t2019-04-04T16:19:22"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">yes</td><td class="time"><a href="#t2019-04-04T16:19:22" class="time">16:19</a></td></tr>
<tr id="t2019-04-04T16:21:26"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">ok. I'm wondering if it's possible to create a recipe or bbappend file which would remove building a certain recipe, but still keeps building its dependencies?</td><td class="time"><a href="#t2019-04-04T16:21:26" class="time">16:21</a></td></tr>
<tr id="t2019-04-04T16:21:57"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">So if A depends on B, i want to write an A.bbappend which would stop A from building, but keeps building B</td><td class="time"><a href="#t2019-04-04T16:21:57" class="time">16:21</a></td></tr>
<tr id="t2019-04-04T16:22:33"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">replace A.bbappend with any mechanism that could achieve that</td><td class="time"><a href="#t2019-04-04T16:22:33" class="time">16:22</a></td></tr>
<tr id="t2019-04-04T16:23:37"><th class="nick" style="background: #42427e">yocti</th><td class="text" style="color: #42427e">New news from stackoverflow: CMake could not find Perl &lt;<a href="https://stackoverflow.com/questions/55520718/cmake-could-not-find-perl&gt;" rel="nofollow">https://stackoverflow.com/questions/55520718/cmake-could-not-find-perl&gt;</a></td><td class="time"><a href="#t2019-04-04T16:23:37" class="time">16:23</a></td></tr>
<tr id="t2019-04-04T16:23:57"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">alcroito, create a new recipe that would have exactly same list of dependencies as A</td><td class="time"><a href="#t2019-04-04T16:23:57" class="time">16:23</a></td></tr>
<tr id="t2019-04-04T16:24:11"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">what is the use case?</td><td class="time"><a href="#t2019-04-04T16:24:11" class="time">16:24</a></td></tr>
<tr id="t2019-04-04T16:28:10"><th class="nick" style="background: #4d4d93">luneff</th><td class="text" style="color: #4d4d93">hey guys! has anyone tried installing Google Chrome Market plugins into a Yocto build? I think integrating h264ify from the beginning is a good idea :-)</td><td class="time"><a href="#t2019-04-04T16:28:10" class="time">16:28</a></td></tr>
<tr id="t2019-04-04T16:37:34"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">kanavin that works if you have one package, but if i have a whole tree of packages, copy pasting isn't feasible. The use case is to get an sdk with a sysroot with all dependencies, without the actual packages</td><td class="time"><a href="#t2019-04-04T16:37:34" class="time">16:37</a></td></tr>
<tr id="t2019-04-04T16:37:56"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">to be more precise, i'm trying to get a sysroot of all dependencies of qt, without actually building qt</td><td class="time"><a href="#t2019-04-04T16:37:56" class="time">16:37</a></td></tr>
<tr id="t2019-04-04T16:49:02"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">alcroito: dare i ask why?</td><td class="time"><a href="#t2019-04-04T16:49:02" class="time">16:49</a></td></tr>
<tr id="t2019-04-04T16:49:32"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">rburton yes, i'm working on the cmake qt port (build qt with cmake), and i want a sysroot with qt dependencies</td><td class="time"><a href="#t2019-04-04T16:49:32" class="time">16:49</a></td></tr>
<tr id="t2019-04-04T16:49:49"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">*sysroot* or sdk</td><td class="time"><a href="#t2019-04-04T16:49:49" class="time">16:49</a></td></tr>
<tr id="t2019-04-04T16:49:59"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">sysroot, but that's provided by the sdk</td><td class="time"><a href="#t2019-04-04T16:49:59" class="time">16:49</a></td></tr>
<tr id="t2019-04-04T16:50:33"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">why not just add qt to the sdk and ignore the fact that qt is in it?</td><td class="time"><a href="#t2019-04-04T16:50:33" class="time">16:50</a></td></tr>
<tr id="t2019-04-04T16:51:26"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">because adding a new dependency recipe or modifying an existing one forces rebuilding whole of qt, and that takes too long</td><td class="time"><a href="#t2019-04-04T16:51:26" class="time">16:51</a></td></tr>
<tr id="t2019-04-04T16:51:38"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">hence my desire to get rid of the qt building part</td><td class="time"><a href="#t2019-04-04T16:51:38" class="time">16:51</a></td></tr>
<tr id="t2019-04-04T16:51:45"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">fine, just copy the dependency list</td><td class="time"><a href="#t2019-04-04T16:51:45" class="time">16:51</a></td></tr>
<tr id="t2019-04-04T16:52:12"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">Like i said, it's not entirely feasible if they are chosen dynamically from multiple recipes and bbapends</td><td class="time"><a href="#t2019-04-04T16:52:12" class="time">16:52</a></td></tr>
<tr id="t2019-04-04T16:52:52"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">bitbake qt -e |grep DEPENDS=</td><td class="time"><a href="#t2019-04-04T16:52:52" class="time">16:52</a></td></tr>
<tr id="t2019-04-04T16:52:54"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">there's the list</td><td class="time"><a href="#t2019-04-04T16:52:54" class="time">16:52</a></td></tr>
<tr id="t2019-04-04T16:54:49"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">ok, that's a step in the direction that I needed. but that's dependencies for only one qt package, i'd have to do it multiple times for each module</td><td class="time"><a href="#t2019-04-04T16:54:49" class="time">16:54</a></td></tr>
<tr id="t2019-04-04T16:55:36"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">yes</td><td class="time"><a href="#t2019-04-04T16:55:36" class="time">16:55</a></td></tr>
<tr id="t2019-04-04T16:57:15"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">But coming back to the original question, it is not possible to dynamically alter which recipes should NOT be built, and to also get the dependencies of those recipes?</td><td class="time"><a href="#t2019-04-04T16:57:15" class="time">16:57</a></td></tr>
<tr id="t2019-04-04T16:59:36"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">i guess you could use a bbappend to delete qt's do_compile do_configure do_install etc etc</td><td class="time"><a href="#t2019-04-04T16:59:36" class="time">16:59</a></td></tr>
<tr id="t2019-04-04T16:59:46"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: even after fixing the buffering, 5 minutes timeout seems genuinely too short for some of tests in python3 and lttng-tools</td><td class="time"><a href="#t2019-04-04T16:59:46" class="time">16:59</a></td></tr>
<tr id="t2019-04-04T17:00:06"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: I am now re-running them outside of ptest-runner to determine just how much time they need</td><td class="time"><a href="#t2019-04-04T17:00:06" class="time">17:00</a></td></tr>
<tr id="t2019-04-04T17:00:10"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">rburton: ^^^</td><td class="time"><a href="#t2019-04-04T17:00:10" class="time">17:00</a></td></tr>
<tr id="t2019-04-04T17:02:33"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: are you sure some of these aren't hangs? tests taking longer than 5 mins seems bad :/</td><td class="time"><a href="#t2019-04-04T17:02:33" class="time">17:02</a></td></tr>
<tr id="t2019-04-04T17:02:46"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">OT, but ha, <a href="https://github.com/sdushantha/macbook-keyboard-visualizer" rel="nofollow">https://github.com/sdushantha/macbook-keyboard-visualizer</a></td><td class="time"><a href="#t2019-04-04T17:02:46" class="time">17:02</a></td></tr>
<tr id="t2019-04-04T17:02:46"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: I know the lttng issue has a fix upstream</td><td class="time"><a href="#t2019-04-04T17:02:46" class="time">17:02</a></td></tr>
<tr id="t2019-04-04T17:03:00"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">i assume do_compile, etc are tasks. Would it be possible to remove the tasks from a single location for multiple recipes, instead of doing it in multiple bbappend files?</td><td class="time"><a href="#t2019-04-04T17:03:00" class="time">17:03</a></td></tr>
<tr id="t2019-04-04T17:03:56"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">alcroito, just wondering what CPU and how much RAM do you have?</td><td class="time"><a href="#t2019-04-04T17:03:56" class="time">17:03</a></td></tr>
<tr id="t2019-04-04T17:04:19"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">some 4c / 8th intel cpu, 32g ram</td><td class="time"><a href="#t2019-04-04T17:04:19" class="time">17:04</a></td></tr>
<tr id="t2019-04-04T17:04:58"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">alcroito, you might find that getting a 32 core threadripper might be cheaper than the time you lose fighting with this, and then building stuff on a low-core machine</td><td class="time"><a href="#t2019-04-04T17:04:58" class="time">17:04</a></td></tr>
<tr id="t2019-04-04T17:05:58"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">heh, perhaps.</td><td class="time"><a href="#t2019-04-04T17:05:58" class="time">17:05</a></td></tr>
<tr id="t2019-04-04T17:06:08"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">But I'm stubborn like that</td><td class="time"><a href="#t2019-04-04T17:06:08" class="time">17:06</a></td></tr>
<tr id="t2019-04-04T17:06:19"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">and rumours are, a 64 core one is coming this year</td><td class="time"><a href="#t2019-04-04T17:06:19" class="time">17:06</a></td></tr>
<tr id="t2019-04-04T17:08:31"><th class="nick" style="background: #b15db1">JaMa</th><td class="text" style="color: #b15db1">even with 64 cores, rebuilding qtwebengine takes about the same time as building world with oe-core :/</td><td class="time"><a href="#t2019-04-04T17:08:31" class="time">17:08</a></td></tr>
<tr id="t2019-04-04T17:09:16"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: stdbuf is horrible :/</td><td class="time"><a href="#t2019-04-04T17:09:16" class="time">17:09</a></td></tr>
<tr id="t2019-04-04T17:09:54"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: alternatively, we might just raise ptest-runner's timeout from five minutes</td><td class="time"><a href="#t2019-04-04T17:09:54" class="time">17:09</a></td></tr>
<tr id="t2019-04-04T17:11:01"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: the buffers should flush at 4k max. I wonder if pipe size is being a factor here</td><td class="time"><a href="#t2019-04-04T17:11:01" class="time">17:11</a></td></tr>
<tr id="t2019-04-04T17:11:11"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: I'll ponder while I go for food</td><td class="time"><a href="#t2019-04-04T17:11:11" class="time">17:11</a></td></tr>
<tr id="t2019-04-04T17:11:31"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: openssh definitely is not a hang, it completes fine here with the stdbuf fix applied</td><td class="time"><a href="#t2019-04-04T17:11:31" class="time">17:11</a></td></tr>
<tr id="t2019-04-04T17:11:54"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: running python3 now to see which of its tests take long and whether it genuinely hangs</td><td class="time"><a href="#t2019-04-04T17:11:54" class="time">17:11</a></td></tr>
<tr id="t2019-04-04T17:12:21"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: I suspect lttng genuinely does hang fwiw, I suspect the others dont</td><td class="time"><a href="#t2019-04-04T17:12:21" class="time">17:12</a></td></tr>
<tr id="t2019-04-04T17:13:01"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: right, then I won't run that. python3's httplib test does seem stuck, I'll probably head home then.</td><td class="time"><a href="#t2019-04-04T17:13:01" class="time">17:13</a></td></tr>
<tr id="t2019-04-04T17:32:00"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">ok a different question, is it possible to create a unified sysroot that can be sourced via the setup environment shell script, without creating an sdk?</td><td class="time"><a href="#t2019-04-04T17:32:00" class="time">17:32</a></td></tr>
<tr id="t2019-04-04T17:37:30"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">that's basically the definition of an sdk already, just not zipped/tarred up</td><td class="time"><a href="#t2019-04-04T17:37:30" class="time">17:37</a></td></tr>
<tr id="t2019-04-04T17:40:28"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">yes, but from what i've seen the paths in the "environment-setup-cortexa9hf-neon-poky-linux-gnueabi" bash script expect the sysroot to be installed in a specific location, so it doesn't seem relocatable</td><td class="time"><a href="#t2019-04-04T17:40:28" class="time">17:40</a></td></tr>
<tr id="t2019-04-04T17:40:46"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">sdk installation runs relocation scripts which fix this</td><td class="time"><a href="#t2019-04-04T17:40:46" class="time">17:40</a></td></tr>
<tr id="t2019-04-04T17:41:03"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">which means it won't work without installation</td><td class="time"><a href="#t2019-04-04T17:41:03" class="time">17:41</a></td></tr>
<tr id="t2019-04-04T17:41:14"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">if those scripts aren't run, the sysroot won't be usable, as even if you deal with library relocation (i.e. $ORIGIN in rpath) that won't fix relocation issues in scripts (sed replacement) or dynamic linker (ld-linux.so.2)</td><td class="time"><a href="#t2019-04-04T17:41:14" class="time">17:41</a></td></tr>
<tr id="t2019-04-04T17:41:24"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">no sysroot with binaries you want to *run* will work without relocation</td><td class="time"><a href="#t2019-04-04T17:41:24" class="time">17:41</a></td></tr>
<tr id="t2019-04-04T17:41:26"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">sdk or not</td><td class="time"><a href="#t2019-04-04T17:41:26" class="time">17:41</a></td></tr>
<tr id="t2019-04-04T17:41:45"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">if it's just libraries and headers, it's fine</td><td class="time"><a href="#t2019-04-04T17:41:45" class="time">17:41</a></td></tr>
<tr id="t2019-04-04T17:41:47"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">for running, of course, but i'm only concerned with build</td><td class="time"><a href="#t2019-04-04T17:41:47" class="time">17:41</a></td></tr>
<tr id="t2019-04-04T17:41:52"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">and you can change how the sdk is packaged</td><td class="time"><a href="#t2019-04-04T17:41:52" class="time">17:41</a></td></tr>
<tr id="t2019-04-04T17:41:58"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">then it's irrelevent</td><td class="time"><a href="#t2019-04-04T17:41:58" class="time">17:41</a></td></tr>
<tr id="t2019-04-04T17:42:15"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">is your only concern the hardcoded paths in environment-setup?</td><td class="time"><a href="#t2019-04-04T17:42:15" class="time">17:42</a></td></tr>
<tr id="t2019-04-04T17:42:24"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">ys</td><td class="time"><a href="#t2019-04-04T17:42:24" class="time">17:42</a></td></tr>
<tr id="t2019-04-04T17:42:26"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">yes*</td><td class="time"><a href="#t2019-04-04T17:42:26" class="time">17:42</a></td></tr>
<tr id="t2019-04-04T17:42:55"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">that can be trivially worked around, if you can assume a certain amount of sanity in the user's shell</td><td class="time"><a href="#t2019-04-04T17:42:55" class="time">17:42</a></td></tr>
<tr id="t2019-04-04T17:43:17"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">Could you elaborate?</td><td class="time"><a href="#t2019-04-04T17:43:17" class="time">17:43</a></td></tr>
<tr id="t2019-04-04T17:43:28"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">alcroito: <a href="https://github.com/MentorEmbedded/meta-mentor/blob/cf21e7507fc9469c3185d360461697ad5d8af315/meta-mentor-staging/recipes-core/meta/meta-environment.bbappend" rel="nofollow">https://github.com/MentorEmbedded/meta-mentor/blob/cf21e7507fc9469c3185d360461697ad5d8af315/meta-mentor-staging/recipes-core/meta/meta-environment.bbappend</a></td><td class="time"><a href="#t2019-04-04T17:43:28" class="time">17:43</a></td></tr>
<tr id="t2019-04-04T17:43:36"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">that does it</td><td class="time"><a href="#t2019-04-04T17:43:36" class="time">17:43</a></td></tr>
<tr id="t2019-04-04T17:44:13"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">there's no *standard* method to determine the path of the script being sourced</td><td class="time"><a href="#t2019-04-04T17:44:13" class="time">17:44</a></td></tr>
<tr id="t2019-04-04T17:44:19"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i.e. posix doesn't define it</td><td class="time"><a href="#t2019-04-04T17:44:19" class="time">17:44</a></td></tr>
<tr id="t2019-04-04T17:44:31"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">but bash and zsh have their own methods, and some other shells will set $0, though not all</td><td class="time"><a href="#t2019-04-04T17:44:31" class="time">17:44</a></td></tr>
<tr id="t2019-04-04T17:44:48"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">hence the comment about user shell sanity</td><td class="time"><a href="#t2019-04-04T17:44:48" class="time">17:44</a></td></tr>
<tr id="t2019-04-04T17:44:56"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">that append just addresses it for bash and zsh, the most common ones</td><td class="time"><a href="#t2019-04-04T17:44:56" class="time">17:44</a></td></tr>
<tr id="t2019-04-04T17:46:19"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">So the script essentially determines the location of the current environment dir name, and uses sed to replace the hardcoded paths with the determined location?</td><td class="time"><a href="#t2019-04-04T17:46:19" class="time">17:46</a></td></tr>
<tr id="t2019-04-04T17:46:28"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i think a combination of this append and customizing how the sdk is packaged (set SDK_PACKAGING_FUNC) should address your issue</td><td class="time"><a href="#t2019-04-04T17:46:28" class="time">17:46</a></td></tr>
<tr id="t2019-04-04T17:46:54"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">it determines the location of itself (environment-setup) and assumes that's the root of the sdk and substitutes it, yes</td><td class="time"><a href="#t2019-04-04T17:46:54" class="time">17:46</a></td></tr>
<tr id="t2019-04-04T17:47:10"><th class="nick" style="background: #adad5b">alcroito</th><td class="text" style="color: #adad5b">ok, i'll have to give it a go, thanks!</td><td class="time"><a href="#t2019-04-04T17:47:10" class="time">17:47</a></td></tr>
<tr id="t2019-04-04T17:47:14"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">np, good luck with it</td><td class="time"><a href="#t2019-04-04T17:47:14" class="time">17:47</a></td></tr>
<tr id="t2019-04-04T17:47:24"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">i should probably submit that append upstream at some point</td><td class="time"><a href="#t2019-04-04T17:47:24" class="time">17:47</a></td></tr>
<tr id="t2019-04-04T17:47:30"><th class="nick" style="background: #57a657">kergoth</th><td class="text" style="color: #57a657">slightly less work for the relocation scripts</td><td class="time"><a href="#t2019-04-04T17:47:30" class="time">17:47</a></td></tr>
<tr id="t2019-04-04T19:09:58"><th class="nick" style="background: #5fb4b4">psrcode</th><td class="text" style="color: #5fb4b4">RP: quick question on how the autobuilder work, does it ssh into the system and run ptest etc or does it uses the a tty/console redirection? I'm asking because I'm having trouble running the ptest for lttng-tools via runqemu nographic (when a lot of output is happening fast) but no problem when sshing into the system an running the ptest that way. Might be a problem in ptest-runner ...</td><td class="time"><a href="#t2019-04-04T19:09:58" class="time">19:09</a></td></tr>
<tr id="t2019-04-04T19:10:45"><th class="nick" style="background: #5fb4b4">psrcode</th><td class="text" style="color: #5fb4b4">it is most probably a problem in ptest-runner since I can execute the test manually and everything works fine</td><td class="time"><a href="#t2019-04-04T19:10:45" class="time">19:10</a></td></tr>
<tr id="t2019-04-04T19:32:02"><td class="nickchange" colspan="2">*** georgem_ is now known as georgem</td><td><a href="#t2019-04-04T19:32:02" class="time">19:32</a></td></tr>
<tr id="t2019-04-04T19:38:37"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">psrcode: it runs it via ssh</td><td class="time"><a href="#t2019-04-04T19:38:37" class="time">19:38</a></td></tr>
<tr id="t2019-04-04T19:39:16"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">psrcode: is it an emulation speed issue with the console in runqemu?</td><td class="time"><a href="#t2019-04-04T19:39:16" class="time">19:39</a></td></tr>
<tr id="t2019-04-04T19:39:32"><th class="nick" style="background: #5fb4b4">psrcode</th><td class="text" style="color: #5fb4b4">okai</td><td class="time"><a href="#t2019-04-04T19:39:32" class="time">19:39</a></td></tr>
<tr id="t2019-04-04T19:40:02"><th class="nick" style="background: #5fb4b4">psrcode</th><td class="text" style="color: #5fb4b4">tbh i'm not sure, it's a musl build and I can't get gdb to run neither gdbserver...</td><td class="time"><a href="#t2019-04-04T19:40:02" class="time">19:40</a></td></tr>
<tr id="t2019-04-04T19:40:17"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">psrcode: we're having a few problems with ptest-runner's i/o :/</td><td class="time"><a href="#t2019-04-04T19:40:17" class="time">19:40</a></td></tr>
<tr id="t2019-04-04T19:40:24"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">psrcode: ah, there was a thread about this somewhere</td><td class="time"><a href="#t2019-04-04T19:40:24" class="time">19:40</a></td></tr>
<tr id="t2019-04-04T19:40:45"><th class="nick" style="background: #5fb4b4">psrcode</th><td class="text" style="color: #5fb4b4">I would assume no since I can run the same test fine manually</td><td class="time"><a href="#t2019-04-04T19:40:45" class="time">19:40</a></td></tr>
<tr id="t2019-04-04T19:41:45"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">psrcode: <a href="https://lists.yoctoproject.org/pipermail/yocto/2019-April/044720.html" rel="nofollow">https://lists.yoctoproject.org/pipermail/yocto/2019-April/044720.html</a></td><td class="time"><a href="#t2019-04-04T19:41:45" class="time">19:41</a></td></tr>
<tr id="t2019-04-04T19:41:55"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">psrcode: we're wondering if pie is broken on musl</td><td class="time"><a href="#t2019-04-04T19:41:55" class="time">19:41</a></td></tr>
<tr id="t2019-04-04T19:45:25"><th class="nick" style="background: #5fb4b4">psrcode</th><td class="text" style="color: #5fb4b4">arf</td><td class="time"><a href="#t2019-04-04T19:45:25" class="time">19:45</a></td></tr>
<tr id="t2019-04-04T19:46:48"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">psrcode: I'd love to not have ptest hanging in lttng if you have any idea how to just fix that piece! :) (or point me at how to fix it)</td><td class="time"><a href="#t2019-04-04T19:46:48" class="time">19:46</a></td></tr>
<tr id="t2019-04-04T19:47:19"><th class="nick" style="background: #5fb4b4">psrcode</th><td class="text" style="color: #5fb4b4">well I was about to send you the patches but stumbled upon this...</td><td class="time"><a href="#t2019-04-04T19:47:19" class="time">19:47</a></td></tr>
<tr id="t2019-04-04T19:47:59"><th class="nick" style="background: #5fb4b4">psrcode</th><td class="text" style="color: #5fb4b4">i'll do a last checkup with ptest under ssh</td><td class="time"><a href="#t2019-04-04T19:47:59" class="time">19:47</a></td></tr>
<tr id="t2019-04-04T19:51:24"><th class="nick" style="background: #5fb4b4">psrcode</th><td class="text" style="color: #5fb4b4">about PIE/musl, i'll be a bit bitter, but it wouldn't be the first time musl is *broken*. sorry khem. We have a saying here at efficios: "musl the poor's man glibc"</td><td class="time"><a href="#t2019-04-04T19:51:24" class="time">19:51</a></td></tr>
<tr id="t2019-04-04T19:55:55"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">psrcode: it does sometimes have some challenges... ;-)</td><td class="time"><a href="#t2019-04-04T19:55:55" class="time">19:55</a></td></tr>
<tr id="t2019-04-04T20:09:38"><th class="nick" style="background: #b86161">bluelightning</th><td class="text" style="color: #b86161">anyone have anything to start off <a href="https://wiki.yoctoproject.org/wiki/FutureMigrationGuide" rel="nofollow">https://wiki.yoctoproject.org/wiki/FutureMigrationGuide</a> ?</td><td class="time"><a href="#t2019-04-04T20:09:38" class="time">20:09</a></td></tr>
<tr id="t2019-04-04T20:09:44"><th class="nick" style="background: #b86161">bluelightning</th><td class="text" style="color: #b86161">RP: rburton: ^</td><td class="time"><a href="#t2019-04-04T20:09:44" class="time">20:09</a></td></tr>
<tr id="t2019-04-04T20:09:56"><th class="nick" style="background: #b86161">bluelightning</th><td class="text" style="color: #b86161">khem also ^</td><td class="time"><a href="#t2019-04-04T20:09:56" class="time">20:09</a></td></tr>
<tr id="t2019-04-04T20:10:31"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">bluelightning: <a href="http://git.yoctoproject.org/cgit.cgi/poky/commit/?h=warrior-next&amp;id=26d27d6a79fb336e9a47611698306da15e98fe8b" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky/commit/?h=warrior-next&amp;id=26d27d6a79fb336e9a47611698306da15e98fe8b</a> ?</td><td class="time"><a href="#t2019-04-04T20:10:31" class="time">20:10</a></td></tr>
<tr id="t2019-04-04T20:10:37"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">bluelightning: planning to merge that</td><td class="time"><a href="#t2019-04-04T20:10:37" class="time">20:10</a></td></tr>
<tr id="t2019-04-04T20:10:43"><th class="nick" style="background: #b86161">bluelightning</th><td class="text" style="color: #b86161">RP: ok, thanks</td><td class="time"><a href="#t2019-04-04T20:10:43" class="time">20:10</a></td></tr>
<tr id="t2019-04-04T20:10:49"><td class="action" colspan="2">* RP hopes nobody cares/notices</td><td><a href="#t2019-04-04T20:10:49" class="time">20:10</a></td></tr>
<tr id="t2019-04-04T20:10:58"><th class="nick" style="background: #b86161">bluelightning</th><td class="text" style="color: #b86161">naturally I will be doing my usual commit trawl but advance pointers/raw material is helpful :)</td><td class="time"><a href="#t2019-04-04T20:10:58" class="time">20:10</a></td></tr>
<tr id="t2019-04-04T20:11:15"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">bluelightning: gcc-cross-initial and glibc-initial removal</td><td class="time"><a href="#t2019-04-04T20:11:15" class="time">20:11</a></td></tr>
<tr id="t2019-04-04T20:11:21"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">again, hopefully most don't notice/care</td><td class="time"><a href="#t2019-04-04T20:11:21" class="time">20:11</a></td></tr>
<tr id="t2019-04-04T20:11:42"><th class="nick" style="background: #b86161">bluelightning</th><td class="text" style="color: #b86161">right, worth noting though</td><td class="time"><a href="#t2019-04-04T20:11:42" class="time">20:11</a></td></tr>
<tr id="t2019-04-04T20:11:53"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">change to use perl-cross ?</td><td class="time"><a href="#t2019-04-04T20:11:53" class="time">20:11</a></td></tr>
<tr id="t2019-04-04T20:13:18"><th class="nick" style="background: #b15db1">JaMa</th><td class="text" style="color: #b15db1">RP: gcc-cross-initial and glibc-initial removal was most noticible when restoring gcc-7 recipes for warrior, but even there it was easy to follow what gcc-8 recipes did</td><td class="time"><a href="#t2019-04-04T20:13:18" class="time">20:13</a></td></tr>
<tr id="t2019-04-04T20:13:54"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JaMa: right, I don't think there was anything gcc8 specific in what we did. Should have done it years ago :/</td><td class="time"><a href="#t2019-04-04T20:13:54" class="time">20:13</a></td></tr>
<tr id="t2019-04-04T20:14:55"><th class="nick" style="background: #b15db1">JaMa</th><td class="text" style="color: #b15db1">bluelightning: please mention ARM tune changes, but with the ongoing discussion now on the ML I'm not sure what the summary should say</td><td class="time"><a href="#t2019-04-04T20:14:55" class="time">20:14</a></td></tr>
<tr id="t2019-04-04T20:16:37"><th class="nick" style="background: #b86161">bluelightning</th><td class="text" style="color: #b86161">JaMa: ok, I've short-noted it for now and hopefully the dust will settle before the release and then we can document it properly</td><td class="time"><a href="#t2019-04-04T20:16:37" class="time">20:16</a></td></tr>
<tr id="t2019-04-04T20:17:08"><th class="nick" style="background: #b86161">bluelightning</th><td class="text" style="color: #b86161">RP: hmm, does the perl-cross change have any possibly user-visible fallout?</td><td class="time"><a href="#t2019-04-04T20:17:08" class="time">20:17</a></td></tr>
<tr id="t2019-04-04T20:24:44"><th class="nick" style="background: #b86161">bluelightning</th><td class="text" style="color: #b86161">interesting... I'd missed that python 3.4 introduced enum support</td><td class="time"><a href="#t2019-04-04T20:24:44" class="time">20:24</a></td></tr>
<tr id="t2019-04-04T20:28:43"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">bluelightning: just that it changed the perl build a lot and there may be sideeffects from it</td><td class="time"><a href="#t2019-04-04T20:28:43" class="time">20:28</a></td></tr>
<tr id="t2019-04-04T20:29:09"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JaMa, bluelightning: I have no plans to change the tunes for 2.7</td><td class="time"><a href="#t2019-04-04T20:29:09" class="time">20:29</a></td></tr>
<tr id="t2019-04-04T20:45:33"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin: I think we might be able to just add -u to the sed command in the openssh ptest runner</td><td class="time"><a href="#t2019-04-04T20:45:33" class="time">20:45</a></td></tr>
<tr id="t2019-04-04T20:47:07"><th class="nick" style="background: #b15db1">JaMa</th><td class="text" style="color: #b15db1">RP: understood, I was thinking about thumb enabled by default (so that people aren't surprised that TUNE_PKGARCHs are now different and binary feeds broken, but it's already from thud, not new in warrior, sorry for noise</td><td class="time"><a href="#t2019-04-04T20:47:07" class="time">20:47</a></td></tr>
<tr id="t2019-04-04T20:48:10"><th class="nick" style="background: #b15db1">JaMa</th><td class="text" style="color: #b15db1">RP: and the new changes might be hard to describe in release notes as there isn't good agreement if the change was for better or worse and what the tunes actually should do</td><td class="time"><a href="#t2019-04-04T20:48:10" class="time">20:48</a></td></tr>
<tr id="t2019-04-04T20:48:58"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JaMa: right, those patches are 2.8 discussion and I'm still not convinced its the right thing to do. I need to reply to that thread</td><td class="time"><a href="#t2019-04-04T20:48:58" class="time">20:48</a></td></tr>
<tr id="t2019-04-04T20:49:13"><th class="nick" style="background: #b15db1">JaMa</th><td class="text" style="color: #b15db1">105 build jobs in queue, time to take a nap :)</td><td class="time"><a href="#t2019-04-04T20:49:13" class="time">20:49</a></td></tr>
<tr id="t2019-04-04T20:49:16"><th class="nick" style="background: #b15db1">JaMa</th><td class="text" style="color: #b15db1">gnite</td><td class="time"><a href="#t2019-04-04T20:49:16" class="time">20:49</a></td></tr>
<tr id="t2019-04-04T20:49:23"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JaMa: 'night!</td><td class="time"><a href="#t2019-04-04T20:49:23" class="time">20:49</a></td></tr>
<tr id="t2019-04-04T21:20:32"><td class="nickchange" colspan="2">*** armpit2 is now known as armpit</td><td><a href="#t2019-04-04T21:20:32" class="time">21:20</a></td></tr>
<tr id="t2019-04-04T21:35:38"><td class="nickchange" colspan="2">*** armpit2 is now known as armpit</td><td><a href="#t2019-04-04T21:35:38" class="time">21:35</a></td></tr>
<tr id="t2019-04-04T21:51:53"><th class="nick" style="background: #5fb4b4">psrcode</th><td class="text" style="color: #5fb4b4">RP: let me know how it goes: <a href="http://lists.openembedded.org/pipermail/openembedded-core/2019-April/280909.html" rel="nofollow">http://lists.openembedded.org/pipermail/openembedded-core/2019-April/280909.html</a></td><td class="time"><a href="#t2019-04-04T21:51:53" class="time">21:51</a></td></tr>
<tr id="t2019-04-04T21:52:29"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">psrcode: was just reading those and about to queue some tests, thanks!</td><td class="time"><a href="#t2019-04-04T21:52:29" class="time">21:52</a></td></tr>
<tr id="t2019-04-04T21:54:04"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">psrcode: just fired a build with those in...</td><td class="time"><a href="#t2019-04-04T21:54:04" class="time">21:54</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-04-03.log.html">&#171; Wednesday, 2019-04-03</a> <a href="index.html">Index</a> <a href="%23yocto.2019-04-05.log.html">Friday, 2019-04-05 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
