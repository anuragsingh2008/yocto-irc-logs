<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2019-11-29</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Friday, 2019-11-29</h1>
<div class="navigation"> <a href="%23yocto.2019-11-28.log.html">&#171; Thursday, 2019-11-28</a> <a href="index.html">Index</a> <a href="%23yocto.2019-11-30.log.html">Saturday, 2019-11-30 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-11-29T00:03:44"><th class="nick" style="background: #407a40">bluelightning</th><td class="text" style="color: #407a40">tlwoerner: presumably that path is being encoded into a file that gets installed by PackageA, and PackageB's configure step picks it up</td><td class="time"><a href="#t2019-11-29T00:03:44" class="time">00:03</a></td></tr>
<tr id="t2019-11-29T00:04:24"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">bluelightning: let me check...</td><td class="time"><a href="#t2019-11-29T00:04:24" class="time">00:04</a></td></tr>
<tr id="t2019-11-29T00:08:38"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">bluelightning: yes! found it</td><td class="time"><a href="#t2019-11-29T00:08:38" class="time">00:08</a></td></tr>
<tr id="t2019-11-29T00:09:05"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">PackageA-dev/usr/lib/PackageA-targets.cmake</td><td class="time"><a href="#t2019-11-29T00:09:05" class="time">00:09</a></td></tr>
<tr id="t2019-11-29T00:10:32"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">this doesn't *appear* to be a mistake in the recipe, but rather something that's part of cmake (or maybe how we're using cmake?)</td><td class="time"><a href="#t2019-11-29T00:10:32" class="time">00:10</a></td></tr>
<tr id="t2019-11-29T04:44:11"><th class="nick" style="background: #818144">yocti</th><td class="text" style="color: #818144">New news from stackoverflow: Bitbake Server does not start on Windows Subsystem for Linux &lt;<a href="https://stackoverflow.com/questions/49370077/bitbake-server-does-not-start-on-windows-subsystem-for-linux&gt;" rel="nofollow">https://stackoverflow.com/questions/49370077/bitbake-server-does-not-start-on-windows-subsystem-for-linux&gt;</a></td><td class="time"><a href="#t2019-11-29T04:44:11" class="time">04:44</a></td></tr>
<tr id="t2019-11-29T05:58:24"><th class="nick" style="background: #854685">DvorkinDmitry</th><td class="text" style="color: #854685">b'/disk2/build.23/tmp/work/x86_64-nativesdk-tpssdk-linux/nativesdk-cmake/3.14.1-r0/package/opt/tps/2.7-20191129/sysroots/x86_64-tpssdk-linux/usr/bin/cpack: RPATH=/disk2/build.23/tmp/work/x86_64-nativesdk-tpssdk-linux/nativesdk-cmake/3.14.1-r0/recipe-sysroot-native/usr/lib\n'b"new rpath '$ORIGIN/../../../../../../../disk2/build.23/tmp/work/x86_64-nativesdk-tpssdk-linux/nativesdk-cmake/3.14.1-r0/rec</td><td class="time"><a href="#t2019-11-29T05:58:24" class="time">05:58</a></td></tr>
<tr id="t2019-11-29T05:58:34"><th class="nick" style="background: #854685">DvorkinDmitry</th><td class="text" style="color: #854685">why?</td><td class="time"><a href="#t2019-11-29T05:58:34" class="time">05:58</a></td></tr>
<tr id="t2019-11-29T06:01:05"><td class="nickchange" colspan="2">*** camus is now known as kaspter</td><td><a href="#t2019-11-29T06:01:05" class="time">06:01</a></td></tr>
<tr id="t2019-11-29T08:14:46"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2019-11-29T08:14:46" class="time">08:14</a></td></tr>
<tr id="t2019-11-29T08:34:11"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Hmmm...</td><td class="time"><a href="#t2019-11-29T08:34:11" class="time">08:34</a></td></tr>
<tr id="t2019-11-29T08:34:54"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Allright, so after a lot of cursing, sweat and tears, I finally narrowed down why my mingw sdk refuse to compile</td><td class="time"><a href="#t2019-11-29T08:34:54" class="time">08:34</a></td></tr>
<tr id="t2019-11-29T08:35:19"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">It is due to the layers meta-browser and it in turn inherits meta-clan</td><td class="time"><a href="#t2019-11-29T08:35:19" class="time">08:35</a></td></tr>
<tr id="t2019-11-29T08:35:24"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">*meta-clang</td><td class="time"><a href="#t2019-11-29T08:35:24" class="time">08:35</a></td></tr>
<tr id="t2019-11-29T08:37:08"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Now, I do not need these layers at all for the SDK; so I wish to have them excluded from the SDK build chain and only the SDK build chain</td><td class="time"><a href="#t2019-11-29T08:37:08" class="time">08:37</a></td></tr>
<tr id="t2019-11-29T08:37:12"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Can this be done?</td><td class="time"><a href="#t2019-11-29T08:37:12" class="time">08:37</a></td></tr>
<tr id="t2019-11-29T08:41:02"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">e.g. when I type bitbake my-image -c populate_sdk it should ignore those two layers completely</td><td class="time"><a href="#t2019-11-29T08:41:02" class="time">08:41</a></td></tr>
<tr id="t2019-11-29T08:41:16"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">nope, i don't think so</td><td class="time"><a href="#t2019-11-29T08:41:16" class="time">08:41</a></td></tr>
<tr id="t2019-11-29T08:41:36"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">this contradicts pretty much the whole layer model</td><td class="time"><a href="#t2019-11-29T08:41:36" class="time">08:41</a></td></tr>
<tr id="t2019-11-29T08:42:59"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">i mean, do the layers break the build by their pure inclusion in bblayers.conf? without any recipes being pulled in, no configuration being selected and all?</td><td class="time"><a href="#t2019-11-29T08:42:59" class="time">08:42</a></td></tr>
<tr id="t2019-11-29T08:43:01"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Well, the meta-browser layer is supposed to be only an extra application, we don't need any libraries from it, and same with meta-clang</td><td class="time"><a href="#t2019-11-29T08:43:01" class="time">08:43</a></td></tr>
<tr id="t2019-11-29T08:43:10"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">wertigon: You could try setting TOOLCHAIN = "gcc" in the problematic recipes?</td><td class="time"><a href="#t2019-11-29T08:43:10" class="time">08:43</a></td></tr>
<tr id="t2019-11-29T08:43:44"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">because if a layer break the build just by its pure inclusion, then it is buggy.</td><td class="time"><a href="#t2019-11-29T08:43:44" class="time">08:43</a></td></tr>
<tr id="t2019-11-29T08:44:09"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">but if you actively select something from the layer and it breaks, well, then fix the recipe</td><td class="time"><a href="#t2019-11-29T08:44:09" class="time">08:44</a></td></tr>
<tr id="t2019-11-29T08:44:18"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">wertigon: <a href="https://github.com/kraj/meta-clang/blob/master/conf/nonclangable.conf" rel="nofollow">https://github.com/kraj/meta-clang/blob/master/conf/nonclangable.conf</a> shows the kind of thing I mean, its necessary for some bits of the system</td><td class="time"><a href="#t2019-11-29T08:44:18" class="time">08:44</a></td></tr>
<tr id="t2019-11-29T08:44:33"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">LetoThe2nd: Yes, from what I can understand; if I remove meta-browser dependencies from meta-arago-extras, but include it in bblayers.conf, it still builds</td><td class="time"><a href="#t2019-11-29T08:44:33" class="time">08:44</a></td></tr>
<tr id="t2019-11-29T08:45:21"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">wertigon: then the layer is probably wellbehaved and the recipes need fixing.</td><td class="time"><a href="#t2019-11-29T08:45:21" class="time">08:45</a></td></tr>
<tr id="t2019-11-29T08:45:28"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">RP: Ah, that might help; do I put that recipy in my own layer then? :)</td><td class="time"><a href="#t2019-11-29T08:45:28" class="time">08:45</a></td></tr>
<tr id="t2019-11-29T08:45:47"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">RP: can i try again and pester you for some multiconfig things?</td><td class="time"><a href="#t2019-11-29T08:45:47" class="time">08:45</a></td></tr>
<tr id="t2019-11-29T08:46:10"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">I'll try it after my coffee break starting now ^^</td><td class="time"><a href="#t2019-11-29T08:46:10" class="time">08:46</a></td></tr>
<tr id="t2019-11-29T08:46:23"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: it sounds like I missed something previous but yes, you can ask</td><td class="time"><a href="#t2019-11-29T08:46:23" class="time">08:46</a></td></tr>
<tr id="t2019-11-29T08:46:54"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">basically this:1) build an image that depends on another mc-image. 2) change something in a recipe that affects the mc-image, to something that is already in sstate cache 3) bitbake image. effect is: the mc-image gets rebuilt, but not image. then rerun bibtake image: mc-image doesn't get rebuit, image does</td><td class="time"><a href="#t2019-11-29T08:46:54" class="time">08:46</a></td></tr>
<tr id="t2019-11-29T08:46:59"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">wertigon: you can set it in certain recipes directly to force a particular toolchain or set it with the pn-XXX override in local.conf</td><td class="time"><a href="#t2019-11-29T08:46:59" class="time">08:46</a></td></tr>
<tr id="t2019-11-29T08:47:19"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">RP: like, struggling with dependency propagation when sstate is involved.</td><td class="time"><a href="#t2019-11-29T08:47:19" class="time">08:47</a></td></tr>
<tr id="t2019-11-29T08:48:06"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: that sounds wrong :/ Is a nostamp involved on any of the images?</td><td class="time"><a href="#t2019-11-29T08:48:06" class="time">08:48</a></td></tr>
<tr id="t2019-11-29T08:48:44"><td class="nickchange" colspan="2">*** camus is now known as kaspter</td><td><a href="#t2019-11-29T08:48:44" class="time">08:48</a></td></tr>
<tr id="t2019-11-29T08:49:31"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">RP: no. setting a nostamp on the fetch of the recipe that pulls in the image from the mc dependency solves them problem practically, but it feels like a sledge hammer</td><td class="time"><a href="#t2019-11-29T08:49:31" class="time">08:49</a></td></tr>
<tr id="t2019-11-29T08:50:14"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: right, it is and you shouldn't have to do that</td><td class="time"><a href="#t2019-11-29T08:50:14" class="time">08:50</a></td></tr>
<tr id="t2019-11-29T08:51:13"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: could be a bug :(</td><td class="time"><a href="#t2019-11-29T08:51:13" class="time">08:51</a></td></tr>
<tr id="t2019-11-29T08:51:40"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">RP: FWIW it only shows the behaviour if a recipe is modified so diffsigs triggers, but the new state of the recipe is something that already was built earlier and therefore can be pulled from sstate</td><td class="time"><a href="#t2019-11-29T08:51:40" class="time">08:51</a></td></tr>
<tr id="t2019-11-29T08:52:12"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: its good to have it isolated to a specific case like that</td><td class="time"><a href="#t2019-11-29T08:52:12" class="time">08:52</a></td></tr>
<tr id="t2019-11-29T08:52:40"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: probably a case of filing a bug and waiting/hoping someone has a chance to debug it</td><td class="time"><a href="#t2019-11-29T08:52:40" class="time">08:52</a></td></tr>
<tr id="t2019-11-29T08:52:50"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">RP: want me to file?</td><td class="time"><a href="#t2019-11-29T08:52:50" class="time">08:52</a></td></tr>
<tr id="t2019-11-29T08:52:56"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: please</td><td class="time"><a href="#t2019-11-29T08:52:56" class="time">08:52</a></td></tr>
<tr id="t2019-11-29T08:53:10"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">RP: ok</td><td class="time"><a href="#t2019-11-29T08:53:10" class="time">08:53</a></td></tr>
<tr id="t2019-11-29T08:53:19"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: an automated test reproducing the problem would probably help too</td><td class="time"><a href="#t2019-11-29T08:53:19" class="time">08:53</a></td></tr>
<tr id="t2019-11-29T08:53:55"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">sounds like it could be something quite simple to reproduce, maybe even two recipes rather than full images</td><td class="time"><a href="#t2019-11-29T08:53:55" class="time">08:53</a></td></tr>
<tr id="t2019-11-29T08:54:23"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: basically the easier it is to reproduce, the faster someone will probably look at it</td><td class="time"><a href="#t2019-11-29T08:54:23" class="time">08:54</a></td></tr>
<tr id="t2019-11-29T08:54:47"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">RP: one additional minor question. referring to something from a speicifc multiconfig is clear, with the :multiconfig: syntax. but how to refer to something from the standard config, e.g. local.conf?</td><td class="time"><a href="#t2019-11-29T08:54:47" class="time">08:54</a></td></tr>
<tr id="t2019-11-29T08:55:52"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">RP: we'll see if we can provide a test case.</td><td class="time"><a href="#t2019-11-29T08:55:52" class="time">08:55</a></td></tr>
<tr id="t2019-11-29T08:56:26"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: normal is a multiconfig of ''</td><td class="time"><a href="#t2019-11-29T08:56:26" class="time">08:56</a></td></tr>
<tr id="t2019-11-29T08:57:33"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">RP: so ::, basically?</td><td class="time"><a href="#t2019-11-29T08:57:33" class="time">08:57</a></td></tr>
<tr id="t2019-11-29T08:57:42"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: I think so</td><td class="time"><a href="#t2019-11-29T08:57:42" class="time">08:57</a></td></tr>
<tr id="t2019-11-29T08:57:57"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">RP: thanks!</td><td class="time"><a href="#t2019-11-29T08:57:57" class="time">08:57</a></td></tr>
<tr id="t2019-11-29T09:01:47"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">RP: ok, $coworker who actually works on this (i'm just the guys supposed to be good with people here) agrees to provide a bugreport some time soon.</td><td class="time"><a href="#t2019-11-29T09:01:47" class="time">09:01</a></td></tr>
<tr id="t2019-11-29T09:20:04"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: ok, thanks</td><td class="time"><a href="#t2019-11-29T09:20:04" class="time">09:20</a></td></tr>
<tr id="t2019-11-29T09:21:17"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">me being stupid. whats the trick if a source tarball unpacks to a non-canonical path?</td><td class="time"><a href="#t2019-11-29T09:21:17" class="time">09:21</a></td></tr>
<tr id="t2019-11-29T09:22:29"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">i think there was soomething to set the extraction directory? or just do S=...?</td><td class="time"><a href="#t2019-11-29T09:22:29" class="time">09:22</a></td></tr>
<tr id="t2019-11-29T10:19:48"><th class="nick" style="background: #4d4d93">mcfrisk</th><td class="text" style="color: #4d4d93">hmm, a nativesdk recipe must set variables with FOO_class-nativesdk to override defaults from a bbclass. Plain FOO = "bar" will not work even if the bbclass sets defaults with FOO ??= "zoo"</td><td class="time"><a href="#t2019-11-29T10:19:48" class="time">10:19</a></td></tr>
<tr id="t2019-11-29T10:22:51"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">proper example?</td><td class="time"><a href="#t2019-11-29T10:22:51" class="time">10:22</a></td></tr>
<tr id="t2019-11-29T10:24:04"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">RP: concerning the python2 thing from yesterday, rebuilding the container did the trick. no idea what went wrong there.</td><td class="time"><a href="#t2019-11-29T10:24:04" class="time">10:24</a></td></tr>
<tr id="t2019-11-29T10:24:34"><th class="nick" style="background: #4d4d93">mcfrisk</th><td class="text" style="color: #4d4d93">the bbclass also sets defaults for FOO_class-nativesdk ??= "". Seems like that overrides the FOO = "bar" from recipe, but FOO_class-nativesdk = "bar" again overrides the FOO_class-nativesdk ??= ""</td><td class="time"><a href="#t2019-11-29T10:24:34" class="time">10:24</a></td></tr>
<tr id="t2019-11-29T10:25:04"><th class="nick" style="background: #4d4d93">mcfrisk</th><td class="text" style="color: #4d4d93">so that works. I wonder how many bugs I have because of this...</td><td class="time"><a href="#t2019-11-29T10:25:04" class="time">10:25</a></td></tr>
<tr id="t2019-11-29T10:28:21"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">mcfrisk: think "right to left" with variables. ??= sets the thing with that value (which includes the overide). Override expansion happens later</td><td class="time"><a href="#t2019-11-29T10:28:21" class="time">10:28</a></td></tr>
<tr id="t2019-11-29T10:29:23"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">FOO_x ??= "y" sets a default value of "y", FOO_x = "z" changes its value to z. Overrides only come later</td><td class="time"><a href="#t2019-11-29T10:29:23" class="time">10:29</a></td></tr>
<tr id="t2019-11-29T10:29:58"><th class="nick" style="background: #4d4d93">mcfrisk</th><td class="text" style="color: #4d4d93">RP: thanks. Not sure if I should use ?= or ??= in the bbclass though.</td><td class="time"><a href="#t2019-11-29T10:29:58" class="time">10:29</a></td></tr>
<tr id="t2019-11-29T10:35:45"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">mcfrisk: it depends on the behaviour you want I guess</td><td class="time"><a href="#t2019-11-29T10:35:45" class="time">10:35</a></td></tr>
<tr id="t2019-11-29T10:46:43"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">WARNING: core-image-minimal-1.0-r0 do_rootfs: Manifest /home/pokybuild/yocto-worker/oe-selftest/build/build-st-14235/tmp/sstate-control/manifest-x86_64_x86_64-nativesdk-mdadm.package_write_rpm not found in qemux86_64 core2-64 x86_64 allarch x86_64_x86_64-nativesdk (variant '')?</td><td class="time"><a href="#t2019-11-29T10:46:43" class="time">10:46</a></td></tr>
<tr id="t2019-11-29T10:46:44"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">ERROR: core-image-minimal-1.0-r0 do_rootfs: No manifest generated from: mdadm in /home/pokybuild/yocto-worker/oe-selftest/build/meta/recipes-extended/mdadm/mdadm_4.1.bb</td><td class="time"><a href="#t2019-11-29T10:46:44" class="time">10:46</a></td></tr>
<tr id="t2019-11-29T10:46:51"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">RP: ^^ is that one of the known problems?</td><td class="time"><a href="#t2019-11-29T10:46:51" class="time">10:46</a></td></tr>
<tr id="t2019-11-29T10:46:59"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">or something fun and exciting in my next branch</td><td class="time"><a href="#t2019-11-29T10:46:59" class="time">10:46</a></td></tr>
<tr id="t2019-11-29T10:47:51"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: not seen it before</td><td class="time"><a href="#t2019-11-29T10:47:51" class="time">10:47</a></td></tr>
<tr id="t2019-11-29T10:50:13"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">dropped the gcc patch from my next</td><td class="time"><a href="#t2019-11-29T10:50:13" class="time">10:50</a></td></tr>
<tr id="t2019-11-29T10:52:08"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">hm devtool selftest does a mdadm cleansstate</td><td class="time"><a href="#t2019-11-29T10:52:08" class="time">10:52</a></td></tr>
<tr id="t2019-11-29T10:52:29"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">could that be breaking the other tests?</td><td class="time"><a href="#t2019-11-29T10:52:29" class="time">10:52</a></td></tr>
<tr id="t2019-11-29T10:53:52"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: is that one where it sets its own sstate directory?</td><td class="time"><a href="#t2019-11-29T10:53:52" class="time">10:53</a></td></tr>
<tr id="t2019-11-29T10:54:20"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: there are some tests which do run clean* but they should have their own sstate dir</td><td class="time"><a href="#t2019-11-29T10:54:20" class="time">10:54</a></td></tr>
<tr id="t2019-11-29T10:55:19"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">ah yes, okay, devtoolbase sets sstate_dir</td><td class="time"><a href="#t2019-11-29T10:55:19" class="time">10:55</a></td></tr>
<tr id="t2019-11-29T10:57:41"><th class="nick" style="background: #9b519b">ThomasD13</th><td class="text" style="color: #9b519b">I've created a eSDK for my raspberrypi 4. Now I changed the kernel source and wanted to rebuild the image with "devtool build-image core-image-base". However, bitbake reports "skipping recipe linux-raspberrypi-rt as it doesn't produce a package with the same name"</td><td class="time"><a href="#t2019-11-29T10:57:41" class="time">10:57</a></td></tr>
<tr id="t2019-11-29T10:58:24"><th class="nick" style="background: #9b519b">ThomasD13</th><td class="text" style="color: #9b519b">I don't know if that will affect me, or how to fix it ?</td><td class="time"><a href="#t2019-11-29T10:58:24" class="time">10:58</a></td></tr>
<tr id="t2019-11-29T11:02:50"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2019-11-29T11:02:50" class="time">11:02</a></td></tr>
<tr id="t2019-11-29T11:22:24"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">is there a particular reason why runqemu always wants to get tun/tap up? what about a -nonet option?</td><td class="time"><a href="#t2019-11-29T11:22:24" class="time">11:22</a></td></tr>
<tr id="t2019-11-29T11:48:10"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">*le sigh*</td><td class="time"><a href="#t2019-11-29T11:48:10" class="time">11:48</a></td></tr>
<tr id="t2019-11-29T12:04:09"><th class="nick" style="background: #539e9e">nrossi</th><td class="text" style="color: #539e9e">RP: are you sure that my gcc change was causing those reproducible errors? I was able to reproduce the errors, however both with and without the change. I did have to add tools-sdk to image features to get g++/etc. building though (which does not look like the default? on the AB)</td><td class="time"><a href="#t2019-11-29T12:04:09" class="time">12:04</a></td></tr>
<tr id="t2019-11-29T12:05:42"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">nrossi: I'm not 100% sure but I know the builds with that change in showed those reproducible test errors</td><td class="time"><a href="#t2019-11-29T12:05:42" class="time">12:05</a></td></tr>
<tr id="t2019-11-29T12:06:10"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">I might have been able to reproduce my troubles, building now to double check but:</td><td class="time"><a href="#t2019-11-29T12:06:10" class="time">12:06</a></td></tr>
<tr id="t2019-11-29T12:06:19"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">nrossi: I guess I could add just that change and run another test to 100% isolate it but it seemed fairly clear</td><td class="time"><a href="#t2019-11-29T12:06:19" class="time">12:06</a></td></tr>
<tr id="t2019-11-29T12:06:46"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Basic problem - meta-browser and/or meta-clang breaks meta-toolchain</td><td class="time"><a href="#t2019-11-29T12:06:46" class="time">12:06</a></td></tr>
<tr id="t2019-11-29T12:07:18"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Steps to reproduce: Download Poky, meta-browser, meta-clang, meta-mingw</td><td class="time"><a href="#t2019-11-29T12:07:18" class="time">12:07</a></td></tr>
<tr id="t2019-11-29T12:07:41"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Sorry, breaks meta-toolchain when trying to build on meta-mingw on Poky</td><td class="time"><a href="#t2019-11-29T12:07:41" class="time">12:07</a></td></tr>
<tr id="t2019-11-29T12:08:01"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Poky-thud even</td><td class="time"><a href="#t2019-11-29T12:08:01" class="time">12:08</a></td></tr>
<tr id="t2019-11-29T12:12:23"><th class="nick" style="background: #539e9e">nrossi</th><td class="text" style="color: #539e9e">RP: it does seem obvious why it might fail reproducible tests. The equivalent configargs.h might also be needed for non-cross (since "--with-build-sysroot" is embedded in the binaries), however it should be failing now regardless of my gcc change :|</td><td class="time"><a href="#t2019-11-29T12:12:23" class="time">12:12</a></td></tr>
<tr id="t2019-11-29T12:17:26"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Change all branches to thud, add layers to bblayers.conf, specify the SDKMACHINE</td><td class="time"><a href="#t2019-11-29T12:17:26" class="time">12:17</a></td></tr>
<tr id="t2019-11-29T12:17:37"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Compile, everything explodes in a fire</td><td class="time"><a href="#t2019-11-29T12:17:37" class="time">12:17</a></td></tr>
<tr id="t2019-11-29T12:22:53"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">nrossi: you can see why I was holding off blaming the patch, I don't quite understand it.</td><td class="time"><a href="#t2019-11-29T12:22:53" class="time">12:22</a></td></tr>
<tr id="t2019-11-29T12:23:05"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">nrossi: I guess we should fire a build with just this change in</td><td class="time"><a href="#t2019-11-29T12:23:05" class="time">12:23</a></td></tr>
<tr id="t2019-11-29T12:23:11"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">(compared to master)</td><td class="time"><a href="#t2019-11-29T12:23:11" class="time">12:23</a></td></tr>
<tr id="t2019-11-29T12:24:42"><th class="nick" style="background: #539e9e">nrossi</th><td class="text" style="color: #539e9e">RP: probably a good idea, out of query do you know where/how tools-sdk or gcc/g++/etc. is added to core-image-minimal in yocto-autobuilder-helper?</td><td class="time"><a href="#t2019-11-29T12:24:42" class="time">12:24</a></td></tr>
<tr id="t2019-11-29T12:28:07"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">nrossi: I don't :/</td><td class="time"><a href="#t2019-11-29T12:28:07" class="time">12:28</a></td></tr>
<tr id="t2019-11-29T12:30:46"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">nrossi: I've fired a couple of test builds with just that in</td><td class="time"><a href="#t2019-11-29T12:30:46" class="time">12:30</a></td></tr>
<tr id="t2019-11-29T12:33:14"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b"><a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/79/builds/521" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/79/builds/521</a> <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/86/builds/530" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/86/builds/530</a></td><td class="time"><a href="#t2019-11-29T12:33:14" class="time">12:33</a></td></tr>
<tr id="t2019-11-29T12:34:49"><th class="nick" style="background: #539e9e">nrossi</th><td class="text" style="color: #539e9e">RP: thanks, i will keep an eye on it. Will see if i can figure out why my local master build fails</td><td class="time"><a href="#t2019-11-29T12:34:49" class="time">12:34</a></td></tr>
<tr id="t2019-11-29T12:35:46"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Another strange inconsistency</td><td class="time"><a href="#t2019-11-29T12:35:46" class="time">12:35</a></td></tr>
<tr id="t2019-11-29T12:36:02"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">I get mingw gcc version 7.3</td><td class="time"><a href="#t2019-11-29T12:36:02" class="time">12:36</a></td></tr>
<tr id="t2019-11-29T12:36:11"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">but linux gcc version 8.2</td><td class="time"><a href="#t2019-11-29T12:36:11" class="time">12:36</a></td></tr>
<tr id="t2019-11-29T12:36:19"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">for sdk</td><td class="time"><a href="#t2019-11-29T12:36:19" class="time">12:36</a></td></tr>
<tr id="t2019-11-29T12:42:43"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">trying to use yarn in a recipe do_compile, it gets annoyed over Error: EACCES: permission denied, open '/usr/local/share/.yarnrc'</td><td class="time"><a href="#t2019-11-29T12:42:43" class="time">12:42</a></td></tr>
<tr id="t2019-11-29T12:42:51"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">anybody run into this already?</td><td class="time"><a href="#t2019-11-29T12:42:51" class="time">12:42</a></td></tr>
<tr id="t2019-11-29T13:22:52"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Why isn't meta-mingw gcc same as linux-native gcc?</td><td class="time"><a href="#t2019-11-29T13:22:52" class="time">13:22</a></td></tr>
<tr id="t2019-11-29T13:24:26"><td class="nickchange" colspan="2">*** yann|work is now known as yann</td><td><a href="#t2019-11-29T13:24:26" class="time">13:24</a></td></tr>
<tr id="t2019-11-29T13:27:21"><th class="nick" style="background: #4d4d93">mcfrisk</th><td class="text" style="color: #4d4d93">would CFLAGS_append_x86_64 work for appending some optimizations for x86_64 targets only? is the variable TUNE_ARCH or some other thing?</td><td class="time"><a href="#t2019-11-29T13:27:21" class="time">13:27</a></td></tr>
<tr id="t2019-11-29T13:36:19"><th class="nick" style="background: #a25555">yann</th><td class="text" style="color: #a25555">how is it possible that a wic image tries to include my squashfs rootfs without building it first (in sumo) ?&nbsp;&nbsp;The squashfs does get built as soon as I remove "wic" from IMAGE_FSTYPES, so it looks like some task dependency is missing ?</td><td class="time"><a href="#t2019-11-29T13:36:19" class="time">13:36</a></td></tr>
<tr id="t2019-11-29T13:56:18"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Ok, confirmed; meta-browser breaks meta-mingw on standard Yocto in the same way it breaks on meta-arago.</td><td class="time"><a href="#t2019-11-29T13:56:18" class="time">13:56</a></td></tr>
<tr id="t2019-11-29T13:56:21"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">(thud branch)</td><td class="time"><a href="#t2019-11-29T13:56:21" class="time">13:56</a></td></tr>
<tr id="t2019-11-29T13:57:00"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">and this is why we have the yocto project compatible scripts</td><td class="time"><a href="#t2019-11-29T13:57:00" class="time">13:57</a></td></tr>
<tr id="t2019-11-29T13:57:10"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">to detect layers that make changes without being asked</td><td class="time"><a href="#t2019-11-29T13:57:10" class="time">13:57</a></td></tr>
<tr id="t2019-11-29T13:57:49"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">rburton: Or might be mingw that breaks browser, but end result is the same :P</td><td class="time"><a href="#t2019-11-29T13:57:49" class="time">13:57</a></td></tr>
<tr id="t2019-11-29T13:58:14"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">wertigon: how does it explode?</td><td class="time"><a href="#t2019-11-29T13:58:14" class="time">13:58</a></td></tr>
<tr id="t2019-11-29T13:58:27"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">wertigon: meta-mingw does export RC, which might be upsetting the browser</td><td class="time"><a href="#t2019-11-29T13:58:27" class="time">13:58</a></td></tr>
<tr id="t2019-11-29T13:59:50"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">rburton: try the following layers: meta, meta-poky, meta-yocto-bsp, meta-openembedded/meta-oe, meta-clang, leta-browser, meta-mingw</td><td class="time"><a href="#t2019-11-29T13:59:50" class="time">13:59</a></td></tr>
<tr id="t2019-11-29T14:00:07"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">or, you can pastebin the failure and i can look at it</td><td class="time"><a href="#t2019-11-29T14:00:07" class="time">14:00</a></td></tr>
<tr id="t2019-11-29T14:00:12"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Put all layers to thud except for meta-browser</td><td class="time"><a href="#t2019-11-29T14:00:12" class="time">14:00</a></td></tr>
<tr id="t2019-11-29T14:00:20"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Building the failure right now</td><td class="time"><a href="#t2019-11-29T14:00:20" class="time">14:00</a></td></tr>
<tr id="t2019-11-29T14:00:35"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">But I'll pastebin in about 5-10 min :)</td><td class="time"><a href="#t2019-11-29T14:00:35" class="time">14:00</a></td></tr>
<tr id="t2019-11-29T14:00:55"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">(meta-browser has no layers)</td><td class="time"><a href="#t2019-11-29T14:00:55" class="time">14:00</a></td></tr>
<tr id="t2019-11-29T14:01:02"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">And change SDKMACHINE</td><td class="time"><a href="#t2019-11-29T14:01:02" class="time">14:01</a></td></tr>
<tr id="t2019-11-29T14:01:18"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">And it'll explode in glorious flames</td><td class="time"><a href="#t2019-11-29T14:01:18" class="time">14:01</a></td></tr>
<tr id="t2019-11-29T14:01:52"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">If you do bitbake meta-toolchain or populate_sdk</td><td class="time"><a href="#t2019-11-29T14:01:52" class="time">14:01</a></td></tr>
<tr id="t2019-11-29T14:12:03"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">nrossi: figured it out. coreutils-ptest adds libmodule-build-perl which has a ptest RDEPENDing on gcc</td><td class="time"><a href="#t2019-11-29T14:12:03" class="time">14:12</a></td></tr>
<tr id="t2019-11-29T14:12:21"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">nrossi: so the coreutils change made it appear in the test</td><td class="time"><a href="#t2019-11-29T14:12:21" class="time">14:12</a></td></tr>
<tr id="t2019-11-29T14:12:25"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">tgamblin: ^^^</td><td class="time"><a href="#t2019-11-29T14:12:25" class="time">14:12</a></td></tr>
<tr id="t2019-11-29T14:12:58"><th class="nick" style="background: #57a657">tgamblin</th><td class="text" style="color: #57a657">ah, interesting</td><td class="time"><a href="#t2019-11-29T14:12:58" class="time">14:12</a></td></tr>
<tr id="t2019-11-29T14:13:18"><th class="nick" style="background: #57a657">tgamblin</th><td class="text" style="color: #57a657">I'll check to see how that affects the ptest. I think it adds a failure without it but I'll have to confirm again</td><td class="time"><a href="#t2019-11-29T14:13:18" class="time">14:13</a></td></tr>
<tr id="t2019-11-29T14:14:28"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">tgamblin: its not that much of an issue but just an interesting part of the tangled web the ptests are causing</td><td class="time"><a href="#t2019-11-29T14:14:28" class="time">14:14</a></td></tr>
<tr id="t2019-11-29T14:18:40"><th class="nick" style="background: #57a657">tgamblin</th><td class="text" style="color: #57a657">RP: things to remember when I eventually add more</td><td class="time"><a href="#t2019-11-29T14:18:40" class="time">14:18</a></td></tr>
<tr id="t2019-11-29T14:18:51"><th class="nick" style="background: #57a657">tgamblin</th><td class="text" style="color: #57a657">At some point I'd like to add one for libgcrypt</td><td class="time"><a href="#t2019-11-29T14:18:51" class="time">14:18</a></td></tr>
<tr id="t2019-11-29T14:26:33"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">tgamblin: I'm definitely keen to see more of them</td><td class="time"><a href="#t2019-11-29T14:26:33" class="time">14:26</a></td></tr>
<tr id="t2019-11-29T14:40:14"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">rburton: Sorry for it taking so long, clang-native takes a lot of time to compile, at 87% clang-native and 2109 tasks of 2287</td><td class="time"><a href="#t2019-11-29T14:40:14" class="time">14:40</a></td></tr>
<tr id="t2019-11-29T14:40:38"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">doing a -k bitbake in order to catch most errors</td><td class="time"><a href="#t2019-11-29T14:40:38" class="time">14:40</a></td></tr>
<tr id="t2019-11-29T14:53:31"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">rburton: Here ya go! <a href="https://pastebin.com/dHWCNUHX" rel="nofollow">https://pastebin.com/dHWCNUHX</a></td><td class="time"><a href="#t2019-11-29T14:53:31" class="time">14:53</a></td></tr>
<tr id="t2019-11-29T14:55:00"><th class="nick" style="background: #5959a9">GeneralStupid</th><td class="text" style="color: #5959a9">hi iam stucking at my custom Uboot config...</td><td class="time"><a href="#t2019-11-29T14:55:00" class="time">14:55</a></td></tr>
<tr id="t2019-11-29T14:56:03"><th class="nick" style="background: #5959a9">GeneralStupid</th><td class="text" style="color: #5959a9">I want to have the boot config / environment in a different partition (and redundant but afair this is possible with altbootcmd)</td><td class="time"><a href="#t2019-11-29T14:56:03" class="time">14:56</a></td></tr>
<tr id="t2019-11-29T14:56:39"><th class="nick" style="background: #5959a9">GeneralStupid</th><td class="text" style="color: #5959a9">But for me it looks likt its hard compiled into include/configs/boardname.h&nbsp;&nbsp;And NXP uses a lot of "custom" enviroment...</td><td class="time"><a href="#t2019-11-29T14:56:39" class="time">14:56</a></td></tr>
<tr id="t2019-11-29T15:09:00"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">We have a separate boot partition that contains Linux kernel image, a squashed rootfs and boot parameters</td><td class="time"><a href="#t2019-11-29T15:09:00" class="time">15:09</a></td></tr>
<tr id="t2019-11-29T15:09:30"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">I don't think you can have kernel config and image separate, could be wrong</td><td class="time"><a href="#t2019-11-29T15:09:30" class="time">15:09</a></td></tr>
<tr id="t2019-11-29T15:09:43"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Would otherwise suggest an overlayfs</td><td class="time"><a href="#t2019-11-29T15:09:43" class="time">15:09</a></td></tr>
<tr id="t2019-11-29T15:10:04"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">We as in, my company, not yocto project as such. :P</td><td class="time"><a href="#t2019-11-29T15:10:04" class="time">15:10</a></td></tr>
<tr id="t2019-11-29T15:10:22"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">&lt;-- Just another yocto "user" with noobish skills still</td><td class="time"><a href="#t2019-11-29T15:10:22" class="time">15:10</a></td></tr>
<tr id="t2019-11-29T15:17:13"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Anyhow; boot configs cannot be put in a separate partition, but you can overlay and merge a separate filesystem that replaces all files in the first file system with ones defined in the second one</td><td class="time"><a href="#t2019-11-29T15:17:13" class="time">15:17</a></td></tr>
<tr id="t2019-11-29T15:17:48"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">e.g. if your overlay only has /etc/network/interfaces only that file will be replaced in the unified root filesystem</td><td class="time"><a href="#t2019-11-29T15:17:48" class="time">15:17</a></td></tr>
<tr id="t2019-11-29T15:21:49"><th class="nick" style="background: #5959a9">GeneralStupid</th><td class="text" style="color: #5959a9">wertigon: not kernel config, iam taling about uboot config / environment stuff</td><td class="time"><a href="#t2019-11-29T15:21:49" class="time">15:21</a></td></tr>
<tr id="t2019-11-29T15:35:41"><th class="nick" style="background: #539e9e">nrossi</th><td class="text" style="color: #539e9e">RP: interesting, good to know that the build passed with just the gcc patch though. I will separately look into the configargs.h for target gcc since noticing it contains build-sysroot paths, will help to make target gcc one step closer to reproducible ;)</td><td class="time"><a href="#t2019-11-29T15:35:41" class="time">15:35</a></td></tr>
<tr id="t2019-11-29T15:40:37"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">rburton: Ok, I think I have a theory of why I am seeing strange things with mingw[thud]:</td><td class="time"><a href="#t2019-11-29T15:40:37" class="time">15:40</a></td></tr>
<tr id="t2019-11-29T15:40:58"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">mingw[thud] does not support clang</td><td class="time"><a href="#t2019-11-29T15:40:58" class="time">15:40</a></td></tr>
<tr id="t2019-11-29T15:41:24"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">this is since clang makes gcc compiler version 8.2</td><td class="time"><a href="#t2019-11-29T15:41:24" class="time">15:41</a></td></tr>
<tr id="t2019-11-29T15:41:38"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Which mingw[thud] does not support</td><td class="time"><a href="#t2019-11-29T15:41:38" class="time">15:41</a></td></tr>
<tr id="t2019-11-29T15:42:40"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Am waiting for a build to finish so I can confirm, but I have a pretty strong suspicion I'm right here :P</td><td class="time"><a href="#t2019-11-29T15:42:40" class="time">15:42</a></td></tr>
<tr id="t2019-11-29T16:10:44"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Yes, this is confirmed now - gcc is 8.2 if I include clang, 7.3 if I do not</td><td class="time"><a href="#t2019-11-29T16:10:44" class="time">16:10</a></td></tr>
<tr id="t2019-11-29T16:10:56"><th class="nick" style="background: #488888">wertigon</th><td class="text" style="color: #488888">Great, have a good weekend y'all!</td><td class="time"><a href="#t2019-11-29T16:10:56" class="time">16:10</a></td></tr>
<tr id="t2019-11-29T16:15:58"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">hi folks, not really strictly a yocto question but since there's a lot of people who have a lot of knowledge about this kind of stuff</td><td class="time"><a href="#t2019-11-29T16:15:58" class="time">16:15</a></td></tr>
<tr id="t2019-11-29T16:16:49"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">why would my recipe require libtool .la files?</td><td class="time"><a href="#t2019-11-29T16:16:49" class="time">16:16</a></td></tr>
<tr id="t2019-11-29T16:17:05"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">shouldnt the same info already be in pkg-info?</td><td class="time"><a href="#t2019-11-29T16:17:05" class="time">16:17</a></td></tr>
<tr id="t2019-11-29T16:17:57"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">i've upgraded to a newer yocto and now it removes .la files during install by default</td><td class="time"><a href="#t2019-11-29T16:17:57" class="time">16:17</a></td></tr>
<tr id="t2019-11-29T16:18:16"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">i understand there's REMOVE_LIBTOOL_LA</td><td class="time"><a href="#t2019-11-29T16:18:16" class="time">16:18</a></td></tr>
<tr id="t2019-11-29T16:24:05"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">but im trying to understand why it needs those files at all</td><td class="time"><a href="#t2019-11-29T16:24:05" class="time">16:24</a></td></tr>
<tr id="t2019-11-29T16:24:25"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">the recipe that fails to build looks just like a regular autotools project</td><td class="time"><a href="#t2019-11-29T16:24:25" class="time">16:24</a></td></tr>
<tr id="t2019-11-29T16:25:22"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">it's using&nbsp;&nbsp;&nbsp;&nbsp; PKG_CHECK_MODULES(GLIB, glib-2.0 &gt;= 2.16, dummy=yes,</td><td class="time"><a href="#t2019-11-29T16:25:22" class="time">16:25</a></td></tr>
<tr id="t2019-11-29T16:26:05"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">i thought that would take everything it needs from the .pc file for glib</td><td class="time"><a href="#t2019-11-29T16:26:05" class="time">16:26</a></td></tr>
<tr id="t2019-11-29T16:50:51"><th class="nick" style="background: #b15db1">rcrudo</th><td class="text" style="color: #b15db1">I am creating a recipe for this sw: <a href="https://github.com/NordicSemiconductor/pc-nrfutil." rel="nofollow">https://github.com/NordicSemiconductor/pc-nrfutil.</a> The license is some sort of modified BSD. what value should I use for LICENSE var?</td><td class="time"><a href="#t2019-11-29T16:50:51" class="time">16:50</a></td></tr>
<tr id="t2019-11-29T16:56:49"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">this is neither the usual 3-clause nor the usual 4-clause bsd, but something customized, i such a case we generally advise setting it to the name of the project</td><td class="time"><a href="#t2019-11-29T16:56:49" class="time">16:56</a></td></tr>
<tr id="t2019-11-29T17:27:36"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">milloni: yes, but if you're rebuilding and it found a .la file before and you're not using a clean build dir and and and.&nbsp;&nbsp;just use the remove-la class and do a clean build. .la files are EVIL.</td><td class="time"><a href="#t2019-11-29T17:27:36" class="time">17:27</a></td></tr>
<tr id="t2019-11-29T17:28:54"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">in this particular case, it seems that glib (glib itself, unrelated to yocto) stopped producing .la files</td><td class="time"><a href="#t2019-11-29T17:28:54" class="time">17:28</a></td></tr>
<tr id="t2019-11-29T17:29:02"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">yes, it moved to meson</td><td class="time"><a href="#t2019-11-29T17:29:02" class="time">17:29</a></td></tr>
<tr id="t2019-11-29T17:29:03"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">nrossi: sorry for the false alarm, its sometimes hard to track down what is coming from where</td><td class="time"><a href="#t2019-11-29T17:29:03" class="time">17:29</a></td></tr>
<tr id="t2019-11-29T17:29:04"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">which doesn't use libtool</td><td class="time"><a href="#t2019-11-29T17:29:04" class="time">17:29</a></td></tr>
<tr id="t2019-11-29T17:29:09"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">so no .la files</td><td class="time"><a href="#t2019-11-29T17:29:09" class="time">17:29</a></td></tr>
<tr id="t2019-11-29T17:29:11"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">and good for them :)</td><td class="time"><a href="#t2019-11-29T17:29:11" class="time">17:29</a></td></tr>
<tr id="t2019-11-29T17:29:30"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">but i've got a project here that insists on building from .la files</td><td class="time"><a href="#t2019-11-29T17:29:30" class="time">17:29</a></td></tr>
<tr id="t2019-11-29T17:29:41"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">but if something indirectly depends on glib and uses libtool and you were not blasting them from space, it will try to find the files</td><td class="time"><a href="#t2019-11-29T17:29:41" class="time">17:29</a></td></tr>
<tr id="t2019-11-29T17:29:41"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">i.e im getting a ".la file not found" error</td><td class="time"><a href="#t2019-11-29T17:29:41" class="time">17:29</a></td></tr>
<tr id="t2019-11-29T17:29:46"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">does it break from a clean build?</td><td class="time"><a href="#t2019-11-29T17:29:46" class="time">17:29</a></td></tr>
<tr id="t2019-11-29T17:30:02"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">clean build of the offending recipe? yes</td><td class="time"><a href="#t2019-11-29T17:30:02" class="time">17:30</a></td></tr>
<tr id="t2019-11-29T17:30:13"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">maybe its actually hitting the .la files directly?</td><td class="time"><a href="#t2019-11-29T17:30:13" class="time">17:30</a></td></tr>
<tr id="t2019-11-29T17:30:20"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">how so?</td><td class="time"><a href="#t2019-11-29T17:30:20" class="time">17:30</a></td></tr>
<tr id="t2019-11-29T17:30:27"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">specifying them directly in the makefiles</td><td class="time"><a href="#t2019-11-29T17:30:27" class="time">17:30</a></td></tr>
<tr id="t2019-11-29T17:30:46"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">is this a public project or something private</td><td class="time"><a href="#t2019-11-29T17:30:46" class="time">17:30</a></td></tr>
<tr id="t2019-11-29T17:30:53"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">hm</td><td class="time"><a href="#t2019-11-29T17:30:53" class="time">17:30</a></td></tr>
<tr id="t2019-11-29T17:31:01"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">unfortunately proprietary code :/</td><td class="time"><a href="#t2019-11-29T17:31:01" class="time">17:31</a></td></tr>
<tr id="t2019-11-29T17:31:43"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">so 1) check the makefiles are using pkgconfig properly, ie the variables from that PKG_CHECK_MODULES call and not glib-2.0.la anyhere</td><td class="time"><a href="#t2019-11-29T17:31:43" class="time">17:31</a></td></tr>
<tr id="t2019-11-29T17:32:09"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">2) check that you don't have any implicit dependencies on modules that depend on glib, so wouldn't have rebuilt, but now embed references to the glib.la files</td><td class="time"><a href="#t2019-11-29T17:32:09" class="time">17:32</a></td></tr>
<tr id="t2019-11-29T17:32:54"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">this is one of many reasons why we blast away all .la files by default</td><td class="time"><a href="#t2019-11-29T17:32:54" class="time">17:32</a></td></tr>
<tr id="t2019-11-29T17:35:46"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">RP: ross/next went green if you want to grab it</td><td class="time"><a href="#t2019-11-29T17:35:46" class="time">17:35</a></td></tr>
<tr id="t2019-11-29T17:36:33"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: cool, thanks</td><td class="time"><a href="#t2019-11-29T17:36:33" class="time">17:36</a></td></tr>
<tr id="t2019-11-29T17:37:14"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">the only thing returned by `git grep '\.la'` is</td><td class="time"><a href="#t2019-11-29T17:37:14" class="time">17:37</a></td></tr>
<tr id="t2019-11-29T17:37:22"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2019-11-29T17:37:22" class="time">17:37</a></td></tr>
<tr id="t2019-11-29T17:37:26"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">lib_LTLIBRARIES = libredacted.la</td><td class="time"><a href="#t2019-11-29T17:37:26" class="time">17:37</a></td></tr>
<tr id="t2019-11-29T17:37:34"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">where "redacted" is the thing im trying to build</td><td class="time"><a href="#t2019-11-29T17:37:34" class="time">17:37</a></td></tr>
<tr id="t2019-11-29T17:37:49"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: did you find a problem with the gcc change or not?</td><td class="time"><a href="#t2019-11-29T17:37:49" class="time">17:37</a></td></tr>
<tr id="t2019-11-29T17:38:04"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">RP: i removed it as you had a hunch</td><td class="time"><a href="#t2019-11-29T17:38:04" class="time">17:38</a></td></tr>
<tr id="t2019-11-29T17:38:11"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">we can fire that at selftest on its own</td><td class="time"><a href="#t2019-11-29T17:38:11" class="time">17:38</a></td></tr>
<tr id="t2019-11-29T17:38:23"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: ok, we've proven that one wrong, just checking I hadn't missed anything</td><td class="time"><a href="#t2019-11-29T17:38:23" class="time">17:38</a></td></tr>
<tr id="t2019-11-29T17:38:37"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">milloni: can you not just use the remove-la class and rebuild the world?</td><td class="time"><a href="#t2019-11-29T17:38:37" class="time">17:38</a></td></tr>
<tr id="t2019-11-29T17:38:57"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">the problem is most likely (2), .la files are incredibly contagious</td><td class="time"><a href="#t2019-11-29T17:38:57" class="time">17:38</a></td></tr>
<tr id="t2019-11-29T17:38:58"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">isn't remove-la on by default now? (zeus)</td><td class="time"><a href="#t2019-11-29T17:38:58" class="time">17:38</a></td></tr>
<tr id="t2019-11-29T17:39:19"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">for autotools.bbclass</td><td class="time"><a href="#t2019-11-29T17:39:19" class="time">17:39</a></td></tr>
<tr id="t2019-11-29T17:39:32"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">it started removing .la files since we upgraded</td><td class="time"><a href="#t2019-11-29T17:39:32" class="time">17:39</a></td></tr>
<tr id="t2019-11-29T17:39:40"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">assuming you're using the default distro conf yes</td><td class="time"><a href="#t2019-11-29T17:39:40" class="time">17:39</a></td></tr>
<tr id="t2019-11-29T17:39:52"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">that started breaking things</td><td class="time"><a href="#t2019-11-29T17:39:52" class="time">17:39</a></td></tr>
<tr id="t2019-11-29T17:40:08"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">which we got around by using REMOVE_LIBTOOL_LA = 0</td><td class="time"><a href="#t2019-11-29T17:40:08" class="time">17:40</a></td></tr>
<tr id="t2019-11-29T17:40:42"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">but this proprietary recipe is insisting on using .la files</td><td class="time"><a href="#t2019-11-29T17:40:42" class="time">17:40</a></td></tr>
<tr id="t2019-11-29T17:40:54"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">even though i cant find any references to them in the codebase</td><td class="time"><a href="#t2019-11-29T17:40:54" class="time">17:40</a></td></tr>
<tr id="t2019-11-29T17:41:31"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">other than what i pased above</td><td class="time"><a href="#t2019-11-29T17:41:31" class="time">17:41</a></td></tr>
<tr id="t2019-11-29T17:41:41"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">so if you don't set REMOVE_LIBTOOL_LA=0 then what error do you get?</td><td class="time"><a href="#t2019-11-29T17:41:41" class="time">17:41</a></td></tr>
<tr id="t2019-11-29T17:42:31"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">it built after i removed lib_LTLIBRARIES = libredacted.la</td><td class="time"><a href="#t2019-11-29T17:42:31" class="time">17:42</a></td></tr>
<tr id="t2019-11-29T17:42:48"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">we have REMOVE_LIBTOOL_LA = 0 for glib-2.0</td><td class="time"><a href="#t2019-11-29T17:42:48" class="time">17:42</a></td></tr>
<tr id="t2019-11-29T17:43:02"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">i've not tried without setting it but i assume it doesnt make a difference</td><td class="time"><a href="#t2019-11-29T17:43:02" class="time">17:43</a></td></tr>
<tr id="t2019-11-29T17:43:03"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">honestly, just stop disabling it for glib and fix the real problem</td><td class="time"><a href="#t2019-11-29T17:43:03" class="time">17:43</a></td></tr>
<tr id="t2019-11-29T17:43:17"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">since glib-2.0 doesnt produce .la files at all ever since they moved to meson</td><td class="time"><a href="#t2019-11-29T17:43:17" class="time">17:43</a></td></tr>
<tr id="t2019-11-29T17:43:23"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">removing lib_LTLIBRARIES will mean it doesn't build libredacted.la</td><td class="time"><a href="#t2019-11-29T17:43:23" class="time">17:43</a></td></tr>
<tr id="t2019-11-29T17:43:41"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">which means it won't build the library at all</td><td class="time"><a href="#t2019-11-29T17:43:41" class="time">17:43</a></td></tr>
<tr id="t2019-11-29T17:43:57"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">hm</td><td class="time"><a href="#t2019-11-29T17:43:57" class="time">17:43</a></td></tr>
<tr id="t2019-11-29T17:44:25"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">&lt;rburton&gt; honestly, just stop disabling it for glib and fix the real problem</td><td class="time"><a href="#t2019-11-29T17:44:25" class="time">17:44</a></td></tr>
<tr id="t2019-11-29T17:44:31"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">that's what im trying to do now</td><td class="time"><a href="#t2019-11-29T17:44:31" class="time">17:44</a></td></tr>
<tr id="t2019-11-29T17:44:43"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">before i go, my recommendation is to undo anything you changed re libtool and do a build with a clean tmp</td><td class="time"><a href="#t2019-11-29T17:44:43" class="time">17:44</a></td></tr>
<tr id="t2019-11-29T17:44:59"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">okay, i'll try that, thanks</td><td class="time"><a href="#t2019-11-29T17:44:59" class="time">17:44</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-11-28.log.html">&#171; Thursday, 2019-11-28</a> <a href="index.html">Index</a> <a href="%23yocto.2019-11-30.log.html">Saturday, 2019-11-30 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
