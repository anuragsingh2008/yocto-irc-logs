<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Monday, 2019-10-07</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Monday, 2019-10-07</h1>
<div class="navigation"> <a href="%23yocto.2019-10-06.log.html">&#171; Sunday, 2019-10-06</a> <a href="index.html">Index</a> <a href="%23yocto.2019-10-08.log.html">Tuesday, 2019-10-08 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-10-07T00:04:41"><th class="nick" style="background: #407a40">ali1234</th><td class="text" style="color: #407a40">argh, i found it</td><td class="time"><a href="#t2019-10-07T00:04:41" class="time">00:04</a></td></tr>
<tr id="t2019-10-07T00:05:17"><th class="nick" style="background: #407a40">ali1234</th><td class="text" style="color: #407a40">poky libtool has "link_all_deplibs=unknown" which is the same as yes</td><td class="time"><a href="#t2019-10-07T00:05:17" class="time">00:05</a></td></tr>
<tr id="t2019-10-07T00:05:40"><th class="nick" style="background: #407a40">ali1234</th><td class="text" style="color: #407a40">this means there are never any indirect dependencies, so the "problem" never happens</td><td class="time"><a href="#t2019-10-07T00:05:40" class="time">00:05</a></td></tr>
<tr id="t2019-10-07T00:05:51"><th class="nick" style="background: #407a40">ali1234</th><td class="text" style="color: #407a40">but it also means everything is over-linked</td><td class="time"><a href="#t2019-10-07T00:05:51" class="time">00:05</a></td></tr>
<tr id="t2019-10-07T01:17:07"><th class="nick" style="background: #42427e">yocti</th><td class="text" style="color: #42427e">New news from stackoverflow: How to export DBUS_SESSION_BUS_ADDRESS &lt;<a href="https://stackoverflow.com/questions/41242460/how-to-export-dbus-session-bus-address&gt;" rel="nofollow">https://stackoverflow.com/questions/41242460/how-to-export-dbus-session-bus-address&gt;</a></td><td class="time"><a href="#t2019-10-07T01:17:07" class="time">01:17</a></td></tr>
<tr id="t2019-10-07T06:44:37"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2019-10-07T06:44:37" class="time">06:44</a></td></tr>
<tr id="t2019-10-07T06:44:41"><th class="nick" style="background: #818144">mckoan</th><td class="text" style="color: #818144">good morning</td><td class="time"><a href="#t2019-10-07T06:44:41" class="time">06:44</a></td></tr>
<tr id="t2019-10-07T06:46:31"><th class="nick" style="background: #854685">alessioigor</th><td class="text" style="color: #854685">good morning to all</td><td class="time"><a href="#t2019-10-07T06:46:31" class="time">06:46</a></td></tr>
<tr id="t2019-10-07T07:48:03"><th class="nick" style="background: #42427e">yocti</th><td class="text" style="color: #42427e">New news from stackoverflow: Rauc and Yocto on Jetson Nano &lt;<a href="https://stackoverflow.com/questions/58265118/rauc-and-yocto-on-jetson-nano&gt;" rel="nofollow">https://stackoverflow.com/questions/58265118/rauc-and-yocto-on-jetson-nano&gt;</a></td><td class="time"><a href="#t2019-10-07T07:48:03" class="time">07:48</a></td></tr>
<tr id="t2019-10-07T09:30:00"><th class="nick" style="background: #488888">gsalazar</th><td class="text" style="color: #488888">Hello, I am trying to bundle the dtb with the kernel image and I am using the KERNEL_DEVICETREE_BUNDLE flag, however the image is being put in the deploy directory with 0 bytes. Does anyone know what might be causing this?</td><td class="time"><a href="#t2019-10-07T09:30:00" class="time">09:30</a></td></tr>
<tr id="t2019-10-07T09:32:14"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">gsalazar: the image, or the link to it?</td><td class="time"><a href="#t2019-10-07T09:32:14" class="time">09:32</a></td></tr>
<tr id="t2019-10-07T09:32:29"><th class="nick" style="background: #488888">gsalazar</th><td class="text" style="color: #488888">LetoThe2nd: the actual image</td><td class="time"><a href="#t2019-10-07T09:32:29" class="time">09:32</a></td></tr>
<tr id="t2019-10-07T09:32:51"><th class="nick" style="background: #488888">gsalazar</th><td class="text" style="color: #488888">actually, this only happens for the initramfs image</td><td class="time"><a href="#t2019-10-07T09:32:51" class="time">09:32</a></td></tr>
<tr id="t2019-10-07T09:33:05"><th class="nick" style="background: #488888">gsalazar</th><td class="text" style="color: #488888">for the image without the initramfs bundled it works</td><td class="time"><a href="#t2019-10-07T09:33:05" class="time">09:33</a></td></tr>
<tr id="t2019-10-07T09:33:07"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">initramfs, i'm out.</td><td class="time"><a href="#t2019-10-07T09:33:07" class="time">09:33</a></td></tr>
<tr id="t2019-10-07T09:34:33"><th class="nick" style="background: #488888">gsalazar</th><td class="text" style="color: #488888">LetoThe2nd: It doesn't seem to be related to the initramfs itself, but the flow that is being used for the generation with initramfs on the kernel-devicetree.bbclass</td><td class="time"><a href="#t2019-10-07T09:34:33" class="time">09:34</a></td></tr>
<tr id="t2019-10-07T09:37:04"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">gsalazar: i don't doubt that, but i don't have experience concerning initramfs. thats all.</td><td class="time"><a href="#t2019-10-07T09:37:04" class="time">09:37</a></td></tr>
<tr id="t2019-10-07T09:37:30"><th class="nick" style="background: #488888">gsalazar</th><td class="text" style="color: #488888">LetoThe2nd: thanks anyways!</td><td class="time"><a href="#t2019-10-07T09:37:30" class="time">09:37</a></td></tr>
<tr id="t2019-10-07T12:15:15"><th class="nick" style="background: #4b904b">fullstop</th><td class="text" style="color: #4b904b">is it possible to have sourceless recipes?&nbsp;&nbsp;I have some init scripts, which may vary by machine type, that don't really have a home right now.</td><td class="time"><a href="#t2019-10-07T12:15:15" class="time">12:15</a></td></tr>
<tr id="t2019-10-07T12:21:40"><th class="nick" style="background: #4d4d93">iceaway</th><td class="text" style="color: #4d4d93">fullstop: sure! I have the same for my startup scripts, it just has some init scripts and a do_install() function to put them in the correct location / run update-rc.d</td><td class="time"><a href="#t2019-10-07T12:21:40" class="time">12:21</a></td></tr>
<tr id="t2019-10-07T12:22:04"><th class="nick" style="background: #4b904b">fullstop</th><td class="text" style="color: #4b904b">iceaway: awesome, thanks.&nbsp;&nbsp;I wasn't sure if SRCREV was required or not.</td><td class="time"><a href="#t2019-10-07T12:22:04" class="time">12:22</a></td></tr>
<tr id="t2019-10-07T12:22:11"><th class="nick" style="background: #4b904b">fullstop</th><td class="text" style="color: #4b904b">I'll just try it and see what happens.</td><td class="time"><a href="#t2019-10-07T12:22:11" class="time">12:22</a></td></tr>
<tr id="t2019-10-07T12:22:30"><th class="nick" style="background: #818144">mckoan</th><td class="text" style="color: #818144">fullstop: where do you have the init scripts? You can locate them inside the recipre tree</td><td class="time"><a href="#t2019-10-07T12:22:30" class="time">12:22</a></td></tr>
<tr id="t2019-10-07T12:22:39"><th class="nick" style="background: #4b904b">fullstop</th><td class="text" style="color: #4b904b">right, that's where I want to put them.</td><td class="time"><a href="#t2019-10-07T12:22:39" class="time">12:22</a></td></tr>
<tr id="t2019-10-07T12:22:43"><th class="nick" style="background: #4d4d93">iceaway</th><td class="text" style="color: #4d4d93">My scripts are in a ${PN} subdir of the recipe, and I list the files in SRC_URI.</td><td class="time"><a href="#t2019-10-07T12:22:43" class="time">12:22</a></td></tr>
<tr id="t2019-10-07T12:23:14"><th class="nick" style="background: #818144">mckoan</th><td class="text" style="color: #818144">fullstop: see here <a href="https://github.com/koansoftware/meta-training/tree/master/recipes-example/example" rel="nofollow">https://github.com/koansoftware/meta-training/tree/master/recipes-example/example</a></td><td class="time"><a href="#t2019-10-07T12:23:14" class="time">12:23</a></td></tr>
<tr id="t2019-10-07T12:24:50"><th class="nick" style="background: #4b904b">fullstop</th><td class="text" style="color: #4b904b">awesome, thanks marco</td><td class="time"><a href="#t2019-10-07T12:24:50" class="time">12:24</a></td></tr>
<tr id="t2019-10-07T12:27:10"><th class="nick" style="background: #97974f">Zadbar</th><td class="text" style="color: #97974f">Hello, I try to use bitbake on a schroot. Everything seam fine but when I launch bitbake &lt;recipe&gt; it quit without any message.</td><td class="time"><a href="#t2019-10-07T12:27:10" class="time">12:27</a></td></tr>
<tr id="t2019-10-07T12:27:32"><th class="nick" style="background: #97974f">Zadbar</th><td class="text" style="color: #97974f">Someone already try that?</td><td class="time"><a href="#t2019-10-07T12:27:32" class="time">12:27</a></td></tr>
<tr id="t2019-10-07T12:28:37"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">Zadbar: any particular reason for not using docker? its usually the tool of choice these days.</td><td class="time"><a href="#t2019-10-07T12:28:37" class="time">12:28</a></td></tr>
<tr id="t2019-10-07T12:29:59"><th class="nick" style="background: #97974f">Zadbar</th><td class="text" style="color: #97974f">I'm not very familliar with docker and I need to run on debian jessie to match the production environnement</td><td class="time"><a href="#t2019-10-07T12:29:59" class="time">12:29</a></td></tr>
<tr id="t2019-10-07T12:31:46"><th class="nick" style="background: #9b519b">erbo</th><td class="text" style="color: #9b519b">Zadbar: It's quite nice to use docker. I did a small write-up of how I use it which could probably get you started: <a href="http://blog.unixshell.se/2018/03/simplify-your-yocto-builds-using-docker/" rel="nofollow">http://blog.unixshell.se/2018/03/simplify-your-yocto-builds-using-docker/</a></td><td class="time"><a href="#t2019-10-07T12:31:46" class="time">12:31</a></td></tr>
<tr id="t2019-10-07T12:34:31"><th class="nick" style="background: #818144">mckoan</th><td class="text" style="color: #818144">erbo: nice</td><td class="time"><a href="#t2019-10-07T12:34:31" class="time">12:34</a></td></tr>
<tr id="t2019-10-07T12:35:06"><th class="nick" style="background: #818144">mckoan</th><td class="text" style="color: #818144">it's quite like I did during my Yocto workshop: <a href="https://koansoftware.com/workshop-yocto-project-at-linuxlab-2018/" rel="nofollow">https://koansoftware.com/workshop-yocto-project-at-linuxlab-2018/</a></td><td class="time"><a href="#t2019-10-07T12:35:06" class="time">12:35</a></td></tr>
<tr id="t2019-10-07T12:35:15"><th class="nick" style="background: #9b519b">erbo</th><td class="text" style="color: #9b519b">It's also easy to add another -v /hostpath/to/sstate-cache:/path/in/docker/sstate-cache to mount in sstate-cache</td><td class="time"><a href="#t2019-10-07T12:35:15" class="time">12:35</a></td></tr>
<tr id="t2019-10-07T12:35:45"><th class="nick" style="background: #818144">mckoan</th><td class="text" style="color: #818144">erbo: the best trick is "User id mismatch" ;-)</td><td class="time"><a href="#t2019-10-07T12:35:45" class="time">12:35</a></td></tr>
<tr id="t2019-10-07T12:37:01"><th class="nick" style="background: #9b519b">erbo</th><td class="text" style="color: #9b519b">yep, love that feature of the CROPS images. Make it so much easier to integrate into various CI-systems etc where you don't have control over which user it runs as.</td><td class="time"><a href="#t2019-10-07T12:37:01" class="time">12:37</a></td></tr>
<tr id="t2019-10-07T12:38:41"><th class="nick" style="background: #97974f">Zadbar</th><td class="text" style="color: #97974f">Is it possible to fetch with a ssh key during the build?</td><td class="time"><a href="#t2019-10-07T12:38:41" class="time">12:38</a></td></tr>
<tr id="t2019-10-07T12:39:06"><th class="nick" style="background: #97974f">Zadbar</th><td class="text" style="color: #97974f">with docker</td><td class="time"><a href="#t2019-10-07T12:39:06" class="time">12:39</a></td></tr>
<tr id="t2019-10-07T12:41:41"><th class="nick" style="background: #9b519b">erbo</th><td class="text" style="color: #9b519b">Zadbar: I guess you have to add the populating of the ssh keys to the custom Dockerfile, but otherwise I don't see any issues with that</td><td class="time"><a href="#t2019-10-07T12:41:41" class="time">12:41</a></td></tr>
<tr id="t2019-10-07T12:42:17"><th class="nick" style="background: #97974f">Zadbar</th><td class="text" style="color: #97974f">Okay. Thank you. I will take a look.</td><td class="time"><a href="#t2019-10-07T12:42:17" class="time">12:42</a></td></tr>
<tr id="t2019-10-07T12:43:00"><th class="nick" style="background: #9b519b">erbo</th><td class="text" style="color: #9b519b">Zadbar: This might also be a way: <a href="https://github.com/crops/poky-container/issues/29" rel="nofollow">https://github.com/crops/poky-container/issues/29</a></td><td class="time"><a href="#t2019-10-07T12:43:00" class="time">12:43</a></td></tr>
<tr id="t2019-10-07T12:44:03"><th class="nick" style="background: #9b519b">erbo</th><td class="text" style="color: #9b519b">Probably easier and doesn't require any changes to the docker image</td><td class="time"><a href="#t2019-10-07T12:44:03" class="time">12:44</a></td></tr>
<tr id="t2019-10-07T12:44:15"><th class="nick" style="background: #854685">alessioigor</th><td class="text" style="color: #854685">Is there a reason why I can't use ${PN} in ${SDKPATH}?</td><td class="time"><a href="#t2019-10-07T12:44:15" class="time">12:44</a></td></tr>
<tr id="t2019-10-07T12:51:06"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">hello folks</td><td class="time"><a href="#t2019-10-07T12:51:06" class="time">12:51</a></td></tr>
<tr id="t2019-10-07T12:51:20"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">I've moved my poky checkout + my build directory to somewhere else</td><td class="time"><a href="#t2019-10-07T12:51:20" class="time">12:51</a></td></tr>
<tr id="t2019-10-07T12:51:44"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">I removed&nbsp;&nbsp;build/tmp&nbsp;&nbsp; and now rerun, mostly reusing the sstate-cache from build/../sstate-cache</td><td class="time"><a href="#t2019-10-07T12:51:44" class="time">12:51</a></td></tr>
<tr id="t2019-10-07T12:52:26"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">however when I try to regenerate my image, I get this error: "ERROR: Failed to spawn fakeroot worker to run /path/to/image.bb:do_rootfs: [Errno 32] Broken pipe"</td><td class="time"><a href="#t2019-10-07T12:52:26" class="time">12:52</a></td></tr>
<tr id="t2019-10-07T12:52:43"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">I'm assuming that I should have removed something else, but I'm unsure as to&nbsp;&nbsp;what</td><td class="time"><a href="#t2019-10-07T12:52:43" class="time">12:52</a></td></tr>
<tr id="t2019-10-07T13:12:24"><td class="part" colspan="2">*** Zadbar &lt;Zadbar!2e0e7d81@129.125.14.46.static.wline.lns.sme.cust.swisscom.ch&gt; has left #yocto</td><td><a href="#t2019-10-07T13:12:24" class="time">13:12</a></td></tr>
<tr id="t2019-10-07T13:25:18"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">litb: probably one of the caches, or your local.conf still refers to the old build dir</td><td class="time"><a href="#t2019-10-07T13:25:18" class="time">13:25</a></td></tr>
<tr id="t2019-10-07T13:26:16"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, do I have to remove tmp-glibc aswell?</td><td class="time"><a href="#t2019-10-07T13:26:16" class="time">13:26</a></td></tr>
<tr id="t2019-10-07T13:26:24"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">yes</td><td class="time"><a href="#t2019-10-07T13:26:24" class="time">13:26</a></td></tr>
<tr id="t2019-10-07T13:26:31"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">ahh that's it maybe</td><td class="time"><a href="#t2019-10-07T13:26:31" class="time">13:26</a></td></tr>
<tr id="t2019-10-07T13:26:40"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">well you use either tmp or tmp-glibc</td><td class="time"><a href="#t2019-10-07T13:26:40" class="time">13:26</a></td></tr>
<tr id="t2019-10-07T13:26:50"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">the former is typically poky or similar, the latter is nodistro or similar</td><td class="time"><a href="#t2019-10-07T13:26:50" class="time">13:26</a></td></tr>
<tr id="t2019-10-07T13:27:02"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">both a reasonable names for the tmp directory</td><td class="time"><a href="#t2019-10-07T13:27:02" class="time">13:27</a></td></tr>
<tr id="t2019-10-07T13:29:14"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, weird that there's no log.do_rootfs&nbsp;&nbsp;. it appears that maybe libpseudo LD_PRELOAD is missing or something like that. so it thinks that it doesn't need to rebuild pseudo, even though i removed the complete tmp/</td><td class="time"><a href="#t2019-10-07T13:29:14" class="time">13:29</a></td></tr>
<tr id="t2019-10-07T13:29:36"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">well maybe you deleted the tmp that its not using</td><td class="time"><a href="#t2019-10-07T13:29:36" class="time">13:29</a></td></tr>
<tr id="t2019-10-07T13:29:54"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">if you have two, then you switched configuration at some point to a different setup that uses a different name for TMPDIR</td><td class="time"><a href="#t2019-10-07T13:29:54" class="time">13:29</a></td></tr>
<tr id="t2019-10-07T13:31:27"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, TMPDIR is still the default</td><td class="time"><a href="#t2019-10-07T13:31:27" class="time">13:31</a></td></tr>
<tr id="t2019-10-07T13:31:36"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">i.e '#TMPDIR = "${TOPDIR}/tmp"'</td><td class="time"><a href="#t2019-10-07T13:31:36" class="time">13:31</a></td></tr>
<tr id="t2019-10-07T13:32:01"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">but ah, I suspect my experiments with toaster may have done that. though I subsequently removed those files from local.conf that were added by toaster</td><td class="time"><a href="#t2019-10-07T13:32:01" class="time">13:32</a></td></tr>
<tr id="t2019-10-07T13:32:45"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">meta/conf/distro/defaultsetup.conf:TMPDIR .= "${TCLIBCAPPEND}"</td><td class="time"><a href="#t2019-10-07T13:32:45" class="time">13:32</a></td></tr>
<tr id="t2019-10-07T13:32:59"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">different distros set TCLIBCAPPEND differently</td><td class="time"><a href="#t2019-10-07T13:32:59" class="time">13:32</a></td></tr>
<tr id="t2019-10-07T13:33:12"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">as i said, poky uses tmp and oe-core nodistro uses eg tmp-glibc</td><td class="time"><a href="#t2019-10-07T13:33:12" class="time">13:33</a></td></tr>
<tr id="t2019-10-07T13:33:20"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">for historical reasons, presumably</td><td class="time"><a href="#t2019-10-07T13:33:20" class="time">13:33</a></td></tr>
<tr id="t2019-10-07T13:35:51"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, hm, my distro inherits from poky</td><td class="time"><a href="#t2019-10-07T13:35:51" class="time">13:35</a></td></tr>
<tr id="t2019-10-07T13:36:02"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">so it should use tmp</td><td class="time"><a href="#t2019-10-07T13:36:02" class="time">13:36</a></td></tr>
<tr id="t2019-10-07T13:36:34"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">typicall if you want to move a build directory just create a new one, copy the local.conf and ensure the DL_DIR SSTATE_DIR are set correctly</td><td class="time"><a href="#t2019-10-07T13:36:34" class="time">13:36</a></td></tr>
<tr id="t2019-10-07T13:36:44"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">oh and bblayers.conf</td><td class="time"><a href="#t2019-10-07T13:36:44" class="time">13:36</a></td></tr>
<tr id="t2019-10-07T13:36:47"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">nothing else is relevant</td><td class="time"><a href="#t2019-10-07T13:36:47" class="time">13:36</a></td></tr>
<tr id="t2019-10-07T13:37:12"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">ah thanks, I didn't investigate this. I'll move DL_DIR aswell, this time to build/.. aswell</td><td class="time"><a href="#t2019-10-07T13:37:12" class="time">13:37</a></td></tr>
<tr id="t2019-10-07T13:42:30"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">maybe after all it's a debian10 issue, because yocto doesn't officially support debian10 in warrior apparently</td><td class="time"><a href="#t2019-10-07T13:42:30" class="time">13:42</a></td></tr>
<tr id="t2019-10-07T13:43:59"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">officially, but works</td><td class="time"><a href="#t2019-10-07T13:43:59" class="time">13:43</a></td></tr>
<tr id="t2019-10-07T13:44:54"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">i expect the build tree still has bits in.&nbsp;&nbsp;don't copy and fixup, make a new one and copy in the local.conf bblayers.conf</td><td class="time"><a href="#t2019-10-07T13:44:54" class="time">13:44</a></td></tr>
<tr id="t2019-10-07T14:05:25"><th class="nick" style="background: #854685">alessioigor</th><td class="text" style="color: #854685">Someone has idea why if I put ${PN} in the ${SDKPATH} the SDK fails to build?</td><td class="time"><a href="#t2019-10-07T14:05:25" class="time">14:05</a></td></tr>
<tr id="t2019-10-07T14:10:27"><th class="nick" style="background: #818144">mckoan</th><td class="text" style="color: #818144">alessioigor: where, how?</td><td class="time"><a href="#t2019-10-07T14:10:27" class="time">14:10</a></td></tr>
<tr id="t2019-10-07T14:11:59"><th class="nick" style="background: #854685">alessioigor</th><td class="text" style="color: #854685">mckoan: SDKPATH = "/opt/${IMAGE_BASENAME}/${SDK_VERSION}" makes SDK fails with: configure: error: C preprocessor "x86_64-pokysdk-linux-gcc -E --sysroot=/home/alessio/Sources/git-trees/poky-master/build/tmp/work/x86_64-nativesdk-pokysdk-linux/nativesdk-libgcc-initial/9.2.0-r0/recipe-sysroot " fails sanity check</td><td class="time"><a href="#t2019-10-07T14:11:59" class="time">14:11</a></td></tr>
<tr id="t2019-10-07T14:12:31"><th class="nick" style="background: #854685">alessioigor</th><td class="text" style="color: #854685">Default value is SDKPATH = "/opt/${DISTRO}/${SDK_VERSION}"</td><td class="time"><a href="#t2019-10-07T14:12:31" class="time">14:12</a></td></tr>
<tr id="t2019-10-07T14:14:41"><th class="nick" style="background: #854685">alessioigor</th><td class="text" style="color: #854685">On Warrior works.</td><td class="time"><a href="#t2019-10-07T14:14:41" class="time">14:14</a></td></tr>
<tr id="t2019-10-07T14:34:16"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, same error happens with fresh build directory and copied local.conf + bblayers.conf</td><td class="time"><a href="#t2019-10-07T14:34:16" class="time">14:34</a></td></tr>
<tr id="t2019-10-07T14:34:23"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">appears it's maybe the sstate cache :/</td><td class="time"><a href="#t2019-10-07T14:34:23" class="time">14:34</a></td></tr>
<tr id="t2019-10-07T14:34:42"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">or actually that i'm logged in as a remote-user using winbind/samba/kerberos</td><td class="time"><a href="#t2019-10-07T14:34:42" class="time">14:34</a></td></tr>
<tr id="t2019-10-07T14:34:50"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">perhaps that confuses pseudo?</td><td class="time"><a href="#t2019-10-07T14:34:50" class="time">14:34</a></td></tr>
<tr id="t2019-10-07T14:52:48"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">shouldn't do.&nbsp;&nbsp;easy to verify that its not the sstate though ,just build an initramfs image</td><td class="time"><a href="#t2019-10-07T14:52:48" class="time">14:52</a></td></tr>
<tr id="t2019-10-07T15:02:14"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, i tried to execute the bitbake-worker manually to maybe attach strace to it. however it complains that it should not be run manually and exits right away</td><td class="time"><a href="#t2019-10-07T15:02:14" class="time">15:02</a></td></tr>
<tr id="t2019-10-07T15:02:21"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">any idea how I can debug it?</td><td class="time"><a href="#t2019-10-07T15:02:21" class="time">15:02</a></td></tr>
<tr id="t2019-10-07T15:11:25"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, also I changed my host distribution from 32bit to 64bit userland. maybe that's the problem?</td><td class="time"><a href="#t2019-10-07T15:11:25" class="time">15:11</a></td></tr>
<tr id="t2019-10-07T15:11:35"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">maaaybe</td><td class="time"><a href="#t2019-10-07T15:11:35" class="time">15:11</a></td></tr>
<tr id="t2019-10-07T15:11:42"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">pseudo might not have noticed?</td><td class="time"><a href="#t2019-10-07T15:11:42" class="time">15:11</a></td></tr>
<tr id="t2019-10-07T15:11:48"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">its *very* tied to the host</td><td class="time"><a href="#t2019-10-07T15:11:48" class="time">15:11</a></td></tr>
<tr id="t2019-10-07T15:11:52"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">force a rebuild of that?</td><td class="time"><a href="#t2019-10-07T15:11:52" class="time">15:11</a></td></tr>
<tr id="t2019-10-07T15:12:36"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">BUILD_ARCH is still at i686, but my host changed from debian9 i686 userland to debian10 x86_64 userland</td><td class="time"><a href="#t2019-10-07T15:12:36" class="time">15:12</a></td></tr>
<tr id="t2019-10-07T15:13:17"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, yeah. ah, i see, it will take pseudo from the sstate cache, so I need to purge it from there. I'll try</td><td class="time"><a href="#t2019-10-07T15:13:17" class="time">15:13</a></td></tr>
<tr id="t2019-10-07T15:13:45"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">bitbake pseudo-native -C unpack will rebuild it</td><td class="time"><a href="#t2019-10-07T15:13:45" class="time">15:13</a></td></tr>
<tr id="t2019-10-07T15:14:56"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">I guess i should remove the complete sstate cache for -native packages. the toolchain is unable to rebuild pseudo-native, it seems</td><td class="time"><a href="#t2019-10-07T15:14:56" class="time">15:14</a></td></tr>
<tr id="t2019-10-07T15:15:24"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">easiest test: do a minimal image build without the sstate, as i said above</td><td class="time"><a href="#t2019-10-07T15:15:24" class="time">15:15</a></td></tr>
<tr id="t2019-10-07T15:15:28"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">the initramfs images are tiny</td><td class="time"><a href="#t2019-10-07T15:15:28" class="time">15:15</a></td></tr>
<tr id="t2019-10-07T15:18:51"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, i tried&nbsp;&nbsp; bitbake --no-setscene core-image-minimal-initramfs&nbsp;&nbsp; and it failed for&nbsp;&nbsp; m4-native</td><td class="time"><a href="#t2019-10-07T15:18:51" class="time">15:18</a></td></tr>
<tr id="t2019-10-07T15:19:04"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">why would you do --no-setcene?</td><td class="time"><a href="#t2019-10-07T15:19:04" class="time">15:19</a></td></tr>
<tr id="t2019-10-07T15:19:06"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">"configure: error: cannot run C compiled programs."</td><td class="time"><a href="#t2019-10-07T15:19:06" class="time">15:19</a></td></tr>
<tr id="t2019-10-07T15:19:13"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, i wanted to ignore the sstate-cache</td><td class="time"><a href="#t2019-10-07T15:19:13" class="time">15:19</a></td></tr>
<tr id="t2019-10-07T15:19:21"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">impressive breakage, what does the log say</td><td class="time"><a href="#t2019-10-07T15:19:21" class="time">15:19</a></td></tr>
<tr id="t2019-10-07T15:19:26"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">the actual config.log</td><td class="time"><a href="#t2019-10-07T15:19:26" class="time">15:19</a></td></tr>
<tr id="t2019-10-07T15:20:29"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, the erroring line apparently is&nbsp;&nbsp;"../m4-1.4.18/configure: line 4896: ./conftest: Accessing a corrupted shared library "</td><td class="time"><a href="#t2019-10-07T15:20:29" class="time">15:20</a></td></tr>
<tr id="t2019-10-07T15:21:14"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">new build directory, just set DL_DIR to an existing one for speed, and build m4-native</td><td class="time"><a href="#t2019-10-07T15:21:14" class="time">15:21</a></td></tr>
<tr id="t2019-10-07T15:21:35"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">so you're literally doing a pristine qemux86 poky build</td><td class="time"><a href="#t2019-10-07T15:21:35" class="time">15:21</a></td></tr>
<tr id="t2019-10-07T15:21:51"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">without sstate-cache, I take it?</td><td class="time"><a href="#t2019-10-07T15:21:51" class="time">15:21</a></td></tr>
<tr id="t2019-10-07T15:22:17"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">i.e not reusing my current</td><td class="time"><a href="#t2019-10-07T15:22:17" class="time">15:22</a></td></tr>
<tr id="t2019-10-07T15:22:32"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">right</td><td class="time"><a href="#t2019-10-07T15:22:32" class="time">15:22</a></td></tr>
<tr id="t2019-10-07T15:28:32"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, ah, doing "do_devshell" for m4-native, i see that "gcc" is resolved to /mnt/sdc1/git/poky/build-lmg6xx/tmp/hosttools/gcc</td><td class="time"><a href="#t2019-10-07T15:28:32" class="time">15:28</a></td></tr>
<tr id="t2019-10-07T15:28:55"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">so it points to a compiler that targets x86_64 by default. while my buildhost is i686 (32bit)</td><td class="time"><a href="#t2019-10-07T15:28:55" class="time">15:28</a></td></tr>
<tr id="t2019-10-07T15:29:08"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">you just said you've moved to 64-bit</td><td class="time"><a href="#t2019-10-07T15:29:08" class="time">15:29</a></td></tr>
<tr id="t2019-10-07T15:29:23"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">(not sure i want to know why your host is 32-bit)</td><td class="time"><a href="#t2019-10-07T15:29:23" class="time">15:29</a></td></tr>
<tr id="t2019-10-07T15:29:24"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, yeah, but I&nbsp;&nbsp;build the sstate cache and everything else before on 32bit debian9</td><td class="time"><a href="#t2019-10-07T15:29:24" class="time">15:29</a></td></tr>
<tr id="t2019-10-07T15:29:58"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">anyway if you want to use a native compiler that isn't 'gcc' then you need to tell bitbake</td><td class="time"><a href="#t2019-10-07T15:29:58" class="time">15:29</a></td></tr>
<tr id="t2019-10-07T15:30:02"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">the sstate-cache still has the objects built on the 32bit host</td><td class="time"><a href="#t2019-10-07T15:30:02" class="time">15:30</a></td></tr>
<tr id="t2019-10-07T15:30:51"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, hmm, I though I need to tell it the build architecture&nbsp;&nbsp;using BUILD_ARCH. I set i686 there</td><td class="time"><a href="#t2019-10-07T15:30:51" class="time">15:30</a></td></tr>
<tr id="t2019-10-07T15:30:57"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">nooope</td><td class="time"><a href="#t2019-10-07T15:30:57" class="time">15:30</a></td></tr>
<tr id="t2019-10-07T15:31:18"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">and the build architecture is equal to&nbsp;&nbsp;the -native one, I suspect</td><td class="time"><a href="#t2019-10-07T15:31:18" class="time">15:31</a></td></tr>
<tr id="t2019-10-07T15:32:14"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">well you can set that if you really want but you'll need to tell it a lot more if you're asking it to do a 32-bit build on a 64-bit system</td><td class="time"><a href="#t2019-10-07T15:32:14" class="time">15:32</a></td></tr>
<tr id="t2019-10-07T15:32:18"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">like BUILD_CC etc</td><td class="time"><a href="#t2019-10-07T15:32:18" class="time">15:32</a></td></tr>
<tr id="t2019-10-07T15:32:26"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">easy fix: just do a clean build</td><td class="time"><a href="#t2019-10-07T15:32:26" class="time">15:32</a></td></tr>
<tr id="t2019-10-07T15:35:31"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">I would have thought that yocto's native.bbclass would set BUILD_CC to include "-m32" for example, when the host-bitness disagrees with BUILD_ARCH</td><td class="time"><a href="#t2019-10-07T15:35:31" class="time">15:35</a></td></tr>
<tr id="t2019-10-07T15:35:49"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">gcc-multilib is a requirement already of yocto, so the host compiler would need to support that flag</td><td class="time"><a href="#t2019-10-07T15:35:49" class="time">15:35</a></td></tr>
<tr id="t2019-10-07T15:36:19"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">gcc-multilib isn't a requirement</td><td class="time"><a href="#t2019-10-07T15:36:19" class="time">15:36</a></td></tr>
<tr id="t2019-10-07T15:36:52"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">BUILD_ARCH is usually set by bitbake.conf its not usual to set it yoursef</td><td class="time"><a href="#t2019-10-07T15:36:52" class="time">15:36</a></td></tr>
<tr id="t2019-10-07T15:39:32"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, hm, i see.</td><td class="time"><a href="#t2019-10-07T15:39:32" class="time">15:39</a></td></tr>
<tr id="t2019-10-07T15:40:13"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, in the 32bit userland I needed to set BUILD_ARCH, because i was running a 64bit kernel there, and yocto uses uname which returned x86_64 there, despite a 32bit userland</td><td class="time"><a href="#t2019-10-07T15:40:13" class="time">15:40</a></td></tr>
<tr id="t2019-10-07T15:40:23"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">so I did override it and everything worked magically</td><td class="time"><a href="#t2019-10-07T15:40:23" class="time">15:40</a></td></tr>
<tr id="t2019-10-07T15:40:44"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">still determined to not know why anyone would run a 32-bit userland on purpose :)</td><td class="time"><a href="#t2019-10-07T15:40:44" class="time">15:40</a></td></tr>
<tr id="t2019-10-07T15:41:00"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">overriding it worked then becayse you had a whole 32-bit userspace</td><td class="time"><a href="#t2019-10-07T15:41:00" class="time">15:41</a></td></tr>
<tr id="t2019-10-07T15:41:08"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">hmm, i see</td><td class="time"><a href="#t2019-10-07T15:41:08" class="time">15:41</a></td></tr>
<tr id="t2019-10-07T15:41:30"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">now you've a compiler and userland that wants to build 64-bit code but you're trying to convince it otherwise</td><td class="time"><a href="#t2019-10-07T15:41:30" class="time">15:41</a></td></tr>
<tr id="t2019-10-07T15:42:41"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, i see, this makes sense.</td><td class="time"><a href="#t2019-10-07T15:42:41" class="time">15:42</a></td></tr>
<tr id="t2019-10-07T15:43:01"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, perhaps I could remove all files that match pattern&nbsp;&nbsp; sstate:*-native:i686-linux:*&nbsp;&nbsp;&nbsp;&nbsp;below sstate-cache directory</td><td class="time"><a href="#t2019-10-07T15:43:01" class="time">15:43</a></td></tr>
<tr id="t2019-10-07T15:44:35"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">the build-arch should be tainting the sstate already.</td><td class="time"><a href="#t2019-10-07T15:44:35" class="time">15:44</a></td></tr>
<tr id="t2019-10-07T15:44:45"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">have you verified that a stock build works fine?</td><td class="time"><a href="#t2019-10-07T15:44:45" class="time">15:44</a></td></tr>
<tr id="t2019-10-07T15:47:48"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, hm, I thought it's not worth it if we tracked down the problem anyway. should I still try?</td><td class="time"><a href="#t2019-10-07T15:47:48" class="time">15:47</a></td></tr>
<tr id="t2019-10-07T15:57:06"><th class="nick" style="background: #539e9e">litb</th><td class="text" style="color: #539e9e">rburton, this seems to have worked, thanks!</td><td class="time"><a href="#t2019-10-07T15:57:06" class="time">15:57</a></td></tr>
<tr id="t2019-10-07T16:12:43"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2019-10-07T16:12:43" class="time">16:12</a></td></tr>
<tr id="t2019-10-07T16:54:23"><td class="nickchange" colspan="2">*** georgem_ is now known as georgem</td><td><a href="#t2019-10-07T16:54:23" class="time">16:54</a></td></tr>
<tr id="t2019-10-07T21:02:59"><th class="nick" style="background: #57a657">machinehum</th><td class="text" style="color: #57a657">Where should the u-boot.img live? I'm getting the error: spl: error reading image u-boot.img, err - -1 booting from and SD card with four partitions, the first contains imx6q-hummingboard2.dtb&nbsp;&nbsp;uEnv.txt&nbsp;&nbsp;zImage</td><td class="time"><a href="#t2019-10-07T21:02:59" class="time">21:02</a></td></tr>
<tr id="t2019-10-07T21:24:01"><th class="nick" style="background: #5959a9">rostam</th><td class="text" style="color: #5959a9">HI newbie question, I need to disable the journaling for ext4. Any idea how I can do that in Yocto???</td><td class="time"><a href="#t2019-10-07T21:24:01" class="time">21:24</a></td></tr>
<tr id="t2019-10-07T23:05:10"><th class="nick" style="background: #407a40">ali1234</th><td class="text" style="color: #407a40">hmm interesting... the poky libtool is actually patched to ignore the link_all_deplibs settings and always link them</td><td class="time"><a href="#t2019-10-07T23:05:10" class="time">23:05</a></td></tr>
<tr id="t2019-10-07T23:05:53"><th class="nick" style="background: #407a40">ali1234</th><td class="text" style="color: #407a40">diff between normal libtool and the poky one: <a href="https://paste.ubuntu.com/p/SJDpPBS5rd/" rel="nofollow">https://paste.ubuntu.com/p/SJDpPBS5rd/</a></td><td class="time"><a href="#t2019-10-07T23:05:53" class="time">23:05</a></td></tr>
<tr id="t2019-10-07T23:05:59"><th class="nick" style="background: #407a40">ali1234</th><td class="text" style="color: #407a40">i wonder where that comes from?</td><td class="time"><a href="#t2019-10-07T23:05:59" class="time">23:05</a></td></tr>
<tr id="t2019-10-07T23:15:08"><th class="nick" style="background: #407a40">ali1234</th><td class="text" style="color: #407a40">its a debian patch :(</td><td class="time"><a href="#t2019-10-07T23:15:08" class="time">23:15</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-10-06.log.html">&#171; Sunday, 2019-10-06</a> <a href="index.html">Index</a> <a href="%23yocto.2019-10-08.log.html">Tuesday, 2019-10-08 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
