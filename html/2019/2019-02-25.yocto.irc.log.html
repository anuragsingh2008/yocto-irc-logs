<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Monday, 2019-02-25</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Monday, 2019-02-25</h1>
<div class="navigation"> <a href="%23yocto.2019-02-24.log.html">&#171; Sunday, 2019-02-24</a> <a href="index.html">Index</a> <a href="%23yocto.2019-02-26.log.html">Tuesday, 2019-02-26 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-02-25T00:19:11"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">what is the settings for the local.conf to allow me to use the qemu arm test</td><td class="time"><a href="#t2019-02-25T00:19:11" class="time">00:19</a></td></tr>
<tr id="t2019-02-25T00:24:27"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">black_13: <a href="https://github.com/YoeDistro/yoe-distro/blob/master/conf/local.conf.sample" rel="nofollow">https://github.com/YoeDistro/yoe-distro/blob/master/conf/local.conf.sample</a></td><td class="time"><a href="#t2019-02-25T00:24:27" class="time">00:24</a></td></tr>
<tr id="t2019-02-25T00:24:40"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">copy it into local.conf</td><td class="time"><a href="#t2019-02-25T00:24:40" class="time">00:24</a></td></tr>
<tr id="t2019-02-25T00:24:55"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">and make changes as needed</td><td class="time"><a href="#t2019-02-25T00:24:55" class="time">00:24</a></td></tr>
<tr id="t2019-02-25T00:27:51"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">did you follow the readme ?</td><td class="time"><a href="#t2019-02-25T00:27:51" class="time">00:27</a></td></tr>
<tr id="t2019-02-25T00:28:39"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">. ./qemuarm-envsetup.sh &amp;&amp; bitbake yoe-simple-image then execute runqemu nographic</td><td class="time"><a href="#t2019-02-25T00:28:39" class="time">00:28</a></td></tr>
<tr id="t2019-02-25T00:33:31"><th class="nick" style="background: #818144">nerdboy</th><td class="text" style="color: #818144">khem: thud doesn't fail on either bison or cross-localedef</td><td class="time"><a href="#t2019-02-25T00:33:31" class="time">00:33</a></td></tr>
<tr id="t2019-02-25T00:33:55"><th class="nick" style="background: #818144">nerdboy</th><td class="text" style="color: #818144">* for me on unsupported gentoo build host</td><td class="time"><a href="#t2019-02-25T00:33:55" class="time">00:33</a></td></tr>
<tr id="t2019-02-25T00:35:18"><th class="nick" style="background: #818144">nerdboy</th><td class="text" style="color: #818144">i probably don't update frequently enough but i'm pretty much always on ~hardened or ~musl-hardened profile</td><td class="time"><a href="#t2019-02-25T00:35:18" class="time">00:35</a></td></tr>
<tr id="t2019-02-25T00:36:23"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">nerdboy: yeah thud is recent enough</td><td class="time"><a href="#t2019-02-25T00:36:23" class="time">00:36</a></td></tr>
<tr id="t2019-02-25T00:36:49"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">usually glibc (uninative) is an issue for rolling distros</td><td class="time"><a href="#t2019-02-25T00:36:49" class="time">00:36</a></td></tr>
<tr id="t2019-02-25T00:37:36"><th class="nick" style="background: #818144">nerdboy</th><td class="text" style="color: #818144">yeah i don't remember the shim being installed until (relatively) recently</td><td class="time"><a href="#t2019-02-25T00:37:36" class="time">00:37</a></td></tr>
<tr id="t2019-02-25T00:37:50"><th class="nick" style="background: #818144">nerdboy</th><td class="text" style="color: #818144">branch-wise recently...</td><td class="time"><a href="#t2019-02-25T00:37:50" class="time">00:37</a></td></tr>
<tr id="t2019-02-25T01:04:07"><td class="nickchange" colspan="2">*** vmesons is now known as vmeson</td><td><a href="#t2019-02-25T01:04:07" class="time">01:04</a></td></tr>
<tr id="t2019-02-25T02:08:46"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">khem: i had to step away and make dinner</td><td class="time"><a href="#t2019-02-25T02:08:46" class="time">02:08</a></td></tr>
<tr id="t2019-02-25T03:11:08"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">how do you use ipk or get bitbake to generate ipk packages</td><td class="time"><a href="#t2019-02-25T03:11:08" class="time">03:11</a></td></tr>
<tr id="t2019-02-25T04:52:39"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">black_13: if you use yoe then ipk is default backend</td><td class="time"><a href="#t2019-02-25T04:52:39" class="time">04:52</a></td></tr>
<tr id="t2019-02-25T04:52:54"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">so you can do bitbake foo</td><td class="time"><a href="#t2019-02-25T04:52:54" class="time">04:52</a></td></tr>
<tr id="t2019-02-25T04:53:26"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">yoe_setup_feed_server &lt;ip of target device&gt;</td><td class="time"><a href="#t2019-02-25T04:53:26" class="time">04:53</a></td></tr>
<tr id="t2019-02-25T04:53:41"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">yoe_feed_server</td><td class="time"><a href="#t2019-02-25T04:53:41" class="time">04:53</a></td></tr>
<tr id="t2019-02-25T04:53:50"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">this will start a feed server on your build machine</td><td class="time"><a href="#t2019-02-25T04:53:50" class="time">04:53</a></td></tr>
<tr id="t2019-02-25T04:54:14"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">now you can go to your target machine and do opkg update &amp;&amp; opkg install foo</td><td class="time"><a href="#t2019-02-25T04:54:14" class="time">04:54</a></td></tr>
<tr id="t2019-02-25T04:54:26"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">provided you have n/w setup on your target</td><td class="time"><a href="#t2019-02-25T04:54:26" class="time">04:54</a></td></tr>
<tr id="t2019-02-25T07:46:19"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2019-02-25T07:46:19" class="time">07:46</a></td></tr>
<tr id="t2019-02-25T09:01:19"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: From what I remember do_install had to have the get_auto_pr else the PR values would be incorrect</td><td class="time"><a href="#t2019-02-25T09:01:19" class="time">09:01</a></td></tr>
<tr id="t2019-02-25T09:02:14"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">PKGR, right? but do_install doesn't seem to use them anywhere (other than WORKDIR where it's not expanded anyway)</td><td class="time"><a href="#t2019-02-25T09:02:14" class="time">09:02</a></td></tr>
<tr id="t2019-02-25T09:02:25"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: yes, its the use of PKGR</td><td class="time"><a href="#t2019-02-25T09:02:25" class="time">09:02</a></td></tr>
<tr id="t2019-02-25T09:03:06"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: I suspect back then it may have done but changed over time?</td><td class="time"><a href="#t2019-02-25T09:03:06" class="time">09:03</a></td></tr>
<tr id="t2019-02-25T09:03:22"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">I'll try to remove it to see if something breaks now</td><td class="time"><a href="#t2019-02-25T09:03:22" class="time">09:03</a></td></tr>
<tr id="t2019-02-25T09:04:16"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: definitely worth looking at, it does seem an odd thing to do now...</td><td class="time"><a href="#t2019-02-25T09:04:16" class="time">09:04</a></td></tr>
<tr id="t2019-02-25T09:05:07"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">I've also replaced PKGR with PR to work around this (PKGR can be used in the symlink later)</td><td class="time"><a href="#t2019-02-25T09:05:07" class="time">09:05</a></td></tr>
<tr id="t2019-02-25T09:06:16"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: you're effectively just reverting that commit then</td><td class="time"><a href="#t2019-02-25T09:06:16" class="time">09:06</a></td></tr>
<tr id="t2019-02-25T09:06:21"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">(?)</td><td class="time"><a href="#t2019-02-25T09:06:21" class="time">09:06</a></td></tr>
<tr id="t2019-02-25T09:08:05"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">only partially and with do_deploy_links task after do_deploy it can result in the same artifact names</td><td class="time"><a href="#t2019-02-25T09:08:05" class="time">09:08</a></td></tr>
<tr id="t2019-02-25T09:08:31"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: but the artefact name itself would have the unexpanded PR?</td><td class="time"><a href="#t2019-02-25T09:08:31" class="time">09:08</a></td></tr>
<tr id="t2019-02-25T09:09:07"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">the goal is to have reusable do_deploy sstate, which is then hard linked with any filenames you want (which might mean expanded PKGR)</td><td class="time"><a href="#t2019-02-25T09:09:07" class="time">09:09</a></td></tr>
<tr id="t2019-02-25T09:09:44"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: you are right, the use of TASKHASH in get_auto_pr means it has to be called consistently</td><td class="time"><a href="#t2019-02-25T09:09:44" class="time">09:09</a></td></tr>
<tr id="t2019-02-25T09:10:21"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">e.g. with DATETIME currently included in artifact names, you either have to re-execute do_deploy every single build (which means rebuild for builds with rm_work) or you have "old" datetime in deploy directory artifacts</td><td class="time"><a href="#t2019-02-25T09:10:21" class="time">09:10</a></td></tr>
<tr id="t2019-02-25T09:11:25"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">it's more annoying if you do "releases" by setting the version suffix e.g. from jenkins job -&gt; again either you need to rebuild kernel or you might get different release number for kernel artifact in some builds (those where kernel checksums didn't change since previous release)</td><td class="time"><a href="#t2019-02-25T09:11:25" class="time">09:11</a></td></tr>
<tr id="t2019-02-25T09:12:09"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: my main worry with this is that we then break "stacking" artefacts</td><td class="time"><a href="#t2019-02-25T09:12:09" class="time">09:12</a></td></tr>
<tr id="t2019-02-25T09:12:40"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: the old OE behaviour was to generate a new image each run, the symlinks were then added to you could easily find "latest"</td><td class="time"><a href="#t2019-02-25T09:12:40" class="time">09:12</a></td></tr>
<tr id="t2019-02-25T09:12:54"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">in webOS we work around this by extra task (do_deploy_fixup) but it's quite error prone to do from "outside" in our layer, because every do_deploy needs to be wrapped with do_deploy_fixup and then the task dependencies which might depend on other recipe do_deploy need to be adjusted as well</td><td class="time"><a href="#t2019-02-25T09:12:54" class="time">09:12</a></td></tr>
<tr id="t2019-02-25T09:13:06"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: with sstate we started letting it clean up previous output but left it so you could easily disable that</td><td class="time"><a href="#t2019-02-25T09:13:06" class="time">09:13</a></td></tr>
<tr id="t2019-02-25T09:13:18"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">this use case is still supported</td><td class="time"><a href="#t2019-02-25T09:13:18" class="time">09:13</a></td></tr>
<tr id="t2019-02-25T09:14:02"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">that's why the links are hardlinks (so whatever the version says you'll get) and the latest is the one without version</td><td class="time"><a href="#t2019-02-25T09:14:02" class="time">09:14</a></td></tr>
<tr id="t2019-02-25T09:14:24"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: hmm, right</td><td class="time"><a href="#t2019-02-25T09:14:24" class="time">09:14</a></td></tr>
<tr id="t2019-02-25T09:15:49"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">maybe it could be simiplified even more and use just KERNEL_VERSION variable in do_deploy (as the latest one) like do_install does, but that will prevent people from renaming the "latest" one in deploy</td><td class="time"><a href="#t2019-02-25T09:15:49" class="time">09:15</a></td></tr>
<tr id="t2019-02-25T09:15:58"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: I agree we need to do something to improve things</td><td class="time"><a href="#t2019-02-25T09:15:58" class="time">09:15</a></td></tr>
<tr id="t2019-02-25T09:16:55"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">I have something which works in most cases, once I test it on more combinations, I'll share it in the bugzilla to better show how it looks now and how it will look like in deploy dir</td><td class="time"><a href="#t2019-02-25T09:16:55" class="time">09:16</a></td></tr>
<tr id="t2019-02-25T09:17:53"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: sounds good. I think explaining the change and the reasons behind it will be impoartant</td><td class="time"><a href="#t2019-02-25T09:17:53" class="time">09:17</a></td></tr>
<tr id="t2019-02-25T09:18:47"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">having the extra variables introduced in thud already helps with "external" sollution, but hopefully with good explanation people will agree to get it all in oe-core</td><td class="time"><a href="#t2019-02-25T09:18:47" class="time">09:18</a></td></tr>
<tr id="t2019-02-25T09:19:13"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: yes</td><td class="time"><a href="#t2019-02-25T09:19:13" class="time">09:19</a></td></tr>
<tr id="t2019-02-25T09:21:16"><td class="action" colspan="2">* RP notes its technically 2.7 feature freeze today. We're nowhere near ready :(</td><td><a href="#t2019-02-25T09:21:16" class="time">09:21</a></td></tr>
<tr id="t2019-02-25T09:22:46"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2019-02-25T09:22:46" class="time">09:22</a></td></tr>
<tr id="t2019-02-25T09:25:11"><th class="nick" style="background: #8c4a4a">YokoOkto</th><td class="text" style="color: #8c4a4a">hello, I applied the preempt_rt patch and still see peaks of 15ms although normally it runs with 300µs. Do you also have such experience, and what is the best tool to analyze where that is reasoned?</td><td class="time"><a href="#t2019-02-25T09:25:11" class="time">09:25</a></td></tr>
<tr id="t2019-02-25T09:27:40"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">YokoOkto: probably better to ask the linux rt channel over at OFTC</td><td class="time"><a href="#t2019-02-25T09:27:40" class="time">09:27</a></td></tr>
<tr id="t2019-02-25T09:28:30"><th class="nick" style="background: #8c4a4a">YokoOkto</th><td class="text" style="color: #8c4a4a">hmm ok thank you</td><td class="time"><a href="#t2019-02-25T09:28:30" class="time">09:28</a></td></tr>
<tr id="t2019-02-25T09:43:27"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: around?</td><td class="time"><a href="#t2019-02-25T09:43:27" class="time">09:43</a></td></tr>
<tr id="t2019-02-25T09:47:36"><td class="action" colspan="2">* RP sends email</td><td><a href="#t2019-02-25T09:47:36" class="time">09:47</a></td></tr>
<tr id="t2019-02-25T10:54:46"><th class="nick" style="background: #4d4d93">hugo___</th><td class="text" style="color: #4d4d93">Hi everyone! I added `SDK_EXTRA_TOOLS = " nativesdk-cmake&nbsp;&nbsp;&nbsp;&nbsp; " ` as described here: <a href="https://wiki.yoctoproject.org/wiki/TipsAndTricks/Cmake,Eclipse,_and_SDKS" rel="nofollow">https://wiki.yoctoproject.org/wiki/TipsAndTricks/Cmake,Eclipse,_and_SDKS</a> to get a CMake toolchain for my SDK. However, the CMake Toolchain would only work if I source the SDK environment before hand. Is there a "configuration/buildstep/install" step that would allow the SDK to export a Cmake toolchain with the paths needed to cross compile</td><td class="time"><a href="#t2019-02-25T10:54:46" class="time">10:54</a></td></tr>
<tr id="t2019-02-25T10:54:46"><th class="nick" style="background: #4d4d93">hugo___</th><td class="text" style="color: #4d4d93">without sourcing?&nbsp;&nbsp;thanks in advnace</td><td class="time"><a href="#t2019-02-25T10:54:46" class="time">10:54</a></td></tr>
<tr id="t2019-02-25T10:59:03"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">RP: yep</td><td class="time"><a href="#t2019-02-25T10:59:03" class="time">10:59</a></td></tr>
<tr id="t2019-02-25T11:02:57"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: I've taken some bits of virtgl in so the patchset should reduce a bit more :)</td><td class="time"><a href="#t2019-02-25T11:02:57" class="time">11:02</a></td></tr>
<tr id="t2019-02-25T11:03:21"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">RP: thanks :) I did notice that debian 8 also fails the selftest with an unhelpful error message</td><td class="time"><a href="#t2019-02-25T11:03:21" class="time">11:03</a></td></tr>
<tr id="t2019-02-25T11:04:05"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: right, two issues. the unhelpful message and the fact it fails :(</td><td class="time"><a href="#t2019-02-25T11:04:05" class="time">11:04</a></td></tr>
<tr id="t2019-02-25T11:04:18"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">probably should have a bug for the former</td><td class="time"><a href="#t2019-02-25T11:04:18" class="time">11:04</a></td></tr>
<tr id="t2019-02-25T11:04:25"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">RP: I suspect the actual testimage log might tell a bit more</td><td class="time"><a href="#t2019-02-25T11:04:25" class="time">11:04</a></td></tr>
<tr id="t2019-02-25T11:04:29"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">log file</td><td class="time"><a href="#t2019-02-25T11:04:29" class="time">11:04</a></td></tr>
<tr id="t2019-02-25T11:04:53"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">oh, massive update to master, finally!</td><td class="time"><a href="#t2019-02-25T11:04:53" class="time">11:04</a></td></tr>
<tr id="t2019-02-25T11:05:37"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: this batch took quite a bit of sorting out</td><td class="time"><a href="#t2019-02-25T11:05:37" class="time">11:05</a></td></tr>
<tr id="t2019-02-25T11:08:48"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">we now have a working resulttool, buildhistory and auto updating repositories of all the data, hopefully</td><td class="time"><a href="#t2019-02-25T11:08:48" class="time">11:08</a></td></tr>
<tr id="t2019-02-25T11:10:44"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">hugo___: you need to source to use the sdk</td><td class="time"><a href="#t2019-02-25T11:10:44" class="time">11:10</a></td></tr>
<tr id="t2019-02-25T11:27:58"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">hugo___: And that's a feature, not a bug.&nbsp;&nbsp;;-)</td><td class="time"><a href="#t2019-02-25T11:27:58" class="time">11:27</a></td></tr>
<tr id="t2019-02-25T11:31:18"><th class="nick" style="background: #4d4d93">hugo___</th><td class="text" style="color: #4d4d93">rburton: jofr : Ok, need is a strong word ;P</td><td class="time"><a href="#t2019-02-25T11:31:18" class="time">11:31</a></td></tr>
<tr id="t2019-02-25T11:42:29"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">hugo___: bits of the sdk use environment variables exported by the setup script, so need is the correct word</td><td class="time"><a href="#t2019-02-25T11:42:29" class="time">11:42</a></td></tr>
<tr id="t2019-02-25T11:47:08"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">hugo___: it does not work without it. I'm sure you could wrap every binary in the SDK to set the right envvars to avoid sourcing but you'd still have to modify PATH to find said binaries and to do that you'd probably still have to source something</td><td class="time"><a href="#t2019-02-25T11:47:08" class="time">11:47</a></td></tr>
<tr id="t2019-02-25T12:17:52"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">RP: I'll send a patch that removes the _remove in qemu recipe in a moment</td><td class="time"><a href="#t2019-02-25T12:17:52" class="time">12:17</a></td></tr>
<tr id="t2019-02-25T12:27:48"><th class="nick" style="background: #a25555">yacar_</th><td class="text" style="color: #a25555">Hey guys, I have still no review on my patch sent on the mailing list, shall I change something ? See mailing list thread : "Fixing devtool issue with kernel bbhappen do_patch recipe"</td><td class="time"><a href="#t2019-02-25T12:27:48" class="time">12:27</a></td></tr>
<tr id="t2019-02-25T12:36:11"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: thanks</td><td class="time"><a href="#t2019-02-25T12:36:11" class="time">12:36</a></td></tr>
<tr id="t2019-02-25T12:36:59"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">RP: removing _remove is actually tricky, can you give me a suggestion? I'd like to ensure that gtk+ is not in the final value, but it seems impossible to override what is set in local.conf, other than through use of _remove</td><td class="time"><a href="#t2019-02-25T12:36:59" class="time">12:36</a></td></tr>
<tr id="t2019-02-25T12:37:28"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">yacar_, that should be looked at by Paul Eggleton</td><td class="time"><a href="#t2019-02-25T12:37:28" class="time">12:37</a></td></tr>
<tr id="t2019-02-25T12:37:54"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">kanavin: already poked him couple of days back, probably he forgot again :/</td><td class="time"><a href="#t2019-02-25T12:37:54" class="time">12:37</a></td></tr>
<tr id="t2019-02-25T12:42:45"><th class="nick" style="background: #a25555">yacar_</th><td class="text" style="color: #a25555">kanavin : do you have Paul's email address ?</td><td class="time"><a href="#t2019-02-25T12:42:45" class="time">12:42</a></td></tr>
<tr id="t2019-02-25T12:43:24"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">yacar_: its easy to find on the ML, and he's here as bluelightning. but just offline, due to timezone</td><td class="time"><a href="#t2019-02-25T12:43:24" class="time">12:43</a></td></tr>
<tr id="t2019-02-25T12:43:40"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">paul.eggleton@linux.intel.com</td><td class="time"><a href="#t2019-02-25T12:43:40" class="time">12:43</a></td></tr>
<tr id="t2019-02-25T12:43:53"><th class="nick" style="background: #a25555">yacar_</th><td class="text" style="color: #a25555">Thanks!</td><td class="time"><a href="#t2019-02-25T12:43:53" class="time">12:43</a></td></tr>
<tr id="t2019-02-25T12:53:15"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: hmm, that is harder than I was initially thinking</td><td class="time"><a href="#t2019-02-25T12:53:15" class="time">12:53</a></td></tr>
<tr id="t2019-02-25T12:53:43"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">RP: we can drop the qemu related bits from local.conf altogether, and enable gtk+ directly from the recipe</td><td class="time"><a href="#t2019-02-25T12:53:43" class="time">12:53</a></td></tr>
<tr id="t2019-02-25T12:54:01"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: this is something users may want to configure</td><td class="time"><a href="#t2019-02-25T12:54:01" class="time">12:54</a></td></tr>
<tr id="t2019-02-25T12:54:14"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: perhaps remove is the right thing :/</td><td class="time"><a href="#t2019-02-25T12:54:14" class="time">12:54</a></td></tr>
<tr id="t2019-02-25T12:54:46"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: it would only become a problem if someone works on enabling gtk on mingw/darwin</td><td class="time"><a href="#t2019-02-25T12:54:46" class="time">12:54</a></td></tr>
<tr id="t2019-02-25T12:55:41"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">but then they would adjust the recipe as a part of that</td><td class="time"><a href="#t2019-02-25T12:55:41" class="time">12:55</a></td></tr>
<tr id="t2019-02-25T12:55:50"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">to not do the remove</td><td class="time"><a href="#t2019-02-25T12:55:50" class="time">12:55</a></td></tr>
<tr id="t2019-02-25T12:55:54"><td class="action" colspan="2">* RP just reran a-full and its nearly completed in less than 1 hour 50 minutes with hot sstate</td><td><a href="#t2019-02-25T12:55:54" class="time">12:55</a></td></tr>
<tr id="t2019-02-25T12:56:28"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">remaining bits are ptest, mips, mips64 and qemuarm</td><td class="time"><a href="#t2019-02-25T12:56:28" class="time">12:56</a></td></tr>
<tr id="t2019-02-25T12:56:44"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">that is a pretty amazing build time</td><td class="time"><a href="#t2019-02-25T12:56:44" class="time">12:56</a></td></tr>
<tr id="t2019-02-25T12:58:09"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">RP: yeah, I was going to ask if we really need to run those very long mips target tests, or make them shorter somehow</td><td class="time"><a href="#t2019-02-25T12:58:09" class="time">12:58</a></td></tr>
<tr id="t2019-02-25T12:58:35"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: we already did cut a few out</td><td class="time"><a href="#t2019-02-25T12:58:35" class="time">12:58</a></td></tr>
<tr id="t2019-02-25T12:59:14"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: actually, I'm not sure you do need to change PACKAGECONFIG for mingw from local.conf</td><td class="time"><a href="#t2019-02-25T12:59:14" class="time">12:59</a></td></tr>
<tr id="t2019-02-25T12:59:29"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: if the user configures gtk+ into a mingw build that is their own fault</td><td class="time"><a href="#t2019-02-25T12:59:29" class="time">12:59</a></td></tr>
<tr id="t2019-02-25T12:59:46"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">RP: but it's set for all nativesdk variants from local.conf</td><td class="time"><a href="#t2019-02-25T12:59:46" class="time">12:59</a></td></tr>
<tr id="t2019-02-25T13:00:08"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">and uncommented by default, which will break things on mingw</td><td class="time"><a href="#t2019-02-25T13:00:08" class="time">13:00</a></td></tr>
<tr id="t2019-02-25T13:00:33"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">ERROR: ParseError in configuration INHERITs: Could not inherit file classes/package_rpmpackage_ipk.bbclass</td><td class="time"><a href="#t2019-02-25T13:00:33" class="time">13:00</a></td></tr>
<tr id="t2019-02-25T13:00:41"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">what is this error from</td><td class="time"><a href="#t2019-02-25T13:00:41" class="time">13:00</a></td></tr>
<tr id="t2019-02-25T13:00:41"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: hmm, I was thinking mingw has its own namespace but you're right</td><td class="time"><a href="#t2019-02-25T13:00:41" class="time">13:00</a></td></tr>
<tr id="t2019-02-25T13:01:02"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">black_13: misset PACKAGE_CLASSES variable (missing space)</td><td class="time"><a href="#t2019-02-25T13:01:02" class="time">13:01</a></td></tr>
<tr id="t2019-02-25T13:01:45"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">RP: you can give it special treatment via PACKAGECONFIG_mingw32_class-nativesdk though, but it would further bloat local.conf, and really shouldn't belong there</td><td class="time"><a href="#t2019-02-25T13:01:45" class="time">13:01</a></td></tr>
<tr id="t2019-02-25T13:02:08"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: right, that is a level of ugliness the user doesn't need</td><td class="time"><a href="#t2019-02-25T13:02:08" class="time">13:02</a></td></tr>
<tr id="t2019-02-25T13:06:11"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">this is my local.conf : <a href="http://codepad.org/J4JeieU4" rel="nofollow">http://codepad.org/J4JeieU4</a></td><td class="time"><a href="#t2019-02-25T13:06:11" class="time">13:06</a></td></tr>
<tr id="t2019-02-25T13:08:44"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">PACKAGE_CLASSES ?= " package_rpm"</td><td class="time"><a href="#t2019-02-25T13:08:44" class="time">13:08</a></td></tr>
<tr id="t2019-02-25T13:09:31"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">black_13: I strongly suspend something is appending to that without a space</td><td class="time"><a href="#t2019-02-25T13:09:31" class="time">13:09</a></td></tr>
<tr id="t2019-02-25T13:15:04"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">how do you instruct bitbake to use on the ipk package format and install the package manager</td><td class="time"><a href="#t2019-02-25T13:15:04" class="time">13:15</a></td></tr>
<tr id="t2019-02-25T13:15:16"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">what bothers me is i had this working</td><td class="time"><a href="#t2019-02-25T13:15:16" class="time">13:15</a></td></tr>
<tr id="t2019-02-25T13:21:33"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">black_13: the problem is those last two lines. Why not just set PACKAGE_CLASSES = "package_ipk" ?</td><td class="time"><a href="#t2019-02-25T13:21:33" class="time">13:21</a></td></tr>
<tr id="t2019-02-25T13:22:11"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">black_13: PACKAGE_CLASSES_append = " package_ipk" (with a space) would have worked</td><td class="time"><a href="#t2019-02-25T13:22:11" class="time">13:22</a></td></tr>
<tr id="t2019-02-25T13:23:24"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">i will check</td><td class="time"><a href="#t2019-02-25T13:23:24" class="time">13:23</a></td></tr>
<tr id="t2019-02-25T13:24:53"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">ok its bitbaking lets see what happens</td><td class="time"><a href="#t2019-02-25T13:24:53" class="time">13:24</a></td></tr>
<tr id="t2019-02-25T13:29:04"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">still buiding PACKAGE_CLASSES_append = "package_ipk" PACKAGE_CLASSES_remove = "package_rpm"</td><td class="time"><a href="#t2019-02-25T13:29:04" class="time">13:29</a></td></tr>
<tr id="t2019-02-25T13:29:19"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">sorry it is still build the rpm package manager</td><td class="time"><a href="#t2019-02-25T13:29:19" class="time">13:29</a></td></tr>
<tr id="t2019-02-25T13:32:28"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">black_13: whats wrong with setting PACKAGE_CLASSES ?= "package_ipk"</td><td class="time"><a href="#t2019-02-25T13:32:28" class="time">13:32</a></td></tr>
<tr id="t2019-02-25T13:32:40"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">or even more directly PACKAGE_CLASSES = "package_ipk"</td><td class="time"><a href="#t2019-02-25T13:32:40" class="time">13:32</a></td></tr>
<tr id="t2019-02-25T13:32:59"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">i did that i believe</td><td class="time"><a href="#t2019-02-25T13:32:59" class="time">13:32</a></td></tr>
<tr id="t2019-02-25T13:33:42"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">probably not, then</td><td class="time"><a href="#t2019-02-25T13:33:42" class="time">13:33</a></td></tr>
<tr id="t2019-02-25T13:34:09"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">bitbake -e $WHATEVER | less, and then search for PACKAGE_CLASSES</td><td class="time"><a href="#t2019-02-25T13:34:09" class="time">13:34</a></td></tr>
<tr id="t2019-02-25T13:37:25"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40"><a href="http://codepad.org/JKQiuR1J" rel="nofollow">http://codepad.org/JKQiuR1J</a></td><td class="time"><a href="#t2019-02-25T13:37:25" class="time">13:37</a></td></tr>
<tr id="t2019-02-25T13:39:21"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">black_13: then chances are that something that you do need rpm for other reasons</td><td class="time"><a href="#t2019-02-25T13:39:21" class="time">13:39</a></td></tr>
<tr id="t2019-02-25T13:40:15"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">it use rpm for other reason but will also have ipk packages available</td><td class="time"><a href="#t2019-02-25T13:40:15" class="time">13:40</a></td></tr>
<tr id="t2019-02-25T13:41:48"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">is that a statement or a question?</td><td class="time"><a href="#t2019-02-25T13:41:48" class="time">13:41</a></td></tr>
<tr id="t2019-02-25T13:52:10"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">a statement</td><td class="time"><a href="#t2019-02-25T13:52:10" class="time">13:52</a></td></tr>
<tr id="t2019-02-25T13:52:54"><th class="nick" style="background: #57a657">Piraty</th><td class="text" style="color: #57a657">yocto being really late to the p3 party yes?</td><td class="time"><a href="#t2019-02-25T13:52:54" class="time">13:52</a></td></tr>
<tr id="t2019-02-25T13:52:56"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">you are saying that though it may build the rpm package management system it will have ipkg files available for use</td><td class="time"><a href="#t2019-02-25T13:52:56" class="time">13:52</a></td></tr>
<tr id="t2019-02-25T13:53:27"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">black_13: no, thats not what i am saying.</td><td class="time"><a href="#t2019-02-25T13:53:27" class="time">13:53</a></td></tr>
<tr id="t2019-02-25T13:53:50"><th class="nick" style="background: #57a657">Piraty</th><td class="text" style="color: #57a657">LOL it needs both py2 and py3</td><td class="time"><a href="#t2019-02-25T13:53:50" class="time">13:53</a></td></tr>
<tr id="t2019-02-25T13:54:07"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">black_13: i am saying that when you have package_ipk as the package_class, then this is what it will use to build the image and to provide packages.</td><td class="time"><a href="#t2019-02-25T13:54:07" class="time">13:54</a></td></tr>
<tr id="t2019-02-25T13:55:07"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">black_13: there can be packages that require the rpm tooling for other reasons, but that doesn't affect the image building and packaging process then.</td><td class="time"><a href="#t2019-02-25T13:55:07" class="time">13:55</a></td></tr>
<tr id="t2019-02-25T13:55:34"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9">Hi, I have a problem with Yocto, I'm not sure how to approach. I want to build a</td><td class="time"><a href="#t2019-02-25T13:55:34" class="time">13:55</a></td></tr>
<tr id="t2019-02-25T13:55:34"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9">few Yocto images, which are 99% identical, except for the couple of packages.</td><td class="time"><a href="#t2019-02-25T13:55:34" class="time">13:55</a></td></tr>
<tr id="t2019-02-25T13:55:34"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9">Usually, I want to install one or two extra packages.</td><td class="time"><a href="#t2019-02-25T13:55:34" class="time">13:55</a></td></tr>
<tr id="t2019-02-25T13:55:37"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9"></td><td class="time"><a href="#t2019-02-25T13:55:37" class="time">13:55</a></td></tr>
<tr id="t2019-02-25T13:55:40"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9">I want to save some space on multiple rootfs images. Is there some way to produce one 'base' image and them install rpm package in the image on the host?</td><td class="time"><a href="#t2019-02-25T13:55:40" class="time">13:55</a></td></tr>
<tr id="t2019-02-25T13:55:43"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9"></td><td class="time"><a href="#t2019-02-25T13:55:43" class="time">13:55</a></td></tr>
<tr id="t2019-02-25T13:56:56"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">LetoThe2nd: your correct i see multiple ipk files present in ./build/tmp/deploy/ipk/all</td><td class="time"><a href="#t2019-02-25T13:56:56" class="time">13:56</a></td></tr>
<tr id="t2019-02-25T13:57:12"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">lexa_`: you can have a base image recipe, and 99 other recipes that jsut include it and extend it by one or two packages.</td><td class="time"><a href="#t2019-02-25T13:57:12" class="time">13:57</a></td></tr>
<tr id="t2019-02-25T13:59:07"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9">LetoThe2nd: But I don't want to build multiple images in Yocto. Maybe it is possible to install packages into pre-build rootfs?</td><td class="time"><a href="#t2019-02-25T13:59:07" class="time">13:59</a></td></tr>
<tr id="t2019-02-25T13:59:45"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">lexa_`: i don't get the point</td><td class="time"><a href="#t2019-02-25T13:59:45" class="time">13:59</a></td></tr>
<tr id="t2019-02-25T14:00:38"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9">LetoThe2nd: save some diskspace by having one big image + packages which could be installed when needed.</td><td class="time"><a href="#t2019-02-25T14:00:38" class="time">14:00</a></td></tr>
<tr id="t2019-02-25T14:00:50"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">lexa_`: you want yocto to create a base image, and then run a whatever-something that takes this image, and makes it into 99 other images that only differ by a handful of packages.</td><td class="time"><a href="#t2019-02-25T14:00:50" class="time">14:00</a></td></tr>
<tr id="t2019-02-25T14:01:15"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9">exactly!</td><td class="time"><a href="#t2019-02-25T14:01:15" class="time">14:01</a></td></tr>
<tr id="t2019-02-25T14:01:19"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">lexa_`: i mean, you explicitly wrote "install rpm package in the image on the host"</td><td class="time"><a href="#t2019-02-25T14:01:19" class="time">14:01</a></td></tr>
<tr id="t2019-02-25T14:01:31"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">so there's no diskspace saving in any case.</td><td class="time"><a href="#t2019-02-25T14:01:31" class="time">14:01</a></td></tr>
<tr id="t2019-02-25T14:01:55"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">or did you actually mean to create a base image + a package feed, and then install the add-ons in the TARGET?</td><td class="time"><a href="#t2019-02-25T14:01:55" class="time">14:01</a></td></tr>
<tr id="t2019-02-25T14:02:31"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9">Usually, I don't want to have all images at the same moment, so I could have one base image and one base image with an extra package installed.</td><td class="time"><a href="#t2019-02-25T14:02:31" class="time">14:02</a></td></tr>
<tr id="t2019-02-25T14:03:43"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9">LetoThe2nd: I wouldn't like to install packages on the host, because it implies RW rootfs.</td><td class="time"><a href="#t2019-02-25T14:03:43" class="time">14:03</a></td></tr>
<tr id="t2019-02-25T14:04:01"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">lexa_`: so what would be the difference to bitbake'ing the base-image and the special image?</td><td class="time"><a href="#t2019-02-25T14:04:01" class="time">14:04</a></td></tr>
<tr id="t2019-02-25T14:04:43"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">lexa_`: so then this was a freudian error now, you meant "I wouldn't like to install packages on the target, because it implies RW rootfs."</td><td class="time"><a href="#t2019-02-25T14:04:43" class="time">14:04</a></td></tr>
<tr id="t2019-02-25T14:04:48"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">ok, that makes perfect sense</td><td class="time"><a href="#t2019-02-25T14:04:48" class="time">14:04</a></td></tr>
<tr id="t2019-02-25T14:07:25"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9">LetoThe2nd: The difference between base-image and a special image is that special image has a few packages extra.</td><td class="time"><a href="#t2019-02-25T14:07:25" class="time">14:07</a></td></tr>
<tr id="t2019-02-25T14:07:37"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">lexa_`: i understood that.</td><td class="time"><a href="#t2019-02-25T14:07:37" class="time">14:07</a></td></tr>
<tr id="t2019-02-25T14:08:22"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9">LetoThe2nd: So, what was the question 'so what would be the difference to bitbake'ing the base-image and the special image?'</td><td class="time"><a href="#t2019-02-25T14:08:22" class="time">14:08</a></td></tr>
<tr id="t2019-02-25T14:08:36"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">lexa_`: but i don't see what "diskspace savings" you expect. if you bitbake special-image which depends on base-image, then bitbake will literally build only what those two images need, and assemble them</td><td class="time"><a href="#t2019-02-25T14:08:36" class="time">14:08</a></td></tr>
<tr id="t2019-02-25T14:08:49"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">the more they share, the better.</td><td class="time"><a href="#t2019-02-25T14:08:49" class="time">14:08</a></td></tr>
<tr id="t2019-02-25T14:10:04"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">anyone seeing illegal instructions from llvm when used with mesa on qemux86?</td><td class="time"><a href="#t2019-02-25T14:10:04" class="time">14:10</a></td></tr>
<tr id="t2019-02-25T14:11:53"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">kanavin: for me qemu-native doesn't work with gtk+, but works with sdl2, so it might be useful for people to configure</td><td class="time"><a href="#t2019-02-25T14:11:53" class="time">14:11</a></td></tr>
<tr id="t2019-02-25T14:11:55"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9">LetoThe2nd: Oh, forgot to explain that. I didn't meant to save space in Yocto. I want to save space on the resulting images, because I have to share them over the Internt.</td><td class="time"><a href="#t2019-02-25T14:11:55" class="time">14:11</a></td></tr>
<tr id="t2019-02-25T14:12:21"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">lexa_`: sorry, but you're not making sense.</td><td class="time"><a href="#t2019-02-25T14:12:21" class="time">14:12</a></td></tr>
<tr id="t2019-02-25T14:13:09"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">lexa_`: if you have an image that you want to contain a defined set of things, where is the space saving opportunity?</td><td class="time"><a href="#t2019-02-25T14:13:09" class="time">14:13</a></td></tr>
<tr id="t2019-02-25T14:16:43"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">kanavin: any link to upstream where it shows that sdl is deprecated in favor of gtk+?</td><td class="time"><a href="#t2019-02-25T14:16:43" class="time">14:16</a></td></tr>
<tr id="t2019-02-25T14:18:23"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9">LetoThe2nd: Compare: 5 images each 1Gb vs 1 image 1Gb + 5 packages of negligible size.</td><td class="time"><a href="#t2019-02-25T14:18:23" class="time">14:18</a></td></tr>
<tr id="t2019-02-25T14:18:41"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9">and I have to share these images over the network.</td><td class="time"><a href="#t2019-02-25T14:18:41" class="time">14:18</a></td></tr>
<tr id="t2019-02-25T14:19:35"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9">So, I'm not saving a diskspace, but a network throughput.</td><td class="time"><a href="#t2019-02-25T14:19:35" class="time">14:19</a></td></tr>
<tr id="t2019-02-25T14:19:54"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">lexa_`: ok. now i think i see the missing part. you mean, that you are kind of "development host 1". you produce the base image and feed and share it. "development host 2" receives things, and then creates the images. right?</td><td class="time"><a href="#t2019-02-25T14:19:54" class="time">14:19</a></td></tr>
<tr id="t2019-02-25T14:20:09"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9">exactly!</td><td class="time"><a href="#t2019-02-25T14:20:09" class="time">14:20</a></td></tr>
<tr id="t2019-02-25T14:21:13"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">it would have been very helpful to mention that there are multiple "hosts". you did always only name "host"</td><td class="time"><a href="#t2019-02-25T14:21:13" class="time">14:21</a></td></tr>
<tr id="t2019-02-25T14:21:27"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">JaMa, I tried everything I could to make qemu work with sdl2, it would either refuse to start, crash on driver initialization or show a blank window when starting smth graphical</td><td class="time"><a href="#t2019-02-25T14:21:27" class="time">14:21</a></td></tr>
<tr id="t2019-02-25T14:21:55"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9">LetoThe2nd: sorry, I forgot to mention that fact.</td><td class="time"><a href="#t2019-02-25T14:21:55" class="time">14:21</a></td></tr>
<tr id="t2019-02-25T14:21:57"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">if you have a branch somewhere which works for you, with precise instructions, I could give it a try</td><td class="time"><a href="#t2019-02-25T14:21:57" class="time">14:21</a></td></tr>
<tr id="t2019-02-25T14:22:13"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">JaMa, sdl is deprecated in favor of gtk+ in poky distro</td><td class="time"><a href="#t2019-02-25T14:22:13" class="time">14:22</a></td></tr>
<tr id="t2019-02-25T14:22:20"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">lexa_`: in that case, i don't know of any fitting solution. you can of course provide a base image plus a package feed, but the re-packaging of the image is something you'd probably have to script yourself.</td><td class="time"><a href="#t2019-02-25T14:22:20" class="time">14:22</a></td></tr>
<tr id="t2019-02-25T14:27:40"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">kanavin: "qemu: build target variant with gtk+, and nativesdk variant without sdl" this commit isn't poky specific and still it says sdl is deprecated</td><td class="time"><a href="#t2019-02-25T14:27:40" class="time">14:27</a></td></tr>
<tr id="t2019-02-25T14:27:52"><th class="nick" style="background: #5959a9">lexa_`</th><td class="text" style="color: #5959a9">LetoThe2nd: I guest I'll to script image re-packaging.</td><td class="time"><a href="#t2019-02-25T14:27:52" class="time">14:27</a></td></tr>
<tr id="t2019-02-25T14:29:08"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">kanavin: <a href="https://github.com/webosose-emulator/prebuilt-emulator" rel="nofollow">https://github.com/webosose-emulator/prebuilt-emulator</a></td><td class="time"><a href="#t2019-02-25T14:29:08" class="time">14:29</a></td></tr>
<tr id="t2019-02-25T14:30:03"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">JaMa, which version of qemu is that?</td><td class="time"><a href="#t2019-02-25T14:30:03" class="time">14:30</a></td></tr>
<tr id="t2019-02-25T14:30:49"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">the prebuilt one is 2.7.0</td><td class="time"><a href="#t2019-02-25T14:30:49" class="time">14:30</a></td></tr>
<tr id="t2019-02-25T14:30:59"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">I was using <a href="http://git.openembedded.org/openembedded-core-contrib/log/?h=jansa/qemu" rel="nofollow">http://git.openembedded.org/openembedded-core-contrib/log/?h=jansa/qemu</a> to build it with OE</td><td class="time"><a href="#t2019-02-25T14:30:59" class="time">14:30</a></td></tr>
<tr id="t2019-02-25T14:31:26"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">but my version of mesa-native was also depending on drm-native, so I wasn't using that much from host as your version</td><td class="time"><a href="#t2019-02-25T14:31:26" class="time">14:31</a></td></tr>
<tr id="t2019-02-25T14:32:08"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">yes, that was a trade-off in time needed to build all the drivers</td><td class="time"><a href="#t2019-02-25T14:32:08" class="time">14:32</a></td></tr>
<tr id="t2019-02-25T14:32:46"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">and my version still had some issues, like mesa loading the drm driver from the path in libdrm WORKDIR which of course didn't work after rm_work removed libdrm WORKDIR</td><td class="time"><a href="#t2019-02-25T14:32:46" class="time">14:32</a></td></tr>
<tr id="t2019-02-25T14:33:20"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">now I've built your version with both sdl and gtk+ support so I should be able to test both just by changing -display parameter</td><td class="time"><a href="#t2019-02-25T14:33:20" class="time">14:33</a></td></tr>
<tr id="t2019-02-25T14:33:32"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">yep, if you can make sdl work, that'd be great</td><td class="time"><a href="#t2019-02-25T14:33:32" class="time">14:33</a></td></tr>
<tr id="t2019-02-25T14:33:50"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">virgl enabled qemu in gentoo has the same issue (sdl works and gtk+ doesn't)</td><td class="time"><a href="#t2019-02-25T14:33:50" class="time">14:33</a></td></tr>
<tr id="t2019-02-25T14:34:24"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">fedora and opensuse have the opposite problem</td><td class="time"><a href="#t2019-02-25T14:34:24" class="time">14:34</a></td></tr>
<tr id="t2019-02-25T14:34:34"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">ubuntu doesn't have virgl enabled at all</td><td class="time"><a href="#t2019-02-25T14:34:34" class="time">14:34</a></td></tr>
<tr id="t2019-02-25T14:34:45"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">but there might be some new issue in either xubuntu (as guest) or newer qemu, because now with default display xubuntu fails to start graphics, it works only with passthrough gpu or qxl display (slowly)</td><td class="time"><a href="#t2019-02-25T14:34:45" class="time">14:34</a></td></tr>
<tr id="t2019-02-25T14:35:16"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">I have ubuntu packages rebuilt with sdl and virgl, but I haven't tried them with gtk display</td><td class="time"><a href="#t2019-02-25T14:35:16" class="time">14:35</a></td></tr>
<tr id="t2019-02-25T14:36:28"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">as in <a href="http://forum.webosose.org/t/pre-built-images-available/392/2" rel="nofollow">http://forum.webosose.org/t/pre-built-images-available/392/2</a></td><td class="time"><a href="#t2019-02-25T14:36:28" class="time">14:36</a></td></tr>
<tr id="t2019-02-25T14:37:34"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">ah I didn't use GTK because "With GTK UI there are few more issues, the</td><td class="time"><a href="#t2019-02-25T14:37:34" class="time">14:37</a></td></tr>
<tr id="t2019-02-25T14:37:34"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">resolution isn't set correctly and the cursor isn't rendered inside QEmu</td><td class="time"><a href="#t2019-02-25T14:37:34" class="time">14:37</a></td></tr>
<tr id="t2019-02-25T14:37:35"><th class="nick" style="background: #488888">JaMa</th><td class="text" style="color: #488888">window."</td><td class="time"><a href="#t2019-02-25T14:37:35" class="time">14:37</a></td></tr>
<tr id="t2019-02-25T15:03:53"><th class="nick" style="background: #adad5b">varjag</th><td class="text" style="color: #adad5b">i'm setting up my own distro, but when i bake virtual/kernel, it seems to ignore my preferred_provider</td><td class="time"><a href="#t2019-02-25T15:03:53" class="time">15:03</a></td></tr>
<tr id="t2019-02-25T15:04:01"><th class="nick" style="background: #adad5b">varjag</th><td class="text" style="color: #adad5b">how does one go about diagnosing that?</td><td class="time"><a href="#t2019-02-25T15:04:01" class="time">15:04</a></td></tr>
<tr id="t2019-02-25T15:04:31"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">varjag: bitbake -e</td><td class="time"><a href="#t2019-02-25T15:04:31" class="time">15:04</a></td></tr>
<tr id="t2019-02-25T15:04:32"><th class="nick" style="background: #adad5b">varjag</th><td class="text" style="color: #adad5b">i tried getting the dependencies graph for recipes, but it doesn't help</td><td class="time"><a href="#t2019-02-25T15:04:32" class="time">15:04</a></td></tr>
<tr id="t2019-02-25T15:04:55"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">varjag: chances are that COMPATIBLE_MACHINE or such is off</td><td class="time"><a href="#t2019-02-25T15:04:55" class="time">15:04</a></td></tr>
<tr id="t2019-02-25T15:04:55"><th class="nick" style="background: #adad5b">varjag</th><td class="text" style="color: #adad5b">aha..</td><td class="time"><a href="#t2019-02-25T15:04:55" class="time">15:04</a></td></tr>
<tr id="t2019-02-25T15:14:26"><th class="nick" style="background: #adad5b">varjag</th><td class="text" style="color: #adad5b">thanks, it looks like my definition is getting overriden</td><td class="time"><a href="#t2019-02-25T15:14:26" class="time">15:14</a></td></tr>
<tr id="t2019-02-25T15:14:39"><th class="nick" style="background: #4b904b">LetoThe2nd</th><td class="text" style="color: #4b904b">:-)</td><td class="time"><a href="#t2019-02-25T15:14:39" class="time">15:14</a></td></tr>
<tr id="t2019-02-25T15:17:46"><th class="nick" style="background: #b15db1">yocti</th><td class="text" style="color: #b15db1">New news from stackoverflow: Qt - Module "QtQuick.Controls" is not installed &lt;<a href="https://stackoverflow.com/questions/54869192/qt-module-qtquick-controls-is-not-installed&gt;" rel="nofollow">https://stackoverflow.com/questions/54869192/qt-module-qtquick-controls-is-not-installed&gt;</a></td><td class="time"><a href="#t2019-02-25T15:17:46" class="time">15:17</a></td></tr>
<tr id="t2019-02-25T15:19:10"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">when is ${B} cleaned?</td><td class="time"><a href="#t2019-02-25T15:19:10" class="time">15:19</a></td></tr>
<tr id="t2019-02-25T15:19:49"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">if I do some file processing in there, should my recipe task start with a bunch of rm first, to not have stale files from the previous run?</td><td class="time"><a href="#t2019-02-25T15:19:49" class="time">15:19</a></td></tr>
<tr id="t2019-02-25T15:25:58"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">They stay there between runs, yes. In some cases you may need to remove stuff.</td><td class="time"><a href="#t2019-02-25T15:25:58" class="time">15:25</a></td></tr>
<tr id="t2019-02-25T15:26:27"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2019-02-25T15:26:27" class="time">15:26</a></td></tr>
<tr id="t2019-02-25T15:28:12"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">ernstp: FWIW: I have a recipe that, among other things, creates a zip archive. When I originally created that recipe, I do recall that zip added my files into the old archive if they had a new name. So now I start by removing it so I don't have to do a -c cleanall before building that recipe.</td><td class="time"><a href="#t2019-02-25T15:28:12" class="time">15:28</a></td></tr>
<tr id="t2019-02-25T15:28:51"><th class="nick" style="background: #b86161">kergoth</th><td class="text" style="color: #b86161">depends on the task being rerun</td><td class="time"><a href="#t2019-02-25T15:28:51" class="time">15:28</a></td></tr>
<tr id="t2019-02-25T15:45:00"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">kergoth: if I trigger compile to rerun</td><td class="time"><a href="#t2019-02-25T15:45:00" class="time">15:45</a></td></tr>
<tr id="t2019-02-25T15:45:19"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">should I always start with rm -rf ${B}* ?</td><td class="time"><a href="#t2019-02-25T15:45:19" class="time">15:45</a></td></tr>
<tr id="t2019-02-25T15:45:31"><th class="nick" style="background: #b86161">kergoth</th><td class="text" style="color: #b86161">no</td><td class="time"><a href="#t2019-02-25T15:45:31" class="time">15:45</a></td></tr>
<tr id="t2019-02-25T15:45:33"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">rm -rf ${B}/*</td><td class="time"><a href="#t2019-02-25T15:45:33" class="time">15:45</a></td></tr>
<tr id="t2019-02-25T15:45:35"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">no</td><td class="time"><a href="#t2019-02-25T15:45:35" class="time">15:45</a></td></tr>
<tr id="t2019-02-25T15:45:51"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">so what's the idea? :-)</td><td class="time"><a href="#t2019-02-25T15:45:51" class="time">15:45</a></td></tr>
<tr id="t2019-02-25T15:46:32"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Only the build artifact that would be added to incrementally.</td><td class="time"><a href="#t2019-02-25T15:46:32" class="time">15:46</a></td></tr>
<tr id="t2019-02-25T15:47:37"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">I discovered it because I had an intermediate file where I did &gt;&gt; instead of &gt;</td><td class="time"><a href="#t2019-02-25T15:47:37" class="time">15:47</a></td></tr>
<tr id="t2019-02-25T15:47:43"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Let's say you have something that does an "echo sumfink &gt;&gt; somefile" in your recipe. If you run that build over and over again, your "sumefile" will contain lots of "sumfink"s.</td><td class="time"><a href="#t2019-02-25T15:47:43" class="time">15:47</a></td></tr>
<tr id="t2019-02-25T15:47:53"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">indeed</td><td class="time"><a href="#t2019-02-25T15:47:53" class="time">15:47</a></td></tr>
<tr id="t2019-02-25T15:48:44"><th class="nick" style="background: #62bb62">daniel-k</th><td class="text" style="color: #62bb62">Hi! I'm trying to build an eSDK with SDK_INCLUDE_PKGDATA="1" and it keeps failing during populate_sdk_ext with "No such file or directory: '[...]/build/tmp/work/raspberrypi3-poky-linux-gnueabi/core-image-base/1.0-r0/recipe-sysroot/world-pkgdata/locked-sigs-pkgdata.inc'" Any ideas?</td><td class="time"><a href="#t2019-02-25T15:48:44" class="time">15:48</a></td></tr>
<tr id="t2019-02-25T15:49:18"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">So in this simple example you have two options. Either have the first echo do an overwrite "&gt;" or have a build-step that first does a: rm -f somefile and then does you append-stuff. You don't want to erase everything to get rid of a single file.</td><td class="time"><a href="#t2019-02-25T15:49:18" class="time">15:49</a></td></tr>
<tr id="t2019-02-25T15:49:29"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">your*</td><td class="time"><a href="#t2019-02-25T15:49:29" class="time">15:49</a></td></tr>
<tr id="t2019-02-25T15:50:09"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">jofr: when do you want to keep old stuff around in ${B}?!</td><td class="time"><a href="#t2019-02-25T15:50:09" class="time">15:50</a></td></tr>
<tr id="t2019-02-25T15:50:41"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">When you build something more often than once in your lifetime.&nbsp;&nbsp;;-)</td><td class="time"><a href="#t2019-02-25T15:50:41" class="time">15:50</a></td></tr>
<tr id="t2019-02-25T15:50:51"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">a assume a cmake recipe that triggers do_compile nukes the build directory?</td><td class="time"><a href="#t2019-02-25T15:50:51" class="time">15:50</a></td></tr>
<tr id="t2019-02-25T15:51:04"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Nope</td><td class="time"><a href="#t2019-02-25T15:51:04" class="time">15:51</a></td></tr>
<tr id="t2019-02-25T15:51:38"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Only if the upstream has changed and it needs to fetch again</td><td class="time"><a href="#t2019-02-25T15:51:38" class="time">15:51</a></td></tr>
<tr id="t2019-02-25T15:51:46"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">well there's the ccache, and when I work on something I compile it myself. I didn't expect yocto to do dirty buidls</td><td class="time"><a href="#t2019-02-25T15:51:46" class="time">15:51</a></td></tr>
<tr id="t2019-02-25T15:52:19"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">I mean sstate</td><td class="time"><a href="#t2019-02-25T15:52:19" class="time">15:52</a></td></tr>
<tr id="t2019-02-25T15:53:04"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">ok, fetch deletes B?</td><td class="time"><a href="#t2019-02-25T15:53:04" class="time">15:53</a></td></tr>
<tr id="t2019-02-25T15:56:10"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">I believe it does. If I'm wrong, I hope someone will correct me on that?&nbsp;&nbsp;:p</td><td class="time"><a href="#t2019-02-25T15:56:10" class="time">15:56</a></td></tr>
<tr id="t2019-02-25T15:58:17"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">I've only used ${B} once and that was for a temporary workaround that I'm not even using anymore.</td><td class="time"><a href="#t2019-02-25T15:58:17" class="time">15:58</a></td></tr>
<tr id="t2019-02-25T16:02:18"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">I guess this ties in with "B: By default, this directory is the same as the S directory"</td><td class="time"><a href="#t2019-02-25T16:02:18" class="time">16:02</a></td></tr>
<tr id="t2019-02-25T16:03:44"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">cmake has rm -rf ${B} mkdir -p ${B} in do_configure</td><td class="time"><a href="#t2019-02-25T16:03:44" class="time">16:03</a></td></tr>
<tr id="t2019-02-25T16:05:26"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Yes. But doesn't it only do a configure when it needs to fetch new sources?</td><td class="time"><a href="#t2019-02-25T16:05:26" class="time">16:05</a></td></tr>
<tr id="t2019-02-25T16:06:32"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">yeah I guess it's quite rare to only trigger do compile, perhaps mostly happens when developing a recipe itself</td><td class="time"><a href="#t2019-02-25T16:06:32" class="time">16:06</a></td></tr>
<tr id="t2019-02-25T16:07:36"><th class="nick" style="background: #6464bf">lpapp</th><td class="text" style="color: #6464bf">hi, is this the syntax of fetching from a local repo on the machine? SRC_URI = "file:///home/lpapp/foo;protocol=file;nocheckout=1;branch=topic \</td><td class="time"><a href="#t2019-02-25T16:07:36" class="time">16:07</a></td></tr>
<tr id="t2019-02-25T16:09:24"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">lpapp: for git, no</td><td class="time"><a href="#t2019-02-25T16:09:24" class="time">16:09</a></td></tr>
<tr id="t2019-02-25T16:09:42"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">lpapp: SRC_URI = "git:///home/xxxx;protocol=file"</td><td class="time"><a href="#t2019-02-25T16:09:42" class="time">16:09</a></td></tr>
<tr id="t2019-02-25T16:09:50"><th class="nick" style="background: #6464bf">lpapp</th><td class="text" style="color: #6464bf">oh ok, tried that, too, thanks</td><td class="time"><a href="#t2019-02-25T16:09:50" class="time">16:09</a></td></tr>
<tr id="t2019-02-25T16:10:11"><th class="nick" style="background: #b86161">kergoth</th><td class="text" style="color: #b86161">file:// won't call out to git, it'll copy the file over</td><td class="time"><a href="#t2019-02-25T16:10:11" class="time">16:10</a></td></tr>
<tr id="t2019-02-25T16:10:24"><th class="nick" style="background: #6464bf">lpapp</th><td class="text" style="color: #6464bf">hmm, that may be good enough as well</td><td class="time"><a href="#t2019-02-25T16:10:24" class="time">16:10</a></td></tr>
<tr id="t2019-02-25T16:10:41"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">you might think that git over ssh is ssh://path but it's git://path;protocol=ssh etc</td><td class="time"><a href="#t2019-02-25T16:10:41" class="time">16:10</a></td></tr>
<tr id="t2019-02-25T16:10:48"><th class="nick" style="background: #6464bf">lpapp</th><td class="text" style="color: #6464bf">with git:/// -&gt; unable to find revision</td><td class="time"><a href="#t2019-02-25T16:10:48" class="time">16:10</a></td></tr>
<tr id="t2019-02-25T16:11:13"><th class="nick" style="background: #6464bf">lpapp</th><td class="text" style="color: #6464bf">WARNING: Failed to fetch URL git:///home/lpapp/foo;protocol=file, attempting MIRRORS if available</td><td class="time"><a href="#t2019-02-25T16:11:13" class="time">16:11</a></td></tr>
<tr id="t2019-02-25T16:11:34"><th class="nick" style="background: #6464bf">lpapp</th><td class="text" style="color: #6464bf">ERROR: Fetcher failure: Unable to find revision b9e8d459764b211392089f4ea04ce003229ae0b9 in branch master even from upstream</td><td class="time"><a href="#t2019-02-25T16:11:34" class="time">16:11</a></td></tr>
<tr id="t2019-02-25T16:12:39"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">lpapp/foo/.git ?</td><td class="time"><a href="#t2019-02-25T16:12:39" class="time">16:12</a></td></tr>
<tr id="t2019-02-25T16:13:27"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">lpapp: Try adding: SRCREV = "${AUTOREV}" and PV = "1.0+git${SRCPV}" (you may want a different PV though)</td><td class="time"><a href="#t2019-02-25T16:13:27" class="time">16:13</a></td></tr>
<tr id="t2019-02-25T16:14:37"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">If you want to use the latest head, that is.</td><td class="time"><a href="#t2019-02-25T16:14:37" class="time">16:14</a></td></tr>
<tr id="t2019-02-25T16:19:47"><th class="nick" style="background: #6464bf">lpapp</th><td class="text" style="color: #6464bf">no, it is not auto, sorry</td><td class="time"><a href="#t2019-02-25T16:19:47" class="time">16:19</a></td></tr>
<tr id="t2019-02-25T16:19:50"><th class="nick" style="background: #6464bf">lpapp</th><td class="text" style="color: #6464bf">it is not the latest, etc</td><td class="time"><a href="#t2019-02-25T16:19:50" class="time">16:19</a></td></tr>
<tr id="t2019-02-25T16:20:19"><th class="nick" style="background: #6464bf">lpapp</th><td class="text" style="color: #6464bf">so why is it failing to fetch given that git show b9e8d459764b211392089f4ea04ce003229ae0b9 is just fine in that local repo when I cd in?</td><td class="time"><a href="#t2019-02-25T16:20:19" class="time">16:20</a></td></tr>
<tr id="t2019-02-25T16:21:20"><th class="nick" style="background: #6464bf">lpapp</th><td class="text" style="color: #6464bf">if I specify the branch, it is "better"</td><td class="time"><a href="#t2019-02-25T16:21:20" class="time">16:21</a></td></tr>
<tr id="t2019-02-25T16:24:14"><th class="nick" style="background: #6464bf">lpapp</th><td class="text" style="color: #6464bf">thanks</td><td class="time"><a href="#t2019-02-25T16:24:14" class="time">16:24</a></td></tr>
<tr id="t2019-02-25T16:46:32"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">so COPY_LIC_DIRS puts all the licenses that are part of the image on the target rootfs, but is there a method to get a bundle outside the target?</td><td class="time"><a href="#t2019-02-25T16:46:32" class="time">16:46</a></td></tr>
<tr id="t2019-02-25T16:47:11"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">tmp/deploy/license/ just has licenses for everything compiled for some reason</td><td class="time"><a href="#t2019-02-25T16:47:11" class="time">16:47</a></td></tr>
<tr id="t2019-02-25T16:48:35"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">for a good reason: everything that gets built puts the license in deploy</td><td class="time"><a href="#t2019-02-25T16:48:35" class="time">16:48</a></td></tr>
<tr id="t2019-02-25T16:48:42"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">just like everythingt hat gets built put packages into deploy</td><td class="time"><a href="#t2019-02-25T16:48:42" class="time">16:48</a></td></tr>
<tr id="t2019-02-25T16:49:17"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">you can use the image manifest to get the package names, so you know what bits of the license folder to pick</td><td class="time"><a href="#t2019-02-25T16:49:17" class="time">16:49</a></td></tr>
<tr id="t2019-02-25T16:51:05"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">rburton: I mean everything compiled regardless of what triggered it :-)</td><td class="time"><a href="#t2019-02-25T16:51:05" class="time">16:51</a></td></tr>
<tr id="t2019-02-25T16:51:32"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">so it includes hosttools etc</td><td class="time"><a href="#t2019-02-25T16:51:32" class="time">16:51</a></td></tr>
<tr id="t2019-02-25T16:52:17"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">I'm thinking about stealing /usr/share/common-licenses from the target rootfs but that feels a bit backwards :-)</td><td class="time"><a href="#t2019-02-25T16:52:17" class="time">16:52</a></td></tr>
<tr id="t2019-02-25T16:57:02"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">ernstp: just copy what you need from deploy/licenses</td><td class="time"><a href="#t2019-02-25T16:57:02" class="time">16:57</a></td></tr>
<tr id="t2019-02-25T16:57:33"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">RP: alsa patch from tanu on the list if you didn't spot it</td><td class="time"><a href="#t2019-02-25T16:57:33" class="time">16:57</a></td></tr>
<tr id="t2019-02-25T17:05:51"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">rburton: i have to implement package to recipe mapping then, don't I have? feels like a lot of work duplication</td><td class="time"><a href="#t2019-02-25T17:05:51" class="time">17:05</a></td></tr>
<tr id="t2019-02-25T17:06:33"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">ernstp: oe-pkgdata-util can do that</td><td class="time"><a href="#t2019-02-25T17:06:33" class="time">17:06</a></td></tr>
<tr id="t2019-02-25T17:06:50"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">i even extended it recently to take a list for pretty much this purpose</td><td class="time"><a href="#t2019-02-25T17:06:50" class="time">17:06</a></td></tr>
<tr id="t2019-02-25T17:07:18"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">i'm assuming that license.bbclass can't generate a license manifest for you per-image</td><td class="time"><a href="#t2019-02-25T17:07:18" class="time">17:07</a></td></tr>
<tr id="t2019-02-25T17:07:20"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">maybe it can</td><td class="time"><a href="#t2019-02-25T17:07:20" class="time">17:07</a></td></tr>
<tr id="t2019-02-25T17:08:21"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">also ripping it out of the rootfs isn't that nasty tbh :)</td><td class="time"><a href="#t2019-02-25T17:08:21" class="time">17:08</a></td></tr>
<tr id="t2019-02-25T17:08:36"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">ensure you have the rootfs as a tar.gz and then you can just tar them out</td><td class="time"><a href="#t2019-02-25T17:08:36" class="time">17:08</a></td></tr>
<tr id="t2019-02-25T17:09:25"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">:-)</td><td class="time"><a href="#t2019-02-25T17:09:25" class="time">17:09</a></td></tr>
<tr id="t2019-02-25T17:09:39"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">do you actually what the license text, or just the names?</td><td class="time"><a href="#t2019-02-25T17:09:39" class="time">17:09</a></td></tr>
<tr id="t2019-02-25T17:09:41"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">my idea was to do it in a postprocess hook and nuke them from the image</td><td class="time"><a href="#t2019-02-25T17:09:41" class="time">17:09</a></td></tr>
<tr id="t2019-02-25T17:09:53"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">I want the text</td><td class="time"><a href="#t2019-02-25T17:09:53" class="time">17:09</a></td></tr>
<tr id="t2019-02-25T17:09:58"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">if you don't want them in the image, don't put them in the image...</td><td class="time"><a href="#t2019-02-25T17:09:58" class="time">17:09</a></td></tr>
<tr id="t2019-02-25T17:10:21"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">yeah but that was the available method to get them collected per image :-)</td><td class="time"><a href="#t2019-02-25T17:10:21" class="time">17:10</a></td></tr>
<tr id="t2019-02-25T17:11:05"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">so i'd turn off license_image, then take the image manifest, turn each package into a recipe, and grab the files from deploy/licenses/[recipe]</td><td class="time"><a href="#t2019-02-25T17:11:05" class="time">17:11</a></td></tr>
<tr id="t2019-02-25T17:11:40"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">$ oe-pkgdata-util lookup-pkg -r pkg [pkg ...]</td><td class="time"><a href="#t2019-02-25T17:11:40" class="time">17:11</a></td></tr>
<tr id="t2019-02-25T17:11:57"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">license.bbclass has quite a lot of code...</td><td class="time"><a href="#t2019-02-25T17:11:57" class="time">17:11</a></td></tr>
<tr id="t2019-02-25T17:12:06"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">or was it lookup-recipe</td><td class="time"><a href="#t2019-02-25T17:12:06" class="time">17:12</a></td></tr>
<tr id="t2019-02-25T17:12:11"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">yeah license.bbclass is arguably over-engineered</td><td class="time"><a href="#t2019-02-25T17:12:11" class="time">17:12</a></td></tr>
<tr id="t2019-02-25T17:12:16"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">visitor classes and what not</td><td class="time"><a href="#t2019-02-25T17:12:16" class="time">17:12</a></td></tr>
<tr id="t2019-02-25T17:12:44"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">no glory in rewriting something that works though ...</td><td class="time"><a href="#t2019-02-25T17:12:44" class="time">17:12</a></td></tr>
<tr id="t2019-02-25T17:14:20"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">cat tmp/deploy/images/machine/my-image-machine.manifest | awk '{ print $1 }' | xargs oe-pkgdata-util lookup-recipe | sort | uniq | xargs -i ls 'tmp/deploy/licenses/{}' -d</td><td class="time"><a href="#t2019-02-25T17:14:20" class="time">17:14</a></td></tr>
<tr id="t2019-02-25T17:14:46"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">ls returns without any errors so that looks good</td><td class="time"><a href="#t2019-02-25T17:14:46" class="time">17:14</a></td></tr>
<tr id="t2019-02-25T17:15:35"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">the long term fix would be to enhance imagelicence.bbclass so its behaviour is configurable: you want per-image license texts outside the image which is can almost but not quite do.</td><td class="time"><a href="#t2019-02-25T17:15:35" class="time">17:15</a></td></tr>
<tr id="t2019-02-25T17:17:08"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">the usecase is: no UI on device, licenses go on homepage/companion app, which I think is quite common</td><td class="time"><a href="#t2019-02-25T17:17:08" class="time">17:17</a></td></tr>
<tr id="t2019-02-25T17:17:15"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">yeah</td><td class="time"><a href="#t2019-02-25T17:17:15" class="time">17:17</a></td></tr>
<tr id="t2019-02-25T17:17:28"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">add some toggles to the class</td><td class="time"><a href="#t2019-02-25T17:17:28" class="time">17:17</a></td></tr>
<tr id="t2019-02-25T17:18:15"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">LICENSE_CREATE_IMAGE_ARCHIVE or something</td><td class="time"><a href="#t2019-02-25T17:18:15" class="time">17:18</a></td></tr>
<tr id="t2019-02-25T17:19:06"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">i could see it writing a directory of the licenses under deploy/images/[image name]/</td><td class="time"><a href="#t2019-02-25T17:19:06" class="time">17:19</a></td></tr>
<tr id="t2019-02-25T17:19:12"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">rburton: I had, thanks</td><td class="time"><a href="#t2019-02-25T17:19:12" class="time">17:19</a></td></tr>
<tr id="t2019-02-25T17:19:33"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: playing with virtgl locally, its not easy to use compared to sdl :(</td><td class="time"><a href="#t2019-02-25T17:19:33" class="time">17:19</a></td></tr>
<tr id="t2019-02-25T17:19:57"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">RP: how come?</td><td class="time"><a href="#t2019-02-25T17:19:57" class="time">17:19</a></td></tr>
<tr id="t2019-02-25T17:20:11"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">rburton: right, then you can archive it however you like</td><td class="time"><a href="#t2019-02-25T17:20:11" class="time">17:20</a></td></tr>
<tr id="t2019-02-25T17:20:18"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">exactly</td><td class="time"><a href="#t2019-02-25T17:20:18" class="time">17:20</a></td></tr>
<tr id="t2019-02-25T17:20:24"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: I use X over ssh for example which no longer works :/</td><td class="time"><a href="#t2019-02-25T17:20:24" class="time">17:20</a></td></tr>
<tr id="t2019-02-25T17:20:49"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: I also just tried egl-headless here and it seems broken :(</td><td class="time"><a href="#t2019-02-25T17:20:49" class="time">17:20</a></td></tr>
<tr id="t2019-02-25T17:21:15"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">RP: does the oe-selftest pass for it?</td><td class="time"><a href="#t2019-02-25T17:21:15" class="time">17:21</a></td></tr>
<tr id="t2019-02-25T17:22:00"><th class="nick" style="background: #5fb4b4">ernstp</th><td class="text" style="color: #5fb4b4">I wonder if I have waited long enough to ping you about <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=12107" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=12107</a> again... ;-)</td><td class="time"><a href="#t2019-02-25T17:22:00" class="time">17:22</a></td></tr>
<tr id="t2019-02-25T17:22:01"><th class="nick" style="background: #b15db1">yocti</th><td class="text" style="color: #b15db1">Bug 12107: normal, Medium, 2.7, JPEWhacker, NEW , useradd-staticids: groupadd: GID already exists</td><td class="time"><a href="#t2019-02-25T17:22:01" class="time">17:22</a></td></tr>
<tr id="t2019-02-25T17:22:40"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: its skipped, I'll retry with better permissions</td><td class="time"><a href="#t2019-02-25T17:22:40" class="time">17:22</a></td></tr>
<tr id="t2019-02-25T17:23:23"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">RP: you need /dev/dri/render* with appropriate permissions</td><td class="time"><a href="#t2019-02-25T17:23:23" class="time">17:23</a></td></tr>
<tr id="t2019-02-25T17:23:25"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">lexander@alexander-box:~/development/mbient-virgl/build-qemu-spark$ ls -l /dev/dri/</td><td class="time"><a href="#t2019-02-25T17:23:25" class="time">17:23</a></td></tr>
<tr id="t2019-02-25T17:23:25"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">total 0</td><td class="time"><a href="#t2019-02-25T17:23:25" class="time">17:23</a></td></tr>
<tr id="t2019-02-25T17:23:25"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">drwxr-xr-x&nbsp;&nbsp;2 root root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80 Feb 21 19:18 by-path</td><td class="time"><a href="#t2019-02-25T17:23:25" class="time">17:23</a></td></tr>
<tr id="t2019-02-25T17:23:25"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">crw-rw----+ 1 root video 226,&nbsp;&nbsp; 0 Feb 21 19:18 card0</td><td class="time"><a href="#t2019-02-25T17:23:25" class="time">17:23</a></td></tr>
<tr id="t2019-02-25T17:23:25"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">crw-rw----+ 1 root video 226, 128 Feb 21 19:18 renderD128</td><td class="time"><a href="#t2019-02-25T17:23:25" class="time">17:23</a></td></tr>
<tr id="t2019-02-25T17:23:35"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: actually, X fails to start in my image with a GLSL compile failure :(</td><td class="time"><a href="#t2019-02-25T17:23:35" class="time">17:23</a></td></tr>
<tr id="t2019-02-25T17:24:20"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: (with runqemu gl)</td><td class="time"><a href="#t2019-02-25T17:24:20" class="time">17:24</a></td></tr>
<tr id="t2019-02-25T17:25:04"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">RP: for me core-image-sato starts without problems, it adjusts to use Glamor X server automatically when it sees 'hardware' gl</td><td class="time"><a href="#t2019-02-25T17:25:04" class="time">17:25</a></td></tr>
<tr id="t2019-02-25T17:25:41"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">for weston, you need to 'fix' the config file to use dri instead of fbdev</td><td class="time"><a href="#t2019-02-25T17:25:41" class="time">17:25</a></td></tr>
<tr id="t2019-02-25T17:25:55"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: this was core-image-sato ;(</td><td class="time"><a href="#t2019-02-25T17:25:55" class="time">17:25</a></td></tr>
<tr id="t2019-02-25T17:41:48"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: the headless selftest passes but running it with runqemu just "hangs"</td><td class="time"><a href="#t2019-02-25T17:41:48" class="time">17:41</a></td></tr>
<tr id="t2019-02-25T17:42:14"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: running the qemu command on the console I see errors to do with bad dri driver paths by the looks of it</td><td class="time"><a href="#t2019-02-25T17:42:14" class="time">17:42</a></td></tr>
<tr id="t2019-02-25T17:42:24"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">RP: you don't get anything when you connect to qemu with vnc?</td><td class="time"><a href="#t2019-02-25T17:42:24" class="time">17:42</a></td></tr>
<tr id="t2019-02-25T17:45:46"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: there is no vnc to connect to, qemu dies afaict</td><td class="time"><a href="#t2019-02-25T17:45:46" class="time">17:45</a></td></tr>
<tr id="t2019-02-25T17:45:53"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: I'm probably doing something wrong</td><td class="time"><a href="#t2019-02-25T17:45:53" class="time">17:45</a></td></tr>
<tr id="t2019-02-25T17:46:19"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">but egl-headless only makes sense if you also enable vnc, if you actually want to see the output</td><td class="time"><a href="#t2019-02-25T17:46:19" class="time">17:46</a></td></tr>
<tr id="t2019-02-25T17:46:48"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: right, it doesn't pass in that option though so I need to do that</td><td class="time"><a href="#t2019-02-25T17:46:48" class="time">17:46</a></td></tr>
<tr id="t2019-02-25T17:46:49"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">?</td><td class="time"><a href="#t2019-02-25T17:46:49" class="time">17:46</a></td></tr>
<tr id="t2019-02-25T17:47:05"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">yes :)</td><td class="time"><a href="#t2019-02-25T17:47:05" class="time">17:47</a></td></tr>
<tr id="t2019-02-25T17:47:41"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">runqemu kvm egl-headless publicvnc</td><td class="time"><a href="#t2019-02-25T17:47:41" class="time">17:47</a></td></tr>
<tr id="t2019-02-25T17:47:56"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: its confusing as runqemu just appears to hang, bad error handling?</td><td class="time"><a href="#t2019-02-25T17:47:56" class="time">17:47</a></td></tr>
<tr id="t2019-02-25T17:48:39"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">it starts, but renders its output into nothing. if it has an ssh server, you can log into it.</td><td class="time"><a href="#t2019-02-25T17:48:39" class="time">17:48</a></td></tr>
<tr id="t2019-02-25T17:48:58"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">publicvnc option lets you see the output</td><td class="time"><a href="#t2019-02-25T17:48:58" class="time">17:48</a></td></tr>
<tr id="t2019-02-25T17:49:20"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: here, if I run the qemu command from the console that runqemu claims to be running, I just get errors</td><td class="time"><a href="#t2019-02-25T17:49:20" class="time">17:49</a></td></tr>
<tr id="t2019-02-25T17:49:46"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">gbm: failed to open any driver (search paths /media/build1/poky/build/tmp/work/x86_64-linux/mesa-native/2_18.3.4-r0/recipe-sysroot-native/usr/lib/dri)</td><td class="time"><a href="#t2019-02-25T17:49:46" class="time">17:49</a></td></tr>
<tr id="t2019-02-25T17:50:22"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: what is worrying me more is that a) the headless test passes and b) I'm not seeing errors from runqemu</td><td class="time"><a href="#t2019-02-25T17:50:22" class="time">17:50</a></td></tr>
<tr id="t2019-02-25T17:50:56"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">RP: runqemu does special magic to use the host dri drivers:</td><td class="time"><a href="#t2019-02-25T17:50:56" class="time">17:50</a></td></tr>
<tr id="t2019-02-25T17:50:57"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">dripath = subprocess.check_output("PATH=/bin:/usr/bin:$PATH pkg-config --variable=dridriverdir dri", shell=True)</td><td class="time"><a href="#t2019-02-25T17:50:57" class="time">17:50</a></td></tr>
<tr id="t2019-02-25T17:51:04"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">os.environ['LIBGL_DRIVERS_PATH'] = dripath.decode('utf-8').strip()</td><td class="time"><a href="#t2019-02-25T17:51:04" class="time">17:51</a></td></tr>
<tr id="t2019-02-25T17:51:32"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">so I think it works as it should</td><td class="time"><a href="#t2019-02-25T17:51:32" class="time">17:51</a></td></tr>
<tr id="t2019-02-25T17:52:19"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">assuming host has libdrm-dev?</td><td class="time"><a href="#t2019-02-25T17:52:19" class="time">17:52</a></td></tr>
<tr id="t2019-02-25T17:52:33"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">rburton, yes</td><td class="time"><a href="#t2019-02-25T17:52:33" class="time">17:52</a></td></tr>
<tr id="t2019-02-25T17:52:47"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: earlier it warned me about missing dri.pc, the reality was pkg-config wasn't installed :/</td><td class="time"><a href="#t2019-02-25T17:52:47" class="time">17:52</a></td></tr>
<tr id="t2019-02-25T17:53:07"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: right, so my expectation of being able to copy and paste the command is now invalid</td><td class="time"><a href="#t2019-02-25T17:53:07" class="time">17:53</a></td></tr>
<tr id="t2019-02-25T18:44:50"><th class="nick" style="background: #97974f">kanavin</th><td class="text" style="color: #97974f">RP: fwiw, just tried core-image-sato here, plain gl works fine, egl-headless also works fine via vncviewer.</td><td class="time"><a href="#t2019-02-25T18:44:50" class="time">18:44</a></td></tr>
<tr id="t2019-02-25T19:52:31"><th class="nick" style="background: #4d4d93">hugo___</th><td class="text" style="color: #4d4d93">rburton: RP Sorry for late reply. I currently support multiple toolchains for multiple platforms in the embedded space. I currently update them when theres a bump in the Poky SDK, which sometimes means a change in specific compiler flags. Most of the time, its not really an issue, as the sdk stays consistent. The reason I do this is to let the developers use the same editor but switch toolchain and reconfigure Cmake.&nbsp;&nbsp;We do not</td><td class="time"><a href="#t2019-02-25T19:52:31" class="time">19:52</a></td></tr>
<tr id="t2019-02-25T19:52:31"><th class="nick" style="background: #4d4d93">hugo___</th><td class="text" style="color: #4d4d93">NEED to source for this to work. It would be great if yocto could export the toolchain in the setup step, as it now know the path of the sdk on the host.</td><td class="time"><a href="#t2019-02-25T19:52:31" class="time">19:52</a></td></tr>
<tr id="t2019-02-25T19:54:23"><th class="nick" style="background: #4d4d93">hugo___</th><td class="text" style="color: #4d4d93">This is something I could do as a custom build step when we generate the sdk, just wondering before hand so I don't do unnecessary work :) Anyone have a pointer to the code where the current Cmake toolchain is compiled?</td><td class="time"><a href="#t2019-02-25T19:54:23" class="time">19:54</a></td></tr>
<tr id="t2019-02-25T21:52:10"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: I'm just not getting a good vibe about this being usable as it stands. I can't quite put a finger on why, just lots of odd things happening and things which don't quite work. Thinking we might mark this as experimental for 1.7</td><td class="time"><a href="#t2019-02-25T21:52:10" class="time">21:52</a></td></tr>
<tr id="t2019-02-25T21:52:13"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">2.7</td><td class="time"><a href="#t2019-02-25T21:52:13" class="time">21:52</a></td></tr>
<tr id="t2019-02-25T22:11:28"><th class="nick" style="background: #c3c366">JPEW</th><td class="text" style="color: #c3c366">ernstp: Sorry I missed your question on YOCTO #12107. I haven't had a chance to look at it yet :(</td><td class="time"><a href="#t2019-02-25T22:11:28" class="time">22:11</a></td></tr>
<tr id="t2019-02-25T23:19:32"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">is tere something that is even smaller than core-image-minimal</td><td class="time"><a href="#t2019-02-25T23:19:32" class="time">23:19</a></td></tr>
<tr id="t2019-02-25T23:22:27"><th class="nick" style="background: #c668c6">emg</th><td class="text" style="color: #c668c6">can I enable two systemd services from one bb file? I added a second one to SYSTEMD_SERVICE_${PN} but that didn't seem to enable it</td><td class="time"><a href="#t2019-02-25T23:22:27" class="time">23:22</a></td></tr>
<tr id="t2019-02-25T23:30:27"><td class="nickchange" colspan="2">*** ljp is now known as llornkcor</td><td><a href="#t2019-02-25T23:30:27" class="time">23:30</a></td></tr>
<tr id="t2019-02-25T23:30:56"><td class="part" colspan="2">*** llornkcor &lt;llornkcor!~quassel@2001:8003:e043:6900:ba27:ebff:febb:59b&gt; has left #yocto</td><td><a href="#t2019-02-25T23:30:56" class="time">23:30</a></td></tr>
<tr id="t2019-02-25T23:38:26"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">you can</td><td class="time"><a href="#t2019-02-25T23:38:26" class="time">23:38</a></td></tr>
<tr id="t2019-02-25T23:38:39"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">what does service look like ? is it there in image</td><td class="time"><a href="#t2019-02-25T23:38:39" class="time">23:38</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-02-24.log.html">&#171; Sunday, 2019-02-24</a> <a href="index.html">Index</a> <a href="%23yocto.2019-02-26.log.html">Tuesday, 2019-02-26 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
