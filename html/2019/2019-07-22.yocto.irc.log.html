<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Monday, 2019-07-22</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Monday, 2019-07-22</h1>
<div class="navigation"> <a href="%23yocto.2019-07-21.log.html">&#171; Sunday, 2019-07-21</a> <a href="index.html">Index</a> <a href="%23yocto.2019-07-23.log.html">Tuesday, 2019-07-23 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-07-22T00:58:43"><th class="nick" style="background: #407a40">yocti</th><td class="text" style="color: #407a40">New news from stackoverflow: IMAGE_INSTALL vs PACKAGE_FEATURES - what's the difference? &lt;<a href="https://stackoverflow.com/questions/56606682/image-install-vs-package-features-whats-the-difference&gt;" rel="nofollow">https://stackoverflow.com/questions/56606682/image-install-vs-package-features-whats-the-difference&gt;</a></td><td class="time"><a href="#t2019-07-22T00:58:43" class="time">00:58</a></td></tr>
<tr id="t2019-07-22T06:58:13"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2019-07-22T06:58:13" class="time">06:58</a></td></tr>
<tr id="t2019-07-22T07:19:41"><th class="nick" style="background: #42427e">psiva87</th><td class="text" style="color: #42427e">Hi Yocto experts, I'm getting this error "Postinstall scriptlets of ['systemd'] have failed. If the intention is to defer them to first boot, then please place them into pkg_postinst_ontarget_${PN} (). Deferring to first boot via 'exit 1' is no longer supported" on do_rootfs() stage of Thud build. Any pointers?</td><td class="time"><a href="#t2019-07-22T07:19:41" class="time">07:19</a></td></tr>
<tr id="t2019-07-22T09:50:57"><td class="nickchange" colspan="2">*** bluelightning_ is now known as bluelightning</td><td><a href="#t2019-07-22T09:50:57" class="time">09:50</a></td></tr>
<tr id="t2019-07-22T10:05:53"><td class="nickchange" colspan="2">*** camus1 is now known as kaspter</td><td><a href="#t2019-07-22T10:05:53" class="time">10:05</a></td></tr>
<tr id="t2019-07-22T10:40:13"><th class="nick" style="background: #818144">Dracos-Carazza</th><td class="text" style="color: #818144">Hi I would like to activate kernel tracing with lttng, but for some reason the .cfg file in my additional layer is not applied to the kernel config</td><td class="time"><a href="#t2019-07-22T10:40:13" class="time">10:40</a></td></tr>
<tr id="t2019-07-22T10:41:11"><th class="nick" style="background: #818144">Dracos-Carazza</th><td class="text" style="color: #818144">bitbake-layers show-appends lists my recipe (which includes the SRC_URI modification) as .bbappend</td><td class="time"><a href="#t2019-07-22T10:41:11" class="time">10:41</a></td></tr>
<tr id="t2019-07-22T12:36:34"><th class="nick" style="background: #854685">Michael78</th><td class="text" style="color: #854685">dear all, i new to yocto and i try to "generate" a wifi kernel module via bitbake for a yocto system here. the wifi chip is from laird connect and i found some how tos, but they were not working. now i started to investigate it deeper with devshell etc and i found out for example there is one of the first calls which will fail for example, the call</td><td class="time"><a href="#t2019-07-22T12:36:34" class="time">12:36</a></td></tr>
<tr id="t2019-07-22T12:36:34"><th class="nick" style="background: #854685">Michael78</th><td class="text" style="color: #854685"> of a makefile to request the kernel version in /lib/modules/4.XX.X-XX-generic/build, on an ubuntu there is really a make file placed there, but in my equivalent path in yocto for an arm, i hope i am right, is .../tmp/work-shared/XXX/kernel-build-artefacts there was a makefile but without target for a kernel version. and after a bitbake virtual/ker</td><td class="time"><a href="#t2019-07-22T12:36:34" class="time">12:36</a></td></tr>
<tr id="t2019-07-22T12:36:35"><th class="nick" style="background: #854685">Michael78</th><td class="text" style="color: #854685">nel even this disappear. now my question: Could somebody explain me what is wrong with my yocto environment? best regards,</td><td class="time"><a href="#t2019-07-22T12:36:35" class="time">12:36</a></td></tr>
<tr id="t2019-07-22T12:36:39"><th class="nick" style="background: #854685">Michael78</th><td class="text" style="color: #854685">Michael</td><td class="time"><a href="#t2019-07-22T12:36:39" class="time">12:36</a></td></tr>
<tr id="t2019-07-22T13:02:02"><th class="nick" style="background: #854685">Michael78</th><td class="text" style="color: #854685">hello is this working?</td><td class="time"><a href="#t2019-07-22T13:02:02" class="time">13:02</a></td></tr>
<tr id="t2019-07-22T13:06:58"><th class="nick" style="background: #488888">timblechmann</th><td class="text" style="color: #488888">hi! very stupid question: i want to build a single recipe that i had to split over two layers (into a .bb and&nbsp;&nbsp;a .bbappend file) . know i can use bitbake -b to build a bb file, but how can i add the bbappend?</td><td class="time"><a href="#t2019-07-22T13:06:58" class="time">13:06</a></td></tr>
<tr id="t2019-07-22T13:08:02"><th class="nick" style="background: #854685">Michael78</th><td class="text" style="color: #854685">ah i can at least read other questions :-)</td><td class="time"><a href="#t2019-07-22T13:08:02" class="time">13:08</a></td></tr>
<tr id="t2019-07-22T13:09:08"><th class="nick" style="background: #8c4a4a">mckoan</th><td class="text" style="color: #8c4a4a">timblechmann: the bbappend is taken into account automatically, but you have to name like the recipe bb</td><td class="time"><a href="#t2019-07-22T13:09:08" class="time">13:09</a></td></tr>
<tr id="t2019-07-22T13:09:42"><th class="nick" style="background: #8c4a4a">mckoan</th><td class="text" style="color: #8c4a4a">timblechmann: bitbake -b can't evaluate a bbappend AFAIK</td><td class="time"><a href="#t2019-07-22T13:09:42" class="time">13:09</a></td></tr>
<tr id="t2019-07-22T13:10:04"><th class="nick" style="background: #8c4a4a">mckoan</th><td class="text" style="color: #8c4a4a">Michael78: your issue is related to kernel integration not Yocto</td><td class="time"><a href="#t2019-07-22T13:10:04" class="time">13:10</a></td></tr>
<tr id="t2019-07-22T13:10:29"><th class="nick" style="background: #488888">timblechmann</th><td class="text" style="color: #488888">mckoan: oh, i see ... thanks for the quick reply</td><td class="time"><a href="#t2019-07-22T13:10:29" class="time">13:10</a></td></tr>
<tr id="t2019-07-22T13:10:35"><th class="nick" style="background: #854685">Michael78</th><td class="text" style="color: #854685">ok, i thought this is done by yocto</td><td class="time"><a href="#t2019-07-22T13:10:35" class="time">13:10</a></td></tr>
<tr id="t2019-07-22T13:10:58"><th class="nick" style="background: #854685">Michael78</th><td class="text" style="color: #854685">is this than the poky channel?</td><td class="time"><a href="#t2019-07-22T13:10:58" class="time">13:10</a></td></tr>
<tr id="t2019-07-22T13:12:00"><th class="nick" style="background: #8c4a4a">mckoan</th><td class="text" style="color: #8c4a4a">Michael78: probably I don't understand your question, sorry</td><td class="time"><a href="#t2019-07-22T13:12:00" class="time">13:12</a></td></tr>
<tr id="t2019-07-22T13:12:28"><th class="nick" style="background: #854685">Michael78</th><td class="text" style="color: #854685">it was really a little bit to much</td><td class="time"><a href="#t2019-07-22T13:12:28" class="time">13:12</a></td></tr>
<tr id="t2019-07-22T13:12:52"><th class="nick" style="background: #854685">Michael78</th><td class="text" style="color: #854685">basically i want to know why the yocto kernel build folder doesnt look like the "normal" one</td><td class="time"><a href="#t2019-07-22T13:12:52" class="time">13:12</a></td></tr>
<tr id="t2019-07-22T13:13:18"><th class="nick" style="background: #854685">Michael78</th><td class="text" style="color: #854685">content and structure</td><td class="time"><a href="#t2019-07-22T13:13:18" class="time">13:13</a></td></tr>
<tr id="t2019-07-22T13:15:17"><th class="nick" style="background: #854685">Michael78</th><td class="text" style="color: #854685">in /lib/modules/4.XX.X-XX-generic/build on an ubunut i have for example an makefile which gives me the kernelversion (as a target)</td><td class="time"><a href="#t2019-07-22T13:15:17" class="time">13:15</a></td></tr>
<tr id="t2019-07-22T13:19:41"><th class="nick" style="background: #4b904b">kukela_cd</th><td class="text" style="color: #4b904b">Hi,</td><td class="time"><a href="#t2019-07-22T13:19:41" class="time">13:19</a></td></tr>
<tr id="t2019-07-22T13:19:42"><th class="nick" style="background: #4b904b">kukela_cd</th><td class="text" style="color: #4b904b">is not knowing how to automatically build the encrypted rootfs and package it into the .wic file during the Yocto build process. Today our Yocto build produces a .wic with a boot partition and a plain rootfs which is then flashed to eMMC. We would like to replace the plain rootfs in the .wic with an encrypted one.</td><td class="time"><a href="#t2019-07-22T13:19:42" class="time">13:19</a></td></tr>
<tr id="t2019-07-22T13:19:42"><th class="nick" style="background: #4b904b">kukela_cd</th><td class="text" style="color: #4b904b">taion or pointers on how to change my recipe so that it will build with an encrypted rootfs.</td><td class="time"><a href="#t2019-07-22T13:19:42" class="time">13:19</a></td></tr>
<tr id="t2019-07-22T13:19:54"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">timblechmann: if you want to build a single recipe just do bitbake recipename.&nbsp;&nbsp;-b doesn't include the dependencies, which means you don't get a compiler...</td><td class="time"><a href="#t2019-07-22T13:19:54" class="time">13:19</a></td></tr>
<tr id="t2019-07-22T13:22:42"><th class="nick" style="background: #488888">timblechmann</th><td class="text" style="color: #488888">rburton: i see ... i guess i have a toolchain in place from trying to build an image before ... i'm mainly trying to use -b to reduce the turnaround times (but mayber there are better ways?)</td><td class="time"><a href="#t2019-07-22T13:22:42" class="time">13:22</a></td></tr>
<tr id="t2019-07-22T13:23:03"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">timblechmann: it won't rebuild anything that doesn't need rebuilding</td><td class="time"><a href="#t2019-07-22T13:23:03" class="time">13:23</a></td></tr>
<tr id="t2019-07-22T13:23:40"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">if youre doing stuff like changing the core classes there are tricks to avoid rebuilding everything, but they're not needed for most 'i changed my recipe' builds</td><td class="time"><a href="#t2019-07-22T13:23:40" class="time">13:23</a></td></tr>
<tr id="t2019-07-22T13:24:39"><th class="nick" style="background: #488888">timblechmann</th><td class="text" style="color: #488888">rburton: yes, i was more trying to avoid the 'reparsing all recipes step' ... that's half a minute every time</td><td class="time"><a href="#t2019-07-22T13:24:39" class="time">13:24</a></td></tr>
<tr id="t2019-07-22T13:24:55"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">your machine sounds very slow, or you're deleting the cache every time</td><td class="time"><a href="#t2019-07-22T13:24:55" class="time">13:24</a></td></tr>
<tr id="t2019-07-22T13:25:17"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">persistant bitbake will help there</td><td class="time"><a href="#t2019-07-22T13:25:17" class="time">13:25</a></td></tr>
<tr id="t2019-07-22T13:25:51"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">RP: is memory resident bitbake the default&nbsp;&nbsp;in master?</td><td class="time"><a href="#t2019-07-22T13:25:51" class="time">13:25</a></td></tr>
<tr id="t2019-07-22T13:28:25"><th class="nick" style="background: #488888">timblechmann</th><td class="text" style="color: #488888">rburton: the machine is a 2-core skylake i7 (sub)notebook ... not extremely fast, but also not super slow</td><td class="time"><a href="#t2019-07-22T13:28:25" class="time">13:28</a></td></tr>
<tr id="t2019-07-22T13:34:05"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">RAM is normally the issue with notebooks, you just can't keep enough in the cache for speed</td><td class="time"><a href="#t2019-07-22T13:34:05" class="time">13:34</a></td></tr>
<tr id="t2019-07-22T13:50:13"><th class="nick" style="background: #97974f">vmeson</th><td class="text" style="color: #97974f">timblechmann: for yocto builds, a 32 core system is a good start (of course such systems are not cheap but neither is time).</td><td class="time"><a href="#t2019-07-22T13:50:13" class="time">13:50</a></td></tr>
<tr id="t2019-07-22T13:57:06"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rburton: no</td><td class="time"><a href="#t2019-07-22T13:57:06" class="time">13:57</a></td></tr>
<tr id="t2019-07-22T14:04:28"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">RP: are there known issues still?</td><td class="time"><a href="#t2019-07-22T14:04:28" class="time">14:04</a></td></tr>
<tr id="t2019-07-22T14:04:55"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rburton: yes, I think there are open bugs</td><td class="time"><a href="#t2019-07-22T14:04:55" class="time">14:04</a></td></tr>
<tr id="t2019-07-22T14:05:07"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rburton: I don't think there were serious issues but some</td><td class="time"><a href="#t2019-07-22T14:05:07" class="time">14:05</a></td></tr>
<tr id="t2019-07-22T16:14:09"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2019-07-22T16:14:09" class="time">16:14</a></td></tr>
<tr id="t2019-07-22T16:58:06"><th class="nick" style="background: #539e9e">khem</th><td class="text" style="color: #539e9e">rburton:gparted-0.33.0: gparted rdepends on hicolor-icon-theme, but it isn't a build dependency, missing hicolor-icon-theme in DEPENDS or PACKAGECONFIG? [build-deps]</td><td class="time"><a href="#t2019-07-22T16:58:06" class="time">16:58</a></td></tr>
<tr id="t2019-07-22T16:58:48"><th class="nick" style="background: #539e9e">khem</th><td class="text" style="color: #539e9e">rburton: <a href="http://jenkins.nas-admin.org/job/oe_world_qemuarm64/370/console" rel="nofollow">http://jenkins.nas-admin.org/job/oe_world_qemuarm64/370/console</a></td><td class="time"><a href="#t2019-07-22T16:58:48" class="time">16:58</a></td></tr>
<tr id="t2019-07-22T16:59:19"><th class="nick" style="background: #539e9e">khem</th><td class="text" style="color: #539e9e">do we need to add hicolor-icon-theme explicitly to deps/rdeps</td><td class="time"><a href="#t2019-07-22T16:59:19" class="time">16:59</a></td></tr>
<tr id="t2019-07-22T16:59:46"><th class="nick" style="background: #539e9e">khem</th><td class="text" style="color: #539e9e">I thought gtk-icon-cache.bbclass should take care of it</td><td class="time"><a href="#t2019-07-22T16:59:46" class="time">16:59</a></td></tr>
<tr id="t2019-07-22T17:00:44"><th class="nick" style="background: #539e9e">khem</th><td class="text" style="color: #539e9e"><a href="https://errors.yoctoproject.org/Errors/Details/253713/" rel="nofollow">https://errors.yoctoproject.org/Errors/Details/253713/</a> is the error log</td><td class="time"><a href="#t2019-07-22T17:00:44" class="time">17:00</a></td></tr>
<tr id="t2019-07-22T17:36:03"><th class="nick" style="background: #a25555">ebolton</th><td class="text" style="color: #a25555">hey all, I'm trying to change SRCREV in an anon python function and it's generating a ton of basehash check errors, I've a bunch of lines to try and ignore the check, but it never works</td><td class="time"><a href="#t2019-07-22T17:36:03" class="time">17:36</a></td></tr>
<tr id="t2019-07-22T17:36:04"><th class="nick" style="background: #a25555">ebolton</th><td class="text" style="color: #a25555">do_clean_remove[vardeps] = "PV SRCREV"</td><td class="time"><a href="#t2019-07-22T17:36:04" class="time">17:36</a></td></tr>
<tr id="t2019-07-22T17:36:50"><th class="nick" style="background: #a25555">ebolton</th><td class="text" style="color: #a25555">any ideas?</td><td class="time"><a href="#t2019-07-22T17:36:50" class="time">17:36</a></td></tr>
<tr id="t2019-07-22T17:43:48"><th class="nick" style="background: #539e9e">khem</th><td class="text" style="color: #539e9e">ebolton: changing state like this is going to bypass data integrity checks and will land you into more troubles I am guessing</td><td class="time"><a href="#t2019-07-22T17:43:48" class="time">17:43</a></td></tr>
<tr id="t2019-07-22T17:44:30"><th class="nick" style="background: #539e9e">khem</th><td class="text" style="color: #539e9e">instead think of external way to induce right SRCREV to metadata before invoking bitbake, it will simplify it and make the system work well</td><td class="time"><a href="#t2019-07-22T17:44:30" class="time">17:44</a></td></tr>
<tr id="t2019-07-22T17:49:45"><th class="nick" style="background: #a25555">ebolton</th><td class="text" style="color: #a25555">@khem I want to write a manifest, a single file that collects BRANCH and SRCREV info for several recipes in one place, I've tried it with a single include file containing a lot of override lines "BRANCH_pn-&lt;recipe&gt;", it's problematic, so I'm trying to this</td><td class="time"><a href="#t2019-07-22T17:49:45" class="time">17:49</a></td></tr>
<tr id="t2019-07-22T17:50:48"><th class="nick" style="background: #a25555">ebolton</th><td class="text" style="color: #a25555">@khem the only other external option I can think of is have some script manually scrape and replace variables in the recipes before bitbake is invoked</td><td class="time"><a href="#t2019-07-22T17:50:48" class="time">17:50</a></td></tr>
<tr id="t2019-07-22T17:54:15"><th class="nick" style="background: #539e9e">khem</th><td class="text" style="color: #539e9e">yes you need a branch tool</td><td class="time"><a href="#t2019-07-22T17:54:15" class="time">17:54</a></td></tr>
<tr id="t2019-07-22T17:54:36"><th class="nick" style="background: #539e9e">khem</th><td class="text" style="color: #539e9e">dont beat bitbake into doing it</td><td class="time"><a href="#t2019-07-22T17:54:36" class="time">17:54</a></td></tr>
<tr id="t2019-07-22T17:58:12"><th class="nick" style="background: #a25555">ebolton</th><td class="text" style="color: #a25555">thanks</td><td class="time"><a href="#t2019-07-22T17:58:12" class="time">17:58</a></td></tr>
<tr id="t2019-07-22T18:06:35"><th class="nick" style="background: #57a657">evadeflow</th><td class="text" style="color: #57a657">Hi, all. My colleagues gave me a prebuilt DEB file they want included in our BSP image, like, *yesterday*. I'm not at all sure what the best approach for this is.</td><td class="time"><a href="#t2019-07-22T18:06:35" class="time">18:06</a></td></tr>
<tr id="t2019-07-22T18:06:44"><th class="nick" style="background: #57a657">evadeflow</th><td class="text" style="color: #57a657">I tried something along these lines: <a href="https://gist.github.com/evadeflow/fda5e7afe87f4098c457b38ea911c828" rel="nofollow">https://gist.github.com/evadeflow/fda5e7afe87f4098c457b38ea911c828</a></td><td class="time"><a href="#t2019-07-22T18:06:44" class="time">18:06</a></td></tr>
<tr id="t2019-07-22T18:07:28"><th class="nick" style="background: #57a657">evadeflow</th><td class="text" style="color: #57a657">But `THISDIR` has the 'wrong' value in my `ROOTFS_POSTPROCESS_COMMAND`, so it's not finding the archive.</td><td class="time"><a href="#t2019-07-22T18:07:28" class="time">18:07</a></td></tr>
<tr id="t2019-07-22T18:08:20"><th class="nick" style="background: #57a657">evadeflow</th><td class="text" style="color: #57a657">How can I make the line `local archive=${THISDIR}/xyzinstaller_0.1-1.deb` actually find this DEB file (which is stored right next to my `fsl-image-qt5.bbappend` file)?</td><td class="time"><a href="#t2019-07-22T18:08:20" class="time">18:08</a></td></tr>
<tr id="t2019-07-22T18:09:58"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">set FILESEXTRAPATHS properly and add file://xyzinstaller_0.1-1.deb;unpack=no to SRC_URI</td><td class="time"><a href="#t2019-07-22T18:09:58" class="time">18:09</a></td></tr>
<tr id="t2019-07-22T18:10:03"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">then reference it in ${WORKDIR}</td><td class="time"><a href="#t2019-07-22T18:10:03" class="time">18:10</a></td></tr>
<tr id="t2019-07-22T18:10:24"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">i.e. handle it like any other source file/patch/etc</td><td class="time"><a href="#t2019-07-22T18:10:24" class="time">18:10</a></td></tr>
<tr id="t2019-07-22T18:11:05"><th class="nick" style="background: #57a657">evadeflow</th><td class="text" style="color: #57a657">Oh. Nice! Thank you, I'll try that right now.</td><td class="time"><a href="#t2019-07-22T18:11:05" class="time">18:11</a></td></tr>
<tr id="t2019-07-22T18:27:03"><th class="nick" style="background: #57a657">evadeflow</th><td class="text" style="color: #57a657">@kergoth, I modified my patch based on your suggestion: <a href="https://gist.github.com/evadeflow/fda5e7afe87f4098c457b38ea911c828" rel="nofollow">https://gist.github.com/evadeflow/fda5e7afe87f4098c457b38ea911c828</a></td><td class="time"><a href="#t2019-07-22T18:27:03" class="time">18:27</a></td></tr>
<tr id="t2019-07-22T18:28:04"><th class="nick" style="background: #57a657">evadeflow</th><td class="text" style="color: #57a657">It's not finding the archive: `ar: /jenkins/workspace/ivs_bsp/build/tmp/work/imx8m_var_dart-poky-linux/fsl-image-qt5/1.0-r0/ivsinstaller_0.1-1.deb: No such file or directory`</td><td class="time"><a href="#t2019-07-22T18:28:04" class="time">18:28</a></td></tr>
<tr id="t2019-07-22T18:29:03"><th class="nick" style="background: #57a657">evadeflow</th><td class="text" style="color: #57a657">And it really seems not to be there, since `find tmp/work/imx8m_var_dart-poky-linux/fsl-image-qt5/ -name "*.deb"` turns up no hits.</td><td class="time"><a href="#t2019-07-22T18:29:03" class="time">18:29</a></td></tr>
<tr id="t2019-07-22T18:31:02"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">khem: is that not the gnome.bbclass changes?</td><td class="time"><a href="#t2019-07-22T18:31:02" class="time">18:31</a></td></tr>
<tr id="t2019-07-22T18:33:18"><th class="nick" style="background: #adad5b">gnac</th><td class="text" style="color: #adad5b">Is it possible to determine when the transmit buffer of a serial uart is empty so as to add a delay between transmission of serial messages?</td><td class="time"><a href="#t2019-07-22T18:33:18" class="time">18:33</a></td></tr>
<tr id="t2019-07-22T18:34:54"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">not really a yocto question</td><td class="time"><a href="#t2019-07-22T18:34:54" class="time">18:34</a></td></tr>
<tr id="t2019-07-22T18:40:26"><th class="nick" style="background: #adad5b">gnac</th><td class="text" style="color: #adad5b">I suppose its also a general purpose Linux question, but we are using a yocto distribution and I don't see anything supporting this in the posix termios documentaion so I was hoping there might be a solution aimed more at embedded linux users.</td><td class="time"><a href="#t2019-07-22T18:40:26" class="time">18:40</a></td></tr>
<tr id="t2019-07-22T18:46:57"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">RP: Reminder. Respond to the reproducible build thread on the ML</td><td class="time"><a href="#t2019-07-22T18:46:57" class="time">18:46</a></td></tr>
<tr id="t2019-07-22T18:47:17"><th class="nick" style="background: #539e9e">khem</th><td class="text" style="color: #539e9e">rburton:yeh I think Adrian has been trying to use gnomebase directly and I wonder if thats causing this issue too ?</td><td class="time"><a href="#t2019-07-22T18:47:17" class="time">18:47</a></td></tr>
<tr id="t2019-07-22T18:53:59"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">khem: right, gnome inherits a load of stuff, which probably pulled in the depedns</td><td class="time"><a href="#t2019-07-22T18:53:59" class="time">18:53</a></td></tr>
<tr id="t2019-07-22T19:08:32"><td class="part" colspan="2">*** evadeflow71 &lt;evadeflow71!d1ddf0c1@209.221.240.193&gt; has left #yocto</td><td><a href="#t2019-07-22T19:08:32" class="time">19:08</a></td></tr>
<tr id="t2019-07-22T20:16:16"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: thanks, I need to do that! :)</td><td class="time"><a href="#t2019-07-22T20:16:16" class="time">20:16</a></td></tr>
<tr id="t2019-07-22T20:17:41"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: bit distracted/excited with another patch ;-)</td><td class="time"><a href="#t2019-07-22T20:17:41" class="time">20:17</a></td></tr>
<tr id="t2019-07-22T20:19:17"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">RP: lol, fair enough. That one is probably better to focus on; I'm not sure I'll have enough bandwidth to get both done for zeus</td><td class="time"><a href="#t2019-07-22T20:19:17" class="time">20:19</a></td></tr>
<tr id="t2019-07-22T20:20:34"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Also, I've come to terms with reproduciblity being an "ongoing process", more than a single "task"... but good QA checks will make that easier to distribute that work</td><td class="time"><a href="#t2019-07-22T20:20:34" class="time">20:20</a></td></tr>
<tr id="t2019-07-22T20:32:52"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: The QA checks are absolutely key</td><td class="time"><a href="#t2019-07-22T20:32:52" class="time">20:32</a></td></tr>
<tr id="t2019-07-22T20:33:38"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: I also think the other work will raise the priority on reprodcibility as people join the dots</td><td class="time"><a href="#t2019-07-22T20:33:38" class="time">20:33</a></td></tr>
<tr id="t2019-07-22T20:33:51"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">RP: Ya</td><td class="time"><a href="#t2019-07-22T20:33:51" class="time">20:33</a></td></tr>
<tr id="t2019-07-22T20:41:24"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: oddly in bigger builds I am seeing connection timed out to the hashserver :/</td><td class="time"><a href="#t2019-07-22T20:41:24" class="time">20:41</a></td></tr>
<tr id="t2019-07-22T20:46:53"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Hmm. Do you know if its on a GET or a POST?</td><td class="time"><a href="#t2019-07-22T20:46:53" class="time">20:46</a></td></tr>
<tr id="t2019-07-22T20:47:15"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: I'd say POST</td><td class="time"><a href="#t2019-07-22T20:47:15" class="time">20:47</a></td></tr>
<tr id="t2019-07-22T20:49:18"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: I've realised this is using HTTPServer and I think I remember that is shockingly bad at concurrency</td><td class="time"><a href="#t2019-07-22T20:49:18" class="time">20:49</a></td></tr>
<tr id="t2019-07-22T20:49:36"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Ya, that an FWIW, I'm not sure if my sqlite querys are quite optimal in that case. It does end up taking two SELECTs and an INSERT for a new equivalent hash</td><td class="time"><a href="#t2019-07-22T20:49:36" class="time">20:49</a></td></tr>
<tr id="t2019-07-22T20:49:39"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: it can't cope with server sstate</td><td class="time"><a href="#t2019-07-22T20:49:39" class="time">20:49</a></td></tr>
<tr id="t2019-07-22T20:49:59"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: My bet is on HTTPServer rather than that</td><td class="time"><a href="#t2019-07-22T20:49:59" class="time">20:49</a></td></tr>
<tr id="t2019-07-22T20:54:17"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: I'll throw a ThreadingMixIn in there</td><td class="time"><a href="#t2019-07-22T20:54:17" class="time">20:54</a></td></tr>
<tr id="t2019-07-22T20:56:35"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Ok. I don't remember if sqlite cursors are atomic; it might need a semaphore around the SELECT/INSERT/SELECT in POST</td><td class="time"><a href="#t2019-07-22T20:56:35" class="time">20:56</a></td></tr>
<tr id="t2019-07-22T20:58:15"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: hmm, this could be interesting as I didn't do that :)</td><td class="time"><a href="#t2019-07-22T20:58:15" class="time">20:58</a></td></tr>
<tr id="t2019-07-22T20:58:34"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: Its now showing pages of warnings now though</td><td class="time"><a href="#t2019-07-22T20:58:34" class="time">20:58</a></td></tr>
<tr id="t2019-07-22T20:59:36"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Ya, my sqlite expert just told me to use a semaphore :)</td><td class="time"><a href="#t2019-07-22T20:59:36" class="time">20:59</a></td></tr>
<tr id="t2019-07-22T21:00:38"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: does it actually matter since only one task would be updating any given entry?</td><td class="time"><a href="#t2019-07-22T21:00:38" class="time">21:00</a></td></tr>
<tr id="t2019-07-22T21:01:44"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Hmm.... maybe not? I guess I was thinking of the generic server case where you might have mutiple simultaneous builds....</td><td class="time"><a href="#t2019-07-22T21:01:44" class="time">21:01</a></td></tr>
<tr id="t2019-07-22T21:03:00"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: right, the potential problem is two builds running simultaneously if both made the first select and reach the insert, does it break anything even then?</td><td class="time"><a href="#t2019-07-22T21:03:00" class="time">21:03</a></td></tr>
<tr id="t2019-07-22T21:04:42"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">I think the INSERT would fail with duplicate primary key (in which case you could probably just ignore it)</td><td class="time"><a href="#t2019-07-22T21:04:42" class="time">21:04</a></td></tr>
<tr id="t2019-07-22T21:05:12"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Hmm, maybe not.... it's been a while :)</td><td class="time"><a href="#t2019-07-22T21:05:12" class="time">21:05</a></td></tr>
<tr id="t2019-07-22T21:05:56"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: right, just ignoring a duplicate insert would be much nicer than the locking. Also wondering why you need the third selet</td><td class="time"><a href="#t2019-07-22T21:05:56" class="time">21:05</a></td></tr>
<tr id="t2019-07-22T21:07:01"><td class="action" colspan="2">* JPEW shakes fist at past self for lack of comments</td><td><a href="#t2019-07-22T21:07:01" class="time">21:07</a></td></tr>
<tr id="t2019-07-22T21:07:29"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: I think you're being clever with the data structures but at the expense of performance</td><td class="time"><a href="#t2019-07-22T21:07:29" class="time">21:07</a></td></tr>
<tr id="t2019-07-22T21:09:02"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: Just tried this in a big build. Its basically locked the machine up at 100% cpu so definitely a performance issue somewhere</td><td class="time"><a href="#t2019-07-22T21:09:02" class="time">21:09</a></td></tr>
<tr id="t2019-07-22T21:09:19"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">(big == minimal image)</td><td class="time"><a href="#t2019-07-22T21:09:19" class="time">21:09</a></td></tr>
<tr id="t2019-07-22T21:10:12"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">I think I used to have index on the columns in the table to speed up the lookup (since they are so common).</td><td class="time"><a href="#t2019-07-22T21:10:12" class="time">21:10</a></td></tr>
<tr id="t2019-07-22T21:10:38"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">I original wrote the whole server in flask :)</td><td class="time"><a href="#t2019-07-22T21:10:38" class="time">21:10</a></td></tr>
<tr id="t2019-07-22T21:11:20"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: I remember. Just a bit of a dependency minefield for us :/</td><td class="time"><a href="#t2019-07-22T21:11:20" class="time">21:11</a></td></tr>
<tr id="t2019-07-22T21:11:35"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: sqlite definitely needs indexes to work with any kind of performance</td><td class="time"><a href="#t2019-07-22T21:11:35" class="time">21:11</a></td></tr>
<tr id="t2019-07-22T21:12:00"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Ya, I'm pretty sure I had the indexes in the flask version, let me dig back to see if I can find them</td><td class="time"><a href="#t2019-07-22T21:12:00" class="time">21:12</a></td></tr>
<tr id="t2019-07-22T21:12:15"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">The cooker sat for 2 minutes pinning a CPU, then crashed with a bug in my code</td><td class="time"><a href="#t2019-07-22T21:12:15" class="time">21:12</a></td></tr>
<tr id="t2019-07-22T21:12:29"><td class="action" colspan="2">* RP tried again with the typo fixed</td><td><a href="#t2019-07-22T21:12:29" class="time">21:12</a></td></tr>
<tr id="t2019-07-22T21:13:53"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Ok, I had a uniqueness constraint on the ('taskhash', 'method', 'outhash') triplet, and an index on ('taskhash', 'method')</td><td class="time"><a href="#t2019-07-22T21:13:53" class="time">21:13</a></td></tr>
<tr id="t2019-07-22T21:19:49"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">did the long standing glibc-locale host-user-contaminated issue ever get resolved?</td><td class="time"><a href="#t2019-07-22T21:19:49" class="time">21:19</a></td></tr>
<tr id="t2019-07-22T21:20:18"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">ah, [OE-core] [PATCH] pseudo: Update to gain key bugfixes looks promising</td><td class="time"><a href="#t2019-07-22T21:20:18" class="time">21:20</a></td></tr>
<tr id="t2019-07-22T21:22:03"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kergoth: sadly, no :/</td><td class="time"><a href="#t2019-07-22T21:22:03" class="time">21:22</a></td></tr>
<tr id="t2019-07-22T21:22:22"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: not sure that is the right index but I'll play</td><td class="time"><a href="#t2019-07-22T21:22:22" class="time">21:22</a></td></tr>
<tr id="t2019-07-22T21:25:51"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">ah, that's unfortunate</td><td class="time"><a href="#t2019-07-22T21:25:51" class="time">21:25</a></td></tr>
<tr id="t2019-07-22T21:28:04"><th class="nick" style="background: #57a657">evadeflow</th><td class="text" style="color: #57a657">I'm getting the following error with a recipe where I'm simply trying to install items from a tarball:</td><td class="time"><a href="#t2019-07-22T21:28:04" class="time">21:28</a></td></tr>
<tr id="t2019-07-22T21:28:33"><th class="nick" style="background: #57a657">evadeflow</th><td class="text" style="color: #57a657">`error: No file attributes configured`</td><td class="time"><a href="#t2019-07-22T21:28:33" class="time">21:28</a></td></tr>
<tr id="t2019-07-22T21:28:52"><th class="nick" style="background: #57a657">evadeflow</th><td class="text" style="color: #57a657">The recipe is here: <a href="https://gist.github.com/evadeflow/13a35f9fd52003515c85032267baf091" rel="nofollow">https://gist.github.com/evadeflow/13a35f9fd52003515c85032267baf091</a></td><td class="time"><a href="#t2019-07-22T21:28:52" class="time">21:28</a></td></tr>
<tr id="t2019-07-22T21:28:53"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: good news is that it did figure out how to recover from "bitbake m4-native -c install -f" and not rebuild much. Bad news is it takes 3 minutes of 100% cpu to figure out what its doing :)</td><td class="time"><a href="#t2019-07-22T21:28:53" class="time">21:28</a></td></tr>
<tr id="t2019-07-22T21:29:23"><th class="nick" style="background: #57a657">evadeflow</th><td class="text" style="color: #57a657">The error comes from running `rpmdeps`. Any idea how to fix this?</td><td class="time"><a href="#t2019-07-22T21:29:23" class="time">21:29</a></td></tr>
<tr id="t2019-07-22T21:30:18"><th class="nick" style="background: #57a657">evadeflow</th><td class="text" style="color: #57a657">(And... should I be concerned that it's running `rpmdeps` when I'm only attempting to build DEB packages?)</td><td class="time"><a href="#t2019-07-22T21:30:18" class="time">21:30</a></td></tr>
<tr id="t2019-07-22T21:30:30"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">evadeflow: I've never seen that error before. and no, don't be concerned</td><td class="time"><a href="#t2019-07-22T21:30:30" class="time">21:30</a></td></tr>
<tr id="t2019-07-22T21:30:43"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">evadeflow: we use rpm tools to figure out dependencies</td><td class="time"><a href="#t2019-07-22T21:30:43" class="time">21:30</a></td></tr>
<tr id="t2019-07-22T21:30:45"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">RP: Ya, that's a bit unfortunate. It that with a clean tmpdir? It does take a while the first time to populate the local (persistDB) cache, but once thats populated it only talks to the server when something changes</td><td class="time"><a href="#t2019-07-22T21:30:45" class="time">21:30</a></td></tr>
<tr id="t2019-07-22T21:30:55"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: no, existing dir</td><td class="time"><a href="#t2019-07-22T21:30:55" class="time">21:30</a></td></tr>
<tr id="t2019-07-22T21:31:17"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Hmm, Ya I was pretty sure I had it to an unnoticable level.</td><td class="time"><a href="#t2019-07-22T21:31:17" class="time">21:31</a></td></tr>
<tr id="t2019-07-22T21:31:21"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: I'll figure out where its spending the time, hopefully something silly</td><td class="time"><a href="#t2019-07-22T21:31:21" class="time">21:31</a></td></tr>
<tr id="t2019-07-22T21:31:45"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: I'm happy it appears to do the right thing :)</td><td class="time"><a href="#t2019-07-22T21:31:45" class="time">21:31</a></td></tr>
<tr id="t2019-07-22T21:31:57"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Ya, that is good</td><td class="time"><a href="#t2019-07-22T21:31:57" class="time">21:31</a></td></tr>
<tr id="t2019-07-22T21:59:32"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: part of the problem is the code is passing around an sqlite cursor connection instead of a string for the unihash</td><td class="time"><a href="#t2019-07-22T21:59:32" class="time">21:59</a></td></tr>
<tr id="t2019-07-22T22:07:18"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: The threadingmixin really did't get on well with sqlite!</td><td class="time"><a href="#t2019-07-22T22:07:18" class="time">22:07</a></td></tr>
<tr id="t2019-07-22T22:11:40"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">JPEW: 1.7 million sql execute calls are the bottleneck :)</td><td class="time"><a href="#t2019-07-22T22:11:40" class="time">22:11</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-07-21.log.html">&#171; Sunday, 2019-07-21</a> <a href="index.html">Index</a> <a href="%23yocto.2019-07-23.log.html">Tuesday, 2019-07-23 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
