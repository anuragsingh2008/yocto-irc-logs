<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Thursday, 2019-09-12</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Thursday, 2019-09-12</h1>
<div class="navigation"> <a href="%23yocto.2019-09-11.log.html">&#171; Wednesday, 2019-09-11</a> <a href="index.html">Index</a> <a href="%23yocto.2019-09-13.log.html">Friday, 2019-09-13 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-09-12T05:10:45"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">Is there any way in a recipe to reference the base path of the layer that it exists in?</td><td class="time"><a href="#t2019-09-12T05:10:45" class="time">05:10</a></td></tr>
<tr id="t2019-09-12T05:11:29"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">I have some private key files etc. that are not placed in the recipe dir, but in a subdir directly under my layer root.</td><td class="time"><a href="#t2019-09-12T05:11:29" class="time">05:11</a></td></tr>
<tr id="t2019-09-12T05:21:05"><th class="nick" style="background: #42427e">kroon</th><td class="text" style="color: #42427e">iceaway, I know at least you can capture THISDIR with immediate expansion, :=, and use a relative path to any place in your layer</td><td class="time"><a href="#t2019-09-12T05:21:05" class="time">05:21</a></td></tr>
<tr id="t2019-09-12T05:26:22"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">kroon: thanks, will try that!</td><td class="time"><a href="#t2019-09-12T05:26:22" class="time">05:26</a></td></tr>
<tr id="t2019-09-12T05:28:29"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">I have another really strange issue, related to u-boot. I want to change between two different root file system, for firmware upgrade purposes, and in my uboot env the variable mmcroot=&lt;dev&gt; sets which root file system to boot from. The issue is that if I modify mmcroot from Linux with fw_setenv, it looks like it is successful with fw_printenv. But when I reboot mmcroot (if I print it in u-boot) will have</td><td class="time"><a href="#t2019-09-12T05:28:29" class="time">05:28</a></td></tr>
<tr id="t2019-09-12T05:28:35"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">reverted to the default value. If I continue booting into Linux and use fw_printenv however, I can see the value I set before rebooting.</td><td class="time"><a href="#t2019-09-12T05:28:35" class="time">05:28</a></td></tr>
<tr id="t2019-09-12T05:29:13"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">I can even add new variables with fw_printenv, which are retained after rebooting, but mmcroot seems like it always is overwritten when u-boot starts.</td><td class="time"><a href="#t2019-09-12T05:29:13" class="time">05:29</a></td></tr>
<tr id="t2019-09-12T05:34:06"><th class="nick" style="background: #42427e">kroon</th><td class="text" style="color: #42427e">iceaway, sounds like u-boot is not looking at the same env file that linux updates ?</td><td class="time"><a href="#t2019-09-12T05:34:06" class="time">05:34</a></td></tr>
<tr id="t2019-09-12T05:36:09"><th class="nick" style="background: #42427e">kroon</th><td class="text" style="color: #42427e">iceaway, can you see the variables you set with fw_printenv in u-boot ?</td><td class="time"><a href="#t2019-09-12T05:36:09" class="time">05:36</a></td></tr>
<tr id="t2019-09-12T05:36:11"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">That is what I thought too, but if&nbsp;&nbsp;I create a new variable with fw_setenv, I can see that variable in u-boot.</td><td class="time"><a href="#t2019-09-12T05:36:11" class="time">05:36</a></td></tr>
<tr id="t2019-09-12T05:36:29"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">I can also change other variables like mmcpart. but there seems to be some magic with mmcroot.</td><td class="time"><a href="#t2019-09-12T05:36:29" class="time">05:36</a></td></tr>
<tr id="t2019-09-12T05:36:41"><th class="nick" style="background: #42427e">kroon</th><td class="text" style="color: #42427e">iceaway, maybe some u-boot script resets it ?</td><td class="time"><a href="#t2019-09-12T05:36:41" class="time">05:36</a></td></tr>
<tr id="t2019-09-12T05:37:15"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">Possibly, not anything in the env though, I grepped the entire env for mmcroot and it does not appear to be set by any other script.</td><td class="time"><a href="#t2019-09-12T05:37:15" class="time">05:37</a></td></tr>
<tr id="t2019-09-12T05:37:53"><th class="nick" style="background: #42427e">kroon</th><td class="text" style="color: #42427e">not even via some sneaky variable substitution tricks</td><td class="time"><a href="#t2019-09-12T05:37:53" class="time">05:37</a></td></tr>
<tr id="t2019-09-12T05:39:17"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">Hmm I suppose it could be that, u-boot scripting is a bit of black magic to me.</td><td class="time"><a href="#t2019-09-12T05:39:17" class="time">05:39</a></td></tr>
<tr id="t2019-09-12T05:39:46"><th class="nick" style="background: #42427e">kroon</th><td class="text" style="color: #42427e">dev=root, mmc$dev=foobar - you get the deal</td><td class="time"><a href="#t2019-09-12T05:39:46" class="time">05:39</a></td></tr>
<tr id="t2019-09-12T05:40:14"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">I will have another look at the enviroment stuff :)</td><td class="time"><a href="#t2019-09-12T05:40:14" class="time">05:40</a></td></tr>
<tr id="t2019-09-12T05:43:56"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">Nothing really pops out for me. If anyone cares to have a look: <a href="https://pastebin.com/DkYqK9F0" rel="nofollow">https://pastebin.com/DkYqK9F0</a></td><td class="time"><a href="#t2019-09-12T05:43:56" class="time">05:43</a></td></tr>
<tr id="t2019-09-12T05:45:59"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">Weird thing is that when Linux starts again, the mmcroot variable has been reverted to what I set before the reboot. So the change in u-boot does not seem to go into non-volatile storage.</td><td class="time"><a href="#t2019-09-12T05:45:59" class="time">05:45</a></td></tr>
<tr id="t2019-09-12T06:09:38"><th class="nick" style="background: #42427e">kroon</th><td class="text" style="color: #42427e">iceaway, nothing stands out to me. maybe its time to patch u-boot to debug if/when mmcroot is set</td><td class="time"><a href="#t2019-09-12T06:09:38" class="time">06:09</a></td></tr>
<tr id="t2019-09-12T06:14:25"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">kroon: yes, might have to do that. Thanks for the help.</td><td class="time"><a href="#t2019-09-12T06:14:25" class="time">06:14</a></td></tr>
<tr id="t2019-09-12T09:10:26"><th class="nick" style="background: #818144">yocti</th><td class="text" style="color: #818144">New news from stackoverflow: How do i patch in yocto? &lt;<a href="https://stackoverflow.com/questions/57903358/how-do-i-patch-in-yocto&gt;" rel="nofollow">https://stackoverflow.com/questions/57903358/how-do-i-patch-in-yocto&gt;</a></td><td class="time"><a href="#t2019-09-12T09:10:26" class="time">09:10</a></td></tr>
<tr id="t2019-09-12T10:04:46"><th class="nick" style="background: #854685">kpo</th><td class="text" style="color: #854685">hello, i'm developing gui application in qt for raspberry pi, the application should start on boot (via sytemd service), I'd rather not start it as root, so I've added some users using extrausers class. Unfortunately, my application needs access to /dev/vchciq (GPU interface), which is owned by root/root. I'd like to add user group, such as gui for users that should be able to use GPU - that's not a problem, extrausers to the resque. The problem (or</td><td class="time"><a href="#t2019-09-12T10:04:46" class="time">10:04</a></td></tr>
<tr id="t2019-09-12T10:04:48"><th class="nick" style="background: #854685">kpo</th><td class="text" style="color: #854685">question) is where/when should I change the ownership of /dev/vchciq? Am I able to d that on build level? Or should I make some kind of service, that changes that on boot?</td><td class="time"><a href="#t2019-09-12T10:04:48" class="time">10:04</a></td></tr>
<tr id="t2019-09-12T10:05:18"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">write a udev rule to change the permissions as the node is created</td><td class="time"><a href="#t2019-09-12T10:05:18" class="time">10:05</a></td></tr>
<tr id="t2019-09-12T10:05:28"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">(as all the nodes in /dev are generated by udev)</td><td class="time"><a href="#t2019-09-12T10:05:28" class="time">10:05</a></td></tr>
<tr id="t2019-09-12T10:05:35"><th class="nick" style="background: #854685">kpo</th><td class="text" style="color: #854685">thank you, I'll investigate</td><td class="time"><a href="#t2019-09-12T10:05:35" class="time">10:05</a></td></tr>
<tr id="t2019-09-12T10:06:08"><th class="nick" style="background: #854685">kpo</th><td class="text" style="color: #854685">(as all the nodes in /dev are generated by udev) &lt;- this looks exactly like the thing I was looking for, thanks rburton</td><td class="time"><a href="#t2019-09-12T10:06:08" class="time">10:06</a></td></tr>
<tr id="t2019-09-12T11:46:52"><th class="nick" style="background: #8c4a4a">kanavin_</th><td class="text" style="color: #8c4a4a">zeddii, if I need to bisect a linux-yocto regression, what is the standard procedure?</td><td class="time"><a href="#t2019-09-12T11:46:52" class="time">11:46</a></td></tr>
<tr id="t2019-09-12T13:20:29"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">I'm trying to find out how to get rid of a large lib in my image that I don't need. So I ran "oe-pkgdata-util find-path /usr/lib64/libVSC.so", to get the name of the recipe. But I cannot find that recipe anywhere. I tried looking for .bb files in my meta layers, and ran "bitbake-layers show-recipes" but it did not show up.</td><td class="time"><a href="#t2019-09-12T13:20:29" class="time">13:20</a></td></tr>
<tr id="t2019-09-12T13:30:01"><th class="nick" style="background: #42427e">kroon</th><td class="text" style="color: #42427e">iceaway, maybe you have better luck with: oe-pkgdata-util find-path *libVSC*</td><td class="time"><a href="#t2019-09-12T13:30:01" class="time">13:30</a></td></tr>
<tr id="t2019-09-12T13:32:33"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">kroon: I did find the recipe that brings in that lib, or at least the name of it, but when I search for that name I cannot find the actual recipe.</td><td class="time"><a href="#t2019-09-12T13:32:33" class="time">13:32</a></td></tr>
<tr id="t2019-09-12T13:33:53"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">Could it be hidden by some PROVIDES variable in another recipe?</td><td class="time"><a href="#t2019-09-12T13:33:53" class="time">13:33</a></td></tr>
<tr id="t2019-09-12T13:34:22"><th class="nick" style="background: #42427e">kroon</th><td class="text" style="color: #42427e">iceaway, packages can get renamed</td><td class="time"><a href="#t2019-09-12T13:34:22" class="time">13:34</a></td></tr>
<tr id="t2019-09-12T13:34:58"><th class="nick" style="background: #42427e">kroon</th><td class="text" style="color: #42427e">debian-style</td><td class="time"><a href="#t2019-09-12T13:34:58" class="time">13:34</a></td></tr>
<tr id="t2019-09-12T13:36:07"><th class="nick" style="background: #42427e">kroon</th><td class="text" style="color: #42427e">so you found which *package* the file comes from, but not the recipe which generated that package</td><td class="time"><a href="#t2019-09-12T13:36:07" class="time">13:36</a></td></tr>
<tr id="t2019-09-12T13:36:29"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">ahh right, the old package vs recipe confusion strikes again.</td><td class="time"><a href="#t2019-09-12T13:36:29" class="time">13:36</a></td></tr>
<tr id="t2019-09-12T13:37:08"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">more digging...</td><td class="time"><a href="#t2019-09-12T13:37:08" class="time">13:37</a></td></tr>
<tr id="t2019-09-12T14:20:46"><th class="nick" style="background: #4b904b">fullstop</th><td class="text" style="color: #4b904b">I'm having great difficulty cross compiling a python3 package which is not a yocto /oe recipe yet.</td><td class="time"><a href="#t2019-09-12T14:20:46" class="time">14:20</a></td></tr>
<tr id="t2019-09-12T14:21:21"><th class="nick" style="background: #4b904b">fullstop</th><td class="text" style="color: #4b904b">It uses cmake to build some binary components and it consistently finds libraries in the recipe-sysroot-native directory instead of recipe-sysroot.</td><td class="time"><a href="#t2019-09-12T14:21:21" class="time">14:21</a></td></tr>
<tr id="t2019-09-12T14:21:44"><th class="nick" style="background: #4b904b">fullstop</th><td class="text" style="color: #4b904b">cmake.bbclass has "set( CMAKE_FIND_ROOT_PATH ${STAGING_DIR_HOST} ${STAGING_DIR_NATIVE} ${CROSS_DIR} ${OECMAKE_PERLNATIVE_DIR} ${OECMAKE_EXTRA_ROOT_PATH} ${EXTERNAL_TOOLCHAIN})"</td><td class="time"><a href="#t2019-09-12T14:21:44" class="time">14:21</a></td></tr>
<tr id="t2019-09-12T14:22:34"><th class="nick" style="background: #4b904b">fullstop</th><td class="text" style="color: #4b904b">which suggests that both are added and, from what I've read, it should find stuff in ${STAGING_DIR_HOST} first.&nbsp;&nbsp;The library is there, but it still tries to link to the native one and fails.</td><td class="time"><a href="#t2019-09-12T14:22:34" class="time">14:22</a></td></tr>
<tr id="t2019-09-12T14:32:51"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">YP bug triage as started</td><td class="time"><a href="#t2019-09-12T14:32:51" class="time">14:32</a></td></tr>
<tr id="t2019-09-12T14:41:28"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2019-09-12T14:41:28" class="time">14:41</a></td></tr>
<tr id="t2019-09-12T15:07:03"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">JPEW: if you want to fix RPs bitbake patch go for it :)</td><td class="time"><a href="#t2019-09-12T15:07:03" class="time">15:07</a></td></tr>
<tr id="t2019-09-12T15:10:11"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">rburton: I'm fixing it by replacing the whole thing :)</td><td class="time"><a href="#t2019-09-12T15:10:11" class="time">15:10</a></td></tr>
<tr id="t2019-09-12T15:10:58"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">rburton: We have to completely re-write the server and change the protocol in order for it to scale as well as we need.</td><td class="time"><a href="#t2019-09-12T15:10:58" class="time">15:10</a></td></tr>
<tr id="t2019-09-12T15:14:47"><th class="nick" style="background: #4d4d93">armpit</th><td class="text" style="color: #4d4d93">replacing it like writing it in Java ?</td><td class="time"><a href="#t2019-09-12T15:14:47" class="time">15:14</a></td></tr>
<tr id="t2019-09-12T15:29:36"><th class="nick" style="background: #9b519b">smurray</th><td class="text" style="color: #9b519b">armpit: heh, that would almost be worthwhile if it lead to more meta-java improvements ;)</td><td class="time"><a href="#t2019-09-12T15:29:36" class="time">15:29</a></td></tr>
<tr id="t2019-09-12T15:37:16"><th class="nick" style="background: #539e9e">khem</th><td class="text" style="color: #539e9e">Java is only good in cup but rust or goland might be good options</td><td class="time"><a href="#t2019-09-12T15:37:16" class="time">15:37</a></td></tr>
<tr id="t2019-09-12T16:22:06"><th class="nick" style="background: #a25555">marler8997</th><td class="text" style="color: #a25555">I'm getting errors with "&lt;package&gt; rdepends on &lt;package&gt; [debug-deps]".&nbsp;&nbsp;Is there an easy way to see why these rdepends are occuring? Sometimes when I see these errors it will say one so rdpeends on another, but I'm not getting that output this time</td><td class="time"><a href="#t2019-09-12T16:22:06" class="time">16:22</a></td></tr>
<tr id="t2019-09-12T16:40:56"><th class="nick" style="background: #a25555">marler8997</th><td class="text" style="color: #a25555">I looked at the do_package_qa log and I saw some bbnote messages, I think I found out which file it was</td><td class="time"><a href="#t2019-09-12T16:40:56" class="time">16:40</a></td></tr>
<tr id="t2019-09-12T16:47:52"><th class="nick" style="background: #42427e">kroon</th><td class="text" style="color: #42427e">marler8997, you can always check insane.bbclass</td><td class="time"><a href="#t2019-09-12T16:47:52" class="time">16:47</a></td></tr>
<tr id="t2019-09-12T16:48:45"><th class="nick" style="background: #a25555">marler8997</th><td class="text" style="color: #a25555">Yeah I could add some debug in there</td><td class="time"><a href="#t2019-09-12T16:48:45" class="time">16:48</a></td></tr>
<tr id="t2019-09-12T17:40:04"><th class="nick" style="background: #57a657">Piraty</th><td class="text" style="color: #57a657">adelcast: if [ ! -z "$SOURCE_DATE_EPOCH"&nbsp;&nbsp;]; then =&gt; if [ -n "$SOURCE_DATE_EPOCH"&nbsp;&nbsp;]; then</td><td class="time"><a href="#t2019-09-12T17:40:04" class="time">17:40</a></td></tr>
<tr id="t2019-09-12T17:52:05"><th class="nick" style="background: #57a657">Piraty</th><td class="text" style="color: #57a657">adelcast: also is it really necessary to depend on gnu tar?</td><td class="time"><a href="#t2019-09-12T17:52:05" class="time">17:52</a></td></tr>
<tr id="t2019-09-12T17:53:26"><th class="nick" style="background: #42427e">kroon</th><td class="text" style="color: #42427e">Can I have multiple but different versions of yocto/bitbake-memory-resident servers running at the same time ?</td><td class="time"><a href="#t2019-09-12T17:53:26" class="time">17:53</a></td></tr>
<tr id="t2019-09-12T17:53:48"><th class="nick" style="background: #42427e">kroon</th><td class="text" style="color: #42427e">(for different builds of course)</td><td class="time"><a href="#t2019-09-12T17:53:48" class="time">17:53</a></td></tr>
<tr id="t2019-09-12T18:02:53"><th class="nick" style="background: #42427e">kroon</th><td class="text" style="color: #42427e">And is there a faster way to extract TMPDIR besides running "bitbake -e | grep ^TMPDIR=" ?</td><td class="time"><a href="#t2019-09-12T18:02:53" class="time">18:02</a></td></tr>
<tr id="t2019-09-12T18:11:35"><th class="nick" style="background: #5959a9">adelcast</th><td class="text" style="color: #5959a9">Piraty: the issue is --clamp-mtime, AFAIK that requires gnu tar &gt; 1.28</td><td class="time"><a href="#t2019-09-12T18:11:35" class="time">18:11</a></td></tr>
<tr id="t2019-09-12T18:11:55"><th class="nick" style="background: #57a657">Piraty</th><td class="text" style="color: #57a657">yes, that's what the comment says</td><td class="time"><a href="#t2019-09-12T18:11:55" class="time">18:11</a></td></tr>
<tr id="t2019-09-12T18:12:36"><th class="nick" style="background: #57a657">Piraty</th><td class="text" style="color: #57a657">why not set the time to SOURCE_EPOCH to all files alike ?</td><td class="time"><a href="#t2019-09-12T18:12:36" class="time">18:12</a></td></tr>
<tr id="t2019-09-12T18:13:17"><th class="nick" style="background: #57a657">Piraty</th><td class="text" style="color: #57a657">usually developers have a mechanism to determine SOURCE_EPOCH on their own (or the buildsystem), at least i have</td><td class="time"><a href="#t2019-09-12T18:13:17" class="time">18:13</a></td></tr>
<tr id="t2019-09-12T18:13:24"><th class="nick" style="background: #5959a9">adelcast</th><td class="text" style="color: #5959a9">the idea is to only modify the mtime for files that are created at build time, to have consistency</td><td class="time"><a href="#t2019-09-12T18:13:24" class="time">18:13</a></td></tr>
<tr id="t2019-09-12T18:14:46"><th class="nick" style="background: #5959a9">adelcast</th><td class="text" style="color: #5959a9"><a href="https://git.dpkg.org/git/dpkg/dpkg.git/tree/dpkg-deb/build.c" rel="nofollow">https://git.dpkg.org/git/dpkg/dpkg.git/tree/dpkg-deb/build.c</a></td><td class="time"><a href="#t2019-09-12T18:14:46" class="time">18:14</a></td></tr>
<tr id="t2019-09-12T18:14:54"><th class="nick" style="background: #5959a9">adelcast</th><td class="text" style="color: #5959a9">(that's what dpkg build does)</td><td class="time"><a href="#t2019-09-12T18:14:54" class="time">18:14</a></td></tr>
<tr id="t2019-09-12T18:16:06"><th class="nick" style="background: #57a657">Piraty</th><td class="text" style="color: #57a657">that would be a good point (if feature parity is a goal ;) )</td><td class="time"><a href="#t2019-09-12T18:16:06" class="time">18:16</a></td></tr>
<tr id="t2019-09-12T18:17:01"><th class="nick" style="background: #5959a9">adelcast</th><td class="text" style="color: #5959a9">not necessarily parity since opkg is more lightweight</td><td class="time"><a href="#t2019-09-12T18:17:01" class="time">18:17</a></td></tr>
<tr id="t2019-09-12T18:17:21"><th class="nick" style="background: #5959a9">adelcast</th><td class="text" style="color: #5959a9">but for most functionality, I do try to stay as close to debian as possible</td><td class="time"><a href="#t2019-09-12T18:17:21" class="time">18:17</a></td></tr>
<tr id="t2019-09-12T18:17:38"><th class="nick" style="background: #57a657">Piraty</th><td class="text" style="color: #57a657">btw if gnu tar is the required one, tar -a would save you from the pipe to the compressor by only specifying the suffix. as far as i know, busybox tar has (or used to have) a different way of handling -a</td><td class="time"><a href="#t2019-09-12T18:17:38" class="time">18:17</a></td></tr>
<tr id="t2019-09-12T18:18:03"><th class="nick" style="background: #57a657">Piraty</th><td class="text" style="color: #57a657">nevermind my noise then, thanks for maintaining opkg</td><td class="time"><a href="#t2019-09-12T18:18:03" class="time">18:18</a></td></tr>
<tr id="t2019-09-12T18:18:55"><th class="nick" style="background: #5959a9">adelcast</th><td class="text" style="color: #5959a9">=), no worries, I do appreciate all input to improve the codebase</td><td class="time"><a href="#t2019-09-12T18:18:55" class="time">18:18</a></td></tr>
<tr id="t2019-09-12T18:38:02"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">adelcast: patch looks good, i can test it later</td><td class="time"><a href="#t2019-09-12T18:38:02" class="time">18:38</a></td></tr>
<tr id="t2019-09-12T18:38:52"><th class="nick" style="background: #5959a9">adelcast</th><td class="text" style="color: #5959a9">rburton: thanks!</td><td class="time"><a href="#t2019-09-12T18:38:52" class="time">18:38</a></td></tr>
<tr id="t2019-09-12T18:40:04"><th class="nick" style="background: #57a657">Piraty</th><td class="text" style="color: #57a657">adelcast: shouldn't you have prefix opkg-utils ? also, which bugzilla do you refer to?</td><td class="time"><a href="#t2019-09-12T18:40:04" class="time">18:40</a></td></tr>
<tr id="t2019-09-12T18:44:06"><th class="nick" style="background: #5959a9">adelcast</th><td class="text" style="color: #5959a9">Piraty, yeah, that was my bad, the header message should have had [opkg-utils] to make sure this message was going to opkg-utils, not regular opkg</td><td class="time"><a href="#t2019-09-12T18:44:06" class="time">18:44</a></td></tr>
<tr id="t2019-09-12T18:44:26"><th class="nick" style="background: #57a657">Piraty</th><td class="text" style="color: #57a657">was slightly confused for 5 sec</td><td class="time"><a href="#t2019-09-12T18:44:26" class="time">18:44</a></td></tr>
<tr id="t2019-09-12T18:44:32"><th class="nick" style="background: #5959a9">adelcast</th><td class="text" style="color: #5959a9">all opkg bugs are tracked in bugzilla, under the yocto project</td><td class="time"><a href="#t2019-09-12T18:44:32" class="time">18:44</a></td></tr>
<tr id="t2019-09-12T18:44:42"><th class="nick" style="background: #57a657">Piraty</th><td class="text" style="color: #57a657">i think you can set that prefix in the respective repo's .git/config</td><td class="time"><a href="#t2019-09-12T18:44:42" class="time">18:44</a></td></tr>
<tr id="t2019-09-12T18:44:49"><th class="nick" style="background: #5959a9">adelcast</th><td class="text" style="color: #5959a9"><a href="https://bugzilla.yoctoproject.org/buglist.cgi?product=opkg&amp;component=opkg" rel="nofollow">https://bugzilla.yoctoproject.org/buglist.cgi?product=opkg&amp;component=opkg</a></td><td class="time"><a href="#t2019-09-12T18:44:49" class="time">18:44</a></td></tr>
<tr id="t2019-09-12T18:45:00"><th class="nick" style="background: #5959a9">adelcast</th><td class="text" style="color: #5959a9">ah, good to know, might as well just do that now</td><td class="time"><a href="#t2019-09-12T18:45:00" class="time">18:45</a></td></tr>
<tr id="t2019-09-12T18:45:03"><th class="nick" style="background: #57a657">Piraty</th><td class="text" style="color: #57a657">ah this was new to me</td><td class="time"><a href="#t2019-09-12T18:45:03" class="time">18:45</a></td></tr>
<tr id="t2019-09-12T18:45:51"><th class="nick" style="background: #5959a9">adelcast</th><td class="text" style="color: #5959a9">yeah, officially opkg is part of the yocto project, the source code is on yocto's git servers and bugs are tracked in yocto's bugzilla</td><td class="time"><a href="#t2019-09-12T18:45:51" class="time">18:45</a></td></tr>
<tr id="t2019-09-12T18:47:29"><th class="nick" style="background: #57a657">Piraty</th><td class="text" style="color: #57a657">yet the ML is on google</td><td class="time"><a href="#t2019-09-12T18:47:29" class="time">18:47</a></td></tr>
<tr id="t2019-09-12T18:47:51"><th class="nick" style="background: #57a657">Piraty</th><td class="text" style="color: #57a657">only yocto's opkg, not openwrt's yocto ;)</td><td class="time"><a href="#t2019-09-12T18:47:51" class="time">18:47</a></td></tr>
<tr id="t2019-09-12T18:48:53"><th class="nick" style="background: #5959a9">adelcast</th><td class="text" style="color: #5959a9">yeah.....that other opkg is, well, a different story...I have been trying to see if we can merge, but haven't had luck</td><td class="time"><a href="#t2019-09-12T18:48:53" class="time">18:48</a></td></tr>
<tr id="t2019-09-12T18:55:13"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">the ML being on google really doesn't mean much, yocto has adopted projects that originally started elsewhere, transitioning mailing lists is a pain for everybody..</td><td class="time"><a href="#t2019-09-12T18:55:13" class="time">18:55</a></td></tr>
<tr id="t2019-09-12T18:59:26"><th class="nick" style="background: #57a657">Piraty</th><td class="text" style="color: #57a657">merging is hard code-wise or people-wise?</td><td class="time"><a href="#t2019-09-12T18:59:26" class="time">18:59</a></td></tr>
<tr id="t2019-09-12T19:01:35"><th class="nick" style="background: #5959a9">adelcast</th><td class="text" style="color: #5959a9">people-wise, unsurprisingly....a couple of years ago someone took the effort of porting the OpenWRT patches to master yocto opkg and I worked with him to merge all of them</td><td class="time"><a href="#t2019-09-12T19:01:35" class="time">19:01</a></td></tr>
<tr id="t2019-09-12T19:02:03"><th class="nick" style="background: #5959a9">adelcast</th><td class="text" style="color: #5959a9">but the openWRT guys showed no interest on starting using upstream yocto opkg</td><td class="time"><a href="#t2019-09-12T19:02:03" class="time">19:02</a></td></tr>
<tr id="t2019-09-12T19:02:37"><th class="nick" style="background: #5959a9">adelcast</th><td class="text" style="color: #5959a9">and their opkg is weird...is branched off a random commit on 0.2.7, at least that's what it used to be last time I checked</td><td class="time"><a href="#t2019-09-12T19:02:37" class="time">19:02</a></td></tr>
<tr id="t2019-09-12T19:14:27"><th class="nick" style="background: #57a657">Piraty</th><td class="text" style="color: #57a657">at least the use cmake, but that's a very small win then</td><td class="time"><a href="#t2019-09-12T19:14:27" class="time">19:14</a></td></tr>
<tr id="t2019-09-12T20:10:42"><th class="nick" style="background: #b15db1">gondor</th><td class="text" style="color: #b15db1">hi all</td><td class="time"><a href="#t2019-09-12T20:10:42" class="time">20:10</a></td></tr>
<tr id="t2019-09-12T20:11:42"><th class="nick" style="background: #b15db1">gondor</th><td class="text" style="color: #b15db1">is it possible to alter MACHINE_FEATURES from my layer but without re-creating the machine .conf file from the bsp that I use?</td><td class="time"><a href="#t2019-09-12T20:11:42" class="time">20:11</a></td></tr>
<tr id="t2019-09-12T20:12:40"><th class="nick" style="background: #b15db1">gondor</th><td class="text" style="color: #b15db1">I tried from local.conf and layer.conf but I can't do a MACHINE_FEATURES_remove on a per-machine basis</td><td class="time"><a href="#t2019-09-12T20:12:40" class="time">20:12</a></td></tr>
<tr id="t2019-09-12T20:12:54"><th class="nick" style="background: #b15db1">gondor</th><td class="text" style="color: #b15db1">thanks</td><td class="time"><a href="#t2019-09-12T20:12:54" class="time">20:12</a></td></tr>
<tr id="t2019-09-12T20:51:20"><th class="nick" style="background: #539e9e">khem</th><td class="text" style="color: #539e9e">gondor: I would suggest to create a new machine conf</td><td class="time"><a href="#t2019-09-12T20:51:20" class="time">20:51</a></td></tr>
<tr id="t2019-09-12T20:51:41"><th class="nick" style="background: #539e9e">khem</th><td class="text" style="color: #539e9e">which inherits the original machine and you override needed bits in that config</td><td class="time"><a href="#t2019-09-12T20:51:41" class="time">20:51</a></td></tr>
<tr id="t2019-09-12T22:10:04"><th class="nick" style="background: #5fb4b4">jwessel</th><td class="text" style="color: #5fb4b4">JaMa: Thanks for the pointer.&nbsp;&nbsp;I seriously doubt it fixes the problem in the case, but I did figure out the issue I asked about yesterday.</td><td class="time"><a href="#t2019-09-12T22:10:04" class="time">22:10</a></td></tr>
<tr id="t2019-09-12T22:10:06"><th class="nick" style="background: #5fb4b4">jwessel</th><td class="text" style="color: #5fb4b4"><a href="https://pastebin.com/Y8T6kbcZ" rel="nofollow">https://pastebin.com/Y8T6kbcZ</a></td><td class="time"><a href="#t2019-09-12T22:10:06" class="time">22:10</a></td></tr>
<tr id="t2019-09-12T22:10:33"><th class="nick" style="background: #5fb4b4">jwessel</th><td class="text" style="color: #5fb4b4">The FILERPROVIDES was getting scrambled when usrmerge was on.</td><td class="time"><a href="#t2019-09-12T22:10:33" class="time">22:10</a></td></tr>
<tr id="t2019-09-12T22:10:57"><th class="nick" style="background: #5fb4b4">jwessel</th><td class="text" style="color: #5fb4b4">So it causes the lib32-bash to look like it doesn't actually provide /bin/bash</td><td class="time"><a href="#t2019-09-12T22:10:57" class="time">22:10</a></td></tr>
<tr id="t2019-09-12T22:11:33"><th class="nick" style="background: #5fb4b4">jwessel</th><td class="text" style="color: #5fb4b4">I'll send a patch out for consideration after more builds and analysis of the issue.</td><td class="time"><a href="#t2019-09-12T22:11:33" class="time">22:11</a></td></tr>
<tr id="t2019-09-12T22:12:44"><th class="nick" style="background: #b86161">JaMa</th><td class="text" style="color: #b86161">yes, so it set the FILERPROVIDES as providing lib32-/bin/bash for you, right?</td><td class="time"><a href="#t2019-09-12T22:12:44" class="time">22:12</a></td></tr>
<tr id="t2019-09-12T22:13:32"><th class="nick" style="background: #b86161">JaMa</th><td class="text" style="color: #b86161">that's the same as what I was seeing, but that's because of multilib, not usrmerge, isn't it?</td><td class="time"><a href="#t2019-09-12T22:13:32" class="time">22:13</a></td></tr>
<tr id="t2019-09-12T22:14:23"><th class="nick" style="background: #5fb4b4">jwessel</th><td class="text" style="color: #5fb4b4">The multilib case seems to work ok.</td><td class="time"><a href="#t2019-09-12T22:14:23" class="time">22:14</a></td></tr>
<tr id="t2019-09-12T22:14:35"><th class="nick" style="background: #5fb4b4">jwessel</th><td class="text" style="color: #5fb4b4">The usrmerge adds in a hard specification which gets overwritten.</td><td class="time"><a href="#t2019-09-12T22:14:35" class="time">22:14</a></td></tr>
<tr id="t2019-09-12T22:15:03"><th class="nick" style="background: #5fb4b4">jwessel</th><td class="text" style="color: #5fb4b4">I had been debugging between a multilib build with and without usrmerge.</td><td class="time"><a href="#t2019-09-12T22:15:03" class="time">22:15</a></td></tr>
<tr id="t2019-09-12T22:16:48"><th class="nick" style="background: #5fb4b4">jwessel</th><td class="text" style="color: #5fb4b4">At any rate, that seems to be logical way to fix it, but I don't want to break something worse.&nbsp;&nbsp;That condition is pretty deep in the call chain of lots of other functions for the variable manipulation.</td><td class="time"><a href="#t2019-09-12T22:16:48" class="time">22:16</a></td></tr>
<tr id="t2019-09-12T22:21:03"><th class="nick" style="background: #b86161">JaMa</th><td class="text" style="color: #b86161">ok, for me this is broken in all builds using multilib without usrmerge, but my work arounds work as well, so I can live with it</td><td class="time"><a href="#t2019-09-12T22:21:03" class="time">22:21</a></td></tr>
<tr id="t2019-09-12T22:26:20"><th class="nick" style="background: #5fb4b4">jwessel</th><td class="text" style="color: #5fb4b4">Ah... I can explain away why it breaks in the generic multilib case.</td><td class="time"><a href="#t2019-09-12T22:26:20" class="time">22:26</a></td></tr>
<tr id="t2019-09-12T22:26:47"><th class="nick" style="background: #5fb4b4">jwessel</th><td class="text" style="color: #5fb4b4">It is the update-alternatives code that bash used that caused it to work for the multilib case without usrmerge.</td><td class="time"><a href="#t2019-09-12T22:26:47" class="time">22:26</a></td></tr>
<tr id="t2019-09-12T22:27:08"><th class="nick" style="background: #5fb4b4">jwessel</th><td class="text" style="color: #5fb4b4">If the update alternatives are off, or not processed etc... You'd get the same exact error.</td><td class="time"><a href="#t2019-09-12T22:27:08" class="time">22:27</a></td></tr>
<tr id="t2019-09-12T22:27:31"><td class="nickchange" colspan="2">*** __ad is now known as __angelo</td><td><a href="#t2019-09-12T22:27:31" class="time">22:27</a></td></tr>
<tr id="t2019-09-12T22:27:33"><th class="nick" style="background: #5fb4b4">jwessel</th><td class="text" style="color: #5fb4b4">That is why I figured the classextend change wouldn't exactly fix your issue.</td><td class="time"><a href="#t2019-09-12T22:27:33" class="time">22:27</a></td></tr>
<tr id="t2019-09-12T22:28:11"><th class="nick" style="background: #5fb4b4">jwessel</th><td class="text" style="color: #5fb4b4">You would also need to have the same line of code the usrmerge activates in the bash recipe, and then you'd stop seeing all those errors.</td><td class="time"><a href="#t2019-09-12T22:28:11" class="time">22:28</a></td></tr>
<tr id="t2019-09-12T22:28:55"><th class="nick" style="background: #5fb4b4">jwessel</th><td class="text" style="color: #5fb4b4">I had added a pile of print()'s to figure out what was going on.</td><td class="time"><a href="#t2019-09-12T22:28:55" class="time">22:28</a></td></tr>
<tr id="t2019-09-12T22:41:07"><th class="nick" style="background: #b86161">JaMa</th><td class="text" style="color: #b86161">unfortunatelly u-a isn't the only issue with multilib, see <a href="http://git.openembedded.org/openembedded-core/commit/?id=01b9810ff1cea53ae321f6fbe760b83573ed78c0" rel="nofollow">http://git.openembedded.org/openembedded-core/commit/?id=01b9810ff1cea53ae321f6fbe760b83573ed78c0</a></td><td class="time"><a href="#t2019-09-12T22:41:07" class="time">22:41</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-09-11.log.html">&#171; Wednesday, 2019-09-11</a> <a href="index.html">Index</a> <a href="%23yocto.2019-09-13.log.html">Friday, 2019-09-13 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
