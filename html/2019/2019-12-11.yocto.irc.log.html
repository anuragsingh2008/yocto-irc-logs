<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Wednesday, 2019-12-11</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Wednesday, 2019-12-11</h1>
<div class="navigation"> <a href="%23yocto.2019-12-10.log.html">&#171; Tuesday, 2019-12-10</a> <a href="index.html">Index</a> <a href="%23yocto.2019-12-12.log.html">Thursday, 2019-12-12 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-12-11T01:58:38"><th class="nick" style="background: #407a40">yocti</th><td class="text" style="color: #407a40">New news from stackoverflow: Is it possible to run the rootfs containing kernel and DTB files for a specific board using qemu &lt;<a href="https://stackoverflow.com/questions/59271650/is-it-possible-to-run-the-rootfs-containing-kernel-and-dtb-files-for-a-specific&gt;" rel="nofollow">https://stackoverflow.com/questions/59271650/is-it-possible-to-run-the-rootfs-containing-kernel-and-dtb-files-for-a-specific&gt;</a></td><td class="time"><a href="#t2019-12-11T01:58:38" class="time">01:58</a></td></tr>
<tr id="t2019-12-11T07:26:27"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">when i send an email to the list i see: "Trevor Woerner via Lists.Yoctoproject.Org" as the sender (instead of just, say, "Trevor Woerner". is that how everyone sees their own messages? or is my email not configured correctly?</td><td class="time"><a href="#t2019-12-11T07:26:27" class="time">07:26</a></td></tr>
<tr id="t2019-12-11T07:26:31"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">halstead: ^^</td><td class="time"><a href="#t2019-12-11T07:26:31" class="time">07:26</a></td></tr>
<tr id="t2019-12-11T07:27:35"><th class="nick" style="background: #818144">halstead</th><td class="text" style="color: #818144">tlwoerner: everyone will see their own messages with the from line rewritten.</td><td class="time"><a href="#t2019-12-11T07:27:35" class="time">07:27</a></td></tr>
<tr id="t2019-12-11T07:28:02"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">halstead: ok, thanks :-)</td><td class="time"><a href="#t2019-12-11T07:28:02" class="time">07:28</a></td></tr>
<tr id="t2019-12-11T07:28:37"><th class="nick" style="background: #818144">halstead</th><td class="text" style="color: #818144">Depending on the DMARC setting for the domain you'll see more addresses rewritten.</td><td class="time"><a href="#t2019-12-11T07:28:37" class="time">07:28</a></td></tr>
<tr id="t2019-12-11T07:29:54"><td class="nickchange" colspan="2">*** ka6sox is now known as zz_ka6sox</td><td><a href="#t2019-12-11T07:29:54" class="time">07:29</a></td></tr>
<tr id="t2019-12-11T07:33:16"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">tlwoerner: gm!</td><td class="time"><a href="#t2019-12-11T07:33:16" class="time">07:33</a></td></tr>
<tr id="t2019-12-11T07:34:06"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">tlwoerner: are you still around for a second?</td><td class="time"><a href="#t2019-12-11T07:34:06" class="time">07:34</a></td></tr>
<tr id="t2019-12-11T07:59:26"><th class="nick" style="background: #407a40">yocti</th><td class="text" style="color: #407a40">New news from stackoverflow: Do_compile error for libpam package: Angstrom build &lt;<a href="https://stackoverflow.com/questions/59280918/do-compile-error-for-libpam-package-angstrom-build&gt;" rel="nofollow">https://stackoverflow.com/questions/59280918/do-compile-error-for-libpam-package-angstrom-build&gt;</a></td><td class="time"><a href="#t2019-12-11T07:59:26" class="time">07:59</a></td></tr>
<tr id="t2019-12-11T08:05:30"><td class="nickchange" colspan="2">*** zz_ka6sox is now known as ka6sox</td><td><a href="#t2019-12-11T08:05:30" class="time">08:05</a></td></tr>
<tr id="t2019-12-11T08:05:56"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2019-12-11T08:05:56" class="time">08:05</a></td></tr>
<tr id="t2019-12-11T08:05:59"><th class="nick" style="background: #488888">mckoan</th><td class="text" style="color: #488888">good morning</td><td class="time"><a href="#t2019-12-11T08:05:59" class="time">08:05</a></td></tr>
<tr id="t2019-12-11T09:32:14"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2019-12-11T09:32:14" class="time">09:32</a></td></tr>
<tr id="t2019-12-11T09:37:25"><td class="nickchange" colspan="2">*** ka6sox is now known as zz_ka6sox</td><td><a href="#t2019-12-11T09:37:25" class="time">09:37</a></td></tr>
<tr id="t2019-12-11T09:41:53"><td class="nickchange" colspan="2">*** zz_ka6sox is now known as ka6sox</td><td><a href="#t2019-12-11T09:41:53" class="time">09:41</a></td></tr>
<tr id="t2019-12-11T10:11:59"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">ok, lets try 3.1 M1 rc5 :/</td><td class="time"><a href="#t2019-12-11T10:11:59" class="time">10:11</a></td></tr>
<tr id="t2019-12-11T10:29:53"><th class="nick" style="background: #407a40">yocti</th><td class="text" style="color: #407a40">New news from stackoverflow: Listing SRC_URI of all packages/files needed to build Yocto image &lt;<a href="https://stackoverflow.com/questions/50345536/listing-src-uri-of-all-packages-files-needed-to-build-yocto-image&gt;" rel="nofollow">https://stackoverflow.com/questions/50345536/listing-src-uri-of-all-packages-files-needed-to-build-yocto-image&gt;</a></td><td class="time"><a href="#t2019-12-11T10:29:53" class="time">10:29</a></td></tr>
<tr id="t2019-12-11T10:44:45"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">RP: if you leave out one specific word, then the mail is pretty funny: "How about extending uninative with more bits?" :)</td><td class="time"><a href="#t2019-12-11T10:44:45" class="time">10:44</a></td></tr>
<tr id="t2019-12-11T11:35:54"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">RP: with the sstate changes from yesterday I'm seeing: Exception: bb.process.ExecutionError: Execution of '/OE/build/oe-core/tmp-glibc/work/x86_64-linux/quilt-native/0.66-r0/temp/run.sstate_create_package.25465' failed with exit code 1:</td><td class="time"><a href="#t2019-12-11T11:35:54" class="time">11:35</a></td></tr>
<tr id="t2019-12-11T11:35:58"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">mktemp: failed to create file via template ‘/OE/build/oe-core/sstate-cache/universal/5b/sstate:quilt-native:x86_64-linux:0.66:r0:x86_64:3:5b5ddc2dc26dbbdaa89060f194e5a6b56a048a7a6ad3b71bd290bd528355e70d_populate_sysroot.tgz.XXXXXXXX’: No such file or directory</td><td class="time"><a href="#t2019-12-11T11:35:58" class="time">11:35</a></td></tr>
<tr id="t2019-12-11T11:36:10"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">in clean build, any idea what went wrong?</td><td class="time"><a href="#t2019-12-11T11:36:10" class="time">11:36</a></td></tr>
<tr id="t2019-12-11T11:37:29"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">only .siginfo files were created in sstate-cache</td><td class="time"><a href="#t2019-12-11T11:37:29" class="time">11:37</a></td></tr>
<tr id="t2019-12-11T11:51:34"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JaMa: fix is in master I think</td><td class="time"><a href="#t2019-12-11T11:51:34" class="time">11:51</a></td></tr>
<tr id="t2019-12-11T11:51:59"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JaMa: I messed up the last fix :(</td><td class="time"><a href="#t2019-12-11T11:51:59" class="time">11:51</a></td></tr>
<tr id="t2019-12-11T11:55:21"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">RP: I do have this one <a href="http://git.openembedded.org/openembedded-core/commit/?id=0af4dae84099e8632a9ea6a4afdbea2f232bb170" rel="nofollow">http://git.openembedded.org/openembedded-core/commit/?id=0af4dae84099e8632a9ea6a4afdbea2f232bb170</a></td><td class="time"><a href="#t2019-12-11T11:55:21" class="time">11:55</a></td></tr>
<tr id="t2019-12-11T11:55:48"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JaMa: and its still breaking? :(</td><td class="time"><a href="#t2019-12-11T11:55:48" class="time">11:55</a></td></tr>
<tr id="t2019-12-11T11:56:42"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JaMa: the patch is messed up, again. The mkdir needs to be about 8 lines higher :(</td><td class="time"><a href="#t2019-12-11T11:56:42" class="time">11:56</a></td></tr>
<tr id="t2019-12-11T11:56:53"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">yes, here is the trace if you can spot the code path leading to this <a href="https://paste.ubuntu.com/p/4TZP5w6dTN/" rel="nofollow">https://paste.ubuntu.com/p/4TZP5w6dTN/</a></td><td class="time"><a href="#t2019-12-11T11:56:53" class="time">11:56</a></td></tr>
<tr id="t2019-12-11T11:57:01"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">ok, let me check</td><td class="time"><a href="#t2019-12-11T11:57:01" class="time">11:57</a></td></tr>
<tr id="t2019-12-11T11:57:34"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JaMa: sorry, these changes were meant to be straight forward small tweaks and have turned into a disaster ;(</td><td class="time"><a href="#t2019-12-11T11:57:34" class="time">11:57</a></td></tr>
<tr id="t2019-12-11T11:58:09"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">ah right, above mktemp</td><td class="time"><a href="#t2019-12-11T11:58:09" class="time">11:58</a></td></tr>
<tr id="t2019-12-11T11:58:25"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">strange that it's failing only on some hosts it seems</td><td class="time"><a href="#t2019-12-11T11:58:25" class="time">11:58</a></td></tr>
<tr id="t2019-12-11T12:00:18"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JaMa: depends how many of the sstate dirs are present?</td><td class="time"><a href="#t2019-12-11T12:00:18" class="time">12:00</a></td></tr>
<tr id="t2019-12-11T12:00:24"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JaMa: I've put a fix in master</td><td class="time"><a href="#t2019-12-11T12:00:24" class="time">12:00</a></td></tr>
<tr id="t2019-12-11T12:00:44"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">both builds were clean without sstate-cache</td><td class="time"><a href="#t2019-12-11T12:00:44" class="time">12:00</a></td></tr>
<tr id="t2019-12-11T12:01:07"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">and mktemp fails without existing directory on the builder where the build itself doesn't fail as well</td><td class="time"><a href="#t2019-12-11T12:01:07" class="time">12:01</a></td></tr>
<tr id="t2019-12-11T12:01:46"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">might be that only my local build where it was failing has hashequiv enabled</td><td class="time"><a href="#t2019-12-11T12:01:46" class="time">12:01</a></td></tr>
<tr id="t2019-12-11T12:02:18"><td class="action" colspan="2">* RP stops rc5 and goes to rc6 </td><td><a href="#t2019-12-11T12:02:18" class="time">12:02</a></td></tr>
<tr id="t2019-12-11T12:08:51"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">disaster? i hear disaster?</td><td class="time"><a href="#t2019-12-11T12:08:51" class="time">12:08</a></td></tr>
<tr id="t2019-12-11T12:16:11"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">RP: btw: that mkdir is using spaces for indentation and other lines around are tabs</td><td class="time"><a href="#t2019-12-11T12:16:11" class="time">12:16</a></td></tr>
<tr id="t2019-12-11T12:19:41"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">whitespace fix <a href="http://git.openembedded.org/openembedded-core-contrib/commit/?h=jansa/master&amp;id=dd8620447448df890799e63a8cc300b44d99b3f4" rel="nofollow">http://git.openembedded.org/openembedded-core-contrib/commit/?h=jansa/master&amp;id=dd8620447448df890799e63a8cc300b44d99b3f4</a></td><td class="time"><a href="#t2019-12-11T12:19:41" class="time">12:19</a></td></tr>
<tr id="t2019-12-11T12:21:19"><th class="nick" style="background: #4d4d93">stuom1</th><td class="text" style="color: #4d4d93">anyone have experience making recipes for npm projects?</td><td class="time"><a href="#t2019-12-11T12:21:19" class="time">12:21</a></td></tr>
<tr id="t2019-12-11T12:24:15"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">stuom1: many have, and it universally considered a pain in the .... not only there, about everywhere.</td><td class="time"><a href="#t2019-12-11T12:24:15" class="time">12:24</a></td></tr>
<tr id="t2019-12-11T12:25:07"><th class="nick" style="background: #4d4d93">stuom1</th><td class="text" style="color: #4d4d93">in my recipe (made with devtool) I have PV = "0.1.0+git${SRCPV}" but I get npm error for not finding file '/path/to/project-0.1.0+git999.tgz' because it is called '/path/to/project-0.1.0.tgz'. Where is that 999 coming to SRCPV and how to get it match</td><td class="time"><a href="#t2019-12-11T12:25:07" class="time">12:25</a></td></tr>
<tr id="t2019-12-11T12:25:38"><th class="nick" style="background: #4d4d93">stuom1</th><td class="text" style="color: #4d4d93">LetoThe2nd oh good, im not alone</td><td class="time"><a href="#t2019-12-11T12:25:38" class="time">12:25</a></td></tr>
<tr id="t2019-12-11T12:26:58"><td class="nickchange" colspan="2">*** u1106_ is now known as u1106</td><td><a href="#t2019-12-11T12:26:58" class="time">12:26</a></td></tr>
<tr id="t2019-12-11T12:27:36"><th class="nick" style="background: #4d4d93">stuom1</th><td class="text" style="color: #4d4d93">I get it to build, if I remove the +git${SRCPV} part completely, but it builds only ONCE, next try fails with completely new problems, so I try to tackle them one at a time</td><td class="time"><a href="#t2019-12-11T12:27:36" class="time">12:27</a></td></tr>
<tr id="t2019-12-11T12:33:58"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JaMa: ahhrg, right :/</td><td class="time"><a href="#t2019-12-11T12:33:58" class="time">12:33</a></td></tr>
<tr id="t2019-12-11T12:34:15"><th class="nick" style="background: #4d4d93">stuom1</th><td class="text" style="color: #4d4d93">with PV = "0.1.0" I can build it once using "devtool build" but if I try second time without any changes, or try to bitbake an image, I get "npm ERR! Cannot read property 'replace' of null"</td><td class="time"><a href="#t2019-12-11T12:34:15" class="time">12:34</a></td></tr>
<tr id="t2019-12-11T12:42:56"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">LetoThe2nd: hey! it was off to bed seconds after i wrote that; i didn't even see the DMARC reply :-)</td><td class="time"><a href="#t2019-12-11T12:42:56" class="time">12:42</a></td></tr>
<tr id="t2019-12-11T12:43:50"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">tlwoerner: hehe</td><td class="time"><a href="#t2019-12-11T12:43:50" class="time">12:43</a></td></tr>
<tr id="t2019-12-11T12:44:38"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">tlwoerner: hope you had a good night then!</td><td class="time"><a href="#t2019-12-11T12:44:38" class="time">12:44</a></td></tr>
<tr id="t2019-12-11T12:45:14"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">LetoThe2nd: it was a little shorter than i would have liked; i'll probably need a nap this afternoon ;-)</td><td class="time"><a href="#t2019-12-11T12:45:14" class="time">12:45</a></td></tr>
<tr id="t2019-12-11T12:46:06"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">tlwoerner: happends, that! just had one remark, and one idea/question.</td><td class="time"><a href="#t2019-12-11T12:46:06" class="time">12:46</a></td></tr>
<tr id="t2019-12-11T12:47:17"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">tlwoerner: remark: once you find (or even create) a good outline on the topic you put on the ML, i'd be glad to see it!</td><td class="time"><a href="#t2019-12-11T12:47:17" class="time">12:47</a></td></tr>
<tr id="t2019-12-11T12:50:51"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">does anyone know how to increase loglevel or verbosity for qemu-wrapper? I'm trying to give more information on that gobject-introspection + icecc bug on &gt;= warrior and khem asked for more info</td><td class="time"><a href="#t2019-12-11T12:50:51" class="time">12:50</a></td></tr>
<tr id="t2019-12-11T12:51:43"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">LetoThe2nd: sounds good. it's not enough to simply read a recipe top-to-bottom, one has to consider *when* various parts (e.g. tasks) will run. it's like reading VHDL or verilog: the order doesn't matter!</td><td class="time"><a href="#t2019-12-11T12:51:43" class="time">12:51</a></td></tr>
<tr id="t2019-12-11T12:53:12"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">tlwoerner: the other is, like an idea. what do you think about preparing a bootable thumb drive that brings a fully prepared yocto/oe setup for a specific board, including hot sstate and all?</td><td class="time"><a href="#t2019-12-11T12:53:12" class="time">12:53</a></td></tr>
<tr id="t2019-12-11T12:54:10"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">i've been looking into ubuntu-based stuff here, but no real clue yet.</td><td class="time"><a href="#t2019-12-11T12:54:10" class="time">12:54</a></td></tr>
<tr id="t2019-12-11T12:56:43"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">i mean, it would be rather huge, hard to make it downloadable - but not exactly unheard of, but drives are cheap and shipping them trough mail is easy.</td><td class="time"><a href="#t2019-12-11T12:56:43" class="time">12:56</a></td></tr>
<tr id="t2019-12-11T13:00:30"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">sneakernet! or carrier pigeon</td><td class="time"><a href="#t2019-12-11T13:00:30" class="time">13:00</a></td></tr>
<tr id="t2019-12-11T13:00:38"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">bth!</td><td class="time"><a href="#t2019-12-11T13:00:38" class="time">13:00</a></td></tr>
<tr id="t2019-12-11T13:03:15"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">a long time ago ndec and myself were giving a tutorial at a Linaro Connect (in Dublin, if I remember correctly?) and we brought a thumb drive with a hot cache, sstate-cache, tmp etc. the only *gotcha* is that the host distro version has to match for the sstate-cache to work</td><td class="time"><a href="#t2019-12-11T13:03:15" class="time">13:03</a></td></tr>
<tr id="t2019-12-11T13:04:11"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">i think this was in the days before the amazing build accounts halstead sets up for devdays</td><td class="time"><a href="#t2019-12-11T13:04:11" class="time">13:04</a></td></tr>
<tr id="t2019-12-11T13:04:40"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">we handed out the drives and people copied them to their machines before starting the tutorial</td><td class="time"><a href="#t2019-12-11T13:04:40" class="time">13:04</a></td></tr>
<tr id="t2019-12-11T13:05:45"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">in sstate-cache is a host-distro-specific directory, if the host distro version doesn't match, the hot sstate is ignored and the machine ends up building everything from scratch</td><td class="time"><a href="#t2019-12-11T13:05:45" class="time">13:05</a></td></tr>
<tr id="t2019-12-11T13:06:21"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">but you can take the same sstate-cache directory to several hosts and the directory will contain multiple host-distro-specific directories</td><td class="time"><a href="#t2019-12-11T13:06:21" class="time">13:06</a></td></tr>
<tr id="t2019-12-11T13:06:27"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">tlwoerner: eactly, there's still a couple of gotches.</td><td class="time"><a href="#t2019-12-11T13:06:27" class="time">13:06</a></td></tr>
<tr id="t2019-12-11T13:08:59"><th class="nick" style="background: #9b519b">erbo</th><td class="text" style="color: #9b519b">You could also maybe do builds in a docker container, to make sure "host distro" is the same regardless of the users distro choice.</td><td class="time"><a href="#t2019-12-11T13:08:59" class="time">13:08</a></td></tr>
<tr id="t2019-12-11T13:10:50"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">erbo: and ship a 50GB docker container?</td><td class="time"><a href="#t2019-12-11T13:10:50" class="time">13:10</a></td></tr>
<tr id="t2019-12-11T13:11:50"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">i'm rather envisioning a setup that boots, and has the absolutely highest chances of supporting one target instantly. without downloads, without big rebuilds.</td><td class="time"><a href="#t2019-12-11T13:11:50" class="time">13:11</a></td></tr>
<tr id="t2019-12-11T13:13:42"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">tlwoerner: uninative helps with that, doesn't it?</td><td class="time"><a href="#t2019-12-11T13:13:42" class="time">13:13</a></td></tr>
<tr id="t2019-12-11T13:14:18"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">LetoThe2nd: ooh, i hadn't thought of making it bootable. that would solve the "host distro version" matching thing. but would mean you'd need drives for everyone in the class (which isn't too onerous)</td><td class="time"><a href="#t2019-12-11T13:14:18" class="time">13:14</a></td></tr>
<tr id="t2019-12-11T13:14:35"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">tlwoerner: i'm not thinking about classes.</td><td class="time"><a href="#t2019-12-11T13:14:35" class="time">13:14</a></td></tr>
<tr id="t2019-12-11T13:15:26"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">JaMa: isn't uninative about having the same host (native) tools? uninative doesn't setup sstate does it?</td><td class="time"><a href="#t2019-12-11T13:15:26" class="time">13:15</a></td></tr>
<tr id="t2019-12-11T13:16:54"><th class="nick" style="background: #9b519b">erbo</th><td class="text" style="color: #9b519b">LetoThe2nd: I usually bind mount the sstate-dirs, downloads, meta-data and tmp-dir etc into the container. So that the container doesn't ever change, it's basically just a poky-container with a few extra packages for conveniece.</td><td class="time"><a href="#t2019-12-11T13:16:54" class="time">13:16</a></td></tr>
<tr id="t2019-12-11T13:17:14"><th class="nick" style="background: #9b519b">erbo</th><td class="text" style="color: #9b519b">But sure, a bootable USB solves it too</td><td class="time"><a href="#t2019-12-11T13:17:14" class="time">13:17</a></td></tr>
<tr id="t2019-12-11T13:17:35"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">erbo: yeah. we do that too, and its all nice and such for people who know their way.</td><td class="time"><a href="#t2019-12-11T13:17:35" class="time">13:17</a></td></tr>
<tr id="t2019-12-11T13:18:02"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">i want something that i can give to somebody who literally has *no* *clue*</td><td class="time"><a href="#t2019-12-11T13:18:02" class="time">13:18</a></td></tr>
<tr id="t2019-12-11T13:18:20"><th class="nick" style="background: #9b519b">erbo</th><td class="text" style="color: #9b519b">Yeah then adding a layer of docker might not be the best thing to do :)</td><td class="time"><a href="#t2019-12-11T13:18:20" class="time">13:18</a></td></tr>
<tr id="t2019-12-11T13:19:24"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">bingo</td><td class="time"><a href="#t2019-12-11T13:19:24" class="time">13:19</a></td></tr>
<tr id="t2019-12-11T13:19:42"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">anything that requires manual interaction/setup is too much</td><td class="time"><a href="#t2019-12-11T13:19:42" class="time">13:19</a></td></tr>
<tr id="t2019-12-11T13:27:18"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">LetoThe2nd: <a href="https://dilbert.com/strip/1995-06-24" rel="nofollow">https://dilbert.com/strip/1995-06-24</a></td><td class="time"><a href="#t2019-12-11T13:27:18" class="time">13:27</a></td></tr>
<tr id="t2019-12-11T13:30:18"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">tlwoerner: yeah</td><td class="time"><a href="#t2019-12-11T13:30:18" class="time">13:30</a></td></tr>
<tr id="t2019-12-11T13:47:24"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">Hello there! I'm trying out YP through the use of Build Appliance.. I then ran a "bitbake core-image-minimal" as a simple test and ran into an error while building /home/builder/poky/meta/recipes-devtools/gcc/gcc-cross_9.2.bb.. well, it seems it does not build out of the box.. where should I look into, first ?</td><td class="time"><a href="#t2019-12-11T13:47:24" class="time">13:47</a></td></tr>
<tr id="t2019-12-11T13:47:42"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">build appliace?</td><td class="time"><a href="#t2019-12-11T13:47:42" class="time">13:47</a></td></tr>
<tr id="t2019-12-11T13:49:46"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">LetoThe2nd: yes, Build Appliance - Zeus 3.0</td><td class="time"><a href="#t2019-12-11T13:49:46" class="time">13:49</a></td></tr>
<tr id="t2019-12-11T13:50:09"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">PaowZ_: can you pointme to your source?</td><td class="time"><a href="#t2019-12-11T13:50:09" class="time">13:50</a></td></tr>
<tr id="t2019-12-11T13:50:24"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">The Build Appliance is a virtual machine which enables you to build and boot a custom embedded Linux image with the Yocto Project using a non-Linux development system</td><td class="time"><a href="#t2019-12-11T13:50:24" class="time">13:50</a></td></tr>
<tr id="t2019-12-11T13:50:28"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e"><a href="https://www.yoctoproject.org/software-overview/downloads/" rel="nofollow">https://www.yoctoproject.org/software-overview/downloads/</a></td><td class="time"><a href="#t2019-12-11T13:50:28" class="time">13:50</a></td></tr>
<tr id="t2019-12-11T13:51:06"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">I just ran that image into VirtualBox</td><td class="time"><a href="#t2019-12-11T13:51:06" class="time">13:51</a></td></tr>
<tr id="t2019-12-11T13:52:20"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">you see me surprised that the build appliance even is seeing new releases</td><td class="time"><a href="#t2019-12-11T13:52:20" class="time">13:52</a></td></tr>
<tr id="t2019-12-11T13:52:54"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">new package releases, you mean ?</td><td class="time"><a href="#t2019-12-11T13:52:54" class="time">13:52</a></td></tr>
<tr id="t2019-12-11T13:53:03"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">new yocto releases, i mean</td><td class="time"><a href="#t2019-12-11T13:53:03" class="time">13:53</a></td></tr>
<tr id="t2019-12-11T13:53:03"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">PaowZ_: what was the error?</td><td class="time"><a href="#t2019-12-11T13:53:03" class="time">13:53</a></td></tr>
<tr id="t2019-12-11T13:55:37"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">RP: <a href="https://snipboard.io/wQByfq.jpg" rel="nofollow">https://snipboard.io/wQByfq.jpg</a></td><td class="time"><a href="#t2019-12-11T13:55:37" class="time">13:55</a></td></tr>
<tr id="t2019-12-11T13:56:52"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">PaowZ_: if you "bitbake gcc-cross-x86_64 -c clean" and rerun the build do you get the same error?</td><td class="time"><a href="#t2019-12-11T13:56:52" class="time">13:56</a></td></tr>
<tr id="t2019-12-11T13:57:56"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">by "rerun the build", there is a specific command or I just "bitbake core-image..." ?</td><td class="time"><a href="#t2019-12-11T13:57:56" class="time">13:57</a></td></tr>
<tr id="t2019-12-11T13:58:31"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">I'm cleaning the way you advise, though..</td><td class="time"><a href="#t2019-12-11T13:58:31" class="time">13:58</a></td></tr>
<tr id="t2019-12-11T13:58:50"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">PaowZ_: just bitbake core-image... again</td><td class="time"><a href="#t2019-12-11T13:58:50" class="time">13:58</a></td></tr>
<tr id="t2019-12-11T13:59:18"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">ok.. I keep you posted.. thanks..</td><td class="time"><a href="#t2019-12-11T13:59:18" class="time">13:59</a></td></tr>
<tr id="t2019-12-11T13:59:41"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">PaowZ_: its unusual for gcc-cross to break that like. The times I've seen a VM do this before were often memory issues on the system :(</td><td class="time"><a href="#t2019-12-11T13:59:41" class="time">13:59</a></td></tr>
<tr id="t2019-12-11T14:00:09"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">PaowZ_: if it does exactly the same thing again its probably not memory, if it breaks randomly somewhere else each time, it probably is</td><td class="time"><a href="#t2019-12-11T14:00:09" class="time">14:00</a></td></tr>
<tr id="t2019-12-11T14:00:34"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">PaowZ_: but its the best place to start in figuring out what is wrong...</td><td class="time"><a href="#t2019-12-11T14:00:34" class="time">14:00</a></td></tr>
<tr id="t2019-12-11T14:01:31"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">interesting point, RP.. here the settings for the VM: 4cores, 2048MB for ram and 54GB for disk..</td><td class="time"><a href="#t2019-12-11T14:01:31" class="time">14:01</a></td></tr>
<tr id="t2019-12-11T14:02:21"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">aside, I have IO-APIC enabled and PAE disabled (don't need it, I think..)</td><td class="time"><a href="#t2019-12-11T14:02:21" class="time">14:02</a></td></tr>
<tr id="t2019-12-11T14:02:35"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">2048mb ram is a serious bummer</td><td class="time"><a href="#t2019-12-11T14:02:35" class="time">14:02</a></td></tr>
<tr id="t2019-12-11T14:02:51"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">too short ?</td><td class="time"><a href="#t2019-12-11T14:02:51" class="time">14:02</a></td></tr>
<tr id="t2019-12-11T14:03:14"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">yup</td><td class="time"><a href="#t2019-12-11T14:03:14" class="time">14:03</a></td></tr>
<tr id="t2019-12-11T14:03:32"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">ok.. well.. I gonna change the settings for upper amount..</td><td class="time"><a href="#t2019-12-11T14:03:32" class="time">14:03</a></td></tr>
<tr id="t2019-12-11T14:03:50"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">I keep you posted, guys, thanks for the responsiveness :)</td><td class="time"><a href="#t2019-12-11T14:03:50" class="time">14:03</a></td></tr>
<tr id="t2019-12-11T14:04:08"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">it hopefully shouldn't hit that hard, but "GB including the whole building host system is really, really tiny :P</td><td class="time"><a href="#t2019-12-11T14:04:08" class="time">14:04</a></td></tr>
<tr id="t2019-12-11T14:05:00"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">2GB is really short in my guess, when it comes to build toolchain, indeed.. I should have thought about it..</td><td class="time"><a href="#t2019-12-11T14:05:00" class="time">14:05</a></td></tr>
<tr id="t2019-12-11T14:07:53"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">PaowZ_: I'm more worried about whether there is an issue with the underlying memory hardware or the virtualisation mechanism. We've seen both give errors a bit like that...</td><td class="time"><a href="#t2019-12-11T14:07:53" class="time">14:07</a></td></tr>
<tr id="t2019-12-11T14:08:14"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">The virt issue was many years ago when it was much newer technology</td><td class="time"><a href="#t2019-12-11T14:08:14" class="time">14:08</a></td></tr>
<tr id="t2019-12-11T14:10:01"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">this used to be true, for virtualization mechanism, back then.. but now it tends to be quite reliable</td><td class="time"><a href="#t2019-12-11T14:10:01" class="time">14:10</a></td></tr>
<tr id="t2019-12-11T14:10:48"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">PaowZ_: see how the build goes, that should give a hint</td><td class="time"><a href="#t2019-12-11T14:10:48" class="time">14:10</a></td></tr>
<tr id="t2019-12-11T14:11:04"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">yup.. it's currently ongoing..</td><td class="time"><a href="#t2019-12-11T14:11:04" class="time">14:11</a></td></tr>
<tr id="t2019-12-11T14:11:16"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">thanks to the cache..</td><td class="time"><a href="#t2019-12-11T14:11:16" class="time">14:11</a></td></tr>
<tr id="t2019-12-11T14:12:39"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">PaowZ_: has it gotten past gcc-cross?</td><td class="time"><a href="#t2019-12-11T14:12:39" class="time">14:12</a></td></tr>
<tr id="t2019-12-11T14:22:16"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">RP: currently being built :)</td><td class="time"><a href="#t2019-12-11T14:22:16" class="time">14:22</a></td></tr>
<tr id="t2019-12-11T14:28:54"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">tlwoerner: maybe I misunderstood what you meant with "sstate-cache is a host-distro-specific directory, if the host distro version doesn't match, the hot sstate is ignored" but with uninative the ssate isn't specific to host distro and the path to sstate-cache or sstate mirror isn't included in the signatures, so it should be used just fine (as long as the metadata are matching)</td><td class="time"><a href="#t2019-12-11T14:28:54" class="time">14:28</a></td></tr>
<tr id="t2019-12-11T14:29:38"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">JaMa: ooh, i didn't know that! interesting</td><td class="time"><a href="#t2019-12-11T14:29:38" class="time">14:29</a></td></tr>
<tr id="t2019-12-11T14:30:01"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">tlwoerner: without uninative all native sstate will be in host distro specific LSB directory inside sstate-cache and indeed not reused in different distros and because target recipes now include native signatures, it will make whole sstate-cache host-distro specific</td><td class="time"><a href="#t2019-12-11T14:30:01" class="time">14:30</a></td></tr>
<tr id="t2019-12-11T14:32:11"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">yes, that's what I've seen. i got around that by mounting the same sstate directory into different hosts and running each build on each host but with one sstate. it inflated the sstate, but then ensured the cache was "hot" for anyone using it on their machine</td><td class="time"><a href="#t2019-12-11T14:32:11" class="time">14:32</a></td></tr>
<tr id="t2019-12-11T14:32:28"><th class="nick" style="background: #42427e">tlwoerner</th><td class="text" style="color: #42427e">but your suggestion would be much better. noted! thanks :-)</td><td class="time"><a href="#t2019-12-11T14:32:28" class="time">14:32</a></td></tr>
<tr id="t2019-12-11T14:35:46"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">RP: do_compile ok for gcc-cross-x86</td><td class="time"><a href="#t2019-12-11T14:35:46" class="time">14:35</a></td></tr>
<tr id="t2019-12-11T14:41:22"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">PaowZ_: I'd probably run memtest on the hardware that VM is running on</td><td class="time"><a href="#t2019-12-11T14:41:22" class="time">14:41</a></td></tr>
<tr id="t2019-12-11T14:41:39"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">PaowZ_: also possible it was some kind of parallel make race but less likely</td><td class="time"><a href="#t2019-12-11T14:41:39" class="time">14:41</a></td></tr>
<tr id="t2019-12-11T14:42:17"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">I'm wondering, what's the rationale behind having MACHINEOVERRIDES loosely set to MACHINE, forcing us to use prepends. We're leveraging this prepend stuff in some of our includes as well, but I discovered today that we should put those MACINESOVERRIDES =. *before* all `require` prepending to&nbsp;&nbsp;[e=13]pike [r=14]NickServ [t=15]#brootlin [y=16]alex [u=17]#guy [i=18]NamNam [o=19]atenart [20]paulk-leonov</td><td class="time"><a href="#t2019-12-11T14:42:17" class="time">14:42</a></td></tr>
<tr id="t2019-12-11T14:42:30"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">ugh</td><td class="time"><a href="#t2019-12-11T14:42:30" class="time">14:42</a></td></tr>
<tr id="t2019-12-11T14:42:56"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">I'm wondering, what's the rationale behind having MACHINEOVERRIDES loosely set to MACHINE, forcing us to use prepends. We're leveraging this prepend stuff in some of our includes as well, but I discovered today that we should put those MACHINESOVERRIDES =. *before* all `require` prepending to the said variable</td><td class="time"><a href="#t2019-12-11T14:42:56" class="time">14:42</a></td></tr>
<tr id="t2019-12-11T14:42:59"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">RP: Using "top" command I could estimate how heavy the threads build are.. It really needed 8GB at least..</td><td class="time"><a href="#t2019-12-11T14:42:59" class="time">14:42</a></td></tr>
<tr id="t2019-12-11T14:43:39"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: MACHINEOVERRIDES is what is added to OVERRIDES, not MACHINE</td><td class="time"><a href="#t2019-12-11T14:43:39" class="time">14:43</a></td></tr>
<tr id="t2019-12-11T14:43:56"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">PaowZ_: right, but that should have given an OOM error, not an assembler failure</td><td class="time"><a href="#t2019-12-11T14:43:56" class="time">14:43</a></td></tr>
<tr id="t2019-12-11T14:46:10"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">RP: MACHINE is in MACHINEOVERRIDES: <a href="http://git.yoctoproject.org/cgit.cgi/poky/tree/meta/conf/bitbake.conf#n740" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky/tree/meta/conf/bitbake.conf#n740</a></td><td class="time"><a href="#t2019-12-11T14:46:10" class="time">14:46</a></td></tr>
<tr id="t2019-12-11T14:46:47"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: exactly, so what is your question?</td><td class="time"><a href="#t2019-12-11T14:46:47" class="time">14:46</a></td></tr>
<tr id="t2019-12-11T14:47:10"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">it has a default, a machine can override it to what it needs if the default doesn't work?</td><td class="time"><a href="#t2019-12-11T14:47:10" class="time">14:47</a></td></tr>
<tr id="t2019-12-11T14:48:08"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: I guess the answer you probably are looking for is some machines may want to override the whole thing and not have MACHINE in there</td><td class="time"><a href="#t2019-12-11T14:48:08" class="time">14:48</a></td></tr>
<tr id="t2019-12-11T14:52:13"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">RP: In my mind, one would absolutely want MACHINE to be the rightmost part of MACHINEOVERRIDES</td><td class="time"><a href="#t2019-12-11T14:52:13" class="time">14:52</a></td></tr>
<tr id="t2019-12-11T14:52:37"><th class="nick" style="background: #539e9e">PaowZ_</th><td class="text" style="color: #539e9e">RP: "god knows.." ;)</td><td class="time"><a href="#t2019-12-11T14:52:37" class="time">14:52</a></td></tr>
<tr id="t2019-12-11T14:53:05"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: not if you're making some clone of a machine to change one setting and want it to otherwise behave as the original</td><td class="time"><a href="#t2019-12-11T14:53:05" class="time">14:53</a></td></tr>
<tr id="t2019-12-11T14:53:16"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: we even test that</td><td class="time"><a href="#t2019-12-11T14:53:16" class="time">14:53</a></td></tr>
<tr id="t2019-12-11T14:53:30"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">RP: we require the original machine conf file for that</td><td class="time"><a href="#t2019-12-11T14:53:30" class="time">14:53</a></td></tr>
<tr id="t2019-12-11T14:53:57"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">and MACHINEOVERRIDES the name of the required machine conf file</td><td class="time"><a href="#t2019-12-11T14:53:57" class="time">14:53</a></td></tr>
<tr id="t2019-12-11T14:54:09"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">which means we need this MACHINEOVERRIDES before the require</td><td class="time"><a href="#t2019-12-11T14:54:09" class="time">14:54</a></td></tr>
<tr id="t2019-12-11T14:55:06"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">I'm not saying it does not work. It just feels weird to me for this particular variable to "be forced" to have it prepended before doing requires</td><td class="time"><a href="#t2019-12-11T14:55:06" class="time">14:55</a></td></tr>
<tr id="t2019-12-11T14:55:36"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: well, I'm saying that people do use it like I describe and its very hard to undo an append/prepend so this is why its like this</td><td class="time"><a href="#t2019-12-11T14:55:36" class="time">14:55</a></td></tr>
<tr id="t2019-12-11T14:56:32"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: I suspect its expected that most machines would just force a new value and include MACHINE</td><td class="time"><a href="#t2019-12-11T14:56:32" class="time">14:56</a></td></tr>
<tr id="t2019-12-11T14:56:41"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">then no prepending required</td><td class="time"><a href="#t2019-12-11T14:56:41" class="time">14:56</a></td></tr>
<tr id="t2019-12-11T14:59:38"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">RP: that means that we need to force MACHINEOVERRIDES for each similar machine, error-prone if you have many different includes and MACHINEOVERRIDES.</td><td class="time"><a href="#t2019-12-11T14:59:38" class="time">14:59</a></td></tr>
<tr id="t2019-12-11T15:00:09"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: so build it carefully with prepends and appends</td><td class="time"><a href="#t2019-12-11T15:00:09" class="time">15:00</a></td></tr>
<tr id="t2019-12-11T15:00:12"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">RP: Is there any known use case for not wanting MACHINE in MACHINEOVERRIDES?</td><td class="time"><a href="#t2019-12-11T15:00:12" class="time">15:00</a></td></tr>
<tr id="t2019-12-11T15:00:23"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: yes, I described it above</td><td class="time"><a href="#t2019-12-11T15:00:23" class="time">15:00</a></td></tr>
<tr id="t2019-12-11T15:00:58"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: I create a machine called "qemux86copy", I don't want "qemux86copy" in overrides</td><td class="time"><a href="#t2019-12-11T15:00:58" class="time">15:00</a></td></tr>
<tr id="t2019-12-11T15:01:46"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: mentioned in meta/lib/oeqa/selftest/cases/sstatetests.py and used by several people as a way of testing various pieces of the system</td><td class="time"><a href="#t2019-12-11T15:01:46" class="time">15:01</a></td></tr>
<tr id="t2019-12-11T15:01:57"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">RP: if we don;t leverage qemux86copy anywhere, it does not hurt to have it MACHINEOVERRIDES</td><td class="time"><a href="#t2019-12-11T15:01:57" class="time">15:01</a></td></tr>
<tr id="t2019-12-11T15:02:06"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">RP: ok, will read. Thanks ,anyway was just being curious :)</td><td class="time"><a href="#t2019-12-11T15:02:06" class="time">15:02</a></td></tr>
<tr id="t2019-12-11T15:02:29"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: extra overrides slow down the datastore and have a habit of being dangerous IMO</td><td class="time"><a href="#t2019-12-11T15:02:29" class="time">15:02</a></td></tr>
<tr id="t2019-12-11T15:02:45"><td class="action" colspan="2">* RP is suitably scared of overrides but I know how the code works :(</td><td><a href="#t2019-12-11T15:02:45" class="time">15:02</a></td></tr>
<tr id="t2019-12-11T15:03:33"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: you are correct in that it could have been done differently however it was done this way and it has pros/cons</td><td class="time"><a href="#t2019-12-11T15:03:33" class="time">15:03</a></td></tr>
<tr id="t2019-12-11T15:03:48"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">well, I'm scared too now (again) because I thought we already fixed our disordered MACHINEOVERRIDES but no :) forgot this one</td><td class="time"><a href="#t2019-12-11T15:03:48" class="time">15:03</a></td></tr>
<tr id="t2019-12-11T15:05:48"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">RP: I just wanted to hear if there was a very specific use case which warranted this behavior or if it just turned out to be the chosen implementation. I.e. I wanted to know if I should say to people in my company "it is how it is" or "it is like that because of..."</td><td class="time"><a href="#t2019-12-11T15:05:48" class="time">15:05</a></td></tr>
<tr id="t2019-12-11T15:06:23"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">your qemu example looks like a very specific use case so I'll read that file. Thanks for having taken the time to answer me, much appreciated</td><td class="time"><a href="#t2019-12-11T15:06:23" class="time">15:06</a></td></tr>
<tr id="t2019-12-11T15:06:24"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: the principle use case is to allow overriding when MACHINE isn't what you want in overrides</td><td class="time"><a href="#t2019-12-11T15:06:24" class="time">15:06</a></td></tr>
<tr id="t2019-12-11T15:06:52"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">changing an append/prepend is near impossible so that is why we don't use them here</td><td class="time"><a href="#t2019-12-11T15:06:52" class="time">15:06</a></td></tr>
<tr id="t2019-12-11T15:06:53"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">RP: understood, I was failing to see the "when MACHINE isn't what you want in overrides" use case</td><td class="time"><a href="#t2019-12-11T15:06:53" class="time">15:06</a></td></tr>
<tr id="t2019-12-11T15:07:30"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">RP: yeah and we don't want to use _remove as much as possible</td><td class="time"><a href="#t2019-12-11T15:07:30" class="time">15:07</a></td></tr>
<tr id="t2019-12-11T15:07:40"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: I'd prefer never ;-)</td><td class="time"><a href="#t2019-12-11T15:07:40" class="time">15:07</a></td></tr>
<tr id="t2019-12-11T15:09:47"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: using _remove in the middle of overrides construction would also be asking for trouble/performance problems</td><td class="time"><a href="#t2019-12-11T15:09:47" class="time">15:09</a></td></tr>
<tr id="t2019-12-11T15:12:36"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: sorry, I think I'm feeling jaded today :/</td><td class="time"><a href="#t2019-12-11T15:12:36" class="time">15:12</a></td></tr>
<tr id="t2019-12-11T15:13:18"><td class="action" colspan="2">* RP has an inbox of email about how performance sucks and we have all these other problems :/</td><td><a href="#t2019-12-11T15:13:18" class="time">15:13</a></td></tr>
<tr id="t2019-12-11T15:13:40"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">RP: pipe to /dev/null and let people screw themselves :)</td><td class="time"><a href="#t2019-12-11T15:13:40" class="time">15:13</a></td></tr>
<tr id="t2019-12-11T15:14:25"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">LetoThe2nd: perhaps you could take care of bug triage this week :)</td><td class="time"><a href="#t2019-12-11T15:14:25" class="time">15:14</a></td></tr>
<tr id="t2019-12-11T15:15:58"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">RP: i can declare it as a yocto bof?</td><td class="time"><a href="#t2019-12-11T15:15:58" class="time">15:15</a></td></tr>
<tr id="t2019-12-11T15:23:16"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">LetoThe2nd: not really :)</td><td class="time"><a href="#t2019-12-11T15:23:16" class="time">15:23</a></td></tr>
<tr id="t2019-12-11T15:23:26"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">RP: no deal then.</td><td class="time"><a href="#t2019-12-11T15:23:26" class="time">15:23</a></td></tr>
<tr id="t2019-12-11T15:25:19"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: Here's my PoC on how I think the AB hash equiv failure could be fixed: <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=jpew/reproducible&amp;id=2030f68d109a1f7e9c3fd4635b5a95724e18ce22" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=jpew/reproducible&amp;id=2030f68d109a1f7e9c3fd4635b5a95724e18ce22</a> I don't think it's doing the "uncover" in the correct location, and it royal screws up the build stats reporting (but I have an idea for that).</td><td class="time"><a href="#t2019-12-11T15:25:19" class="time">15:25</a></td></tr>
<tr id="t2019-12-11T15:30:30"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: Allowing multiple "normal" task exection?</td><td class="time"><a href="#t2019-12-11T15:30:30" class="time">15:30</a></td></tr>
<tr id="t2019-12-11T15:30:51"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: that breaks a ton of assumptions all over the system :(</td><td class="time"><a href="#t2019-12-11T15:30:51" class="time">15:30</a></td></tr>
<tr id="t2019-12-11T15:31:10"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: Ya, basically, but only when they were previously covered by setscene</td><td class="time"><a href="#t2019-12-11T15:31:10" class="time">15:31</a></td></tr>
<tr id="t2019-12-11T15:31:54"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: e.g. were previously skipped because they were covered by setscene</td><td class="time"><a href="#t2019-12-11T15:31:54" class="time">15:31</a></td></tr>
<tr id="t2019-12-11T15:33:22"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: ah, right. I thought the code could already handle this, we just disabled it due to problems?</td><td class="time"><a href="#t2019-12-11T15:33:22" class="time">15:33</a></td></tr>
<tr id="t2019-12-11T15:33:57"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: Maybe... but that might of been before we had the "force tasks to be equivalent"</td><td class="time"><a href="#t2019-12-11T15:33:57" class="time">15:33</a></td></tr>
<tr id="t2019-12-11T15:34:12"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: Without that, stuff was reexecuting all the time</td><td class="time"><a href="#t2019-12-11T15:34:12" class="time">15:34</a></td></tr>
<tr id="t2019-12-11T15:34:20"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">(unnecessarily)</td><td class="time"><a href="#t2019-12-11T15:34:20" class="time">15:34</a></td></tr>
<tr id="t2019-12-11T15:34:43"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">I think we need it back for the specific (and rare) case where the server can't give us the hash we want</td><td class="time"><a href="#t2019-12-11T15:34:43" class="time">15:34</a></td></tr>
<tr id="t2019-12-11T15:36:20"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: I don't like it, we disabled this for a reason :/</td><td class="time"><a href="#t2019-12-11T15:36:20" class="time">15:36</a></td></tr>
<tr id="t2019-12-11T16:08:08"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: Hmm.... Ok. I'll keep thinking about it.</td><td class="time"><a href="#t2019-12-11T16:08:08" class="time">16:08</a></td></tr>
<tr id="t2019-12-11T16:12:21"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: sorry, not trying to be negative, I appreciate the thought. I just worry about the problems we had with this previously. Perhaps it would be ok in the rare case this happens...</td><td class="time"><a href="#t2019-12-11T16:12:21" class="time">16:12</a></td></tr>
<tr id="t2019-12-11T16:12:32"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: I'll ponder it some more too</td><td class="time"><a href="#t2019-12-11T16:12:32" class="time">16:12</a></td></tr>
<tr id="t2019-12-11T16:13:07"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: It's fine :)</td><td class="time"><a href="#t2019-12-11T16:13:07" class="time">16:13</a></td></tr>
<tr id="t2019-12-11T16:13:35"><td class="action" colspan="2">* RP wonders why buildperf is breaking but only for release builds</td><td><a href="#t2019-12-11T16:13:35" class="time">16:13</a></td></tr>
<tr id="t2019-12-11T16:13:47"><td class="action" colspan="2">* RP suspects need to file another bug</td><td><a href="#t2019-12-11T16:13:47" class="time">16:13</a></td></tr>
<tr id="t2019-12-11T16:14:13"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">reproducibile builds failed the selftests for 3 out of 4 in the release build too :(</td><td class="time"><a href="#t2019-12-11T16:14:13" class="time">16:14</a></td></tr>
<tr id="t2019-12-11T16:17:35"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: Do you have a log on that one?</td><td class="time"><a href="#t2019-12-11T16:17:35" class="time">16:17</a></td></tr>
<tr id="t2019-12-11T16:19:06"><th class="nick" style="background: #57a657">armpit</th><td class="text" style="color: #57a657">RP, the buildperf systems are Union</td><td class="time"><a href="#t2019-12-11T16:19:06" class="time">16:19</a></td></tr>
<tr id="t2019-12-11T16:19:37"><th class="nick" style="background: #57a657">armpit</th><td class="text" style="color: #57a657">RP, are the failures saving perf results?</td><td class="time"><a href="#t2019-12-11T16:19:37" class="time">16:19</a></td></tr>
<tr id="t2019-12-11T16:20:12"><td class="action" colspan="2">* armpit should just go look</td><td><a href="#t2019-12-11T16:20:12" class="time">16:20</a></td></tr>
<tr id="t2019-12-11T16:20:53"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: selftests from <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/83/builds/570" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/83/builds/570</a></td><td class="time"><a href="#t2019-12-11T16:20:53" class="time">16:20</a></td></tr>
<tr id="t2019-12-11T16:21:00"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: will be the perl issue I expect</td><td class="time"><a href="#t2019-12-11T16:21:00" class="time">16:21</a></td></tr>
<tr id="t2019-12-11T16:21:27"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">armpit: /home/pokybuild/yocto-worker/buildperf-ubuntu1604/yocto-autobuilder-helper/scripts/upload-error-reports: line 11: cd: /home/pokybuild/yocto-worker/buildperf-ubuntu1604/build/build/../: No such file or directory</td><td class="time"><a href="#t2019-12-11T16:21:27" class="time">16:21</a></td></tr>
<tr id="t2019-12-11T16:21:30"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">whatever that means</td><td class="time"><a href="#t2019-12-11T16:21:30" class="time">16:21</a></td></tr>
<tr id="t2019-12-11T16:21:50"><th class="nick" style="background: #57a657">armpit</th><td class="text" style="color: #57a657">two build dirs ??</td><td class="time"><a href="#t2019-12-11T16:21:50" class="time">16:21</a></td></tr>
<tr id="t2019-12-11T16:22:38"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">armpit: normal</td><td class="time"><a href="#t2019-12-11T16:22:38" class="time">16:22</a></td></tr>
<tr id="t2019-12-11T16:22:45"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">armpit: one is buildbot, one is ours</td><td class="time"><a href="#t2019-12-11T16:22:45" class="time">16:22</a></td></tr>
<tr id="t2019-12-11T16:22:48"><th class="nick" style="background: #57a657">armpit</th><td class="text" style="color: #57a657">there have been a range of issue. your master-next build where lookin for /master</td><td class="time"><a href="#t2019-12-11T16:22:48" class="time">16:22</a></td></tr>
<tr id="t2019-12-11T16:23:03"><th class="nick" style="background: #57a657">armpit</th><td class="text" style="color: #57a657">I opened a bug on that one</td><td class="time"><a href="#t2019-12-11T16:23:03" class="time">16:23</a></td></tr>
<tr id="t2019-12-11T16:23:14"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">armpit: master-next would look for master to compare against</td><td class="time"><a href="#t2019-12-11T16:23:14" class="time">16:23</a></td></tr>
<tr id="t2019-12-11T16:23:30"><th class="nick" style="background: #57a657">armpit</th><td class="text" style="color: #57a657">it was looking for /master dir to save</td><td class="time"><a href="#t2019-12-11T16:23:30" class="time">16:23</a></td></tr>
<tr id="t2019-12-11T16:24:18"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: One of them looks like libgcc, I don't think thats one of the usual perl ones</td><td class="time"><a href="#t2019-12-11T16:24:18" class="time">16:24</a></td></tr>
<tr id="t2019-12-11T16:24:41"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: this is the problem with failures, that mask things</td><td class="time"><a href="#t2019-12-11T16:24:41" class="time">16:24</a></td></tr>
<tr id="t2019-12-11T16:24:47"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">s/that/they/</td><td class="time"><a href="#t2019-12-11T16:24:47" class="time">16:24</a></td></tr>
<tr id="t2019-12-11T16:26:08"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: Ya :(</td><td class="time"><a href="#t2019-12-11T16:26:08" class="time">16:26</a></td></tr>
<tr id="t2019-12-11T16:26:24"><td class="action" colspan="2">* JPEW really needs to get the diffoscope reporting into the test result</td><td><a href="#t2019-12-11T16:26:24" class="time">16:26</a></td></tr>
<tr id="t2019-12-11T16:30:16"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">should unzip be in HOSTTOOLS? (there is gunzip already), today I've started seeing do_unpack failures "/bin/sh: 1: unzip: not found</td><td class="time"><a href="#t2019-12-11T16:30:16" class="time">16:30</a></td></tr>
<tr id="t2019-12-11T16:40:09"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JaMa: doesn't the fetcher code add an unzip-native depends (or zip-native or whatever?)</td><td class="time"><a href="#t2019-12-11T16:40:09" class="time">16:40</a></td></tr>
<tr id="t2019-12-11T16:40:43"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JaMa: gzip is common for sources and our bootstrap, zip, less so on linux</td><td class="time"><a href="#t2019-12-11T16:40:43" class="time">16:40</a></td></tr>
<tr id="t2019-12-11T16:42:44"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JaMa: yes, it does in base.bbclass</td><td class="time"><a href="#t2019-12-11T16:42:44" class="time">16:42</a></td></tr>
<tr id="t2019-12-11T16:56:46"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">Anyone know offhand if oe.package/package_manager/sdk/rootfs provide methods to produce the list of files for an installed package (ideally, all installed packages) in a rootfs/sysroot/sdk?</td><td class="time"><a href="#t2019-12-11T16:56:46" class="time">16:56</a></td></tr>
<tr id="t2019-12-11T16:57:04"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">looking to provide a recipe/files mapping in a sysroot in a non-package-manager-specific way</td><td class="time"><a href="#t2019-12-11T16:57:04" class="time">16:57</a></td></tr>
<tr id="t2019-12-11T17:02:18"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">how is TARGET_ARCH set? i cant find the history for it in `bitbake -e`</td><td class="time"><a href="#t2019-12-11T17:02:18" class="time">17:02</a></td></tr>
<tr id="t2019-12-11T17:07:19"><td class="nickchange" colspan="2">*** ka6sox is now known as zz_ka6sox</td><td><a href="#t2019-12-11T17:07:19" class="time">17:07</a></td></tr>
<tr id="t2019-12-11T17:10:40"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">hi all, i want to support two versions of the kernel, built from the same source, dev and rel</td><td class="time"><a href="#t2019-12-11T17:10:40" class="time">17:10</a></td></tr>
<tr id="t2019-12-11T17:11:19"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">i am wondering what's the best approach to this, without involving yocto-kernel-cache</td><td class="time"><a href="#t2019-12-11T17:11:19" class="time">17:11</a></td></tr>
<tr id="t2019-12-11T17:12:05"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">one thing that pops up in the manuals is to have config fragments that enable features... so with this scheme i'd have a stripped down rel kernel, with features adding the dev stuff on top</td><td class="time"><a href="#t2019-12-11T17:12:05" class="time">17:12</a></td></tr>
<tr id="t2019-12-11T17:12:17"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">marble_visions: do i understand correctly that you have your own kernel tree, that is you dont want/cannot use the default yocto one</td><td class="time"><a href="#t2019-12-11T17:12:17" class="time">17:12</a></td></tr>
<tr id="t2019-12-11T17:12:56"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">milloni: the kernel comes from a semi vendor, namely nxp, via the meta-fsl-bsp-* layers</td><td class="time"><a href="#t2019-12-11T17:12:56" class="time">17:12</a></td></tr>
<tr id="t2019-12-11T17:13:27"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">and i'm not sure how much of the upstream yocto kernel dev practices they follow, i need to doublecheck</td><td class="time"><a href="#t2019-12-11T17:13:27" class="time">17:13</a></td></tr>
<tr id="t2019-12-11T17:13:36"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">and you want to continue using their recipe, pointing to the same git commit, just use a different config?</td><td class="time"><a href="#t2019-12-11T17:13:36" class="time">17:13</a></td></tr>
<tr id="t2019-12-11T17:13:51"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">exactly, different configs*</td><td class="time"><a href="#t2019-12-11T17:13:51" class="time">17:13</a></td></tr>
<tr id="t2019-12-11T17:14:02"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">and i guess i would select the configs on the image-level</td><td class="time"><a href="#t2019-12-11T17:14:02" class="time">17:14</a></td></tr>
<tr id="t2019-12-11T17:14:30"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">although i'd like all of them to be build at the same time.. since there won't be any complex dependencies between kernels and userspace</td><td class="time"><a href="#t2019-12-11T17:14:30" class="time">17:14</a></td></tr>
<tr id="t2019-12-11T17:14:47"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">i suppose you dont want to keep two different configs</td><td class="time"><a href="#t2019-12-11T17:14:47" class="time">17:14</a></td></tr>
<tr id="t2019-12-11T17:15:22"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">because you want to avoid having an overlap between (and then having to be careful that they dont become out of sync)?</td><td class="time"><a href="#t2019-12-11T17:15:22" class="time">17:15</a></td></tr>
<tr id="t2019-12-11T17:15:22"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">actually i'd like to</td><td class="time"><a href="#t2019-12-11T17:15:22" class="time">17:15</a></td></tr>
<tr id="t2019-12-11T17:15:41"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">oh yeah..</td><td class="time"><a href="#t2019-12-11T17:15:41" class="time">17:15</a></td></tr>
<tr id="t2019-12-11T17:15:57"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">what's the alternative? kernel feature selection?</td><td class="time"><a href="#t2019-12-11T17:15:57" class="time">17:15</a></td></tr>
<tr id="t2019-12-11T17:16:20"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">there are config "fragments"</td><td class="time"><a href="#t2019-12-11T17:16:20" class="time">17:16</a></td></tr>
<tr id="t2019-12-11T17:16:49"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">so you would have your defconfig for your rel build</td><td class="time"><a href="#t2019-12-11T17:16:49" class="time">17:16</a></td></tr>
<tr id="t2019-12-11T17:17:02"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">and then assume for your dev build you want to enable additional options</td><td class="time"><a href="#t2019-12-11T17:17:02" class="time">17:17</a></td></tr>
<tr id="t2019-12-11T17:17:14"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">you would put those options in a config fragment</td><td class="time"><a href="#t2019-12-11T17:17:14" class="time">17:17</a></td></tr>
<tr id="t2019-12-11T17:17:45"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">yep, that was the cleanest i could figure out</td><td class="time"><a href="#t2019-12-11T17:17:45" class="time">17:17</a></td></tr>
<tr id="t2019-12-11T17:18:05"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">but first, you want to be able to build rel and dev builds</td><td class="time"><a href="#t2019-12-11T17:18:05" class="time">17:18</a></td></tr>
<tr id="t2019-12-11T17:18:25"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">it seems to me that the best way to implement this is this</td><td class="time"><a href="#t2019-12-11T17:18:25" class="time">17:18</a></td></tr>
<tr id="t2019-12-11T17:19:08"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">you'd create two distro configs</td><td class="time"><a href="#t2019-12-11T17:19:08" class="time">17:19</a></td></tr>
<tr id="t2019-12-11T17:19:22"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">one for rel the other dev</td><td class="time"><a href="#t2019-12-11T17:19:22" class="time">17:19</a></td></tr>
<tr id="t2019-12-11T17:19:59"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">and that's going to tweak the options you want for your rel/dev images</td><td class="time"><a href="#t2019-12-11T17:19:59" class="time">17:19</a></td></tr>
<tr id="t2019-12-11T17:20:25"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">so it would be one distro, two images?</td><td class="time"><a href="#t2019-12-11T17:20:25" class="time">17:20</a></td></tr>
<tr id="t2019-12-11T17:20:45"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">two distros</td><td class="time"><a href="#t2019-12-11T17:20:45" class="time">17:20</a></td></tr>
<tr id="t2019-12-11T17:20:58"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">or actually, i suppose a two machine configs would make more sense</td><td class="time"><a href="#t2019-12-11T17:20:58" class="time">17:20</a></td></tr>
<tr id="t2019-12-11T17:21:13"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">so, do you understand the distinction between distro, machine, and image?</td><td class="time"><a href="#t2019-12-11T17:21:13" class="time">17:21</a></td></tr>
<tr id="t2019-12-11T17:21:48"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">i know they're distinct, but i don't know the details</td><td class="time"><a href="#t2019-12-11T17:21:48" class="time">17:21</a></td></tr>
<tr id="t2019-12-11T17:21:58"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">if it's in the manuals i will find it</td><td class="time"><a href="#t2019-12-11T17:21:58" class="time">17:21</a></td></tr>
<tr id="t2019-12-11T17:22:13"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">but if there is any arcane knowledge please share :)</td><td class="time"><a href="#t2019-12-11T17:22:13" class="time">17:22</a></td></tr>
<tr id="t2019-12-11T17:22:30"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">it's not really arcane knowledge, it's just a bit fuzzy...</td><td class="time"><a href="#t2019-12-11T17:22:30" class="time">17:22</a></td></tr>
<tr id="t2019-12-11T17:22:46"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">hopefully someone will correct me if im wrong, but here's my understanding</td><td class="time"><a href="#t2019-12-11T17:22:46" class="time">17:22</a></td></tr>
<tr id="t2019-12-11T17:23:12"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">first, image is defined by your image recipe, and it's just a regular recipe</td><td class="time"><a href="#t2019-12-11T17:23:12" class="time">17:23</a></td></tr>
<tr id="t2019-12-11T17:23:24"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">this is important and a lot of people miss this</td><td class="time"><a href="#t2019-12-11T17:23:24" class="time">17:23</a></td></tr>
<tr id="t2019-12-11T17:23:55"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">an image recipe defines how an image is built, it will use the artifacts built from other recipes etc, but the way it is implemented it's just a regular recipe</td><td class="time"><a href="#t2019-12-11T17:23:55" class="time">17:23</a></td></tr>
<tr id="t2019-12-11T17:24:19"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">this is important because it means any option set in the image recipe only affects the image recipe</td><td class="time"><a href="#t2019-12-11T17:24:19" class="time">17:24</a></td></tr>
<tr id="t2019-12-11T17:25:28"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">okay</td><td class="time"><a href="#t2019-12-11T17:25:28" class="time">17:25</a></td></tr>
<tr id="t2019-12-11T17:25:42"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">it's a common mistake to set let's say PREFERRED_VERSION_virtual/kernel in the image recipe and think it's going to affect the entire build</td><td class="time"><a href="#t2019-12-11T17:25:42" class="time">17:25</a></td></tr>
<tr id="t2019-12-11T17:26:16"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">so in your specific case we're going to leave the image reciple alone</td><td class="time"><a href="#t2019-12-11T17:26:16" class="time">17:26</a></td></tr>
<tr id="t2019-12-11T17:26:25"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">the other two set global build options</td><td class="time"><a href="#t2019-12-11T17:26:25" class="time">17:26</a></td></tr>
<tr id="t2019-12-11T17:26:33"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">i.e distro and machine</td><td class="time"><a href="#t2019-12-11T17:26:33" class="time">17:26</a></td></tr>
<tr id="t2019-12-11T17:26:52"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">which means that any option you set there will affect every recipe in the build</td><td class="time"><a href="#t2019-12-11T17:26:52" class="time">17:26</a></td></tr>
<tr id="t2019-12-11T17:27:16"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">this is perfect for making build-wide tweaks</td><td class="time"><a href="#t2019-12-11T17:27:16" class="time">17:27</a></td></tr>
<tr id="t2019-12-11T17:27:30"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">RP: looks like unzip issue might be caused by broken sstate for it (run out of disk space during the build last night), the interpretrer doesn't look right sysroots-components/x86_64/unzip-native/usr/bin/unzip: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /jenkins, for GNU/Linux 3.2.0, BuildID[sha1]=1c1124606c58a4945ee41e0a453376b9827bb5d7, stripped</td><td class="time"><a href="#t2019-12-11T17:27:30" class="time">17:27</a></td></tr>
<tr id="t2019-12-11T17:27:56"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">i said the concept is a bit fuzzy because to a degree it's a matter of convention what should go into distro and what should go into the machine</td><td class="time"><a href="#t2019-12-11T17:27:56" class="time">17:27</a></td></tr>
<tr id="t2019-12-11T17:28:10"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">both are build-wide</td><td class="time"><a href="#t2019-12-11T17:28:10" class="time">17:28</a></td></tr>
<tr id="t2019-12-11T17:28:18"><th class="nick" style="background: #4b904b">JaMa</th><td class="text" style="color: #4b904b">make interpreter also doesn't look very complete sysroots-components/x86_64/make-native/usr/bin/make: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/l, for GNU/Linux 3.2.0, BuildID[sha1]=9b552261fb11831ed9c357668beae0962cb967d4, stripped - actually it's in all native binaries I've checked now</td><td class="time"><a href="#t2019-12-11T17:28:18" class="time">17:28</a></td></tr>
<tr id="t2019-12-11T17:28:35"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">milloni: right</td><td class="time"><a href="#t2019-12-11T17:28:35" class="time">17:28</a></td></tr>
<tr id="t2019-12-11T17:28:58"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">marble_visions: but basically, i assume you've got your bsp for the board that you're using?</td><td class="time"><a href="#t2019-12-11T17:28:58" class="time">17:28</a></td></tr>
<tr id="t2019-12-11T17:29:04"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">does it define a machine config?</td><td class="time"><a href="#t2019-12-11T17:29:04" class="time">17:29</a></td></tr>
<tr id="t2019-12-11T17:30:11"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">it does</td><td class="time"><a href="#t2019-12-11T17:30:11" class="time">17:30</a></td></tr>
<tr id="t2019-12-11T17:30:29"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">so lets say your machine config is called machine.conf</td><td class="time"><a href="#t2019-12-11T17:30:29" class="time">17:30</a></td></tr>
<tr id="t2019-12-11T17:30:41"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">in your layer, i would create a new machine config</td><td class="time"><a href="#t2019-12-11T17:30:41" class="time">17:30</a></td></tr>
<tr id="t2019-12-11T17:30:56"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">conf/machine/myproject-dev.conf</td><td class="time"><a href="#t2019-12-11T17:30:56" class="time">17:30</a></td></tr>
<tr id="t2019-12-11T17:31:03"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">put</td><td class="time"><a href="#t2019-12-11T17:31:03" class="time">17:31</a></td></tr>
<tr id="t2019-12-11T17:31:16"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">require conf/machine/machine.conf</td><td class="time"><a href="#t2019-12-11T17:31:16" class="time">17:31</a></td></tr>
<tr id="t2019-12-11T17:31:33"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">and then below that, anything you want to set for you machine</td><td class="time"><a href="#t2019-12-11T17:31:33" class="time">17:31</a></td></tr>
<tr id="t2019-12-11T17:32:11"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">now we just need to figure out how to conditionally include a kernel config fragment based on the machine</td><td class="time"><a href="#t2019-12-11T17:32:11" class="time">17:32</a></td></tr>
<tr id="t2019-12-11T17:33:05"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">i guess the quick and dirty way would be in local.conf with the VAR[var] syntax?</td><td class="time"><a href="#t2019-12-11T17:33:05" class="time">17:33</a></td></tr>
<tr id="t2019-12-11T17:33:42"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">i see uboot does this with UBOOT_CONFIG[mfg/nand/etc]</td><td class="time"><a href="#t2019-12-11T17:33:42" class="time">17:33</a></td></tr>
<tr id="t2019-12-11T17:33:59"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">im not familair with that syntax</td><td class="time"><a href="#t2019-12-11T17:33:59" class="time">17:33</a></td></tr>
<tr id="t2019-12-11T17:34:02"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">i was thinking</td><td class="time"><a href="#t2019-12-11T17:34:02" class="time">17:34</a></td></tr>
<tr id="t2019-12-11T17:34:15"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">SRC_URI += "debug-config.cfg"</td><td class="time"><a href="#t2019-12-11T17:34:15" class="time">17:34</a></td></tr>
<tr id="t2019-12-11T17:34:19"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">sorry</td><td class="time"><a href="#t2019-12-11T17:34:19" class="time">17:34</a></td></tr>
<tr id="t2019-12-11T17:34:24"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">SRC_URI += "file://debug-config.cfg"</td><td class="time"><a href="#t2019-12-11T17:34:24" class="time">17:34</a></td></tr>
<tr id="t2019-12-11T17:34:37"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">expect you would only append that for your debug machine</td><td class="time"><a href="#t2019-12-11T17:34:37" class="time">17:34</a></td></tr>
<tr id="t2019-12-11T17:35:01"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">not sure but i think this may be the syntax:</td><td class="time"><a href="#t2019-12-11T17:35:01" class="time">17:35</a></td></tr>
<tr id="t2019-12-11T17:35:17"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">SRC_URI_myproject-dev += "file://debug-config.cfg"</td><td class="time"><a href="#t2019-12-11T17:35:17" class="time">17:35</a></td></tr>
<tr id="t2019-12-11T17:35:30"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">means only append to SRC_URI for MACHINE myproject-dev</td><td class="time"><a href="#t2019-12-11T17:35:30" class="time">17:35</a></td></tr>
<tr id="t2019-12-11T17:36:04"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">and i select MACHINE when setting up the build</td><td class="time"><a href="#t2019-12-11T17:36:04" class="time">17:36</a></td></tr>
<tr id="t2019-12-11T17:36:19"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">when sourcing yocto setup</td><td class="time"><a href="#t2019-12-11T17:36:19" class="time">17:36</a></td></tr>
<tr id="t2019-12-11T17:36:25"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">okay, that looks reasonable</td><td class="time"><a href="#t2019-12-11T17:36:25" class="time">17:36</a></td></tr>
<tr id="t2019-12-11T17:36:42"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">yeah, either in local.conf or by setting MACHINE env variable</td><td class="time"><a href="#t2019-12-11T17:36:42" class="time">17:36</a></td></tr>
<tr id="t2019-12-11T17:37:28"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">the sstate cache will be valid betwen dev and rel builds (most of it)</td><td class="time"><a href="#t2019-12-11T17:37:28" class="time">17:37</a></td></tr>
<tr id="t2019-12-11T17:38:08"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">so you won't have to rebuild too much, and you wont have to maintain separate layers for your debug build</td><td class="time"><a href="#t2019-12-11T17:38:08" class="time">17:38</a></td></tr>
<tr id="t2019-12-11T17:38:31"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">we went for a separate layer approach on our project and it kind of proved to be a pain in the ass :)</td><td class="time"><a href="#t2019-12-11T17:38:31" class="time">17:38</a></td></tr>
<tr id="t2019-12-11T17:38:59"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">i hear zeus has support for building multiple machines at the same time. not sure how that works but it makes it even simpler</td><td class="time"><a href="#t2019-12-11T17:38:59" class="time">17:38</a></td></tr>
<tr id="t2019-12-11T17:39:09"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">potentially you can build both with one command (?)</td><td class="time"><a href="#t2019-12-11T17:39:09" class="time">17:39</a></td></tr>
<tr id="t2019-12-11T17:39:13"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">zeus?</td><td class="time"><a href="#t2019-12-11T17:39:13" class="time">17:39</a></td></tr>
<tr id="t2019-12-11T17:39:19"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">the latest version of yocto</td><td class="time"><a href="#t2019-12-11T17:39:19" class="time">17:39</a></td></tr>
<tr id="t2019-12-11T17:39:22"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">ooh</td><td class="time"><a href="#t2019-12-11T17:39:22" class="time">17:39</a></td></tr>
<tr id="t2019-12-11T17:39:23"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">nice</td><td class="time"><a href="#t2019-12-11T17:39:23" class="time">17:39</a></td></tr>
<tr id="t2019-12-11T17:40:20"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">milloni: thanks for the info, it puts things into perspective</td><td class="time"><a href="#t2019-12-11T17:40:20" class="time">17:40</a></td></tr>
<tr id="t2019-12-11T17:40:30"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">i'll bet on two mach confs</td><td class="time"><a href="#t2019-12-11T17:40:30" class="time">17:40</a></td></tr>
<tr id="t2019-12-11T17:40:35"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">see where that takes me</td><td class="time"><a href="#t2019-12-11T17:40:35" class="time">17:40</a></td></tr>
<tr id="t2019-12-11T17:40:54"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">im happy to help, unfortunately i've not been able to test that out myself</td><td class="time"><a href="#t2019-12-11T17:40:54" class="time">17:40</a></td></tr>
<tr id="t2019-12-11T17:41:09"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">so i dont know how good it's going to be in practice</td><td class="time"><a href="#t2019-12-11T17:41:09" class="time">17:41</a></td></tr>
<tr id="t2019-12-11T17:41:38"><th class="nick" style="background: #adad5b">milloni</th><td class="text" style="color: #adad5b">i'd be interested to hear how it works out for oyu</td><td class="time"><a href="#t2019-12-11T17:41:38" class="time">17:41</a></td></tr>
<tr id="t2019-12-11T17:41:58"><th class="nick" style="background: #b15db1">marble_visions</th><td class="text" style="color: #b15db1">indeed, i might share in due time</td><td class="time"><a href="#t2019-12-11T17:41:58" class="time">17:41</a></td></tr>
<tr id="t2019-12-11T18:00:24"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2019-12-11T18:00:24" class="time">18:00</a></td></tr>
<tr id="t2019-12-11T18:39:43"><td class="nickchange" colspan="2">*** H-U is now known as hu</td><td><a href="#t2019-12-11T18:39:43" class="time">18:39</a></td></tr>
<tr id="t2019-12-11T18:39:57"><td class="nickchange" colspan="2">*** hu is now known as h-u</td><td><a href="#t2019-12-11T18:39:57" class="time">18:39</a></td></tr>
<tr id="t2019-12-11T18:44:10"><td class="part" colspan="2">*** h-u &lt;h-u!2518b581@b2b-37-24-181-129.unitymedia.biz&gt; has left #yocto</td><td><a href="#t2019-12-11T18:44:10" class="time">18:44</a></td></tr>
<tr id="t2019-12-11T19:23:40"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">Looks like we've destroyed the performance of world builds with hashequiv :(</td><td class="time"><a href="#t2019-12-11T19:23:40" class="time">19:23</a></td></tr>
<tr id="t2019-12-11T19:23:59"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a"><a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/52/builds/1327" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/52/builds/1327</a> - 7 hours and task 1806 of 23848</td><td class="time"><a href="#t2019-12-11T19:23:59" class="time">19:23</a></td></tr>
<tr id="t2019-12-11T19:31:13"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">huh, thats not really the desired effect</td><td class="time"><a href="#t2019-12-11T19:31:13" class="time">19:31</a></td></tr>
<tr id="t2019-12-11T19:32:56"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">Lots of "checkins sstate mirror object availibilty..."</td><td class="time"><a href="#t2019-12-11T19:32:56" class="time">19:32</a></td></tr>
<tr id="t2019-12-11T20:26:09"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: I need to reproduce this under profiling, see where the bottleneck is. Has to be something silly like the log messages</td><td class="time"><a href="#t2019-12-11T20:26:09" class="time">20:26</a></td></tr>
<tr id="t2019-12-11T21:07:26"><th class="nick" style="background: #5fb4b4">rburton</th><td class="text" style="color: #5fb4b4">RP: dare i say, turn off hash equiv for m1?</td><td class="time"><a href="#t2019-12-11T21:07:26" class="time">21:07</a></td></tr>
<tr id="t2019-12-11T21:09:25"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">rburton: I'm starting to think we may have to :(</td><td class="time"><a href="#t2019-12-11T21:09:25" class="time">21:09</a></td></tr>
<tr id="t2019-12-11T21:12:52"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">Running setscene task 287565 of 11921</td><td class="time"><a href="#t2019-12-11T21:12:52" class="time">21:12</a></td></tr>
<tr id="t2019-12-11T21:13:04"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">Hah! That's impressive</td><td class="time"><a href="#t2019-12-11T21:13:04" class="time">21:13</a></td></tr>
<tr id="t2019-12-11T21:13:50"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: for 23000 tasks in total, very</td><td class="time"><a href="#t2019-12-11T21:13:50" class="time">21:13</a></td></tr>
<tr id="t2019-12-11T21:14:23"><th class="nick" style="background: #5959a9">kergoth</th><td class="text" style="color: #5959a9">Oof</td><td class="time"><a href="#t2019-12-11T21:14:23" class="time">21:14</a></td></tr>
<tr id="t2019-12-11T21:16:15"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">I think its an accounting error rather than the real number of tasks it ran FWIW</td><td class="time"><a href="#t2019-12-11T21:16:15" class="time">21:16</a></td></tr>
<tr id="t2019-12-11T21:16:23"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">but still looks insane</td><td class="time"><a href="#t2019-12-11T21:16:23" class="time">21:16</a></td></tr>
<tr id="t2019-12-11T21:16:33"><th class="nick" style="background: #b86161">fray</th><td class="text" style="color: #b86161">Hmm.. 23000 tasks doesn't seem all that large.. but ya, 287k of 23k is a problem.. ;)</td><td class="time"><a href="#t2019-12-11T21:16:33" class="time">21:16</a></td></tr>
<tr id="t2019-12-11T21:16:55"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">NOTE: Running setscene task 222166 of 11921</td><td class="time"><a href="#t2019-12-11T21:16:55" class="time">21:16</a></td></tr>
<tr id="t2019-12-11T21:16:55"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">NOTE: Running setscene task 222246 of 11921</td><td class="time"><a href="#t2019-12-11T21:16:55" class="time">21:16</a></td></tr>
<tr id="t2019-12-11T21:16:55"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">NOTE: Running setscene task 223302 of 11921</td><td class="time"><a href="#t2019-12-11T21:16:55" class="time">21:16</a></td></tr>
<tr id="t2019-12-11T21:17:15"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">that is it incrementing</td><td class="time"><a href="#t2019-12-11T21:17:15" class="time">21:17</a></td></tr>
<tr id="t2019-12-11T21:17:22"><th class="nick" style="background: #b86161">fray</th><td class="text" style="color: #b86161">lol</td><td class="time"><a href="#t2019-12-11T21:17:22" class="time">21:17</a></td></tr>
<tr id="t2019-12-11T21:17:41"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: I think its the sstate rescans which are slow</td><td class="time"><a href="#t2019-12-11T21:17:41" class="time">21:17</a></td></tr>
<tr id="t2019-12-11T21:17:58"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: Ya, that's what I was thinking.</td><td class="time"><a href="#t2019-12-11T21:17:58" class="time">21:17</a></td></tr>
<tr id="t2019-12-11T21:18:00"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">halstead: this comes back to the NAS not responding very quickly :(</td><td class="time"><a href="#t2019-12-11T21:18:00" class="time">21:18</a></td></tr>
<tr id="t2019-12-11T21:18:29"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">Why are there so many each time?</td><td class="time"><a href="#t2019-12-11T21:18:29" class="time">21:18</a></td></tr>
<tr id="t2019-12-11T21:18:49"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: I'd guess a world build has lots of endpoints which means lots of rehashes</td><td class="time"><a href="#t2019-12-11T21:18:49" class="time">21:18</a></td></tr>
<tr id="t2019-12-11T21:19:52"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: I'm not too familar with the "checking for object availablilty"; is it just looking for a single file for each message (e.g. just a LOOKUP)</td><td class="time"><a href="#t2019-12-11T21:19:52" class="time">21:19</a></td></tr>
<tr id="t2019-12-11T21:20:07"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: in this case probably</td><td class="time"><a href="#t2019-12-11T21:20:07" class="time">21:20</a></td></tr>
<tr id="t2019-12-11T21:20:26"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: that message comes from the hashvalidate function in sstate.bbclass</td><td class="time"><a href="#t2019-12-11T21:20:26" class="time">21:20</a></td></tr>
<tr id="t2019-12-11T21:20:59"><th class="nick" style="background: #818144">halstead</th><td class="text" style="color: #818144">RP, I think fixing this will require something other than optimizing the NAS. We could remove more objects or change the directory structure.</td><td class="time"><a href="#t2019-12-11T21:20:59" class="time">21:20</a></td></tr>
<tr id="t2019-12-11T21:21:03"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: its from the update_scenequeue_data([tid] call in runqueue</td><td class="time"><a href="#t2019-12-11T21:21:03" class="time">21:21</a></td></tr>
<tr id="t2019-12-11T21:21:21"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">halstead: right, we talked about changing the directory structure</td><td class="time"><a href="#t2019-12-11T21:21:21" class="time">21:21</a></td></tr>
<tr id="t2019-12-11T21:22:14"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">halstead: I think ext4 as a filesystem may be faster for this btw but I know that isn't feasible</td><td class="time"><a href="#t2019-12-11T21:22:14" class="time">21:22</a></td></tr>
<tr id="t2019-12-11T21:22:21"><th class="nick" style="background: #818144">halstead</th><td class="text" style="color: #818144">RP, or I suppose we could have a dedicated mount point for sstate with caching enabled. Caching lead to races in the past so it's disabled.</td><td class="time"><a href="#t2019-12-11T21:22:21" class="time">21:22</a></td></tr>
<tr id="t2019-12-11T21:23:12"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">halstead: wish I could remember the details of the race issue. I wonder if we fixed that somehow]</td><td class="time"><a href="#t2019-12-11T21:23:12" class="time">21:23</a></td></tr>
<tr id="t2019-12-11T21:23:13"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: Hmm, we could batch them all together in a single call to update_scenequeue_data. That would allow them to at least happen in parallel</td><td class="time"><a href="#t2019-12-11T21:23:13" class="time">21:23</a></td></tr>
<tr id="t2019-12-11T21:23:27"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">halstead: is it easy to turn on the caching to test?</td><td class="time"><a href="#t2019-12-11T21:23:27" class="time">21:23</a></td></tr>
<tr id="t2019-12-11T21:23:57"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: yes, we should do that</td><td class="time"><a href="#t2019-12-11T21:23:57" class="time">21:23</a></td></tr>
<tr id="t2019-12-11T21:24:07"><td class="action" colspan="2">* JPEW writes a patch</td><td><a href="#t2019-12-11T21:24:07" class="time">21:24</a></td></tr>
<tr id="t2019-12-11T21:24:14"><td class="action" colspan="2">* RP clearly isn't thinking straight as that wasn't clear to me :/</td><td><a href="#t2019-12-11T21:24:14" class="time">21:24</a></td></tr>
<tr id="t2019-12-11T21:24:33"><th class="nick" style="background: #818144">halstead</th><td class="text" style="color: #818144">RP, I don't know the details but there were multiple workers trying to write to the same file because it didn't exist in the cached dir list.</td><td class="time"><a href="#t2019-12-11T21:24:33" class="time">21:24</a></td></tr>
<tr id="t2019-12-11T21:25:52"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">halstead: easy to turn on?</td><td class="time"><a href="#t2019-12-11T21:25:52" class="time">21:25</a></td></tr>
<tr id="t2019-12-11T21:26:06"><th class="nick" style="background: #b86161">fray</th><td class="text" style="color: #b86161">that has been reported by other users as well.. I'm wondering if there needs to be some kind of a lock file for things</td><td class="time"><a href="#t2019-12-11T21:26:06" class="time">21:26</a></td></tr>
<tr id="t2019-12-11T21:26:43"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">fray: you need to be specific about what exactly</td><td class="time"><a href="#t2019-12-11T21:26:43" class="time">21:26</a></td></tr>
<tr id="t2019-12-11T21:27:04"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">fray: I remember what michael is talking about in this case and I know we changed the code</td><td class="time"><a href="#t2019-12-11T21:27:04" class="time">21:27</a></td></tr>
<tr id="t2019-12-11T21:28:08"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">I wonder if we change the sstate write code to do a mv -n, how nfs copes with that. Is the -n a syscall/nfs preserved operation (no-clobber)</td><td class="time"><a href="#t2019-12-11T21:28:08" class="time">21:28</a></td></tr>
<tr id="t2019-12-11T21:28:22"><th class="nick" style="background: #b86161">fray</th><td class="text" style="color: #b86161">sstate-cache directory</td><td class="time"><a href="#t2019-12-11T21:28:22" class="time">21:28</a></td></tr>
<tr id="t2019-12-11T21:28:24"><th class="nick" style="background: #62bb62">mischief</th><td class="text" style="color: #62bb62">is there an easy way to debug why 'apt-get install ...' fails with 'unmet dependencies' in my do_rootfs task for my image?</td><td class="time"><a href="#t2019-12-11T21:28:24" class="time">21:28</a></td></tr>
<tr id="t2019-12-11T21:28:45"><th class="nick" style="background: #b86161">fray</th><td class="text" style="color: #b86161">I've been told more then once at the ELC / ELC-E in the last 3 years that people are seeing multiple writes when the original didn't exist.. often nearly at the same time</td><td class="time"><a href="#t2019-12-11T21:28:45" class="time">21:28</a></td></tr>
<tr id="t2019-12-11T21:29:27"><th class="nick" style="background: #b86161">fray</th><td class="text" style="color: #b86161">(lesser I've also been told that about the dwonloads directory.. but that was before we fixed a bunch of lock files prior to Zeus)</td><td class="time"><a href="#t2019-12-11T21:29:27" class="time">21:29</a></td></tr>
<tr id="t2019-12-11T21:29:28"><th class="nick" style="background: #818144">halstead</th><td class="text" style="color: #818144">RP, requires remounting nfs. Simple to do between builds.</td><td class="time"><a href="#t2019-12-11T21:29:28" class="time">21:29</a></td></tr>
<tr id="t2019-12-11T21:30:38"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">halstead: server or client side?</td><td class="time"><a href="#t2019-12-11T21:30:38" class="time">21:30</a></td></tr>
<tr id="t2019-12-11T21:30:49"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">halstead: client I'd assume?</td><td class="time"><a href="#t2019-12-11T21:30:49" class="time">21:30</a></td></tr>
<tr id="t2019-12-11T21:30:56"><th class="nick" style="background: #818144">halstead</th><td class="text" style="color: #818144">RP client, yep</td><td class="time"><a href="#t2019-12-11T21:30:56" class="time">21:30</a></td></tr>
<tr id="t2019-12-11T21:31:16"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">halstead: could we remount mid build, see if it speeds up?</td><td class="time"><a href="#t2019-12-11T21:31:16" class="time">21:31</a></td></tr>
<tr id="t2019-12-11T21:31:40"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">risk taking is a skill at times, right? :)</td><td class="time"><a href="#t2019-12-11T21:31:40" class="time">21:31</a></td></tr>
<tr id="t2019-12-11T21:32:23"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">looks like we'd want the RENAME_NOREPLACE flag of renameat2</td><td class="time"><a href="#t2019-12-11T21:32:23" class="time">21:32</a></td></tr>
<tr id="t2019-12-11T21:33:49"><th class="nick" style="background: #818144">halstead</th><td class="text" style="color: #818144">RP, We can try. Shall I go for it?</td><td class="time"><a href="#t2019-12-11T21:33:49" class="time">21:33</a></td></tr>
<tr id="t2019-12-11T21:35:25"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">halstead: yes, which machine/build are you going to change?</td><td class="time"><a href="#t2019-12-11T21:35:25" class="time">21:35</a></td></tr>
<tr id="t2019-12-11T21:35:33"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">halstead: just so I can watch the log output</td><td class="time"><a href="#t2019-12-11T21:35:33" class="time">21:35</a></td></tr>
<tr id="t2019-12-11T21:36:42"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">halstead: looks like the world builds are on centos7-ty-1 and debian8-ty-1</td><td class="time"><a href="#t2019-12-11T21:36:42" class="time">21:36</a></td></tr>
<tr id="t2019-12-11T21:36:55"><th class="nick" style="background: #818144">halstead</th><td class="text" style="color: #818144">RP, I was going to push to all of them. Starting with just on is a better idea. :)</td><td class="time"><a href="#t2019-12-11T21:36:55" class="time">21:36</a></td></tr>
<tr id="t2019-12-11T21:37:06"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">halstead: yes, lets just try one</td><td class="time"><a href="#t2019-12-11T21:37:06" class="time">21:37</a></td></tr>
<tr id="t2019-12-11T21:37:46"><th class="nick" style="background: #818144">halstead</th><td class="text" style="color: #818144">RP, I'll change debian8-ty-1</td><td class="time"><a href="#t2019-12-11T21:37:46" class="time">21:37</a></td></tr>
<tr id="t2019-12-11T21:38:08"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">halstead: ok</td><td class="time"><a href="#t2019-12-11T21:38:08" class="time">21:38</a></td></tr>
<tr id="t2019-12-11T21:43:00"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">Looking at the processes on the autobuilder I'm doubting this is NFS bound, its burning 95% cpu in cooker</td><td class="time"><a href="#t2019-12-11T21:43:00" class="time">21:43</a></td></tr>
<tr id="t2019-12-11T21:46:58"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">halstead: hmm, I think that has dropped cpu usage</td><td class="time"><a href="#t2019-12-11T21:46:58" class="time">21:46</a></td></tr>
<tr id="t2019-12-11T21:47:45"><th class="nick" style="background: #6464bf">zeddii</th><td class="text" style="color: #6464bf">has anyone else tried to build a static libcrypt ?</td><td class="time"><a href="#t2019-12-11T21:47:45" class="time">21:47</a></td></tr>
<tr id="t2019-12-11T21:47:52"><th class="nick" style="background: #6464bf">zeddii</th><td class="text" style="color: #6464bf">I'm trying and failing at the moment.</td><td class="time"><a href="#t2019-12-11T21:47:52" class="time">21:47</a></td></tr>
<tr id="t2019-12-11T21:48:06"><th class="nick" style="background: #818144">halstead</th><td class="text" style="color: #818144">RP, I've lazy unmounted /srv/autobuilder and mounted with the new options at the same location. Testing to see if it's working as expected.</td><td class="time"><a href="#t2019-12-11T21:48:06" class="time">21:48</a></td></tr>
<tr id="t2019-12-11T21:49:32"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">halstead: thanks, I think it may be helping, we'll see...</td><td class="time"><a href="#t2019-12-11T21:49:32" class="time">21:49</a></td></tr>
<tr id="t2019-12-11T21:49:49"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">zeddii: we disable static libraries so I assume you're disabling that?</td><td class="time"><a href="#t2019-12-11T21:49:49" class="time">21:49</a></td></tr>
<tr id="t2019-12-11T21:51:04"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: I think its spending so much CPU in the rehashing code, the rest of runqueue is simply sitting waiting :(</td><td class="time"><a href="#t2019-12-11T21:51:04" class="time">21:51</a></td></tr>
<tr id="t2019-12-11T21:51:26"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">nfs is part of it but only a small part :(</td><td class="time"><a href="#t2019-12-11T21:51:26" class="time">21:51</a></td></tr>
<tr id="t2019-12-11T21:51:50"><th class="nick" style="background: #6464bf">zeddii</th><td class="text" style="color: #6464bf">rp: hmm. that might be it, I've never had to worry about this before. so I've never looked. I'll see if I can find the right toggle.</td><td class="time"><a href="#t2019-12-11T21:51:50" class="time">21:51</a></td></tr>
<tr id="t2019-12-11T21:52:06"><th class="nick" style="background: #6464bf">zeddii</th><td class="text" style="color: #6464bf">I'm just trying to build a static busybox and it is chaining to needing a static libcrypt ..</td><td class="time"><a href="#t2019-12-11T21:52:06" class="time">21:52</a></td></tr>
<tr id="t2019-12-11T21:52:19"><th class="nick" style="background: #6464bf">zeddii</th><td class="text" style="color: #6464bf">I'll go check the initramfs layers to see if they have something for this already.</td><td class="time"><a href="#t2019-12-11T21:52:19" class="time">21:52</a></td></tr>
<tr id="t2019-12-11T21:53:18"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">zeddii: meta/conf/distro/include/no-static-libs.in</td><td class="time"><a href="#t2019-12-11T21:53:18" class="time">21:53</a></td></tr>
<tr id="t2019-12-11T21:53:22"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">+c</td><td class="time"><a href="#t2019-12-11T21:53:22" class="time">21:53</a></td></tr>
<tr id="t2019-12-11T21:53:59"><th class="nick" style="background: #6464bf">zeddii</th><td class="text" style="color: #6464bf">ahah. will go poke around.</td><td class="time"><a href="#t2019-12-11T21:53:59" class="time">21:53</a></td></tr>
<tr id="t2019-12-11T21:55:10"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">zeddii: enabling those wastes so much more build time ;-)</td><td class="time"><a href="#t2019-12-11T21:55:10" class="time">21:55</a></td></tr>
<tr id="t2019-12-11T21:55:11"><td class="part" colspan="2">*** adelcast &lt;adelcast!~adelcast@130.164.62.221&gt; has left #yocto</td><td><a href="#t2019-12-11T21:55:11" class="time">21:55</a></td></tr>
<tr id="t2019-12-11T21:55:36"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: Also possible</td><td class="time"><a href="#t2019-12-11T21:55:36" class="time">21:55</a></td></tr>
<tr id="t2019-12-11T21:55:39"><th class="nick" style="background: #6464bf">zeddii</th><td class="text" style="color: #6464bf">yah. and I just want it for this one package + its depenendencies .. so I'll see if I can figure out another way</td><td class="time"><a href="#t2019-12-11T21:55:39" class="time">21:55</a></td></tr>
<tr id="t2019-12-11T21:56:03"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">zeddii: we used to special case sqlite-native for pseudo-native</td><td class="time"><a href="#t2019-12-11T21:56:03" class="time">21:56</a></td></tr>
<tr id="t2019-12-11T21:56:52"><th class="nick" style="background: #6464bf">zeddii</th><td class="text" style="color: #6464bf">I can see about forcing it on for the libxcrypt build in my distro.</td><td class="time"><a href="#t2019-12-11T21:56:52" class="time">21:56</a></td></tr>
<tr id="t2019-12-11T21:59:52"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: I think I can see how we could unroll the loops at the top of process_possible_migrations() too, at least to have one big recursive rehash rather than multiple</td><td class="time"><a href="#t2019-12-11T21:59:52" class="time">21:59</a></td></tr>
<tr id="t2019-12-11T22:03:41"><th class="nick" style="background: #818144">halstead</th><td class="text" style="color: #818144">RP, Caching is now in effect.</td><td class="time"><a href="#t2019-12-11T22:03:41" class="time">22:03</a></td></tr>
<tr id="t2019-12-11T22:04:04"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: Ah, ya! thats probably causing the server to switch in and out of the fast streaming mode</td><td class="time"><a href="#t2019-12-11T22:04:04" class="time">22:04</a></td></tr>
<tr id="t2019-12-11T22:04:35"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">If we can make all the get_unihash() calls occur sequentianlly without intermixing report_unihash_equiv() that would be good</td><td class="time"><a href="#t2019-12-11T22:04:35" class="time">22:04</a></td></tr>
<tr id="t2019-12-11T22:05:44"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: We're not seeing any _equiv() reports I see in the logs so that isn't the issue</td><td class="time"><a href="#t2019-12-11T22:05:44" class="time">22:05</a></td></tr>
<tr id="t2019-12-11T22:06:09"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: I saw a few in the log I was looking at</td><td class="time"><a href="#t2019-12-11T22:06:09" class="time">22:06</a></td></tr>
<tr id="t2019-12-11T22:06:11"><th class="nick" style="background: #818144">halstead</th><td class="text" style="color: #818144">RP, I have the sstate cache clean disabled. Do we need a way to inform the hashserv about deleted objects before enabling it?</td><td class="time"><a href="#t2019-12-11T22:06:11" class="time">22:06</a></td></tr>
<tr id="t2019-12-11T22:06:36"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">Maybe not otfen enough to be the culprit though</td><td class="time"><a href="#t2019-12-11T22:06:36" class="time">22:06</a></td></tr>
<tr id="t2019-12-11T22:06:38"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">halstead: I think we've worked around it</td><td class="time"><a href="#t2019-12-11T22:06:38" class="time">22:06</a></td></tr>
<tr id="t2019-12-11T22:06:51"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: pretty sure its runqueue's code given the pattern</td><td class="time"><a href="#t2019-12-11T22:06:51" class="time">22:06</a></td></tr>
<tr id="t2019-12-11T22:07:20"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: lines 2264-2309</td><td class="time"><a href="#t2019-12-11T22:07:20" class="time">22:07</a></td></tr>
<tr id="t2019-12-11T22:07:40"><th class="nick" style="background: #818144">halstead</th><td class="text" style="color: #818144">RP, Nice. So it's fine to turn back on now? I'll also start saving logs to deleted object names.</td><td class="time"><a href="#t2019-12-11T22:07:40" class="time">22:07</a></td></tr>
<tr id="t2019-12-11T22:07:56"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">halstead: yes, thanks</td><td class="time"><a href="#t2019-12-11T22:07:56" class="time">22:07</a></td></tr>
<tr id="t2019-12-11T22:08:18"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: I think we can take 2275-2309 out of the top for loop</td><td class="time"><a href="#t2019-12-11T22:08:18" class="time">22:08</a></td></tr>
<tr id="t2019-12-11T22:08:34"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">but I doubt its the only problem</td><td class="time"><a href="#t2019-12-11T22:08:34" class="time">22:08</a></td></tr>
<tr id="t2019-12-11T22:09:31"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: The local reproducer is to do a big build, then make a change to sstate.bbclass which doesn't change output but does force a complete rebuild where the output will always match</td><td class="time"><a href="#t2019-12-11T22:09:31" class="time">22:09</a></td></tr>
<tr id="t2019-12-11T22:09:53"><td class="action" colspan="2">* RP suspects an O2 or worse slowdown</td><td><a href="#t2019-12-11T22:09:53" class="time">22:09</a></td></tr>
<tr id="t2019-12-11T22:10:28"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">Ok, I'll give that a try. I think I have the batching of the sstate object check sorted out</td><td class="time"><a href="#t2019-12-11T22:10:28" class="time">22:10</a></td></tr>
<tr id="t2019-12-11T22:11:13"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: I'm talking out loud btw, not saying you need to do this! :)</td><td class="time"><a href="#t2019-12-11T22:11:13" class="time">22:11</a></td></tr>
<tr id="t2019-12-11T22:11:48"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">I think I need to reproduce under bitbake -P and check where the time in the loop is spent</td><td class="time"><a href="#t2019-12-11T22:11:48" class="time">22:11</a></td></tr>
<tr id="t2019-12-11T22:12:02"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: Ya, that's fine :) I figured moving the update out looked easy enough. I wasn't going to look at the rest yet</td><td class="time"><a href="#t2019-12-11T22:12:02" class="time">22:12</a></td></tr>
<tr id="t2019-12-11T22:12:30"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">could be as simple as commenting the logger.debug()</td><td class="time"><a href="#t2019-12-11T22:12:30" class="time">22:12</a></td></tr>
<tr id="t2019-12-11T22:12:45"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">we've had this before</td><td class="time"><a href="#t2019-12-11T22:12:45" class="time">22:12</a></td></tr>
<tr id="t2019-12-11T22:13:18"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: fixing the mirror check would help a lot as it clearly crazy atm :)</td><td class="time"><a href="#t2019-12-11T22:13:18" class="time">22:13</a></td></tr>
<tr id="t2019-12-11T22:18:25"><th class="nick" style="background: #a25555">JPEW</th><td class="text" style="color: #a25555">RP: Patch sent if you want to take a look. I have to go to a Christmas program now</td><td class="time"><a href="#t2019-12-11T22:18:25" class="time">22:18</a></td></tr>
<tr id="t2019-12-11T22:26:27"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: thanks!</td><td class="time"><a href="#t2019-12-11T22:26:27" class="time">22:26</a></td></tr>
<tr id="t2019-12-11T22:32:00"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: its the get_taskhash and get_unihash calls</td><td class="time"><a href="#t2019-12-11T22:32:00" class="time">22:32</a></td></tr>
<tr id="t2019-12-11T22:32:10"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: I managed to get a profile</td><td class="time"><a href="#t2019-12-11T22:32:10" class="time">22:32</a></td></tr>
<tr id="t2019-12-11T22:56:46"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: you won't believe what the problem is :/</td><td class="time"><a href="#t2019-12-11T22:56:46" class="time">22:56</a></td></tr>
<tr id="t2019-12-11T23:14:31"><th class="nick" style="background: #5fb4b4">rburton</th><td class="text" style="color: #5fb4b4">RP: g'wan tell</td><td class="time"><a href="#t2019-12-11T23:14:31" class="time">23:14</a></td></tr>
<tr id="t2019-12-11T23:58:24"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">rburton_: well, it turned out to be complicated</td><td class="time"><a href="#t2019-12-11T23:58:24" class="time">23:58</a></td></tr>
<tr id="t2019-12-11T23:59:27"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">heh, he ran away :)</td><td class="time"><a href="#t2019-12-11T23:59:27" class="time">23:59</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-12-10.log.html">&#171; Tuesday, 2019-12-10</a> <a href="index.html">Index</a> <a href="%23yocto.2019-12-12.log.html">Thursday, 2019-12-12 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
