<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Saturday, 2019-02-09</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Saturday, 2019-02-09</h1>
<div class="navigation"> <a href="%23yocto.2019-02-08.log.html">&#171; Friday, 2019-02-08</a> <a href="index.html">Index</a> <a href="%23yocto.2019-02-10.log.html">Sunday, 2019-02-10 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-02-09T08:55:42"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kanavin: Interestingly, python3 upgrade added 1 minute to the build time: <a href="https://autobuilder.yocto.io/pub/non-release/20190209-3/testresults/buildperf-centos7/perf-centos7.yoctoproject.org_master_20190209030027_c4f1276.html" rel="nofollow">https://autobuilder.yocto.io/pub/non-release/20190209-3/testresults/buildperf-centos7/perf-centos7.yoctoproject.org_master_20190209030027_c4f1276.html</a></td><td class="time"><a href="#t2019-02-09T08:55:42" class="time">08:55</a></td></tr>
<tr id="t2019-02-09T08:55:49"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kanavin: at least I suspect that anyway</td><td class="time"><a href="#t2019-02-09T08:55:49" class="time">08:55</a></td></tr>
<tr id="t2019-02-09T08:56:33"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">sorry, <a href="https://autobuilder.yocto.io/pub/non-release/20190208-7/testresults/buildperf-centos7/perf-centos7.yoctoproject.org_master_20190208150028_29099c8.html" rel="nofollow">https://autobuilder.yocto.io/pub/non-release/20190208-7/testresults/buildperf-centos7/perf-centos7.yoctoproject.org_master_20190208150028_29099c8.html</a></td><td class="time"><a href="#t2019-02-09T08:56:33" class="time">08:56</a></td></tr>
<tr id="t2019-02-09T09:41:29"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">kanavin: is your version of virglrenderer recipe supposed to build for target as well? It depends on mesa directly instead of one of virtual/* providers, so it cannot be built e.g. for targets which prefer mesa-gl</td><td class="time"><a href="#t2019-02-09T09:41:29" class="time">09:41</a></td></tr>
<tr id="t2019-02-09T11:33:20"><th class="nick" style="background: #818144">yocti</th><td class="text" style="color: #818144">New news from stackoverflow: How to overwrite linux system files into the yocto filesystem? &lt;<a href="https://stackoverflow.com/questions/54605656/how-to-overwrite-linux-system-files-into-the-yocto-filesystem&gt;" rel="nofollow">https://stackoverflow.com/questions/54605656/how-to-overwrite-linux-system-files-into-the-yocto-filesystem&gt;</a></td><td class="time"><a href="#t2019-02-09T11:33:20" class="time">11:33</a></td></tr>
<tr id="t2019-02-09T16:40:01"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">RP: I am seeing faster parsing of world builds in my case</td><td class="time"><a href="#t2019-02-09T16:40:01" class="time">16:40</a></td></tr>
<tr id="t2019-02-09T17:12:49"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: due to a change?</td><td class="time"><a href="#t2019-02-09T17:12:49" class="time">17:12</a></td></tr>
<tr id="t2019-02-09T17:31:50"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">RP: with new python3</td><td class="time"><a href="#t2019-02-09T17:31:50" class="time">17:31</a></td></tr>
<tr id="t2019-02-09T17:32:52"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: you're building in one our own images?</td><td class="time"><a href="#t2019-02-09T17:32:52" class="time">17:32</a></td></tr>
<tr id="t2019-02-09T17:33:18"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">RP: the one from core</td><td class="time"><a href="#t2019-02-09T17:33:18" class="time">17:33</a></td></tr>
<tr id="t2019-02-09T17:33:23"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">nothing custom</td><td class="time"><a href="#t2019-02-09T17:33:23" class="time">17:33</a></td></tr>
<tr id="t2019-02-09T17:33:37"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: nice, that is good to hear/know :)</td><td class="time"><a href="#t2019-02-09T17:33:37" class="time">17:33</a></td></tr>
<tr id="t2019-02-09T17:33:46"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">but I have not measured to be precise</td><td class="time"><a href="#t2019-02-09T17:33:46" class="time">17:33</a></td></tr>
<tr id="t2019-02-09T17:33:50"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: how much of a speedup roughly?</td><td class="time"><a href="#t2019-02-09T17:33:50" class="time">17:33</a></td></tr>
<tr id="t2019-02-09T17:34:38"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: I think I have a patch to teach the build performance reporting code to do the right thing with master-next comparisons with master. Have queued a virtgl build to see</td><td class="time"><a href="#t2019-02-09T17:34:38" class="time">17:34</a></td></tr>
<tr id="t2019-02-09T17:34:58"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kanavin: ^^^ should be interesting</td><td class="time"><a href="#t2019-02-09T17:34:58" class="time">17:34</a></td></tr>
<tr id="t2019-02-09T17:35:38"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">i see</td><td class="time"><a href="#t2019-02-09T17:35:38" class="time">17:35</a></td></tr>
<tr id="t2019-02-09T17:35:52"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">I think we need qemu-user only for build though</td><td class="time"><a href="#t2019-02-09T17:35:52" class="time">17:35</a></td></tr>
<tr id="t2019-02-09T17:36:00"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: agreed</td><td class="time"><a href="#t2019-02-09T17:36:00" class="time">17:36</a></td></tr>
<tr id="t2019-02-09T17:36:24"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: that can be done as a separate work item if needed</td><td class="time"><a href="#t2019-02-09T17:36:24" class="time">17:36</a></td></tr>
<tr id="t2019-02-09T17:57:44"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">RP: I found the reason for my opkg woes</td><td class="time"><a href="#t2019-02-09T17:57:44" class="time">17:57</a></td></tr>
<tr id="t2019-02-09T17:58:01"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">xz is too greedy</td><td class="time"><a href="#t2019-02-09T17:58:01" class="time">17:58</a></td></tr>
<tr id="t2019-02-09T17:58:14"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">system is 16cores/16Gb</td><td class="time"><a href="#t2019-02-09T17:58:14" class="time">17:58</a></td></tr>
<tr id="t2019-02-09T17:58:49"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">works ok with 16core/32gb</td><td class="time"><a href="#t2019-02-09T17:58:49" class="time">17:58</a></td></tr>
<tr id="t2019-02-09T17:59:21"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">I sent a patch to ping max memory for xz to 70% of system it helps</td><td class="time"><a href="#t2019-02-09T17:59:21" class="time">17:59</a></td></tr>
<tr id="t2019-02-09T17:59:46"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: your patch doesn't change do_package_write_ipk though</td><td class="time"><a href="#t2019-02-09T17:59:46" class="time">17:59</a></td></tr>
<tr id="t2019-02-09T17:59:48"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">its similar issue that we had with ninja where it had its own idea of parallelism</td><td class="time"><a href="#t2019-02-09T17:59:48" class="time">17:59</a></td></tr>
<tr id="t2019-02-09T18:00:02"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">hmm</td><td class="time"><a href="#t2019-02-09T18:00:02" class="time">18:00</a></td></tr>
<tr id="t2019-02-09T18:00:14"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: I agree we need to limit it</td><td class="time"><a href="#t2019-02-09T18:00:14" class="time">18:00</a></td></tr>
<tr id="t2019-02-09T18:01:29"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">i think&nbsp;&nbsp;I sent a wrong version of patch</td><td class="time"><a href="#t2019-02-09T18:01:29" class="time">18:01</a></td></tr>
<tr id="t2019-02-09T18:01:34"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">hmm</td><td class="time"><a href="#t2019-02-09T18:01:34" class="time">18:01</a></td></tr>
<tr id="t2019-02-09T18:01:52"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">actually I dropped it and was trying to ping --thread</td><td class="time"><a href="#t2019-02-09T18:01:52" class="time">18:01</a></td></tr>
<tr id="t2019-02-09T18:01:56"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">pin</td><td class="time"><a href="#t2019-02-09T18:01:56" class="time">18:01</a></td></tr>
<tr id="t2019-02-09T18:08:46"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">RP: I think we should be using --threads ${BB_NUMBER_THREADS}</td><td class="time"><a href="#t2019-02-09T18:08:46" class="time">18:08</a></td></tr>
<tr id="t2019-02-09T18:08:57"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">along with -M</td><td class="time"><a href="#t2019-02-09T18:08:57" class="time">18:08</a></td></tr>
<tr id="t2019-02-09T18:09:23"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">RP: my patch was doing this in meta/classes/package_ipk.bbclass</td><td class="time"><a href="#t2019-02-09T18:09:23" class="time">18:09</a></td></tr>
<tr id="t2019-02-09T18:09:47"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">but I want to improve it such that we can pass XZ_DEFAULTS in global environment</td><td class="time"><a href="#t2019-02-09T18:09:47" class="time">18:09</a></td></tr>
<tr id="t2019-02-09T18:10:08"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">RP: whats best place for exporting an env variable</td><td class="time"><a href="#t2019-02-09T18:10:08" class="time">18:10</a></td></tr>
<tr id="t2019-02-09T18:10:22"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">that way we can control all xz invocations</td><td class="time"><a href="#t2019-02-09T18:10:22" class="time">18:10</a></td></tr>
<tr id="t2019-02-09T18:11:01"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">export XZ_DEFAULTS="-M 70% -T ${BB_NUMBER_THREADS}"</td><td class="time"><a href="#t2019-02-09T18:11:01" class="time">18:11</a></td></tr>
<tr id="t2019-02-09T18:11:13"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">would like to pass this</td><td class="time"><a href="#t2019-02-09T18:11:13" class="time">18:11</a></td></tr>
<tr id="t2019-02-09T18:11:44"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">and remove individual settings of xz in various places</td><td class="time"><a href="#t2019-02-09T18:11:44" class="time">18:11</a></td></tr>
<tr id="t2019-02-09T18:34:53"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: shouldn't it be based on parallel make rather than bb threads?</td><td class="time"><a href="#t2019-02-09T18:34:53" class="time">18:34</a></td></tr>
<tr id="t2019-02-09T19:09:16"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">we reset PARALLEL_MAKE in recipes quite a bit</td><td class="time"><a href="#t2019-02-09T19:09:16" class="time">19:09</a></td></tr>
<tr id="t2019-02-09T19:09:41"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">BB_NUMBER_THREADS achieves current behaviour</td><td class="time"><a href="#t2019-02-09T19:09:41" class="time">19:09</a></td></tr>
<tr id="t2019-02-09T22:30:00"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: PARALLEL_MAKE is the parallelisation to have in each recipe, BB_NUMBER_THREADS is how many recipes to run in parallel</td><td class="time"><a href="#t2019-02-09T22:30:00" class="time">22:30</a></td></tr>
<tr id="t2019-02-09T22:30:12"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: that is how I see them anyway</td><td class="time"><a href="#t2019-02-09T22:30:12" class="time">22:30</a></td></tr>
<tr id="t2019-02-09T22:37:43"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">RP: I am fine with changing to PARALLEL_MAKE but we will be limiting xz for lousy makefiles</td><td class="time"><a href="#t2019-02-09T22:37:43" class="time">22:37</a></td></tr>
<tr id="t2019-02-09T22:37:49"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">which is not related even</td><td class="time"><a href="#t2019-02-09T22:37:49" class="time">22:37</a></td></tr>
<tr id="t2019-02-09T22:38:55"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: I guess you can argue this both ways :/</td><td class="time"><a href="#t2019-02-09T22:38:55" class="time">22:38</a></td></tr>
<tr id="t2019-02-09T22:39:30"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: we probably need to rework the variables anyway as -j X is a pain to use for non make</td><td class="time"><a href="#t2019-02-09T22:39:30" class="time">22:39</a></td></tr>
<tr id="t2019-02-09T22:46:08"><td class="action" colspan="2">* armpit back to debugging sumo</td><td><a href="#t2019-02-09T22:46:08" class="time">22:46</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-02-08.log.html">&#171; Friday, 2019-02-08</a> <a href="index.html">Index</a> <a href="%23yocto.2019-02-10.log.html">Sunday, 2019-02-10 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
