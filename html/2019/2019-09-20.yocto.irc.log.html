<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2019-09-20</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Friday, 2019-09-20</h1>
<div class="navigation"> <a href="%23yocto.2019-09-19.log.html">&#171; Thursday, 2019-09-19</a> <a href="index.html">Index</a> <a href="%23yocto.2019-09-21.log.html">Saturday, 2019-09-21 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-09-20T04:54:13"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">I'm having problems getting Yocto to use my .bbappend file. I'm trying to use a .bbappend for u-boot, and in my build u-boot is provided by a recipe called u-boot-variscite. So in my own layer I have created recipes-bsp/u-boot/u-boot-variscite.bbappend. But if I run bitbake-layers show-append | grep u-boot it does not show up. My layer is in "bitbake-layers show-layers", and *.bbappend is in the BBFILES in</td><td class="time"><a href="#t2019-09-20T04:54:13" class="time">04:54</a></td></tr>
<tr id="t2019-09-20T04:54:19"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">my layer.conf (I have other .bbappends in the same layer that are recognized).</td><td class="time"><a href="#t2019-09-20T04:54:19" class="time">04:54</a></td></tr>
<tr id="t2019-09-20T04:58:30"><th class="nick" style="background: #42427e">nrossi</th><td class="text" style="color: #42427e">iceaway: does the .bb have a version? does your .bbappend have a version? (aka u-boot-variscite_&lt;version&gt;.bb)</td><td class="time"><a href="#t2019-09-20T04:58:30" class="time">04:58</a></td></tr>
<tr id="t2019-09-20T05:02:33"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">nrossi: Nope, the .bb is just u-boot-variscite.bb. I actually had this working and what caught me then was that I called my .bbappend u-boot-varicite_%.bbappend, and then it would list as "skipped". But then for some reason I deleted the whole .bbappend stuff and had to start over, and now it's not listed at all.</td><td class="time"><a href="#t2019-09-20T05:02:33" class="time">05:02</a></td></tr>
<tr id="t2019-09-20T05:04:46"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">as long as your layer is in bblayers and the bbappend is in bbfiles, and the filename exactly matches (with % wildcards) the .bb filename, it'll be applied</td><td class="time"><a href="#t2019-09-20T05:04:46" class="time">05:04</a></td></tr>
<tr id="t2019-09-20T05:04:52"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">i'd check each of those systematically.</td><td class="time"><a href="#t2019-09-20T05:04:52" class="time">05:04</a></td></tr>
<tr id="t2019-09-20T05:05:21"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">most common when i run into this it's something stupid like accidentally putting it in the root of recipes-whatever/ instead of in the recipe subdir, or the filename has a typo relative to the .bb</td><td class="time"><a href="#t2019-09-20T05:05:21" class="time">05:05</a></td></tr>
<tr id="t2019-09-20T05:06:27"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">I have triple-checked all those, but will check again. It is also my experience that when you eventually find the error it was some stupid typo or similar that you just were incapable of seeing.</td><td class="time"><a href="#t2019-09-20T05:06:27" class="time">05:06</a></td></tr>
<tr id="t2019-09-20T05:07:11"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">also make sure BBMASK isn't interfering. it's highly unlikely, but possible</td><td class="time"><a href="#t2019-09-20T05:07:11" class="time">05:07</a></td></tr>
<tr id="t2019-09-20T05:08:04"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">it does not really matter what the directory under recipes-bsp/&lt;name&gt; is called, right? Bitbake will search all dirs (if configured so in layer.conf) and match by &lt;name&gt;.bb/bbappend right?</td><td class="time"><a href="#t2019-09-20T05:08:04" class="time">05:08</a></td></tr>
<tr id="t2019-09-20T05:09:07"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">i.e. it could be meta-bsp/foobar/u-boot-variscite.bbappend?</td><td class="time"><a href="#t2019-09-20T05:09:07" class="time">05:09</a></td></tr>
<tr id="t2019-09-20T05:09:40"><th class="nick" style="background: #42427e">nrossi</th><td class="text" style="color: #42427e">iceaway: only if your BBFILES patterns allows it to match, e.g. with a BBFILES entries of "recipes-bsp/*/*.bb recipes-bsp/*/*.bbappend"</td><td class="time"><a href="#t2019-09-20T05:09:40" class="time">05:09</a></td></tr>
<tr id="t2019-09-20T05:10:21"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">nrossi: great :)</td><td class="time"><a href="#t2019-09-20T05:10:21" class="time">05:10</a></td></tr>
<tr id="t2019-09-20T05:10:58"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">kergoth: Thanks for the BBMASK hint. I had forgotten that I tried to disable my u-boot.bbappend yesterday by adding a BBMASK in my local.conf for u-boot! *facepalm*</td><td class="time"><a href="#t2019-09-20T05:10:58" class="time">05:10</a></td></tr>
<tr id="t2019-09-20T05:12:22"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">heh, np, that'd do it</td><td class="time"><a href="#t2019-09-20T05:12:22" class="time">05:12</a></td></tr>
<tr id="t2019-09-20T05:12:41"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">as nrossi says, the layout is up to you, as long as BBFILES matches it, you're fine</td><td class="time"><a href="#t2019-09-20T05:12:41" class="time">05:12</a></td></tr>
<tr id="t2019-09-20T05:20:02"><th class="nick" style="background: #854685">kroon</th><td class="text" style="color: #854685">kergoth, in bitbake, do you know if it is true in general that during variable expansion, all overrides are applied before all _append/_prepend/_remove are applied ?</td><td class="time"><a href="#t2019-09-20T05:20:02" class="time">05:20</a></td></tr>
<tr id="t2019-09-20T05:49:02"><th class="nick" style="background: #42427e">nrossi</th><td class="text" style="color: #42427e">kroon: just looking at bitbake code itself, looks like overrides are processed before _append/etc. see here: <a href="https://git.openembedded.org/bitbake/tree/lib/bb/data_smart.py#n734" rel="nofollow">https://git.openembedded.org/bitbake/tree/lib/bb/data_smart.py#n734</a></td><td class="time"><a href="#t2019-09-20T05:49:02" class="time">05:49</a></td></tr>
<tr id="t2019-09-20T05:52:43"><th class="nick" style="background: #854685">kroon</th><td class="text" style="color: #854685">nrossi, thanks!</td><td class="time"><a href="#t2019-09-20T05:52:43" class="time">05:52</a></td></tr>
<tr id="t2019-09-20T07:19:52"><th class="nick" style="background: #488888">__angelo</th><td class="text" style="color: #488888">hello ! in an initramfs for arm i miss all devices, so getting spam of tty missing, is there any link in the manual to setup this ?^</td><td class="time"><a href="#t2019-09-20T07:19:52" class="time">07:19</a></td></tr>
<tr id="t2019-09-20T07:20:51"><th class="nick" style="background: #488888">__angelo</th><td class="text" style="color: #488888">(i only have /dev/console)</td><td class="time"><a href="#t2019-09-20T07:20:51" class="time">07:20</a></td></tr>
<tr id="t2019-09-20T07:25:02"><th class="nick" style="background: #8c4a4a">antoine74</th><td class="text" style="color: #8c4a4a">Hello, I have a problem loading a kernel module at boot, I would like to load i2c-dev so I added KERNEL_MODULE_AUTOLOAD += "i2c-dev" in my local.conf and nothing happens, any idea why ? (I can load the module when connected to the machine with "modprobe i2c-dev"...)</td><td class="time"><a href="#t2019-09-20T07:25:02" class="time">07:25</a></td></tr>
<tr id="t2019-09-20T07:45:24"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kroon: its not as simple as "before" or "after", it depends on the expression</td><td class="time"><a href="#t2019-09-20T07:45:24" class="time">07:45</a></td></tr>
<tr id="t2019-09-20T07:45:54"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kroon: X_append_override is override first, X_override_append is append first. Its basically right hand side first</td><td class="time"><a href="#t2019-09-20T07:45:54" class="time">07:45</a></td></tr>
<tr id="t2019-09-20T07:48:24"><th class="nick" style="background: #854685">kroon</th><td class="text" style="color: #854685">RP, hmm ok. and for X_append + X_override, it is override first ?</td><td class="time"><a href="#t2019-09-20T07:48:24" class="time">07:48</a></td></tr>
<tr id="t2019-09-20T07:48:57"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kroon: no, overrides tend to win over appends in a straight head to head</td><td class="time"><a href="#t2019-09-20T07:48:57" class="time">07:48</a></td></tr>
<tr id="t2019-09-20T07:56:12"><th class="nick" style="background: #854685">kroon</th><td class="text" style="color: #854685">RP, initial testing here with bitbake master would indicate that for X_append + X_override, it is override first, then append is applied..</td><td class="time"><a href="#t2019-09-20T07:56:12" class="time">07:56</a></td></tr>
<tr id="t2019-09-20T07:57:11"><th class="nick" style="background: #854685">kroon</th><td class="text" style="color: #854685">RP, is there an easy explanation for when overrides would win ?</td><td class="time"><a href="#t2019-09-20T07:57:11" class="time">07:57</a></td></tr>
<tr id="t2019-09-20T07:57:35"><th class="nick" style="background: #854685">kroon</th><td class="text" style="color: #854685">in the case above I mean</td><td class="time"><a href="#t2019-09-20T07:57:35" class="time">07:57</a></td></tr>
<tr id="t2019-09-20T07:58:38"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kroon: I'm clearly confused and append does win</td><td class="time"><a href="#t2019-09-20T07:58:38" class="time">07:58</a></td></tr>
<tr id="t2019-09-20T07:59:02"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kroon: sorry, I'm misremembering</td><td class="time"><a href="#t2019-09-20T07:59:02" class="time">07:59</a></td></tr>
<tr id="t2019-09-20T07:59:17"><th class="nick" style="background: #854685">kroon</th><td class="text" style="color: #854685">RP, ah</td><td class="time"><a href="#t2019-09-20T07:59:17" class="time">07:59</a></td></tr>
<tr id="t2019-09-20T07:59:21"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kroon: the rules are clearly defined with the test cases in bitbake</td><td class="time"><a href="#t2019-09-20T07:59:21" class="time">07:59</a></td></tr>
<tr id="t2019-09-20T07:59:46"><th class="nick" style="background: #854685">kroon</th><td class="text" style="color: #854685">good point</td><td class="time"><a href="#t2019-09-20T07:59:46" class="time">07:59</a></td></tr>
<tr id="t2019-09-20T08:04:16"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2019-09-20T08:04:16" class="time">08:04</a></td></tr>
<tr id="t2019-09-20T08:14:36"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">kroon: I think you can remember it like that: X_append is a desire to append to X whatever the override is. X_override override X for override only. If _append would be prioritized over _override, it would mean that _append is a desire to append only to default conf and everyone would need to add _override to X to be sure X is appended for every cases =&gt; impossible to maintain</td><td class="time"><a href="#t2019-09-20T08:14:36" class="time">08:14</a></td></tr>
<tr id="t2019-09-20T08:43:02"><th class="nick" style="background: #97974f">yocti</th><td class="text" style="color: #97974f">New news from stackoverflow: How to get OpenCV 4.1.0 on the yocto/poky warrior branch? &lt;<a href="https://stackoverflow.com/questions/58024456/how-to-get-opencv-4-1-0-on-the-yocto-poky-warrior-branch&gt;" rel="nofollow">https://stackoverflow.com/questions/58024456/how-to-get-opencv-4-1-0-on-the-yocto-poky-warrior-branch&gt;</a> || Rescue partition in Yocto image &lt;<a href="https://stackoverflow.com/questions/58024410/rescue-partition-in-yocto-image&gt;" rel="nofollow">https://stackoverflow.com/questions/58024410/rescue-partition-in-yocto-image&gt;</a></td><td class="time"><a href="#t2019-09-20T08:43:02" class="time">08:43</a></td></tr>
<tr id="t2019-09-20T11:13:23"><th class="nick" style="background: #97974f">yocti</th><td class="text" style="color: #97974f">New news from stackoverflow: How to reduce the Jetson Nano .sdcard flash file size? &lt;<a href="https://stackoverflow.com/questions/58027226/how-to-reduce-the-jetson-nano-sdcard-flash-file-size&gt;" rel="nofollow">https://stackoverflow.com/questions/58027226/how-to-reduce-the-jetson-nano-sdcard-flash-file-size&gt;</a></td><td class="time"><a href="#t2019-09-20T11:13:23" class="time">11:13</a></td></tr>
<tr id="t2019-09-20T11:30:23"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">how to add a line in inittab file? the sysvinit-inittab_ append is not read.</td><td class="time"><a href="#t2019-09-20T11:30:23" class="time">11:30</a></td></tr>
<tr id="t2019-09-20T11:32:05"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">I add the line in do_install_aooend in sysvinit-inittab_2.88dsf.bbappend</td><td class="time"><a href="#t2019-09-20T11:32:05" class="time">11:32</a></td></tr>
<tr id="t2019-09-20T11:33:35"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">kayterina: 1. are you sure the bbappend is applied? 2. which file are you modifying? the one in your workdir/builddir/sourcedir or the one that is installed in ${D}?</td><td class="time"><a href="#t2019-09-20T11:33:35" class="time">11:33</a></td></tr>
<tr id="t2019-09-20T11:34:20"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">I am fairly sure it is not applied.</td><td class="time"><a href="#t2019-09-20T11:34:20" class="time">11:34</a></td></tr>
<tr id="t2019-09-20T11:34:53"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">I added /mylayer/reciped-core/sysvinit/sysvinit-inittab/sysvinit-inittab_2.88dsf.bbappend</td><td class="time"><a href="#t2019-09-20T11:34:53" class="time">11:34</a></td></tr>
<tr id="t2019-09-20T11:35:00"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">I saw it in SO</td><td class="time"><a href="#t2019-09-20T11:35:00" class="time">11:35</a></td></tr>
<tr id="t2019-09-20T11:35:06"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">*read</td><td class="time"><a href="#t2019-09-20T11:35:06" class="time">11:35</a></td></tr>
<tr id="t2019-09-20T11:37:10"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">qschulz: I modify the file in {D}, as I have ${D}${sysconfdir}/inittab</td><td class="time"><a href="#t2019-09-20T11:37:10" class="time">11:37</a></td></tr>
<tr id="t2019-09-20T11:38:21"><td class="action" colspan="2">* kayterina sent a long message:  &lt; <a href="https://matrix.org/_matrix/media/v1/download/matrix.org/wcTZZyPjsUlnljlyQtgmQEDr" rel="nofollow">https://matrix.org/_matrix/media/v1/download/matrix.org/wcTZZyPjsUlnljlyQtgmQEDr</a> &gt;</td><td><a href="#t2019-09-20T11:38:21" class="time">11:38</a></td></tr>
<tr id="t2019-09-20T11:44:54"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">kayterina: reciped-core or recipes-core?</td><td class="time"><a href="#t2019-09-20T11:44:54" class="time">11:44</a></td></tr>
<tr id="t2019-09-20T11:45:05"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">recipes</td><td class="time"><a href="#t2019-09-20T11:45:05" class="time">11:45</a></td></tr>
<tr id="t2019-09-20T11:45:16"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">you have one too many subdirs</td><td class="time"><a href="#t2019-09-20T11:45:16" class="time">11:45</a></td></tr>
<tr id="t2019-09-20T11:45:44"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">recipes-core/sysvinit/sysvinit-inittab_2.88dsf.bbappend</td><td class="time"><a href="#t2019-09-20T11:45:44" class="time">11:45</a></td></tr>
<tr id="t2019-09-20T11:45:50"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">that's where it should be</td><td class="time"><a href="#t2019-09-20T11:45:50" class="time">11:45</a></td></tr>
<tr id="t2019-09-20T11:46:48"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">it is there.</td><td class="time"><a href="#t2019-09-20T11:46:48" class="time">11:46</a></td></tr>
<tr id="t2019-09-20T11:46:59"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">sorry I didn't copy-paste</td><td class="time"><a href="#t2019-09-20T11:46:59" class="time">11:46</a></td></tr>
<tr id="t2019-09-20T11:47:09"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">(the path where bitbake looks for bb or bbappend is BBFILES in conf/layer.conf of your layer)</td><td class="time"><a href="#t2019-09-20T11:47:09" class="time">11:47</a></td></tr>
<tr id="t2019-09-20T11:47:47"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">could it be a priority issue? when is inittab created</td><td class="time"><a href="#t2019-09-20T11:47:47" class="time">11:47</a></td></tr>
<tr id="t2019-09-20T11:47:56"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">my layer is priority 6</td><td class="time"><a href="#t2019-09-20T11:47:56" class="time">11:47</a></td></tr>
<tr id="t2019-09-20T11:50:04"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">kayterina: you can check the bbappend is detected by using bitbake-layers show-appends sysvinit-inittab AFAIR</td><td class="time"><a href="#t2019-09-20T11:50:04" class="time">11:50</a></td></tr>
<tr id="t2019-09-20T11:50:35"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">@qschulz ok,I'll do that, thanks</td><td class="time"><a href="#t2019-09-20T11:50:35" class="time">11:50</a></td></tr>
<tr id="t2019-09-20T11:51:37"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">then, if it's correctly parsed, you can check the actual value of do_install (in order as it will be executed) in $WORKDIR/temp/run.do_install</td><td class="time"><a href="#t2019-09-20T11:51:37" class="time">11:51</a></td></tr>
<tr id="t2019-09-20T11:52:16"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">this is basically what is executed by bitbake, so you can see the order of things.</td><td class="time"><a href="#t2019-09-20T11:52:16" class="time">11:52</a></td></tr>
<tr id="t2019-09-20T11:57:32"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">if you're just providing a new file, i don't think you need to even do do_install_append</td><td class="time"><a href="#t2019-09-20T11:57:32" class="time">11:57</a></td></tr>
<tr id="t2019-09-20T11:57:51"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">rburton: kayterina is echo-ing &gt;&gt; to it</td><td class="time"><a href="#t2019-09-20T11:57:51" class="time">11:57</a></td></tr>
<tr id="t2019-09-20T11:58:04"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">ah ok ignore me</td><td class="time"><a href="#t2019-09-20T11:58:04" class="time">11:58</a></td></tr>
<tr id="t2019-09-20T11:58:58"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">well, I don't have a do.run_install in workdir</td><td class="time"><a href="#t2019-09-20T11:58:58" class="time">11:58</a></td></tr>
<tr id="t2019-09-20T12:03:01"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">run.do_install?</td><td class="time"><a href="#t2019-09-20T12:03:01" class="time">12:03</a></td></tr>
<tr id="t2019-09-20T12:03:12"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">in the workdir of the recipe?</td><td class="time"><a href="#t2019-09-20T12:03:12" class="time">12:03</a></td></tr>
<tr id="t2019-09-20T12:09:41"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">inside the&nbsp;&nbsp;$WORKDIR/temp</td><td class="time"><a href="#t2019-09-20T12:09:41" class="time">12:09</a></td></tr>
<tr id="t2019-09-20T12:13:44"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">what is $WORKDIR exactly for you?</td><td class="time"><a href="#t2019-09-20T12:13:44" class="time">12:13</a></td></tr>
<tr id="t2019-09-20T12:14:23"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">it is the image dir I think? I grep'd it</td><td class="time"><a href="#t2019-09-20T12:14:23" class="time">12:14</a></td></tr>
<tr id="t2019-09-20T12:14:38"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">I meant the workdir of the recipe</td><td class="time"><a href="#t2019-09-20T12:14:38" class="time">12:14</a></td></tr>
<tr id="t2019-09-20T12:14:38"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">bitbake -e dikomoy-image-minimal |grep ^WORKDIR=</td><td class="time"><a href="#t2019-09-20T12:14:38" class="time">12:14</a></td></tr>
<tr id="t2019-09-20T12:14:49"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">Ah, no :) that does not work</td><td class="time"><a href="#t2019-09-20T12:14:49" class="time">12:14</a></td></tr>
<tr id="t2019-09-20T12:15:05"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">well.. yes it does but it's the workdir of the image recipe not the sysvinit-inittab recipe</td><td class="time"><a href="#t2019-09-20T12:15:05" class="time">12:15</a></td></tr>
<tr id="t2019-09-20T12:15:32"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">so you could technically do the same but with bitbake -e sysvinit-inittab | grep ^WORKDIR=</td><td class="time"><a href="#t2019-09-20T12:15:32" class="time">12:15</a></td></tr>
<tr id="t2019-09-20T12:15:33"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">it finds non existant directory with&nbsp;&nbsp;sysvinit-inittab</td><td class="time"><a href="#t2019-09-20T12:15:33" class="time">12:15</a></td></tr>
<tr id="t2019-09-20T12:15:50"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">but since you already know bitbake -e, you cand irectly look at do_install in there</td><td class="time"><a href="#t2019-09-20T12:15:50" class="time">12:15</a></td></tr>
<tr id="t2019-09-20T12:17:18"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">kayterina: have you cleaned your workdir since last build? are you using the same MACHINE and DISTRO for bitbake -e sysvinit-inittab than when you built your image?</td><td class="time"><a href="#t2019-09-20T12:17:18" class="time">12:17</a></td></tr>
<tr id="t2019-09-20T12:18:56"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">I am using the same MACHINE and DISTRO, I did change some things,then rempved,then built</td><td class="time"><a href="#t2019-09-20T12:18:56" class="time">12:18</a></td></tr>
<tr id="t2019-09-20T12:19:09"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">perhaos I'll just rm tmp and rebuild,is it correct?</td><td class="time"><a href="#t2019-09-20T12:19:09" class="time">12:19</a></td></tr>
<tr id="t2019-09-20T12:21:09"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">just bitbake sysvinit-inittab</td><td class="time"><a href="#t2019-09-20T12:21:09" class="time">12:21</a></td></tr>
<tr id="t2019-09-20T12:21:18"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">ok</td><td class="time"><a href="#t2019-09-20T12:21:18" class="time">12:21</a></td></tr>
<tr id="t2019-09-20T12:21:49"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">then after it's done, the dir mentioned in WORKDIR should be there</td><td class="time"><a href="#t2019-09-20T12:21:49" class="time">12:21</a></td></tr>
<tr id="t2019-09-20T12:24:15"><td class="part" colspan="2">*** cengiz_io &lt;cengiz_io!~cengiz_io@159.89.7.238&gt; has left #yocto</td><td><a href="#t2019-09-20T12:24:15" class="time">12:24</a></td></tr>
<tr id="t2019-09-20T12:27:33"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: I've put some fixes in -next for testing</td><td class="time"><a href="#t2019-09-20T12:27:33" class="time">12:27</a></td></tr>
<tr id="t2019-09-20T12:39:37"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">RP: any idea how a usergroup from recipea can be used in useradd from recipeb? we have some occurences when this fails (we depends/rdepends in recipeb on recipea)</td><td class="time"><a href="#t2019-09-20T12:39:37" class="time">12:39</a></td></tr>
<tr id="t2019-09-20T12:40:22"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">qschulz: I think there are open bugs for this filed by Tartarus</td><td class="time"><a href="#t2019-09-20T12:40:22" class="time">12:40</a></td></tr>
<tr id="t2019-09-20T12:40:38"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">qschulz: adding the user in both recipes is the workaround right now</td><td class="time"><a href="#t2019-09-20T12:40:38" class="time">12:40</a></td></tr>
<tr id="t2019-09-20T12:40:54"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">I've not had the bandwidth to figure out a better fix</td><td class="time"><a href="#t2019-09-20T12:40:54" class="time">12:40</a></td></tr>
<tr id="t2019-09-20T12:40:55"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">in our case the group then :)</td><td class="time"><a href="#t2019-09-20T12:40:55" class="time">12:40</a></td></tr>
<tr id="t2019-09-20T12:41:11"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">qschulz: right, same thing</td><td class="time"><a href="#t2019-09-20T12:41:11" class="time">12:41</a></td></tr>
<tr id="t2019-09-20T12:41:16"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">RP: do you have a link by any chance?</td><td class="time"><a href="#t2019-09-20T12:41:16" class="time">12:41</a></td></tr>
<tr id="t2019-09-20T12:42:25"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">qschulz: <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=13419" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=13419</a></td><td class="time"><a href="#t2019-09-20T12:42:25" class="time">12:42</a></td></tr>
<tr id="t2019-09-20T12:42:26"><th class="nick" style="background: #97974f">yocti</th><td class="text" style="color: #97974f">Bug 13419: normal, Medium+, 2.8 M3, richard.purdie, NEW , recipes that add users to groups cannot rely on other recipes creating those groups (when population from sstate happens)</td><td class="time"><a href="#t2019-09-20T12:42:26" class="time">12:42</a></td></tr>
<tr id="t2019-09-20T12:42:36"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b"><a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=13279" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=13279</a></td><td class="time"><a href="#t2019-09-20T12:42:36" class="time">12:42</a></td></tr>
<tr id="t2019-09-20T12:42:37"><th class="nick" style="background: #97974f">yocti</th><td class="text" style="color: #97974f">Bug 13279: normal, Medium+, 2.8 M3, liezhi.yang, NEW , Make sure users/groups exist for package_write_* tasks</td><td class="time"><a href="#t2019-09-20T12:42:37" class="time">12:42</a></td></tr>
<tr id="t2019-09-20T12:49:21"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">RP: thanks! we'll try the workaround</td><td class="time"><a href="#t2019-09-20T12:49:21" class="time">12:49</a></td></tr>
<tr id="t2019-09-20T12:50:57"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/96/builds/178" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/96/builds/178</a> issustrates what I think is the remaining hashequiv runqueue problem</td><td class="time"><a href="#t2019-09-20T12:50:57" class="time">12:50</a></td></tr>
<tr id="t2019-09-20T12:53:15"><th class="nick" style="background: #a25555">Tartarus</th><td class="text" style="color: #a25555">OK, good, I'm not filing bugs about stuff in my sleep ;)</td><td class="time"><a href="#t2019-09-20T12:53:15" class="time">12:53</a></td></tr>
<tr id="t2019-09-20T13:02:04"><th class="nick" style="background: #57a657">zeddii</th><td class="text" style="color: #57a657">RP: fyi. Still digging down in the freezer cgroups for strace fun. At least I'll be able to discuss it fully on the mailing list if I fail to fix it.</td><td class="time"><a href="#t2019-09-20T13:02:04" class="time">13:02</a></td></tr>
<tr id="t2019-09-20T13:03:25"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">zeddii: ok, cool. I was wondering how that was going</td><td class="time"><a href="#t2019-09-20T13:03:25" class="time">13:03</a></td></tr>
<tr id="t2019-09-20T13:04:34"><th class="nick" style="background: #57a657">zeddii</th><td class="text" style="color: #57a657">RP (or anyone else) while the kernel builds yet again .. if I made bad design decision several years back and made variants of a recipe/package without using virtual/foo ... is there any graceful way to switch to virtual/foo now ? without breaking existing DEPENDS/RDEPENDS ? or am I stuck with a flag day kind of change ?</td><td class="time"><a href="#t2019-09-20T13:04:34" class="time">13:04</a></td></tr>
<tr id="t2019-09-20T13:06:56"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">zeddii: well, you can still add PROVIDES = "virtual/&lt;pkg&gt;" it won't change what exists currently AFAIK?</td><td class="time"><a href="#t2019-09-20T13:06:56" class="time">13:06</a></td></tr>
<tr id="t2019-09-20T13:08:44"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">zeddii: I'd have thought you could add in extra PROVIDES</td><td class="time"><a href="#t2019-09-20T13:08:44" class="time">13:08</a></td></tr>
<tr id="t2019-09-20T13:11:14"><th class="nick" style="background: #57a657">zeddii</th><td class="text" style="color: #57a657">I haven't run all the tests yet, but since it wasn't virtual/foo before, won't anyone that had depends=foo, etc, break if I switch everything to virtual/foo ? maybe I just need more coffee. I want to move it to a preferred provider kind of thing, so now that I think about it, the *packages* will be the same so image_install, etc are fine, it is just depends.</td><td class="time"><a href="#t2019-09-20T13:11:14" class="time">13:11</a></td></tr>
<tr id="t2019-09-20T13:11:54"><th class="nick" style="background: #57a657">zeddii</th><td class="text" style="color: #57a657">but yah. with the extra provides it should be fine</td><td class="time"><a href="#t2019-09-20T13:11:54" class="time">13:11</a></td></tr>
<tr id="t2019-09-20T13:11:58"><td class="action" colspan="2">* zeddii tries that.</td><td><a href="#t2019-09-20T13:11:58" class="time">13:11</a></td></tr>
<tr id="t2019-09-20T13:13:30"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">zeddii: virtual/X is a DEPENDS only namespace and a recipe can PROVIDE more than one thing</td><td class="time"><a href="#t2019-09-20T13:13:30" class="time">13:13</a></td></tr>
<tr id="t2019-09-20T13:13:37"><th class="nick" style="background: #57a657">zeddii</th><td class="text" style="color: #57a657">yah</td><td class="time"><a href="#t2019-09-20T13:13:37" class="time">13:13</a></td></tr>
<tr id="t2019-09-20T13:13:46"><th class="nick" style="background: #57a657">zeddii</th><td class="text" style="color: #57a657">I realized that after typing it out :D</td><td class="time"><a href="#t2019-09-20T13:13:46" class="time">13:13</a></td></tr>
<tr id="t2019-09-20T13:14:00"><th class="nick" style="background: #57a657">zeddii</th><td class="text" style="color: #57a657">you can't IMAGE_INSTALL = "virtual/kernel" :D</td><td class="time"><a href="#t2019-09-20T13:14:00" class="time">13:14</a></td></tr>
<tr id="t2019-09-20T13:27:56"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">RP: ok, quick question :) apparently the user/group dependency between two recipes bug does not happen if we have 'deltask&nbsp;&nbsp;do_package_setscene' in the recipe depending on the other recipe. Is this wrong? On which level of wrongness are we :) ?</td><td class="time"><a href="#t2019-09-20T13:27:56" class="time">13:27</a></td></tr>
<tr id="t2019-09-20T13:30:56"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">qschulz: that doesn't sound right to me</td><td class="time"><a href="#t2019-09-20T13:30:56" class="time">13:30</a></td></tr>
<tr id="t2019-09-20T13:51:15"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: It runs the do_configure/do_compile etc. without running do_fetch?</td><td class="time"><a href="#t2019-09-20T13:51:15" class="time">13:51</a></td></tr>
<tr id="t2019-09-20T14:01:41"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: yes :/</td><td class="time"><a href="#t2019-09-20T14:01:41" class="time">14:01</a></td></tr>
<tr id="t2019-09-20T14:02:00"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: basically it setscened all the tasks for that recipe, then decided it really needed to rerun them</td><td class="time"><a href="#t2019-09-20T14:02:00" class="time">14:02</a></td></tr>
<tr id="t2019-09-20T14:07:42"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">qschulz: is inittab provided by sysvinit-inittab for raspberry pi?</td><td class="time"><a href="#t2019-09-20T14:07:42" class="time">14:07</a></td></tr>
<tr id="t2019-09-20T14:09:26"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">in sysvinitab workdir there is the inittab with my append but it is different from the one in the image</td><td class="time"><a href="#t2019-09-20T14:09:26" class="time">14:09</a></td></tr>
<tr id="t2019-09-20T14:10:11"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">kayterina: <a href="https://wiki.yoctoproject.org/wiki/Technical_FAQ#How_do_I_find_out_which_package_contains_a_particular_file_.28or_python_module.29.3F" rel="nofollow">https://wiki.yoctoproject.org/wiki/Technical_FAQ#How_do_I_find_out_which_package_contains_a_particular_file_.28or_python_module.29.3F</a></td><td class="time"><a href="#t2019-09-20T14:10:11" class="time">14:10</a></td></tr>
<tr id="t2019-09-20T14:10:18"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">this could help maybe?</td><td class="time"><a href="#t2019-09-20T14:10:18" class="time">14:10</a></td></tr>
<tr id="t2019-09-20T14:10:25"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Hmm.... interesting.</td><td class="time"><a href="#t2019-09-20T14:10:25" class="time">14:10</a></td></tr>
<tr id="t2019-09-20T14:28:21"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: Its a tricky dilemma on how to handle this :/</td><td class="time"><a href="#t2019-09-20T14:28:21" class="time">14:28</a></td></tr>
<tr id="t2019-09-20T14:28:44"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Ya, I agree.... is there any indication as to why it though those needed to be rerun?</td><td class="time"><a href="#t2019-09-20T14:28:44" class="time">14:28</a></td></tr>
<tr id="t2019-09-20T14:30:49"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: the hash of a dependency changed to one which was no longer compatible</td><td class="time"><a href="#t2019-09-20T14:30:49" class="time">14:30</a></td></tr>
<tr id="t2019-09-20T14:31:42"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: the setscene had already run, it then decided to change the hash and turn it to a normal task as there was no sstate</td><td class="time"><a href="#t2019-09-20T14:31:42" class="time">14:31</a></td></tr>
<tr id="t2019-09-20T14:32:07"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: we could make it so that once setscene has run, the hashes can't change</td><td class="time"><a href="#t2019-09-20T14:32:07" class="time">14:32</a></td></tr>
<tr id="t2019-09-20T14:34:23"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Is any of the setsecene it did for adwaita-icon-theme valid?</td><td class="time"><a href="#t2019-09-20T14:34:23" class="time">14:34</a></td></tr>
<tr id="t2019-09-20T14:34:40"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: it was valid, then new hashes appeared</td><td class="time"><a href="#t2019-09-20T14:34:40" class="time">14:34</a></td></tr>
<tr id="t2019-09-20T14:34:49"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">no longer matched</td><td class="time"><a href="#t2019-09-20T14:34:49" class="time">14:34</a></td></tr>
<tr id="t2019-09-20T14:39:13"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: I guess I'm not quite following where that happened. gtk+ do_populate_sysroot was detected as equivalent and it's unihash was updated. This caused a cascade of setsecene tasks to be re-run, then adawait-icon-theme started rerunning. Wheres the hash that no longer matched? Is it one of the other tasks that setsecene'd after gtk+ changed?</td><td class="time"><a href="#t2019-09-20T14:39:13" class="time">14:39</a></td></tr>
<tr id="t2019-09-20T14:39:31"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">We're trying to move to pigz for opkg packages compression but it fails if I don't have pigz in my host</td><td class="time"><a href="#t2019-09-20T14:39:31" class="time">14:39</a></td></tr>
<tr id="t2019-09-20T14:39:47"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">OPKGBUILDCMD = "opkg-build -Z pigz"</td><td class="time"><a href="#t2019-09-20T14:39:47" class="time">14:39</a></td></tr>
<tr id="t2019-09-20T14:40:29"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">qschulz: yes, that's right. that's exactly what would happen if you did that.</td><td class="time"><a href="#t2019-09-20T14:40:29" class="time">14:40</a></td></tr>
<tr id="t2019-09-20T14:40:43"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">would it make sense to add DEPENDS = "pigz-native" to opkg-utils?</td><td class="time"><a href="#t2019-09-20T14:40:43" class="time">14:40</a></td></tr>
<tr id="t2019-09-20T14:40:47"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">no</td><td class="time"><a href="#t2019-09-20T14:40:47" class="time">14:40</a></td></tr>
<tr id="t2019-09-20T14:40:50"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">yup</td><td class="time"><a href="#t2019-09-20T14:40:50" class="time">14:40</a></td></tr>
<tr id="t2019-09-20T14:40:54"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">see pacakge_ipk.bbclass</td><td class="time"><a href="#t2019-09-20T14:40:54" class="time">14:40</a></td></tr>
<tr id="t2019-09-20T14:41:05"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">which in case, uses multithreaded xz and thus depends on xz-native</td><td class="time"><a href="#t2019-09-20T14:41:05" class="time">14:41</a></td></tr>
<tr id="t2019-09-20T14:41:12"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: after the gtk rehash it prints that adwaita-icon-theme changed (multiple tasks)</td><td class="time"><a href="#t2019-09-20T14:41:12" class="time">14:41</a></td></tr>
<tr id="t2019-09-20T14:41:14"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">"which in master", even</td><td class="time"><a href="#t2019-09-20T14:41:14" class="time">14:41</a></td></tr>
<tr id="t2019-09-20T14:41:28"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: that meant the previous setscene was invalid and it now needed to rerun the adwaita-icon-theme tasks</td><td class="time"><a href="#t2019-09-20T14:41:28" class="time">14:41</a></td></tr>
<tr id="t2019-09-20T14:43:16"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">rburton: mmm, I'm lost now :/</td><td class="time"><a href="#t2019-09-20T14:43:16" class="time">14:43</a></td></tr>
<tr id="t2019-09-20T14:43:37"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Just to make sure I'm on the same page, what line of the log file is that?</td><td class="time"><a href="#t2019-09-20T14:43:37" class="time">14:43</a></td></tr>
<tr id="t2019-09-20T14:44:12"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: 9139 is where it says its rerunning adwaita-icon-theme</td><td class="time"><a href="#t2019-09-20T14:44:12" class="time">14:44</a></td></tr>
<tr id="t2019-09-20T14:45:06"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">rburton: is there a way to add pigz-native dependency to the build?</td><td class="time"><a href="#t2019-09-20T14:45:06" class="time">14:45</a></td></tr>
<tr id="t2019-09-20T14:45:27"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">qschulz: yes, see package_ipg.bbclass which in master does exactly that for xz</td><td class="time"><a href="#t2019-09-20T14:45:27" class="time">14:45</a></td></tr>
<tr id="t2019-09-20T14:46:30"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">I need to override this class then, right?</td><td class="time"><a href="#t2019-09-20T14:46:30" class="time">14:46</a></td></tr>
<tr id="t2019-09-20T14:46:48"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">you can replicate the logic in another class</td><td class="time"><a href="#t2019-09-20T14:46:48" class="time">14:46</a></td></tr>
<tr id="t2019-09-20T14:47:45"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">i recommend xz over pigz, better control over usage in heavy builds</td><td class="time"><a href="#t2019-09-20T14:47:45" class="time">14:47</a></td></tr>
<tr id="t2019-09-20T14:48:08"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">wdym?</td><td class="time"><a href="#t2019-09-20T14:48:08" class="time">14:48</a></td></tr>
<tr id="t2019-09-20T14:48:22"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">our concern at the moment is to make the build faster basically</td><td class="time"><a href="#t2019-09-20T14:48:22" class="time">14:48</a></td></tr>
<tr id="t2019-09-20T14:48:45"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">left to its own devices a heavily parallel build can end up getting OOMd, xz lets you control memory usage and threading nicely</td><td class="time"><a href="#t2019-09-20T14:48:45" class="time">14:48</a></td></tr>
<tr id="t2019-09-20T14:48:51"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">which is why its used in oe-core master</td><td class="time"><a href="#t2019-09-20T14:48:51" class="time">14:48</a></td></tr>
<tr id="t2019-09-20T14:49:46"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">warrior has that too</td><td class="time"><a href="#t2019-09-20T14:49:46" class="time">14:49</a></td></tr>
<tr id="t2019-09-20T14:49:54"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">so consider just upgrading :)</td><td class="time"><a href="#t2019-09-20T14:49:54" class="time">14:49</a></td></tr>
<tr id="t2019-09-20T14:51:09"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">"warrior has that too"?</td><td class="time"><a href="#t2019-09-20T14:51:09" class="time">14:51</a></td></tr>
<tr id="t2019-09-20T14:51:16"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">the use of threaded xz</td><td class="time"><a href="#t2019-09-20T14:51:16" class="time">14:51</a></td></tr>
<tr id="t2019-09-20T14:51:38"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">because thud does not have it?</td><td class="time"><a href="#t2019-09-20T14:51:38" class="time">14:51</a></td></tr>
<tr id="t2019-09-20T14:51:54"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">(sorry for the dumb questions, brain is fried for this week)</td><td class="time"><a href="#t2019-09-20T14:51:54" class="time">14:51</a></td></tr>
<tr id="t2019-09-20T14:52:29"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">hm no thud has xz too, just doesn't control its memory usage</td><td class="time"><a href="#t2019-09-20T14:52:29" class="time">14:52</a></td></tr>
<tr id="t2019-09-20T14:52:34"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">OPKGBUILDCMD ??= "opkg-build -Z xz"</td><td class="time"><a href="#t2019-09-20T14:52:34" class="time">14:52</a></td></tr>
<tr id="t2019-09-20T14:53:07"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">so you can easily tweak opkg-build to do a multithreaded xz</td><td class="time"><a href="#t2019-09-20T14:53:07" class="time">14:53</a></td></tr>
<tr id="t2019-09-20T14:54:18"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">you might want to backport <a href="https://git.yoctoproject.org/cgit/cgit.cgi/opkg-utils/commit/opkg-build?id=49d32419abec4142995f3ed6f840137c8a72f3b3" rel="nofollow">https://git.yoctoproject.org/cgit/cgit.cgi/opkg-utils/commit/opkg-build?id=49d32419abec4142995f3ed6f840137c8a72f3b3</a> then you're happy</td><td class="time"><a href="#t2019-09-20T14:54:18" class="time">14:54</a></td></tr>
<tr id="t2019-09-20T14:56:20"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">RP: oh my api-doc world thing didn't land, so i shouldn't feel bad :)</td><td class="time"><a href="#t2019-09-20T14:56:20" class="time">14:56</a></td></tr>
<tr id="t2019-09-20T14:56:38"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: no, not yet. Enough other moving bits</td><td class="time"><a href="#t2019-09-20T14:56:38" class="time">14:56</a></td></tr>
<tr id="t2019-09-20T14:57:00"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">well i have a tweak to make it exclude webkitgtk to save half an hour :)</td><td class="time"><a href="#t2019-09-20T14:57:00" class="time">14:57</a></td></tr>
<tr id="t2019-09-20T14:57:27"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: ok, cool</td><td class="time"><a href="#t2019-09-20T14:57:27" class="time">14:57</a></td></tr>
<tr id="t2019-09-20T14:57:40"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: autobuilder helper change?</td><td class="time"><a href="#t2019-09-20T14:57:40" class="time">14:57</a></td></tr>
<tr id="t2019-09-20T14:57:44"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">yes</td><td class="time"><a href="#t2019-09-20T14:57:44" class="time">14:57</a></td></tr>
<tr id="t2019-09-20T14:57:48"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">ross/gtkdoc in the repo</td><td class="time"><a href="#t2019-09-20T14:57:48" class="time">14:57</a></td></tr>
<tr id="t2019-09-20T14:58:03"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Shouldn't the setsecene tasks being eligible to run have covered the other tasks (do_configure/do_compile?). The setscene tasks became valid, but didn't actually rerun?</td><td class="time"><a href="#t2019-09-20T14:58:03" class="time">14:58</a></td></tr>
<tr id="t2019-09-20T15:00:12"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: Its do_populate_lic that complicated things, that was still valid</td><td class="time"><a href="#t2019-09-20T15:00:12" class="time">15:00</a></td></tr>
<tr id="t2019-09-20T15:00:25"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">(and depends on tasks pre configure)</td><td class="time"><a href="#t2019-09-20T15:00:25" class="time">15:00</a></td></tr>
<tr id="t2019-09-20T15:01:07"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Ok, that makes sense</td><td class="time"><a href="#t2019-09-20T15:01:07" class="time">15:01</a></td></tr>
<tr id="t2019-09-20T15:02:32"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Out of curiosity, how do you know it was that task?</td><td class="time"><a href="#t2019-09-20T15:02:32" class="time">15:02</a></td></tr>
<tr id="t2019-09-20T15:03:57"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: I just recognise the patterns</td><td class="time"><a href="#t2019-09-20T15:03:57" class="time">15:03</a></td></tr>
<tr id="t2019-09-20T15:04:31"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: populate_lic is nearly always reused from sstate as it only depends on the sources</td><td class="time"><a href="#t2019-09-20T15:04:31" class="time">15:04</a></td></tr>
<tr id="t2019-09-20T15:05:04"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: I figured :) Looking at a lot of these logs gives a good feel for what should be running</td><td class="time"><a href="#t2019-09-20T15:05:04" class="time">15:05</a></td></tr>
<tr id="t2019-09-20T15:09:00"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Ok, so if that is the case, why didn't do_fetch run? My guess: Already had a stamp file for do_fetch from a previous run, so it started from the first task that actually changed (do_prepare_recipe_sysroot), but the fetch wasn't actually there because... a previous setsecene task invalidated it?</td><td class="time"><a href="#t2019-09-20T15:09:00" class="time">15:09</a></td></tr>
<tr id="t2019-09-20T15:09:22"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: that isn't what I think happened</td><td class="time"><a href="#t2019-09-20T15:09:22" class="time">15:09</a></td></tr>
<tr id="t2019-09-20T15:10:16"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: I think all of adwaita-icon-theme came from sstate originally so the build marked many of the tasks as skipped</td><td class="time"><a href="#t2019-09-20T15:10:16" class="time">15:10</a></td></tr>
<tr id="t2019-09-20T15:10:32"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">when the hashes changed, its having trouble "unskipping" tasks which became buildable</td><td class="time"><a href="#t2019-09-20T15:10:32" class="time">15:10</a></td></tr>
<tr id="t2019-09-20T15:11:05"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: OK, that makes sense</td><td class="time"><a href="#t2019-09-20T15:11:05" class="time">15:11</a></td></tr>
<tr id="t2019-09-20T15:11:51"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: adwaita-icon-theme:do_patch is buildable before gtk+ populate_sysroot completes</td><td class="time"><a href="#t2019-09-20T15:11:51" class="time">15:11</a></td></tr>
<tr id="t2019-09-20T15:12:15"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: I think the answer is going to be not to rerun sstate tasks once they've run. What that means for the sigs I don't know though</td><td class="time"><a href="#t2019-09-20T15:12:15" class="time">15:12</a></td></tr>
<tr id="t2019-09-20T15:16:07"><td class="action" colspan="2">* JPEW finds a whiteboard....</td><td><a href="#t2019-09-20T15:16:07" class="time">15:16</a></td></tr>
<tr id="t2019-09-20T15:27:17"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: How do you know do_patch was buildable?</td><td class="time"><a href="#t2019-09-20T15:27:17" class="time">15:27</a></td></tr>
<tr id="t2019-09-20T15:27:44"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: I'm guessing a bit :/</td><td class="time"><a href="#t2019-09-20T15:27:44" class="time">15:27</a></td></tr>
<tr id="t2019-09-20T15:27:56"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: I've spent a long time staring at the code</td><td class="time"><a href="#t2019-09-20T15:27:56" class="time">15:27</a></td></tr>
<tr id="t2019-09-20T15:28:08"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: I can't explain it any other way</td><td class="time"><a href="#t2019-09-20T15:28:08" class="time">15:28</a></td></tr>
<tr id="t2019-09-20T15:28:23"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: You have bitbake ESP</td><td class="time"><a href="#t2019-09-20T15:28:23" class="time">15:28</a></td></tr>
<tr id="t2019-09-20T15:29:04"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: More like spent the day on this :(</td><td class="time"><a href="#t2019-09-20T15:29:04" class="time">15:29</a></td></tr>
<tr id="t2019-09-20T15:29:24"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: I'm open to others ways to explain why it breaks</td><td class="time"><a href="#t2019-09-20T15:29:24" class="time">15:29</a></td></tr>
<tr id="t2019-09-20T15:31:06"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: we could try <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=c679b56e8b4895f926f6bfb73fcf08c61a78f90b" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=c679b56e8b4895f926f6bfb73fcf08c61a78f90b</a></td><td class="time"><a href="#t2019-09-20T15:31:06" class="time">15:31</a></td></tr>
<tr id="t2019-09-20T15:31:44"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: for determinism we may want to have a report_unihash there</td><td class="time"><a href="#t2019-09-20T15:31:44" class="time">15:31</a></td></tr>
<tr id="t2019-09-20T15:32:11"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: not sure what we can use as outhash as we don't have one</td><td class="time"><a href="#t2019-09-20T15:32:11" class="time">15:32</a></td></tr>
<tr id="t2019-09-20T15:36:59"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Hmm..... perhaps worth a try, but I'm not sure it's quite the right thing.</td><td class="time"><a href="#t2019-09-20T15:36:59" class="time">15:36</a></td></tr>
<tr id="t2019-09-20T15:36:59"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">rburton: I don't understand why DEPENDS = "pigz-native" in opkg-utils-native wouldn't work (I'm not saying it's the good way to do it, I just want to understand)</td><td class="time"><a href="#t2019-09-20T15:36:59" class="time">15:36</a></td></tr>
<tr id="t2019-09-20T15:37:06"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: How reproducible is this?</td><td class="time"><a href="#t2019-09-20T15:37:06" class="time">15:37</a></td></tr>
<tr id="t2019-09-20T15:38:20"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">it's going to put pigz-native:do_populate_sysroot as a dependency of opkg-utils-native:do_configure which happens before do_package_write_ipk right?</td><td class="time"><a href="#t2019-09-20T15:38:20" class="time">15:38</a></td></tr>
<tr id="t2019-09-20T15:38:24"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: happens on the autobuilder in 2-3 builds?</td><td class="time"><a href="#t2019-09-20T15:38:24" class="time">15:38</a></td></tr>
<tr id="t2019-09-20T15:38:43"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">or is it not ideal because it installs everything to a sysroot that we shouldn't need?</td><td class="time"><a href="#t2019-09-20T15:38:43" class="time">15:38</a></td></tr>
<tr id="t2019-09-20T15:39:17"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">qschulz: it might work but opkg-utils doesn't depend on it so its technically wrong</td><td class="time"><a href="#t2019-09-20T15:39:17" class="time">15:39</a></td></tr>
<tr id="t2019-09-20T15:39:47"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: I don't like this but I can't see another way for things to work</td><td class="time"><a href="#t2019-09-20T15:39:47" class="time">15:39</a></td></tr>
<tr id="t2019-09-20T15:39:48"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">RP: such an idiot...</td><td class="time"><a href="#t2019-09-20T15:39:48" class="time">15:39</a></td></tr>
<tr id="t2019-09-20T15:40:21"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">RP: BTW, RDEPENDS for a native package should work in master now? because I guess that's what should be needed right&gt;?</td><td class="time"><a href="#t2019-09-20T15:40:21" class="time">15:40</a></td></tr>
<tr id="t2019-09-20T15:42:08"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">qschulz: it kinds of works</td><td class="time"><a href="#t2019-09-20T15:42:08" class="time">15:42</a></td></tr>
<tr id="t2019-09-20T15:42:22"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">qschulz: think about how RDEPENDS works when PACKAGES=""</td><td class="time"><a href="#t2019-09-20T15:42:22" class="time">15:42</a></td></tr>
<tr id="t2019-09-20T15:42:32"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">(which is why its 'fun')</td><td class="time"><a href="#t2019-09-20T15:42:32" class="time">15:42</a></td></tr>
<tr id="t2019-09-20T15:44:15"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">RP: I saw that test in package_ipk.bbclass, when does this happen?</td><td class="time"><a href="#t2019-09-20T15:44:15" class="time">15:44</a></td></tr>
<tr id="t2019-09-20T15:44:20"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">in images?</td><td class="time"><a href="#t2019-09-20T15:44:20" class="time">15:44</a></td></tr>
<tr id="t2019-09-20T15:47:42"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">qschulz: when does what happen? Sorry but I really need to concentrate on other things :/</td><td class="time"><a href="#t2019-09-20T15:47:42" class="time">15:47</a></td></tr>
<tr id="t2019-09-20T15:50:30"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">qschulz: package-ipk.bbclass shows exactly how to add dependencies for packaging</td><td class="time"><a href="#t2019-09-20T15:50:30" class="time">15:50</a></td></tr>
<tr id="t2019-09-20T15:50:32"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">RP: PACKAGES="". no worries, it's just curiosity :)</td><td class="time"><a href="#t2019-09-20T15:50:32" class="time">15:50</a></td></tr>
<tr id="t2019-09-20T15:51:20"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">qschulz: native.bbclass</td><td class="time"><a href="#t2019-09-20T15:51:20" class="time">15:51</a></td></tr>
<tr id="t2019-09-20T15:51:49"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e"><a href="https://github.com/openembedded/openembedded-core/blob/master/meta/classes/package_ipk.bbclass#L261" rel="nofollow">https://github.com/openembedded/openembedded-core/blob/master/meta/classes/package_ipk.bbclass#L261</a> if you're having trouble</td><td class="time"><a href="#t2019-09-20T15:51:49" class="time">15:51</a></td></tr>
<tr id="t2019-09-20T15:52:13"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">rburton: there are many ways to do different things. I saw how it's done in package_ipk.bbclass, I wanted to know if other ways I thought of could work as well and if and why it shouldn't be used.</td><td class="time"><a href="#t2019-09-20T15:52:13" class="time">15:52</a></td></tr>
<tr id="t2019-09-20T15:52:25"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">what the class does is the one way</td><td class="time"><a href="#t2019-09-20T15:52:25" class="time">15:52</a></td></tr>
<tr id="t2019-09-20T15:52:39"><th class="nick" style="background: #adad5b">marler899763</th><td class="text" style="color: #adad5b">do bitbake files have issues with HEREDOC in bash functions?</td><td class="time"><a href="#t2019-09-20T15:52:39" class="time">15:52</a></td></tr>
<tr id="t2019-09-20T15:52:55"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">rburton: well, PACKAGE_WRITE_DEPS in conf/local.conf is another way</td><td class="time"><a href="#t2019-09-20T15:52:55" class="time">15:52</a></td></tr>
<tr id="t2019-09-20T15:53:36"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">marler899763: our parser may</td><td class="time"><a href="#t2019-09-20T15:53:36" class="time">15:53</a></td></tr>
<tr id="t2019-09-20T15:53:41"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">qschulz: fails if you need the thing to build the thing</td><td class="time"><a href="#t2019-09-20T15:53:41" class="time">15:53</a></td></tr>
<tr id="t2019-09-20T15:56:46"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">marler899763: there's a few recipes in the AGL layers that use here documents</td><td class="time"><a href="#t2019-09-20T15:56:46" class="time">15:56</a></td></tr>
<tr id="t2019-09-20T15:57:11"><th class="nick" style="background: #adad5b">marler899763</th><td class="text" style="color: #adad5b">I'm guessing HEREDOC works so long as you don't use certain characters</td><td class="time"><a href="#t2019-09-20T15:57:11" class="time">15:57</a></td></tr>
<tr id="t2019-09-20T16:03:57"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">rburton: *facepalm*, that's what I get for trying to be smart on a Friday afternoon</td><td class="time"><a href="#t2019-09-20T16:03:57" class="time">16:03</a></td></tr>
<tr id="t2019-09-20T16:09:11"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">rburton: I'm very curious now why it didn't fail when we compiled with PACKAGE_WRITE_DEPS = "pigz-native". What's in package_ipk.bbclass in the very same line you sent is doing the same as if PACKAGE_WRITE_DEPS was "xz-native". Or am I being an idiot again abd it's really time to go home?</td><td class="time"><a href="#t2019-09-20T16:09:11" class="time">16:09</a></td></tr>
<tr id="t2019-09-20T16:19:59"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/79/builds/389" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/79/builds/389</a> step1d looks "fun" :(</td><td class="time"><a href="#t2019-09-20T16:19:59" class="time">16:19</a></td></tr>
<tr id="t2019-09-20T16:25:47"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">hello all</td><td class="time"><a href="#t2019-09-20T16:25:47" class="time">16:25</a></td></tr>
<tr id="t2019-09-20T16:25:56"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">I've just found out about the "Ostro" Operating system</td><td class="time"><a href="#t2019-09-20T16:25:56" class="time">16:25</a></td></tr>
<tr id="t2019-09-20T16:26:02"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">it's now dead. why was it abandoned?</td><td class="time"><a href="#t2019-09-20T16:26:02" class="time">16:26</a></td></tr>
<tr id="t2019-09-20T16:26:55"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">hm what one was ostro</td><td class="time"><a href="#t2019-09-20T16:26:55" class="time">16:26</a></td></tr>
<tr id="t2019-09-20T16:27:19"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: its bad when you can't even remember!</td><td class="time"><a href="#t2019-09-20T16:27:19" class="time">16:27</a></td></tr>
<tr id="t2019-09-20T16:27:20"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">was that the nokia collab?</td><td class="time"><a href="#t2019-09-20T16:27:20" class="time">16:27</a></td></tr>
<tr id="t2019-09-20T16:27:34"><th class="nick" style="background: #57a657">zeddii</th><td class="text" style="color: #57a657">rburton. its that's steaming, burning wreckage on the side of the raod.</td><td class="time"><a href="#t2019-09-20T16:27:34" class="time">16:27</a></td></tr>
<tr id="t2019-09-20T16:27:35"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">no, it wasn't</td><td class="time"><a href="#t2019-09-20T16:27:35" class="time">16:27</a></td></tr>
<tr id="t2019-09-20T16:27:37"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">i just read about it in <a href="https://elinux.org/images/6/69/Demystifying_Systemd.pdf" rel="nofollow">https://elinux.org/images/6/69/Demystifying_Systemd.pdf</a></td><td class="time"><a href="#t2019-09-20T16:27:37" class="time">16:27</a></td></tr>
<tr id="t2019-09-20T16:27:55"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">litb: abandoned for boring business reasons</td><td class="time"><a href="#t2019-09-20T16:27:55" class="time">16:27</a></td></tr>
<tr id="t2019-09-20T16:27:58"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">apparently it's an operating system for embedded, based on yocto</td><td class="time"><a href="#t2019-09-20T16:27:58" class="time">16:27</a></td></tr>
<tr id="t2019-09-20T16:28:03"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">rburton, oh hmm</td><td class="time"><a href="#t2019-09-20T16:28:03" class="time">16:28</a></td></tr>
<tr id="t2019-09-20T16:28:17"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: Ostro was the YP based embedded distro one iirc?</td><td class="time"><a href="#t2019-09-20T16:28:17" class="time">16:28</a></td></tr>
<tr id="t2019-09-20T16:28:20"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">the layers are still online</td><td class="time"><a href="#t2019-09-20T16:28:20" class="time">16:28</a></td></tr>
<tr id="t2019-09-20T16:28:20"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">yeah</td><td class="time"><a href="#t2019-09-20T16:28:20" class="time">16:28</a></td></tr>
<tr id="t2019-09-20T16:28:24"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">maybe we could use it to build our own</td><td class="time"><a href="#t2019-09-20T16:28:24" class="time">16:28</a></td></tr>
<tr id="t2019-09-20T16:28:37"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">'be inspired by it', the layers are untouched</td><td class="time"><a href="#t2019-09-20T16:28:37" class="time">16:28</a></td></tr>
<tr id="t2019-09-20T16:28:49"><th class="nick" style="background: #57a657">zeddii</th><td class="text" style="color: #57a657">and it was a lot of reshashed and recycled failed design ideas ;)</td><td class="time"><a href="#t2019-09-20T16:28:49" class="time">16:28</a></td></tr>
<tr id="t2019-09-20T16:28:50"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">iot refkit is similar idea but a bit more recent</td><td class="time"><a href="#t2019-09-20T16:28:50" class="time">16:28</a></td></tr>
<tr id="t2019-09-20T16:28:52"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">currently we are trying to figure out how to make our firmware app boot up using systemd</td><td class="time"><a href="#t2019-09-20T16:28:52" class="time">16:28</a></td></tr>
<tr id="t2019-09-20T16:29:12"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">litb: well, surely that's just turning on systemd: two lines in your distro conf</td><td class="time"><a href="#t2019-09-20T16:29:12" class="time">16:29</a></td></tr>
<tr id="t2019-09-20T16:29:34"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">we want to support multiple app-instances of our firmware on a single device, and want to be able to tell systemd "boot our firmware that's below /firmware1" and "boot our firmware that's below /firmware2"</td><td class="time"><a href="#t2019-09-20T16:29:34" class="time">16:29</a></td></tr>
<tr id="t2019-09-20T16:29:45"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: its one isn't it?</td><td class="time"><a href="#t2019-09-20T16:29:45" class="time">16:29</a></td></tr>
<tr id="t2019-09-20T16:29:54"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">RP: i was including setting distro features</td><td class="time"><a href="#t2019-09-20T16:29:54" class="time">16:29</a></td></tr>
<tr id="t2019-09-20T16:29:59"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">I'm currently figuring out how to do that. i.e how to put systemd unit files somewhere else than /etc and make systemd use it.</td><td class="time"><a href="#t2019-09-20T16:29:59" class="time">16:29</a></td></tr>
<tr id="t2019-09-20T16:30:06"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: INIT_MANAGER = ?</td><td class="time"><a href="#t2019-09-20T16:30:06" class="time">16:30</a></td></tr>
<tr id="t2019-09-20T16:30:13"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">litb: for what you want, ostro isn't relevant.&nbsp;&nbsp;you're talking about general systemd use.</td><td class="time"><a href="#t2019-09-20T16:30:13" class="time">16:30</a></td></tr>
<tr id="t2019-09-20T16:31:10"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">rburton, but because we need to&nbsp;&nbsp;still figure out what initrd system to use, what splash screen to use etc.. maybe we could use an existing yocto-based OS that has all of it "solved"</td><td class="time"><a href="#t2019-09-20T16:31:10" class="time">16:31</a></td></tr>
<tr id="t2019-09-20T16:31:36"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">litb: if you're using systemd then i believe you don't have a choice for splash</td><td class="time"><a href="#t2019-09-20T16:31:36" class="time">16:31</a></td></tr>
<tr id="t2019-09-20T16:31:56"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">psplash and systemd don't get on well iirc</td><td class="time"><a href="#t2019-09-20T16:31:56" class="time">16:31</a></td></tr>
<tr id="t2019-09-20T16:32:24"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">currently i use yocto's init framework for initramfs. and systemd as /sbin/init</td><td class="time"><a href="#t2019-09-20T16:32:24" class="time">16:32</a></td></tr>
<tr id="t2019-09-20T16:32:33"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">for splash i use plymouth</td><td class="time"><a href="#t2019-09-20T16:32:33" class="time">16:32</a></td></tr>
<tr id="t2019-09-20T16:33:33"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">right, solved then :)</td><td class="time"><a href="#t2019-09-20T16:33:33" class="time">16:33</a></td></tr>
<tr id="t2019-09-20T16:33:41"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">also I'm not using grub as my boot manager, because yocto/oe doesn't provide ready to use wic scripts for grub+bios</td><td class="time"><a href="#t2019-09-20T16:33:41" class="time">16:33</a></td></tr>
<tr id="t2019-09-20T16:33:59"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">so i have to use syslinux currently and need to figure out the steps to install grub later</td><td class="time"><a href="#t2019-09-20T16:33:59" class="time">16:33</a></td></tr>
<tr id="t2019-09-20T16:34:29"><th class="nick" style="background: #539e9e">rburton</th><td class="text" style="color: #539e9e">eww bios :)</td><td class="time"><a href="#t2019-09-20T16:34:29" class="time">16:34</a></td></tr>
<tr id="t2019-09-20T16:36:30"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2019-09-20T16:36:30" class="time">16:36</a></td></tr>
<tr id="t2019-09-20T16:38:30"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/86/builds/388" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/86/builds/388</a> is a master failure - don't understand how/why :(</td><td class="time"><a href="#t2019-09-20T16:38:30" class="time">16:38</a></td></tr>
<tr id="t2019-09-20T17:18:28"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Got it. Will raise a bug. Fortunately, it looks like I can reproduce that one locally if I run the test enough times.</td><td class="time"><a href="#t2019-09-20T17:18:28" class="time">17:18</a></td></tr>
<tr id="t2019-09-20T17:26:04"><th class="nick" style="background: #b86161">marler899766</th><td class="text" style="color: #b86161">ugh...ran out of disk space again</td><td class="time"><a href="#t2019-09-20T17:26:04" class="time">17:26</a></td></tr>
<tr id="t2019-09-20T17:26:48"><th class="nick" style="background: #b86161">marler899766</th><td class="text" style="color: #b86161">You would think 500 GB would be big enough for 4 yocto builds...</td><td class="time"><a href="#t2019-09-20T17:26:48" class="time">17:26</a></td></tr>
<tr id="t2019-09-20T18:00:01"><th class="nick" style="background: #62bb62">khem</th><td class="text" style="color: #62bb62">RP: uim failure is due to parallel install race</td><td class="time"><a href="#t2019-09-20T18:00:01" class="time">18:00</a></td></tr>
<tr id="t2019-09-20T18:00:29"><th class="nick" style="background: #62bb62">khem</th><td class="text" style="color: #62bb62">I have pushed a potential fix lets see if that works then we will be green on that tumbleweed box</td><td class="time"><a href="#t2019-09-20T18:00:29" class="time">18:00</a></td></tr>
<tr id="t2019-09-20T18:47:47"><th class="nick" style="background: #6464bf">ecdhe</th><td class="text" style="color: #6464bf">How can I make yocto generate a vmlinuz file?</td><td class="time"><a href="#t2019-09-20T18:47:47" class="time">18:47</a></td></tr>
<tr id="t2019-09-20T18:56:17"><th class="nick" style="background: #c3c366">mischief</th><td class="text" style="color: #c3c366">i'm confused about kernel module recipe/package naming.. i have a recipe that makes a kernel module foo.ko, but adding kernel-module-foo to MACHINE_ESSENTIAL_EXTRA_RDEPENDS causes bitbake to say it can't find the package. what's the deal?</td><td class="time"><a href="#t2019-09-20T18:56:17" class="time">18:56</a></td></tr>
<tr id="t2019-09-20T18:56:39"><th class="nick" style="background: #6464bf">ecdhe</th><td class="text" style="color: #6464bf">I get a tar.gz of the filesystem and an Image file containing the kernel, but no vmlinuz.</td><td class="time"><a href="#t2019-09-20T18:56:39" class="time">18:56</a></td></tr>
<tr id="t2019-09-20T18:58:45"><th class="nick" style="background: #c3c366">mischief</th><td class="text" style="color: #c3c366">ecdhe: what do you think Image is? :)</td><td class="time"><a href="#t2019-09-20T18:58:45" class="time">18:58</a></td></tr>
<tr id="t2019-09-20T18:59:18"><th class="nick" style="background: #c3c366">mischief</th><td class="text" style="color: #c3c366">ecdhe: look at KERNEL_IMAGETYPE in the yocto manual.. 'make help' in the kernel tree and looking at the kernel bbclasses can also be instructive</td><td class="time"><a href="#t2019-09-20T18:59:18" class="time">18:59</a></td></tr>
<tr id="t2019-09-20T19:02:58"><th class="nick" style="background: #6464bf">ecdhe</th><td class="text" style="color: #6464bf">thanks mischief.&nbsp;&nbsp;`file Image' didn't give me any useful information for converting Image -&gt; vmlinuz.&nbsp;&nbsp;I did try gzipping it but it didn't pass the mustard</td><td class="time"><a href="#t2019-09-20T19:02:58" class="time">19:02</a></td></tr>
<tr id="t2019-09-20T20:18:56"><th class="nick" style="background: #818144">kergoth</th><td class="text" style="color: #818144">hmm,. no man pages in non-gplv3 due to man-db.. seems like mandoc will do the job, though..</td><td class="time"><a href="#t2019-09-20T20:18:56" class="time">20:18</a></td></tr>
<tr id="t2019-09-20T21:36:57"><td class="nickchange" colspan="2">*** aidanh_ is now known as aidanh</td><td><a href="#t2019-09-20T21:36:57" class="time">21:36</a></td></tr>
<tr id="t2019-09-20T21:41:27"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">khem: ok, sounds like you're close to sorting it! :)</td><td class="time"><a href="#t2019-09-20T21:41:27" class="time">21:41</a></td></tr>
<tr id="t2019-09-20T21:41:46"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">JPEW: I'll leave that one with you then, thanks</td><td class="time"><a href="#t2019-09-20T21:41:46" class="time">21:41</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-09-19.log.html">&#171; Thursday, 2019-09-19</a> <a href="index.html">Index</a> <a href="%23yocto.2019-09-21.log.html">Saturday, 2019-09-21 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
