<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Monday, 2019-08-19</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Monday, 2019-08-19</h1>
<div class="navigation"> <a href="%23yocto.2019-08-18.log.html">&#171; Sunday, 2019-08-18</a> <a href="index.html">Index</a> <a href="%23yocto.2019-08-20.log.html">Tuesday, 2019-08-20 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-08-19T01:34:39"><th class="nick" style="background: #407a40">justinsg</th><td class="text" style="color: #407a40">Hi, does anyone know how to retrieve the version of another recipe using Bitbake? I've got some recipes on AUTOREV and so I'd like to add the PV of a recipe into the IMAGE_BUILDINFO_VARS so the revision that gets used, is recorded in the /etc/build file.</td><td class="time"><a href="#t2019-08-19T01:34:39" class="time">01:34</a></td></tr>
<tr id="t2019-08-19T01:36:55"><th class="nick" style="background: #407a40">justinsg</th><td class="text" style="color: #407a40">I've tried using PV_pn-myrecipe but it's blank. If it helps, the IMAGE_BUILDINFO_VARS uses d.getVar() to fetch the value of each variable</td><td class="time"><a href="#t2019-08-19T01:36:55" class="time">01:36</a></td></tr>
<tr id="t2019-08-19T01:52:00"><th class="nick" style="background: #42427e">kergoth</th><td class="text" style="color: #42427e">justinsg: not possible directly. recipes can't access the metadata of other recipes by design. indirectly it can be done. but it's probably better to use the image manifest. iirc there's an option to include it in the image</td><td class="time"><a href="#t2019-08-19T01:52:00" class="time">01:52</a></td></tr>
<tr id="t2019-08-19T02:01:47"><th class="nick" style="background: #407a40">justinsg</th><td class="text" style="color: #407a40">kergoth: thanks, I figured that might be the case. I think the image manifest might be the way to go, although I can only see an option to install the license manifest (COPY_LIC_MANIFEST). Supposedly the image manifest can be installed using an IMAGE_PREPROCESS_COMMAND, but I'll have to dig a bit more to figure that out. How nasty is the indirect method?</td><td class="time"><a href="#t2019-08-19T02:01:47" class="time">02:01</a></td></tr>
<tr id="t2019-08-19T02:02:47"><td class="nickchange" colspan="2">*** armpit is now known as armpit_san_diego</td><td><a href="#t2019-08-19T02:02:47" class="time">02:02</a></td></tr>
<tr id="t2019-08-19T02:23:19"><th class="nick" style="background: #42427e">kergoth</th><td class="text" style="color: #42427e">you could use pkgdata. all recipes in *this* build emit pkgdata, which are just&nbsp;&nbsp;text files with the info used to create the binary packages. we have functions for reading the data in</td><td class="time"><a href="#t2019-08-19T02:23:19" class="time">02:23</a></td></tr>
<tr id="t2019-08-19T02:23:53"><th class="nick" style="background: #42427e">kergoth</th><td class="text" style="color: #42427e">your task would have to depend on do_package of all the dependent recipes</td><td class="time"><a href="#t2019-08-19T02:23:53" class="time">02:23</a></td></tr>
<tr id="t2019-08-19T02:25:09"><th class="nick" style="background: #42427e">kergoth</th><td class="text" style="color: #42427e">couldn't append to IMAGE_BUILDINFO_VARS, as one task can;'t affect the metadata of another. you could use an IMAGE_PREPROCESS_COMMAND for that method as well ast he manifest method, actually</td><td class="time"><a href="#t2019-08-19T02:25:09" class="time">02:25</a></td></tr>
<tr id="t2019-08-19T02:25:33"><th class="nick" style="background: #42427e">kergoth</th><td class="text" style="color: #42427e">still somewhat ugly, but workable</td><td class="time"><a href="#t2019-08-19T02:25:33" class="time">02:25</a></td></tr>
<tr id="t2019-08-19T02:29:47"><th class="nick" style="background: #407a40">justinsg</th><td class="text" style="color: #407a40">kergoth: oh I see - somewhat ugly indeed. I took a look at the code that generates the image manifest, and I think oe.rootfs.image_list_installed_packages() is probably what I'm after. I can filter that a bit to create a mini manifest of the packages I specify. If I do that in a IMAGE_PREPROCESS_COMMAND task, I can probably just append /etc/build (provided I can ensure my task runs after the buildinfo</td><td class="time"><a href="#t2019-08-19T02:29:47" class="time">02:29</a></td></tr>
<tr id="t2019-08-19T02:29:47"><th class="nick" style="background: #407a40">justinsg</th><td class="text" style="color: #407a40">IMAGE_PREPROCESS_COMMAND)</td><td class="time"><a href="#t2019-08-19T02:29:47" class="time">02:29</a></td></tr>
<tr id="t2019-08-19T02:30:26"><th class="nick" style="background: #42427e">kergoth</th><td class="text" style="color: #42427e">ah, indeed, that presumably queries the package manager rather than poking around bitbake packaging internals</td><td class="time"><a href="#t2019-08-19T02:30:26" class="time">02:30</a></td></tr>
<tr id="t2019-08-19T02:30:34"><th class="nick" style="background: #42427e">kergoth</th><td class="text" style="color: #42427e">that sounds better</td><td class="time"><a href="#t2019-08-19T02:30:34" class="time">02:30</a></td></tr>
<tr id="t2019-08-19T02:30:54"><th class="nick" style="background: #407a40">justinsg</th><td class="text" style="color: #407a40">kergoth: hopefully :) thanks for your help!</td><td class="time"><a href="#t2019-08-19T02:30:54" class="time">02:30</a></td></tr>
<tr id="t2019-08-19T02:31:02"><th class="nick" style="background: #42427e">kergoth</th><td class="text" style="color: #42427e">np, good luck with it</td><td class="time"><a href="#t2019-08-19T02:31:02" class="time">02:31</a></td></tr>
<tr id="t2019-08-19T06:28:55"><td class="part" colspan="2">*** jeanba &lt;jeanba!~jbl@77.243.63.34&gt; has left #yocto</td><td><a href="#t2019-08-19T06:28:55" class="time">06:28</a></td></tr>
<tr id="t2019-08-19T06:40:20"><th class="nick" style="background: #818144">yocti</th><td class="text" style="color: #818144">New news from stackoverflow: What does runqemu script? [on hold] &lt;<a href="https://stackoverflow.com/questions/57548778/what-does-runqemu-script&gt;" rel="nofollow">https://stackoverflow.com/questions/57548778/what-does-runqemu-script&gt;</a></td><td class="time"><a href="#t2019-08-19T06:40:20" class="time">06:40</a></td></tr>
<tr id="t2019-08-19T08:35:45"><th class="nick" style="background: #854685">erbo</th><td class="text" style="color: #854685">Is anyone getting the "membership disabled due to excessive bounces" message from Yocto mailing list? I'm using a gmail address so I'm a bit confused to what could cause this bouncing.</td><td class="time"><a href="#t2019-08-19T08:35:45" class="time">08:35</a></td></tr>
<tr id="t2019-08-19T09:23:28"><th class="nick" style="background: #488888">Crofton|mini</th><td class="text" style="color: #488888">If anyone is going to Chaos Communication Camp, let me know if you want to talk about OE/YP stuff</td><td class="time"><a href="#t2019-08-19T09:23:28" class="time">09:23</a></td></tr>
<tr id="t2019-08-19T10:10:54"><th class="nick" style="background: #818144">yocti</th><td class="text" style="color: #818144">New news from stackoverflow: Which yocto release tag to choose &lt;<a href="https://stackoverflow.com/questions/57554395/which-yocto-release-tag-to-choose&gt;" rel="nofollow">https://stackoverflow.com/questions/57554395/which-yocto-release-tag-to-choose&gt;</a></td><td class="time"><a href="#t2019-08-19T10:10:54" class="time">10:10</a></td></tr>
<tr id="t2019-08-19T12:27:20"><td class="nickchange" colspan="2">*** georgem_ is now known as georgem</td><td><a href="#t2019-08-19T12:27:20" class="time">12:27</a></td></tr>
<tr id="t2019-08-19T12:47:05"><th class="nick" style="background: #8c4a4a">Tamis</th><td class="text" style="color: #8c4a4a">Why if I put in a recipe EXCLUDE_FROM_SHLIBS=1 e.g. to a recipe that just installs Java in a path, then all libraries of Java provoke and RDEPS error?</td><td class="time"><a href="#t2019-08-19T12:47:05" class="time">12:47</a></td></tr>
<tr id="t2019-08-19T12:48:45"><th class="nick" style="background: #8c4a4a">Tamis</th><td class="text" style="color: #8c4a4a">Does anyone have a clue? If I remove the EXCLUDE_FROM_SHLIBS="1" then no file-rdeps is emitted by bitbake</td><td class="time"><a href="#t2019-08-19T12:48:45" class="time">12:48</a></td></tr>
<tr id="t2019-08-19T12:54:03"><td class="action" colspan="2">* zeddii got booted from the yocto list due to excessive bounces. thanks gmail!</td><td><a href="#t2019-08-19T12:54:03" class="time">12:54</a></td></tr>
<tr id="t2019-08-19T13:05:46"><th class="nick" style="background: #4b904b">neverpanic</th><td class="text" style="color: #4b904b">Tamis: Chances are you have some binaries and/or libraries in your build that link against these Java libraries, and normally bitbake would auto-detect these dependencies. But since you've set EXCLUDE_FROM_SHLIBS, the data required to auto-detect where those libs come from isn't written.</td><td class="time"><a href="#t2019-08-19T13:05:46" class="time">13:05</a></td></tr>
<tr id="t2019-08-19T13:05:52"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">zeddii: i got absolutely spammed with bounce notifications this morning, halstead is trying to figure out what went wrong</td><td class="time"><a href="#t2019-08-19T13:05:52" class="time">13:05</a></td></tr>
<tr id="t2019-08-19T13:06:22"><th class="nick" style="background: #97974f">jwessel</th><td class="text" style="color: #97974f">I wonder how much smaller the list is from auto-remove?</td><td class="time"><a href="#t2019-08-19T13:06:22" class="time">13:06</a></td></tr>
<tr id="t2019-08-19T13:18:41"><th class="nick" style="background: #8c4a4a">Tamis</th><td class="text" style="color: #8c4a4a">neverpanic: The recipe installs a full (binaries and libraries) pre-compiled java in a certain path. The binaries do not have any problem. Only the libraries emit this file-rdeps error. The reason I put the EXCLUDE_FROM_SHLIBS in this recipe is because those libraries should be required only from the binaries installed together in that recipe, and</td><td class="time"><a href="#t2019-08-19T13:18:41" class="time">13:18</a></td></tr>
<tr id="t2019-08-19T13:18:42"><th class="nick" style="background: #8c4a4a">Tamis</th><td class="text" style="color: #8c4a4a">from any other recipe.</td><td class="time"><a href="#t2019-08-19T13:18:42" class="time">13:18</a></td></tr>
<tr id="t2019-08-19T13:19:28"><th class="nick" style="background: #8c4a4a">Tamis</th><td class="text" style="color: #8c4a4a">neverpanic:and NOT* from any other recipe</td><td class="time"><a href="#t2019-08-19T13:19:28" class="time">13:19</a></td></tr>
<tr id="t2019-08-19T13:24:49"><th class="nick" style="background: #4b904b">neverpanic</th><td class="text" style="color: #4b904b">Tamis: In our™ Java binary packaging recipe, we set PRIVATE_LIBS for this purpose.</td><td class="time"><a href="#t2019-08-19T13:24:49" class="time">13:24</a></td></tr>
<tr id="t2019-08-19T13:25:47"><th class="nick" style="background: #8c4a4a">Tamis</th><td class="text" style="color: #8c4a4a">neverpanic: I was about to write that one too. So I will replace EXCLUDE_FROM_SHLIBS&nbsp;&nbsp;with PRIVATE_LIBS</td><td class="time"><a href="#t2019-08-19T13:25:47" class="time">13:25</a></td></tr>
<tr id="t2019-08-19T13:26:33"><th class="nick" style="background: #8c4a4a">Tamis</th><td class="text" style="color: #8c4a4a">neverpanic: Thanks a lot! I understaood the problem.</td><td class="time"><a href="#t2019-08-19T13:26:33" class="time">13:26</a></td></tr>
<tr id="t2019-08-19T14:11:34"><th class="nick" style="background: #818144">yocti</th><td class="text" style="color: #818144">New news from stackoverflow: Control a LED with BUTTON on SAMA5D27-SOM1-EK1 board &lt;<a href="https://stackoverflow.com/questions/57558443/control-a-led-with-button-on-sama5d27-som1-ek1-board&gt;" rel="nofollow">https://stackoverflow.com/questions/57558443/control-a-led-with-button-on-sama5d27-som1-ek1-board&gt;</a></td><td class="time"><a href="#t2019-08-19T14:11:34" class="time">14:11</a></td></tr>
<tr id="t2019-08-19T14:37:52"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">RP: khem: do you recall if we’ve had libc-headers specific patches to packages in the past ? I’m searching git history and I’m not finding an example</td><td class="time"><a href="#t2019-08-19T14:37:52" class="time">14:37</a></td></tr>
<tr id="t2019-08-19T14:38:59"><th class="nick" style="background: #539e9e">RP</th><td class="text" style="color: #539e9e">zeddii: that doesn't really make sense</td><td class="time"><a href="#t2019-08-19T14:38:59" class="time">14:38</a></td></tr>
<tr id="t2019-08-19T14:39:16"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">well, it does if you can’t do a backwards compatible patch to old libc-headers :D</td><td class="time"><a href="#t2019-08-19T14:39:16" class="time">14:39</a></td></tr>
<tr id="t2019-08-19T14:39:27"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">the 5.2 headers make y2038 changes.</td><td class="time"><a href="#t2019-08-19T14:39:27" class="time">14:39</a></td></tr>
<tr id="t2019-08-19T14:39:36"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">everything is breaking, I have fixes.</td><td class="time"><a href="#t2019-08-19T14:39:36" class="time">14:39</a></td></tr>
<tr id="t2019-08-19T14:39:51"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">but unless you are on libc-headers 5.2 .. the new include won’t work.</td><td class="time"><a href="#t2019-08-19T14:39:51" class="time">14:39</a></td></tr>
<tr id="t2019-08-19T14:40:16"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">I don’t think many people vary libc-headers, so I’ll jsut make them absolute</td><td class="time"><a href="#t2019-08-19T14:40:16" class="time">14:40</a></td></tr>
<tr id="t2019-08-19T14:41:04"><th class="nick" style="background: #539e9e">RP</th><td class="text" style="color: #539e9e">zeddii: the recipe in question should be detecting the presence of the header conditionally with the usual configure stuff</td><td class="time"><a href="#t2019-08-19T14:41:04" class="time">14:41</a></td></tr>
<tr id="t2019-08-19T14:41:38"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">now that I look closer, the header is there in the older headers, so it should be safe .. just an extra include in those cases.</td><td class="time"><a href="#t2019-08-19T14:41:38" class="time">14:41</a></td></tr>
<tr id="t2019-08-19T14:41:49"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">some packages just haven’t been patched yet, some I can just uprev.</td><td class="time"><a href="#t2019-08-19T14:41:49" class="time">14:41</a></td></tr>
<tr id="t2019-08-19T14:42:05"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">so I can follow the upstream pattern to make them safe</td><td class="time"><a href="#t2019-08-19T14:42:05" class="time">14:42</a></td></tr>
<tr id="t2019-08-19T14:42:17"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">seems like I sorted it out, just by typing it in :D</td><td class="time"><a href="#t2019-08-19T14:42:17" class="time">14:42</a></td></tr>
<tr id="t2019-08-19T14:55:36"><th class="nick" style="background: #a25555">fray</th><td class="text" style="color: #a25555">the libc-headers should not have multiple versions, and don't need to match the running kernel version</td><td class="time"><a href="#t2019-08-19T14:55:36" class="time">14:55</a></td></tr>
<tr id="t2019-08-19T14:57:28"><th class="nick" style="background: #539e9e">RP</th><td class="text" style="color: #539e9e">We have one toolchain which is used to build one of two libs (roughly speaking)&nbsp;&nbsp;and is built from one libc-headers. There shouldn't be any more variations. We don't allow people patching libc-headers conditionally or changing versions conditionally.</td><td class="time"><a href="#t2019-08-19T14:57:28" class="time">14:57</a></td></tr>
<tr id="t2019-08-19T14:58:19"><th class="nick" style="background: #a25555">fray</th><td class="text" style="color: #a25555">yup.. libc-headers is singular.&nbsp;&nbsp; compiler versions, libc could be different, but only one libc</td><td class="time"><a href="#t2019-08-19T14:58:19" class="time">14:58</a></td></tr>
<tr id="t2019-08-19T14:58:22"><th class="nick" style="background: #a25555">fray</th><td class="text" style="color: #a25555">'er.. libc-headers</td><td class="time"><a href="#t2019-08-19T14:58:22" class="time">14:58</a></td></tr>
<tr id="t2019-08-19T15:01:23"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">I’m past it now, works with the old and new. monday morning lack of coffee made me doubt.</td><td class="time"><a href="#t2019-08-19T15:01:23" class="time">15:01</a></td></tr>
<tr id="t2019-08-19T15:01:41"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">this lilbc-headers update is the most painful one in a while. hopefully it’ll be ready to send out soon.</td><td class="time"><a href="#t2019-08-19T15:01:41" class="time">15:01</a></td></tr>
<tr id="t2019-08-19T15:01:58"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">I say ignore y2038 and make my life easier! ;)</td><td class="time"><a href="#t2019-08-19T15:01:58" class="time">15:01</a></td></tr>
<tr id="t2019-08-19T15:03:00"><th class="nick" style="background: #a25555">fray</th><td class="text" style="color: #a25555">do they finally have some 2038 mitigation or something/</td><td class="time"><a href="#t2019-08-19T15:03:00" class="time">15:03</a></td></tr>
<tr id="t2019-08-19T15:04:04"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">some defines, etc, are moving around. prep work to make it safe. not there yet, but packages need to adapt to the new includes.</td><td class="time"><a href="#t2019-08-19T15:04:04" class="time">15:04</a></td></tr>
<tr id="t2019-08-19T15:11:37"><th class="nick" style="background: #a25555">fray</th><td class="text" style="color: #a25555">ahh</td><td class="time"><a href="#t2019-08-19T15:11:37" class="time">15:11</a></td></tr>
<tr id="t2019-08-19T15:11:45"><th class="nick" style="background: #818144">yocti</th><td class="text" style="color: #818144">New news from stackoverflow: "inherit deploy" deploys files to just one DEPLOY_DIR_IMAGE in case of variable DEPLOY_DIR_IMAGE path &lt;<a href="https://stackoverflow.com/questions/57559179/inherit-deploy-deploys-files-to-just-one-deploy-dir-image-in-case-of-variable&gt;" rel="nofollow">https://stackoverflow.com/questions/57559179/inherit-deploy-deploys-files-to-just-one-deploy-dir-image-in-case-of-variable&gt;</a></td><td class="time"><a href="#t2019-08-19T15:11:45" class="time">15:11</a></td></tr>
<tr id="t2019-08-19T15:15:23"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">finally got through all arches on core-image-kernel-dev, now mesa is blowing up on sato.</td><td class="time"><a href="#t2019-08-19T15:15:23" class="time">15:15</a></td></tr>
<tr id="t2019-08-19T15:15:31"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">it’ll be december before I get these tests done :D</td><td class="time"><a href="#t2019-08-19T15:15:31" class="time">15:15</a></td></tr>
<tr id="t2019-08-19T15:15:53"><td class="action" colspan="2">* zeddii consults master-next</td><td><a href="#t2019-08-19T15:15:53" class="time">15:15</a></td></tr>
<tr id="t2019-08-19T15:19:19"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">hmm. nothing obvious, has anyone else seen: | meson.build:768:2: ERROR: Problem encountered: Python (3.x) mako module &gt;= 0.8.0 required to build mesa.</td><td class="time"><a href="#t2019-08-19T15:19:19" class="time">15:19</a></td></tr>
<tr id="t2019-08-19T15:20:42"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">its in the DEPENDS of mesa.inc. hmm.</td><td class="time"><a href="#t2019-08-19T15:20:42" class="time">15:20</a></td></tr>
<tr id="t2019-08-19T15:30:12"><th class="nick" style="background: #42427e">kergoth</th><td class="text" style="color: #42427e">totally OT, but anyone know of a command line tool which, given a time period and a command, will run the command, only if it hasn't already been run in the specified period? i.e. run this if it hasn't already been run in the past day/week/month</td><td class="time"><a href="#t2019-08-19T15:30:12" class="time">15:30</a></td></tr>
<tr id="t2019-08-19T15:40:23"><th class="nick" style="background: #57a657">naknick</th><td class="text" style="color: #57a657">Hello! I'm trying to display video on (NXP's) IMX6 board's screen. I assume that textual OS is insufficient and I must to install GUI-based OS. Where can I find appropriate OS for that board please?</td><td class="time"><a href="#t2019-08-19T15:40:23" class="time">15:40</a></td></tr>
<tr id="t2019-08-19T15:44:28"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">new strategy. try and figure out what is requiring mesa and kill that dependency.</td><td class="time"><a href="#t2019-08-19T15:44:28" class="time">15:44</a></td></tr>
<tr id="t2019-08-19T15:46:12"><th class="nick" style="background: #57a657">naknick</th><td class="text" style="color: #57a657">zeddii: your answer is addressed to me?</td><td class="time"><a href="#t2019-08-19T15:46:12" class="time">15:46</a></td></tr>
<tr id="t2019-08-19T15:46:26"><th class="nick" style="background: #57a657">naknick</th><td class="text" style="color: #57a657">because I'm not sure I understand</td><td class="time"><a href="#t2019-08-19T15:46:26" class="time">15:46</a></td></tr>
<tr id="t2019-08-19T15:48:24"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">nope. I’ve been having a running conversation all morning :D</td><td class="time"><a href="#t2019-08-19T15:48:24" class="time">15:48</a></td></tr>
<tr id="t2019-08-19T15:48:59"><th class="nick" style="background: #57a657">naknick</th><td class="text" style="color: #57a657">OK :)</td><td class="time"><a href="#t2019-08-19T15:48:59" class="time">15:48</a></td></tr>
<tr id="t2019-08-19T15:52:39"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">naknick: depends how you want to display video.&nbsp;&nbsp;probably best to ask NXP what they recommend though.</td><td class="time"><a href="#t2019-08-19T15:52:39" class="time">15:52</a></td></tr>
<tr id="t2019-08-19T15:55:58"><th class="nick" style="background: #57a657">naknick</th><td class="text" style="color: #57a657">rburton: is there any GUI version which works in yocto?</td><td class="time"><a href="#t2019-08-19T15:55:58" class="time">15:55</a></td></tr>
<tr id="t2019-08-19T15:57:11"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">naknick: i've no idea what platform youre using: yocto is a tool for building your own distro.&nbsp;&nbsp;gstreamer is fairly standard, so is ffmpeg.</td><td class="time"><a href="#t2019-08-19T15:57:11" class="time">15:57</a></td></tr>
<tr id="t2019-08-19T16:02:08"><th class="nick" style="background: #57a657">naknick</th><td class="text" style="color: #57a657">rburton: you say that all I need is a recipe? Is it possible to display video in Linux without GUI? =#</td><td class="time"><a href="#t2019-08-19T16:02:08" class="time">16:02</a></td></tr>
<tr id="t2019-08-19T16:04:42"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">never used nxp hardware but yeah it can probably render a video to framebuffer without needing to start up a full desktop, if thats what you want</td><td class="time"><a href="#t2019-08-19T16:04:42" class="time">16:04</a></td></tr>
<tr id="t2019-08-19T16:05:19"><th class="nick" style="background: #57a657">naknick</th><td class="text" style="color: #57a657">rburton: OK. I'll read about gstreamer. Thanks</td><td class="time"><a href="#t2019-08-19T16:05:19" class="time">16:05</a></td></tr>
<tr id="t2019-08-19T16:06:57"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">ask nxp what they recommend</td><td class="time"><a href="#t2019-08-19T16:06:57" class="time">16:06</a></td></tr>
<tr id="t2019-08-19T16:35:46"><th class="nick" style="background: #5959a9">khem</th><td class="text" style="color: #5959a9">zeddii:we explicitly ask people to use libc-headers from core, so if the end user is overriding this then they are going to fix it as well</td><td class="time"><a href="#t2019-08-19T16:35:46" class="time">16:35</a></td></tr>
<tr id="t2019-08-19T17:17:46"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">aehs29: <a href="https://github.com/aehs29/meta-freertos" rel="nofollow">https://github.com/aehs29/meta-freertos</a> niiice</td><td class="time"><a href="#t2019-08-19T17:17:46" class="time">17:17</a></td></tr>
<tr id="t2019-08-19T18:25:28"><th class="nick" style="background: #adad5b">CodePecker</th><td class="text" style="color: #adad5b">Have an issue with a Nodejs Yocto recipe for a proprietary module. Using the Yocto warrior release. Looks like the npm.bbclass implementation does an 'npm install' in the do_install() step under a fake root environment. The problem I have is one of my Node.js module dependencies is hosted on a private GitLab repo. The sub-module install fails becau</td><td class="time"><a href="#t2019-08-19T18:25:28" class="time">18:25</a></td></tr>
<tr id="t2019-08-19T18:25:28"><th class="nick" style="background: #adad5b">CodePecker</th><td class="text" style="color: #adad5b">se the SSH keys cannot be accept and installed to the "/root/.ssh" directory from this fake rooted environment. Is anyone aware of a work-around?</td><td class="time"><a href="#t2019-08-19T18:25:28" class="time">18:25</a></td></tr>
<tr id="t2019-08-19T18:26:36"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">CodePecker: package your dependencies so they get fetched in do_fetch</td><td class="time"><a href="#t2019-08-19T18:26:36" class="time">18:26</a></td></tr>
<tr id="t2019-08-19T18:29:25"><th class="nick" style="background: #adad5b">CodePecker</th><td class="text" style="color: #adad5b">Are you suggesting by-passing the default behavior of npm.bbclass and effectively doing the npm install from the do_fetch (or do_compile) step? The dependencies are sitting in the node_modules directory of the NPM module I'm trying to develop a recipe for.</td><td class="time"><a href="#t2019-08-19T18:29:25" class="time">18:29</a></td></tr>
<tr id="t2019-08-19T18:30:31"><th class="nick" style="background: #adad5b">CodePecker</th><td class="text" style="color: #adad5b">These aren't "external" dependencies. They're listed in package.json as a regular module dependency.</td><td class="time"><a href="#t2019-08-19T18:30:31" class="time">18:30</a></td></tr>
<tr id="t2019-08-19T18:32:24"><th class="nick" style="background: #b15db1">aehs29</th><td class="text" style="color: #b15db1">rburton: thanks!, its POF but it works properly</td><td class="time"><a href="#t2019-08-19T18:32:24" class="time">18:32</a></td></tr>
<tr id="t2019-08-19T18:32:26"><th class="nick" style="background: #b15db1">aehs29</th><td class="text" style="color: #b15db1">AFAIC</td><td class="time"><a href="#t2019-08-19T18:32:26" class="time">18:32</a></td></tr>
<tr id="t2019-08-19T18:36:17"><th class="nick" style="background: #b15db1">aehs29</th><td class="text" style="color: #b15db1">rburton: btw I have a "fix" for the skylake tune, idk what you guys have been up to, I wasnt suscribed to the list before, or what your plans are to merge the new tune</td><td class="time"><a href="#t2019-08-19T18:36:17" class="time">18:36</a></td></tr>
<tr id="t2019-08-19T18:36:53"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">aehs29: personally, i was waiting to see if qemu gained avx over the summer</td><td class="time"><a href="#t2019-08-19T18:36:53" class="time">18:36</a></td></tr>
<tr id="t2019-08-19T18:38:18"><td class="nickchange" colspan="2">*** alessioigor_ is now known as alessioigor</td><td><a href="#t2019-08-19T18:38:18" class="time">18:38</a></td></tr>
<tr id="t2019-08-19T18:39:40"><th class="nick" style="background: #b15db1">aehs29</th><td class="text" style="color: #b15db1">s/POF/POC</td><td class="time"><a href="#t2019-08-19T18:39:40" class="time">18:39</a></td></tr>
<tr id="t2019-08-19T18:40:07"><th class="nick" style="background: #b15db1">aehs29</th><td class="text" style="color: #b15db1">rburton: well I took a look at that and it didnt look very promising, unless you found something else that I didnt</td><td class="time"><a href="#t2019-08-19T18:40:07" class="time">18:40</a></td></tr>
<tr id="t2019-08-19T18:41:20"><th class="nick" style="background: #b15db1">aehs29</th><td class="text" style="color: #b15db1">rburton: I sorta just checked what was supported on the ISA, from inside the QEMU Skylake-Client, and disabled those specifically from -march defaults</td><td class="time"><a href="#t2019-08-19T18:41:20" class="time">18:41</a></td></tr>
<tr id="t2019-08-19T18:41:59"><th class="nick" style="background: #b15db1">aehs29</th><td class="text" style="color: #b15db1">rburton: gobject introspection works, and weird stuff like the v8 engine on chromium works properly as well</td><td class="time"><a href="#t2019-08-19T18:41:59" class="time">18:41</a></td></tr>
<tr id="t2019-08-19T18:43:05"><th class="nick" style="background: #adad5b">CodePecker</th><td class="text" style="color: #adad5b">rburton: Probably a noobish question, but how do you package your NPM module's (package.json) dependencies so they're fetched in do_fetch() rather than the npm.bbclass logic in the do_install() step that uses NPM to install a modules sub-module dependencies?</td><td class="time"><a href="#t2019-08-19T18:43:05" class="time">18:43</a></td></tr>
<tr id="t2019-08-19T18:43:53"><th class="nick" style="background: #b15db1">aehs29</th><td class="text" style="color: #b15db1">rburton: I literally tried to disable them for specific packages, hoping they wouldnt call those opcodes, but no, looks like glibc happily tries to use avx regardless what the app thats being linked was optimized for</td><td class="time"><a href="#t2019-08-19T18:43:53" class="time">18:43</a></td></tr>
<tr id="t2019-08-19T18:44:45"><th class="nick" style="background: #b15db1">aehs29</th><td class="text" style="color: #b15db1">and not just glibc, it became obvious that it wouldnt scale that way</td><td class="time"><a href="#t2019-08-19T18:44:45" class="time">18:44</a></td></tr>
<tr id="t2019-08-19T18:46:29"><th class="nick" style="background: #b15db1">aehs29</th><td class="text" style="color: #b15db1">bluelightning_: do you know why the layer index isnt indexing the layers?</td><td class="time"><a href="#t2019-08-19T18:46:29" class="time">18:46</a></td></tr>
<tr id="t2019-08-19T18:46:55"><th class="nick" style="background: #b15db1">aehs29</th><td class="text" style="color: #b15db1">bluelightning_: it says " The content of this layer on branch master has not yet been indexed. Indexing should take place within a few hours."</td><td class="time"><a href="#t2019-08-19T18:46:55" class="time">18:46</a></td></tr>
<tr id="t2019-08-19T18:47:09"><th class="nick" style="background: #b15db1">aehs29</th><td class="text" style="color: #b15db1">bluelightning_: but it has said that for a couple of weeks now</td><td class="time"><a href="#t2019-08-19T18:47:09" class="time">18:47</a></td></tr>
<tr id="t2019-08-19T18:48:03"><th class="nick" style="background: #4b904b">neverpanic</th><td class="text" style="color: #4b904b">CodePecker: Isn't that more of a npm question than a Yocto question? This isn't specific to Yocto, many distributions want this, so maybe you should check the NPM docs or how other distros (Debian?) do this.</td><td class="time"><a href="#t2019-08-19T18:48:03" class="time">18:48</a></td></tr>
<tr id="t2019-08-19T18:54:46"><th class="nick" style="background: #adad5b">CodePecker</th><td class="text" style="color: #adad5b">neverpanic: Not really an NPM issue . . . more of how Yocto chose to use NPM in their do_install() procedure in npm.bbclass. Ideally, Yocto should never be pulling/fetching code from repos in a do_install() step - but it is as a by-product of calling 'npm install' there. My real issue is that do_install() is run in a fake root context. I can't upda</td><td class="time"><a href="#t2019-08-19T18:54:46" class="time">18:54</a></td></tr>
<tr id="t2019-08-19T18:54:47"><th class="nick" style="background: #adad5b">CodePecker</th><td class="text" style="color: #adad5b">te the local SSH keys as a fake "root". The install fails because it can't accept and cache the keys (as a fake root). Of course this work fine in the non-Yocto world.</td><td class="time"><a href="#t2019-08-19T18:54:47" class="time">18:54</a></td></tr>
<tr id="t2019-08-19T18:56:08"><th class="nick" style="background: #4b904b">neverpanic</th><td class="text" style="color: #4b904b">CodePecker: Maybe the real issue here is that NPM doesn't seem to give you a simple way to fetch the code in do_fetch, because if there were, somebody would have implemented do_fetch in a different way in npm.bbclass?</td><td class="time"><a href="#t2019-08-19T18:56:08" class="time">18:56</a></td></tr>
<tr id="t2019-08-19T18:56:19"><th class="nick" style="background: #4b904b">neverpanic</th><td class="text" style="color: #4b904b">Or maybe there is and I'm just not aware of it.</td><td class="time"><a href="#t2019-08-19T18:56:19" class="time">18:56</a></td></tr>
<tr id="t2019-08-19T19:03:46"><th class="nick" style="background: #adad5b">CodePecker</th><td class="text" style="color: #adad5b">neverpanic: It's more of a mis-match between the worlds of Yocto and NPM. NPM "install" is a combination of fetch/compile/install in one step. Not really broken into separate distinct phases like Yocto. The current Yocto approach works if all your NPM repos/registries are public and don't involve an SSH key-exchange. Can't access my key-store as a</td><td class="time"><a href="#t2019-08-19T19:03:46" class="time">19:03</a></td></tr>
<tr id="t2019-08-19T19:03:46"><th class="nick" style="background: #adad5b">CodePecker</th><td class="text" style="color: #adad5b">fake root user in do_install(). That is the crux of the problem - Yocto doesn't anticipate this scenario since it's not expecting recipes to fetch code during do_install() (as fake root).</td><td class="time"><a href="#t2019-08-19T19:03:46" class="time">19:03</a></td></tr>
<tr id="t2019-08-19T19:05:21"><th class="nick" style="background: #4b904b">neverpanic</th><td class="text" style="color: #4b904b">CodePecker: That scenario also immediately breaks down if your builds don't have internet access outside of the fetch phase – which is not an uncommon setup. Plus you don't get the download cache functionality of bitbake and you can't keep a copy of your sources, so you'll have to hope that that npm module is still available for download in 6 months when you need to rebuild that old version.</td><td class="time"><a href="#t2019-08-19T19:05:21" class="time">19:05</a></td></tr>
<tr id="t2019-08-19T19:06:02"><th class="nick" style="background: #4b904b">neverpanic</th><td class="text" style="color: #4b904b">So yes, it's a mis-match between Yocto's expectations and NPM's implementation. I suggest you ask the developers of NPM to provide that functionality, since it's useful in this context.</td><td class="time"><a href="#t2019-08-19T19:06:02" class="time">19:06</a></td></tr>
<tr id="t2019-08-19T19:06:47"><th class="nick" style="background: #4b904b">neverpanic</th><td class="text" style="color: #4b904b">you might get away with moving the fetch into a phase that doesn't run in fakeroot, though…</td><td class="time"><a href="#t2019-08-19T19:06:47" class="time">19:06</a></td></tr>
<tr id="t2019-08-19T19:13:03"><th class="nick" style="background: #adad5b">CodePecker</th><td class="text" style="color: #adad5b">neverpanic: I think you understand my problem. The likelihood of the NPM folks changing their already established work-flow seems unlikely. I think they'd expect Yocto to adapt instead. Your suggestions are valid and might someday bear fruit, but will probably take a coordinated effort to realize in the Yocto community. Nothing easily done in the n</td><td class="time"><a href="#t2019-08-19T19:13:03" class="time">19:13</a></td></tr>
<tr id="t2019-08-19T19:13:04"><th class="nick" style="background: #adad5b">CodePecker</th><td class="text" style="color: #adad5b">ear-term.</td><td class="time"><a href="#t2019-08-19T19:13:04" class="time">19:13</a></td></tr>
<tr id="t2019-08-19T19:18:09"><th class="nick" style="background: #5fb4b4">opennandra</th><td class="text" style="color: #5fb4b4">hi what is preferred way to add vendor SDK to be build in yocto (basically want to change tons of custom script for building u-boot + kernel + custom app)</td><td class="time"><a href="#t2019-08-19T19:18:09" class="time">19:18</a></td></tr>
<tr id="t2019-08-19T19:25:06"><th class="nick" style="background: #4b904b">neverpanic</th><td class="text" style="color: #4b904b">CodePecker: the do_compile() phase doesn't usually run under fakeroot. If you can get the build and install steps separated, you can just run what you need to run there.</td><td class="time"><a href="#t2019-08-19T19:25:06" class="time">19:25</a></td></tr>
<tr id="t2019-08-19T19:25:39"><th class="nick" style="background: #4b904b">neverpanic</th><td class="text" style="color: #4b904b">If that's not possible either, again, shout at the npm folks for blatantly ignoring what distros have been doing everywhere since decades, or come up with a hack to chown/chmod all files in do_install.</td><td class="time"><a href="#t2019-08-19T19:25:39" class="time">19:25</a></td></tr>
<tr id="t2019-08-19T19:31:31"><th class="nick" style="background: #adad5b">CodePecker</th><td class="text" style="color: #adad5b">neverpanic: I was mistaken. It's actually failing in do_compile() while trying to install a module dependency that should be installed from a private GitLab repository. This dependent module has a (GIT) submodule and it fails on a 'git submodule update' due to permissions issue (likely the SSH key-change). The do_install() step attempts to do an in</td><td class="time"><a href="#t2019-08-19T19:31:31" class="time">19:31</a></td></tr>
<tr id="t2019-08-19T19:31:32"><th class="nick" style="background: #adad5b">CodePecker</th><td class="text" style="color: #adad5b">stall using a local NPM cache created in the do_compile step (as best I can tell).</td><td class="time"><a href="#t2019-08-19T19:31:32" class="time">19:31</a></td></tr>
<tr id="t2019-08-19T19:36:37"><th class="nick" style="background: #4b904b">neverpanic</th><td class="text" style="color: #4b904b">CodePecker: The do_compile task does not normally run under fakeroot: <a href="http://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/classes/base.bbclass#n480" rel="nofollow">http://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/classes/base.bbclass#n480</a></td><td class="time"><a href="#t2019-08-19T19:36:37" class="time">19:36</a></td></tr>
<tr id="t2019-08-19T19:36:46"><th class="nick" style="background: #4b904b">neverpanic</th><td class="text" style="color: #4b904b">if yours does, you should check why</td><td class="time"><a href="#t2019-08-19T19:36:46" class="time">19:36</a></td></tr>
<tr id="t2019-08-19T19:40:15"><th class="nick" style="background: #adad5b">CodePecker</th><td class="text" style="color: #adad5b">neverpanic: I was confused because (devshell) now runs as fakeroot and that's where was experimenting trying to fetch this GIT submodule. The funny thing is, I have a Yocto recipe to already builds this NPM submodule independently. This other module I'm trying to create a recipe for has this submodule as a dependency. I can't figure out how to tell</td><td class="time"><a href="#t2019-08-19T19:40:15" class="time">19:40</a></td></tr>
<tr id="t2019-08-19T19:40:16"><th class="nick" style="background: #adad5b">CodePecker</th><td class="text" style="color: #adad5b"> is to use the one already built (even though it's listed in DEPENDS). Seems no way to inform NPM to use that instead or building it again.</td><td class="time"><a href="#t2019-08-19T19:40:16" class="time">19:40</a></td></tr>
<tr id="t2019-08-19T19:41:49"><th class="nick" style="background: #4b904b">neverpanic</th><td class="text" style="color: #4b904b">it seems yarn actually provides a way to download all dependencies (<a href="https://yarnpkg.com/en/docs/cli/pack" rel="nofollow">https://yarnpkg.com/en/docs/cli/pack</a>), but that probably doesn't work for packages using the npm locking mechanisms, either.</td><td class="time"><a href="#t2019-08-19T19:41:49" class="time">19:41</a></td></tr>
<tr id="t2019-08-19T19:52:03"><th class="nick" style="background: #adad5b">CodePecker</th><td class="text" style="color: #adad5b">neverpanic: Apparently NPM has some support as well: <a href="https://addyosmani.com/blog/using-npm-offline/" rel="nofollow">https://addyosmani.com/blog/using-npm-offline/</a></td><td class="time"><a href="#t2019-08-19T19:52:03" class="time">19:52</a></td></tr>
<tr id="t2019-08-19T20:12:45"><th class="nick" style="background: #b86161">bluelightning_</th><td class="text" style="color: #b86161">aehs29: which layer?</td><td class="time"><a href="#t2019-08-19T20:12:45" class="time">20:12</a></td></tr>
<tr id="t2019-08-19T20:13:35"><th class="nick" style="background: #b86161">bluelightning_</th><td class="text" style="color: #b86161">aehs29: meta-chromebook (which was added just the other day) did get indexed...</td><td class="time"><a href="#t2019-08-19T20:13:35" class="time">20:13</a></td></tr>
<tr id="t2019-08-19T20:31:28"><th class="nick" style="background: #b86161">bluelightning_</th><td class="text" style="color: #b86161">ah, meta-freertos</td><td class="time"><a href="#t2019-08-19T20:31:28" class="time">20:31</a></td></tr>
<tr id="t2019-08-19T20:41:19"><th class="nick" style="background: #b86161">bluelightning_</th><td class="text" style="color: #b86161">aehs29: from what I can see here it doesn't look like there's anything preventing it from being indexed, but still it hasn't been...</td><td class="time"><a href="#t2019-08-19T20:41:19" class="time">20:41</a></td></tr>
<tr id="t2019-08-19T20:41:44"><th class="nick" style="background: #b86161">bluelightning_</th><td class="text" style="color: #b86161">unfortunately I don't have direct access to the machine but I will talk to halstead</td><td class="time"><a href="#t2019-08-19T20:41:44" class="time">20:41</a></td></tr>
<tr id="t2019-08-19T22:44:40"><td class="nickchange" colspan="2">*** jacques is now known as jacques2</td><td><a href="#t2019-08-19T22:44:40" class="time">22:44</a></td></tr>
<tr id="t2019-08-19T22:44:51"><td class="nickchange" colspan="2">*** jacques2 is now known as linuxjacques</td><td><a href="#t2019-08-19T22:44:51" class="time">22:44</a></td></tr>
<tr id="t2019-08-19T23:45:51"><th class="nick" style="background: #b15db1">aehs29</th><td class="text" style="color: #b15db1">bluelightning_: yeah its not really a problem, I just opened it and saw that it wasnt indexed yet and its been a while, just wondering why that might be</td><td class="time"><a href="#t2019-08-19T23:45:51" class="time">23:45</a></td></tr>
<tr id="t2019-08-19T23:46:11"><th class="nick" style="background: #b86161">bluelightning_</th><td class="text" style="color: #b86161">aehs29: well, it's definitely a problem, just not sure yet what's causing it</td><td class="time"><a href="#t2019-08-19T23:46:11" class="time">23:46</a></td></tr>
<tr id="t2019-08-19T23:46:28"><th class="nick" style="background: #b86161">bluelightning_</th><td class="text" style="color: #b86161">there don't seem to be any related errors in the update logs</td><td class="time"><a href="#t2019-08-19T23:46:28" class="time">23:46</a></td></tr>
<tr id="t2019-08-19T23:48:17"><th class="nick" style="background: #b15db1">aehs29</th><td class="text" style="color: #b15db1">bluelightning_: weird, thanks for taking a look at it thouhg</td><td class="time"><a href="#t2019-08-19T23:48:17" class="time">23:48</a></td></tr>
<tr id="t2019-08-19T23:48:20"><th class="nick" style="background: #b15db1">aehs29</th><td class="text" style="color: #b15db1">though</td><td class="time"><a href="#t2019-08-19T23:48:20" class="time">23:48</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-08-18.log.html">&#171; Sunday, 2019-08-18</a> <a href="index.html">Index</a> <a href="%23yocto.2019-08-20.log.html">Tuesday, 2019-08-20 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
