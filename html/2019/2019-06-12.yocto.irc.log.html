<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Wednesday, 2019-06-12</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Wednesday, 2019-06-12</h1>
<div class="navigation"> <a href="%23yocto.2019-06-11.log.html">&#171; Tuesday, 2019-06-11</a> <a href="index.html">Index</a> <a href="%23yocto.2019-06-13.log.html">Thursday, 2019-06-13 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-06-12T05:22:19"><td class="nickchange" colspan="2">*** denix0 is now known as denix</td><td><a href="#t2019-06-12T05:22:19" class="time">05:22</a></td></tr>
<tr id="t2019-06-12T07:16:39"><td class="part" colspan="2">*** jeanba &lt;jeanba!~jbl@77.243.63.34&gt; has left #yocto</td><td><a href="#t2019-06-12T07:16:39" class="time">07:16</a></td></tr>
<tr id="t2019-06-12T07:19:15"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2019-06-12T07:19:15" class="time">07:19</a></td></tr>
<tr id="t2019-06-12T07:19:43"><th class="nick" style="background: #407a40">mckoan</th><td class="text" style="color: #407a40">LetoThe2nd: YW, I just wanted you to focus on the foggiest part of the recipe ;-)</td><td class="time"><a href="#t2019-06-12T07:19:43" class="time">07:19</a></td></tr>
<tr id="t2019-06-12T07:19:55"><th class="nick" style="background: #407a40">mckoan</th><td class="text" style="color: #407a40">good morning</td><td class="time"><a href="#t2019-06-12T07:19:55" class="time">07:19</a></td></tr>
<tr id="t2019-06-12T07:20:58"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">mckoan: not exactly good, but it is a morning</td><td class="time"><a href="#t2019-06-12T07:20:58" class="time">07:20</a></td></tr>
<tr id="t2019-06-12T07:21:15"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">mckoan: and any input is appreciated :)</td><td class="time"><a href="#t2019-06-12T07:21:15" class="time">07:21</a></td></tr>
<tr id="t2019-06-12T07:24:00"><th class="nick" style="background: #818144">derRichard</th><td class="text" style="color: #818144">i'm looking for a way to get the exact version of a package (git sha). background is, i want to collect this infos in my os-release package. what approach do you suggest?</td><td class="time"><a href="#t2019-06-12T07:24:00" class="time">07:24</a></td></tr>
<tr id="t2019-06-12T07:47:06"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">is there an equivalent of checkpatch from the kernel in Yocto? So that I can actually test my patch will not be rejected by the build/test bots?</td><td class="time"><a href="#t2019-06-12T07:47:06" class="time">07:47</a></td></tr>
<tr id="t2019-06-12T07:48:29"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">because I get this error: <a href="http://lists.openembedded.org/pipermail/openembedded-core/2019-June/283497.html" rel="nofollow">http://lists.openembedded.org/pipermail/openembedded-core/2019-June/283497.html</a></td><td class="time"><a href="#t2019-06-12T07:48:29" class="time">07:48</a></td></tr>
<tr id="t2019-06-12T07:48:45"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">And the message is pretty unhelpful</td><td class="time"><a href="#t2019-06-12T07:48:45" class="time">07:48</a></td></tr>
<tr id="t2019-06-12T07:49:02"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">especially for those not used to code in Python</td><td class="time"><a href="#t2019-06-12T07:49:02" class="time">07:49</a></td></tr>
<tr id="t2019-06-12T09:31:39"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">qschulz: I think that test is broken. patchtest has been offline for a while and now its back, it seems a little cranky :/</td><td class="time"><a href="#t2019-06-12T09:31:39" class="time">09:31</a></td></tr>
<tr id="t2019-06-12T09:32:00"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">qschulz: there is a way to run the tests locally against a patch, I just wish I could remember what it is</td><td class="time"><a href="#t2019-06-12T09:32:00" class="time">09:32</a></td></tr>
<tr id="t2019-06-12T09:50:03"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2019-06-12T09:50:03" class="time">09:50</a></td></tr>
<tr id="t2019-06-12T10:29:24"><th class="nick" style="background: #8c4a4a">muppe</th><td class="text" style="color: #8c4a4a">I wonder if anybody could tell what could be causing this phenomenon: in my local.conf I have PREFERRED_VERSION_linux-yocto ?= "4.4%", however, 'uname' on the generated Linux distro returns 4.12. The bzImage is 4.4 as well as /lib/modules/4.4.113-yocto-standard. It almost seems that I have 4.12 stuff which is just named 4.4. Any ideas?</td><td class="time"><a href="#t2019-06-12T10:29:24" class="time">10:29</a></td></tr>
<tr id="t2019-06-12T10:31:09"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">muppe: weird, could you share more details on machine etc?</td><td class="time"><a href="#t2019-06-12T10:31:09" class="time">10:31</a></td></tr>
<tr id="t2019-06-12T10:48:02"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">hi, I have some special need to setup list of systemd units which are found in source directory. I tried to create task which is running after do_fetch with basically setting d.setVar('SYSTEMD_SERVICE_' + d.getVar('PN'), ' '.join(x for x in systemd_units))</td><td class="time"><a href="#t2019-06-12T10:48:02" class="time">10:48</a></td></tr>
<tr id="t2019-06-12T10:48:13"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">but it looks like it doesn't work (variable is not set)</td><td class="time"><a href="#t2019-06-12T10:48:13" class="time">10:48</a></td></tr>
<tr id="t2019-06-12T10:48:33"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">is there any way how to do it?</td><td class="time"><a href="#t2019-06-12T10:48:33" class="time">10:48</a></td></tr>
<tr id="t2019-06-12T11:27:18"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">has anyone found a free-for-oss CI system that is usable for actual OE builds? i.e. you can maintain a sstate-cache between runs to avoid building the world on every run</td><td class="time"><a href="#t2019-06-12T11:27:18" class="time">11:27</a></td></tr>
<tr id="t2019-06-12T11:27:32"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">azure pipeline caching isn't ready yet</td><td class="time"><a href="#t2019-06-12T11:27:32" class="time">11:27</a></td></tr>
<tr id="t2019-06-12T11:29:44"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">travis caches to S3 which sounds like its going to be very slow to restore an entire sstate</td><td class="time"><a href="#t2019-06-12T11:29:44" class="time">11:29</a></td></tr>
<tr id="t2019-06-12T11:29:45"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">opennandra: hmm, I did a simple test and if I set something using d.setVar() in a python task that value seems gone in next task even if next task runs after. If I have an anonymous python function that does d.setVar() it will be available in other tasks though.</td><td class="time"><a href="#t2019-06-12T11:29:45" class="time">11:29</a></td></tr>
<tr id="t2019-06-12T11:30:41"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">anon py runs before all the tasks</td><td class="time"><a href="#t2019-06-12T11:30:41" class="time">11:30</a></td></tr>
<tr id="t2019-06-12T11:30:44"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">Maybe someone can explain why changes to d in one task doesn't propagate to other tasks, there's problably an explanation that makes sense</td><td class="time"><a href="#t2019-06-12T11:30:44" class="time">11:30</a></td></tr>
<tr id="t2019-06-12T11:31:21"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">erbo: yes this is also my finding</td><td class="time"><a href="#t2019-06-12T11:31:21" class="time">11:31</a></td></tr>
<tr id="t2019-06-12T11:31:46"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">rburton: ok but I can change my python function to anonumous but need to be sure it's called only after source is fetched</td><td class="time"><a href="#t2019-06-12T11:31:46" class="time">11:31</a></td></tr>
<tr id="t2019-06-12T11:32:06"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">anon py happens *before any tasks are run*</td><td class="time"><a href="#t2019-06-12T11:32:06" class="time">11:32</a></td></tr>
<tr id="t2019-06-12T11:32:07"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">opennandra: you can't, since they run at parsing</td><td class="time"><a href="#t2019-06-12T11:32:07" class="time">11:32</a></td></tr>
<tr id="t2019-06-12T11:32:53"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">rburton: hmm is there some other way how to achieve what I want to do?</td><td class="time"><a href="#t2019-06-12T11:32:53" class="time">11:32</a></td></tr>
<tr id="t2019-06-12T11:33:07"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">basically wait until unpack is done</td><td class="time"><a href="#t2019-06-12T11:33:07" class="time">11:33</a></td></tr>
<tr id="t2019-06-12T11:33:12"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">and then update variable</td><td class="time"><a href="#t2019-06-12T11:33:12" class="time">11:33</a></td></tr>
<tr id="t2019-06-12T11:33:17"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">or it is no go</td><td class="time"><a href="#t2019-06-12T11:33:17" class="time">11:33</a></td></tr>
<tr id="t2019-06-12T11:34:43"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">basically in my python task I look at certain location in ${S} and list files which will be then added to SYSTEMD_SERVICES variable</td><td class="time"><a href="#t2019-06-12T11:34:43" class="time">11:34</a></td></tr>
<tr id="t2019-06-12T11:34:57"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">and got issues when fynction is anonymous</td><td class="time"><a href="#t2019-06-12T11:34:57" class="time">11:34</a></td></tr>
<tr id="t2019-06-12T11:35:16"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">because sometimes can happen that if parsed before all tasks then S is not available</td><td class="time"><a href="#t2019-06-12T11:35:16" class="time">11:35</a></td></tr>
<tr id="t2019-06-12T11:37:11"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">opennandra: Maybe you can add that code in a do_package_prepend since that's where the variable is used. Then it should be within the same task and might work</td><td class="time"><a href="#t2019-06-12T11:37:11" class="time">11:37</a></td></tr>
<tr id="t2019-06-12T11:39:10"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">erbo: FILES_${PN} also?</td><td class="time"><a href="#t2019-06-12T11:39:10" class="time">11:39</a></td></tr>
<tr id="t2019-06-12T11:41:17"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">erbo: ok it looks like it's working when use anonymous and line which look for file is in try except block</td><td class="time"><a href="#t2019-06-12T11:41:17" class="time">11:41</a></td></tr>
<tr id="t2019-06-12T11:42:09"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">opennandra: Hmm, that doesn't seems right</td><td class="time"><a href="#t2019-06-12T11:42:09" class="time">11:42</a></td></tr>
<tr id="t2019-06-12T11:42:51"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">erbo: but I can see varibales are update</td><td class="time"><a href="#t2019-06-12T11:42:51" class="time">11:42</a></td></tr>
<tr id="t2019-06-12T11:42:55"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">when check with -e</td><td class="time"><a href="#t2019-06-12T11:42:55" class="time">11:42</a></td></tr>
<tr id="t2019-06-12T11:42:56"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">Are you sure it's not working just because you had the files in place due to having run bitbake &lt;your recipe&gt; before?</td><td class="time"><a href="#t2019-06-12T11:42:56" class="time">11:42</a></td></tr>
<tr id="t2019-06-12T11:43:27"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">So if you'd clean your recipe, does it still work?</td><td class="time"><a href="#t2019-06-12T11:43:27" class="time">11:43</a></td></tr>
<tr id="t2019-06-12T11:43:55"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">erbo: sec</td><td class="time"><a href="#t2019-06-12T11:43:55" class="time">11:43</a></td></tr>
<tr id="t2019-06-12T11:44:37"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">erbo: you're right :(</td><td class="time"><a href="#t2019-06-12T11:44:37" class="time">11:44</a></td></tr>
<tr id="t2019-06-12T11:44:47"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">when cleansstate it's again not working</td><td class="time"><a href="#t2019-06-12T11:44:47" class="time">11:44</a></td></tr>
<tr id="t2019-06-12T11:45:03"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">But I think it should work with do_package_prepend</td><td class="time"><a href="#t2019-06-12T11:45:03" class="time">11:45</a></td></tr>
<tr id="t2019-06-12T11:45:09"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">just give it a shot :)</td><td class="time"><a href="#t2019-06-12T11:45:09" class="time">11:45</a></td></tr>
<tr id="t2019-06-12T11:46:18"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">ok sec</td><td class="time"><a href="#t2019-06-12T11:46:18" class="time">11:46</a></td></tr>
<tr id="t2019-06-12T11:49:51"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">erbo: nope also not working</td><td class="time"><a href="#t2019-06-12T11:49:51" class="time">11:49</a></td></tr>
<tr id="t2019-06-12T11:54:02"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">opennandra: are you checking with bitbake -e, or trying the whole thing?</td><td class="time"><a href="#t2019-06-12T11:54:02" class="time">11:54</a></td></tr>
<tr id="t2019-06-12T11:54:18"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">with -e</td><td class="time"><a href="#t2019-06-12T11:54:18" class="time">11:54</a></td></tr>
<tr id="t2019-06-12T11:54:35"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">But -e shows environment after parsing only I think</td><td class="time"><a href="#t2019-06-12T11:54:35" class="time">11:54</a></td></tr>
<tr id="t2019-06-12T11:54:40"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">See <a href="https://pastebin.com/rPbsSKVz" rel="nofollow">https://pastebin.com/rPbsSKVz</a></td><td class="time"><a href="#t2019-06-12T11:54:40" class="time">11:54</a></td></tr>
<tr id="t2019-06-12T11:55:44"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">bitbake -e example doesn't show FOO being set there either, but it works within the task</td><td class="time"><a href="#t2019-06-12T11:55:44" class="time">11:55</a></td></tr>
<tr id="t2019-06-12T11:56:07"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">ok but I tried and get package QA issue about installed vs shipped</td><td class="time"><a href="#t2019-06-12T11:56:07" class="time">11:56</a></td></tr>
<tr id="t2019-06-12T11:56:11"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">so variable is not updated</td><td class="time"><a href="#t2019-06-12T11:56:11" class="time">11:56</a></td></tr>
<tr id="t2019-06-12T11:57:27"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">I mean FILES_${PN} variable</td><td class="time"><a href="#t2019-06-12T11:57:27" class="time">11:57</a></td></tr>
<tr id="t2019-06-12T12:01:47"><th class="nick" style="background: #8c4a4a">muppe</th><td class="text" style="color: #8c4a4a">erbo: I am building for intel-corei7-64. Most of my layers are from rocko which I guess comes with 4.12. However, I have cleaned everything and tried to build 4.4. I wonder if something is still forcing 4.12 somehow.</td><td class="time"><a href="#t2019-06-12T12:01:47" class="time">12:01</a></td></tr>
<tr id="t2019-06-12T12:04:26"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">muppe: what kind of image do you build? I'm thinking if it's possible that you updated rootfs but leaving old kernel in place?</td><td class="time"><a href="#t2019-06-12T12:04:26" class="time">12:04</a></td></tr>
<tr id="t2019-06-12T12:06:20"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">opennandra: Ok, then I don't really have any nice ideas. I would probably debug it by inserting some prints into systemd.bbclass to see if your changes are used, and then go from there.</td><td class="time"><a href="#t2019-06-12T12:06:20" class="time">12:06</a></td></tr>
<tr id="t2019-06-12T12:06:39"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">erbo: ok thanks anyway for help</td><td class="time"><a href="#t2019-06-12T12:06:39" class="time">12:06</a></td></tr>
<tr id="t2019-06-12T12:19:28"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">erbo: with anonymous function seems to work (do cleansstate then build) but get do_package, the basehash value changed from 3</td><td class="time"><a href="#t2019-06-12T12:19:28" class="time">12:19</a></td></tr>
<tr id="t2019-06-12T12:19:36"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">I think it's bacause I updated variable</td><td class="time"><a href="#t2019-06-12T12:19:36" class="time">12:19</a></td></tr>
<tr id="t2019-06-12T12:19:52"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">is there anything I can prevent to have this error?</td><td class="time"><a href="#t2019-06-12T12:19:52" class="time">12:19</a></td></tr>
<tr id="t2019-06-12T12:28:45"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">erbo: nevermind fixed it</td><td class="time"><a href="#t2019-06-12T12:28:45" class="time">12:28</a></td></tr>
<tr id="t2019-06-12T12:28:47"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">somehow :)</td><td class="time"><a href="#t2019-06-12T12:28:47" class="time">12:28</a></td></tr>
<tr id="t2019-06-12T12:29:52"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">I think it's strange if you got it working with the anonymous function, it shouldn't work if the code there needs some files in place</td><td class="time"><a href="#t2019-06-12T12:29:52" class="time">12:29</a></td></tr>
<tr id="t2019-06-12T12:30:19"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">At least it should be unpredicable result</td><td class="time"><a href="#t2019-06-12T12:30:19" class="time">12:30</a></td></tr>
<tr id="t2019-06-12T12:30:49"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">But if you got it working I might be wrong, I'm not a guru like some others lurking here</td><td class="time"><a href="#t2019-06-12T12:30:49" class="time">12:30</a></td></tr>
<tr id="t2019-06-12T12:31:44"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">erbo: np it's working so lesson learned : you can set variables only in anonymous functions ;)</td><td class="time"><a href="#t2019-06-12T12:31:44" class="time">12:31</a></td></tr>
<tr id="t2019-06-12T12:40:47"><th class="nick" style="background: #9b519b">rburton_</th><td class="text" style="color: #9b519b">opennandra: each task runs in its own context: variables set in one don't reach the next. if your anonpy is looking at what was unpacked then it won't work with a clean build tree.</td><td class="time"><a href="#t2019-06-12T12:40:47" class="time">12:40</a></td></tr>
<tr id="t2019-06-12T12:41:36"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">rburton: ok thanks I'll try to play more with it</td><td class="time"><a href="#t2019-06-12T12:41:36" class="time">12:41</a></td></tr>
<tr id="t2019-06-12T12:53:38"><th class="nick" style="background: #8c4a4a">muppe</th><td class="text" style="color: #8c4a4a">erbo: I am building a UEFI live USB stick image. Once I boot it, /boot/ folder has bzImage-4.4.113-yocto-standard but uname -r gives me 4.12.28-yocto-standard.</td><td class="time"><a href="#t2019-06-12T12:53:38" class="time">12:53</a></td></tr>
<tr id="t2019-06-12T12:56:30"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">muppe: so is that a .wic file you dd to the USB-stick?</td><td class="time"><a href="#t2019-06-12T12:56:30" class="time">12:56</a></td></tr>
<tr id="t2019-06-12T13:01:08"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">I still think the kernel is taken from somewhere else than /boot/. You can verify by grepping for the version string uname -r gives you. grep "4.12.28-yocto-standard" /boot/bzImage-4.4.113-yocto-standard</td><td class="time"><a href="#t2019-06-12T13:01:08" class="time">13:01</a></td></tr>
<tr id="t2019-06-12T13:01:48"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">If you don't find it, that's not the kernel you booted</td><td class="time"><a href="#t2019-06-12T13:01:48" class="time">13:01</a></td></tr>
<tr id="t2019-06-12T13:02:20"><th class="nick" style="background: #8c4a4a">muppe</th><td class="text" style="color: #8c4a4a">erbo: I am generating .uefiimg (the image has meta-mender in it so that's probably why the output image is like that)</td><td class="time"><a href="#t2019-06-12T13:02:20" class="time">13:02</a></td></tr>
<tr id="t2019-06-12T13:02:22"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">Maybe "dmesg | head" on the booted system can give you a hint</td><td class="time"><a href="#t2019-06-12T13:02:22" class="time">13:02</a></td></tr>
<tr id="t2019-06-12T13:04:56"><th class="nick" style="background: #8c4a4a">muppe</th><td class="text" style="color: #8c4a4a">[&nbsp;&nbsp;&nbsp;&nbsp;0.000000] Linux version 4.12.28-yocto-standard (oe-user@oe-host) (gcc version 7.3.0 (GCC) ) #1 SMP PREEMPT Thu May 9 11:55:51 UTC 2019</td><td class="time"><a href="#t2019-06-12T13:04:56" class="time">13:04</a></td></tr>
<tr id="t2019-06-12T13:04:57"><th class="nick" style="background: #8c4a4a">muppe</th><td class="text" style="color: #8c4a4a">[&nbsp;&nbsp;&nbsp;&nbsp;0.000000] Command line: BOOT_IMAGE=(hd1,gpt2)/boot/bzImage root=/dev/sdb2 console=tty0,115200n8 console=ttyS0,115200n8 console=ttyO0,115200n8 console=ttyAMA0,115200n8 rootwait</td><td class="time"><a href="#t2019-06-12T13:04:57" class="time">13:04</a></td></tr>
<tr id="t2019-06-12T13:07:38"><th class="nick" style="background: #8c4a4a">muppe</th><td class="text" style="color: #8c4a4a">and grep gave no results so obviously I am booting something 4.12 instead of 4.4.</td><td class="time"><a href="#t2019-06-12T13:07:38" class="time">13:07</a></td></tr>
<tr id="t2019-06-12T13:08:00"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">So I guess your device has another partition which contains the /boot/bzImage the command line specifies</td><td class="time"><a href="#t2019-06-12T13:08:00" class="time">13:08</a></td></tr>
<tr id="t2019-06-12T13:09:34"><th class="nick" style="background: #8c4a4a">muppe</th><td class="text" style="color: #8c4a4a">The device has an SSD where I have dd'ed 4.12 based image a while ago. Is it possible that it is booting the kernel from /dev/sda instead of /dev/sdb?</td><td class="time"><a href="#t2019-06-12T13:09:34" class="time">13:09</a></td></tr>
<tr id="t2019-06-12T13:10:30"><th class="nick" style="background: #8c4a4a">muppe</th><td class="text" style="color: #8c4a4a">The booting process is definitely starting from the USB stick (after changing the BIOS settings to boot from UEFI mass storage).</td><td class="time"><a href="#t2019-06-12T13:10:30" class="time">13:10</a></td></tr>
<tr id="t2019-06-12T13:11:25"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">Try mounting both /dev/sda2 and /dev/sdb2 when the system has booted and see what kernels they contain?</td><td class="time"><a href="#t2019-06-12T13:11:25" class="time">13:11</a></td></tr>
<tr id="t2019-06-12T13:11:54"><th class="nick" style="background: #8c4a4a">muppe</th><td class="text" style="color: #8c4a4a">hmm... actually that hd1 at BOOT_IMAGE makes me wonder....</td><td class="time"><a href="#t2019-06-12T13:11:54" class="time">13:11</a></td></tr>
<tr id="t2019-06-12T13:12:22"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">autobuilder worker showing a process running for 5124107hours which is 805 years. Suspect.</td><td class="time"><a href="#t2019-06-12T13:12:22" class="time">13:12</a></td></tr>
<tr id="t2019-06-12T13:12:54"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">RP: so it's true when they say yocto build can take some time then :D</td><td class="time"><a href="#t2019-06-12T13:12:54" class="time">13:12</a></td></tr>
<tr id="t2019-06-12T13:13:19"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">erbo: that and we appear to have time travel</td><td class="time"><a href="#t2019-06-12T13:13:19" class="time">13:13</a></td></tr>
<tr id="t2019-06-12T13:13:27"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">finally!</td><td class="time"><a href="#t2019-06-12T13:13:27" class="time">13:13</a></td></tr>
<tr id="t2019-06-12T13:15:38"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">RP: can you please travel to after my current bug hunt, and when you return tell me what the problem was?</td><td class="time"><a href="#t2019-06-12T13:15:38" class="time">13:15</a></td></tr>
<tr id="t2019-06-12T13:17:34"><th class="nick" style="background: #8c4a4a">muppe</th><td class="text" style="color: #8c4a4a">erbo: Thanks for the tips. Apparently there was a wrong definition in grub.cfg. mender_grub_storage_device was set to hd1 whereas it should have been hd0. After manually changing that, the system booted kernel 4.4.</td><td class="time"><a href="#t2019-06-12T13:17:34" class="time">13:17</a></td></tr>
<tr id="t2019-06-12T13:19:20"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">Glad you found it</td><td class="time"><a href="#t2019-06-12T13:19:20" class="time">13:19</a></td></tr>
<tr id="t2019-06-12T13:19:28"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">muppe: for mender question you can ask on hub.mender.io</td><td class="time"><a href="#t2019-06-12T13:19:28" class="time">13:19</a></td></tr>
<tr id="t2019-06-12T13:19:59"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">muppe: there alre also topics about how to port mender to x86 board (intel nuc e.g.) so you can get also some info there (I'm author of some of them :))</td><td class="time"><a href="#t2019-06-12T13:19:59" class="time">13:19</a></td></tr>
<tr id="t2019-06-12T13:21:10"><th class="nick" style="background: #4d4d93">opennandra</th><td class="text" style="color: #4d4d93">muppe: <a href="https://hub.mender.io/t/intel-nuc/308" rel="nofollow">https://hub.mender.io/t/intel-nuc/308</a></td><td class="time"><a href="#t2019-06-12T13:21:10" class="time">13:21</a></td></tr>
<tr id="t2019-06-12T14:02:36"><th class="nick" style="background: #539e9e">yocti</th><td class="text" style="color: #539e9e">New news from stackoverflow: Yocto Bitbake Recipes for Nvidia Jetson Nano for Python whl files not on PyPi &lt;<a href="https://stackoverflow.com/questions/56563920/yocto-bitbake-recipes-for-nvidia-jetson-nano-for-python-whl-files-not-on-pypi&gt;" rel="nofollow">https://stackoverflow.com/questions/56563920/yocto-bitbake-recipes-for-nvidia-jetson-nano-for-python-whl-files-not-on-pypi&gt;</a></td><td class="time"><a href="#t2019-06-12T14:02:36" class="time">14:02</a></td></tr>
<tr id="t2019-06-12T14:32:09"><th class="nick" style="background: #a25555">psrcode</th><td class="text" style="color: #a25555">RP: does oe-core ship recipe for rc kernel?</td><td class="time"><a href="#t2019-06-12T14:32:09" class="time">14:32</a></td></tr>
<tr id="t2019-06-12T14:45:04"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">psrcode: we have a -dev kernel which you could probably configure to do that</td><td class="time"><a href="#t2019-06-12T14:45:04" class="time">14:45</a></td></tr>
<tr id="t2019-06-12T14:45:19"><th class="nick" style="background: #a25555">psrcode</th><td class="text" style="color: #a25555">but by default?</td><td class="time"><a href="#t2019-06-12T14:45:19" class="time">14:45</a></td></tr>
<tr id="t2019-06-12T14:45:30"><th class="nick" style="background: #a25555">psrcode</th><td class="text" style="color: #a25555">does -dev kernel target a rc kernel?</td><td class="time"><a href="#t2019-06-12T14:45:30" class="time">14:45</a></td></tr>
<tr id="t2019-06-12T14:46:43"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">psrcode: -dev is currently set to 5.2-rc+ so it does but its not default</td><td class="time"><a href="#t2019-06-12T14:46:43" class="time">14:46</a></td></tr>
<tr id="t2019-06-12T14:46:52"><th class="nick" style="background: #a25555">psrcode</th><td class="text" style="color: #a25555">k</td><td class="time"><a href="#t2019-06-12T14:46:52" class="time">14:46</a></td></tr>
<tr id="t2019-06-12T14:47:15"><th class="nick" style="background: #a25555">psrcode</th><td class="text" style="color: #a25555">yeah thats a problem for lttng-modules</td><td class="time"><a href="#t2019-06-12T14:47:15" class="time">14:47</a></td></tr>
<tr id="t2019-06-12T14:47:39"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">psrcode: I think the git lttng-modules recipe is the best way forward for this, it will bring us as close as we can get</td><td class="time"><a href="#t2019-06-12T14:47:39" class="time">14:47</a></td></tr>
<tr id="t2019-06-12T14:47:50"><th class="nick" style="background: #a25555">psrcode</th><td class="text" style="color: #a25555">yeah</td><td class="time"><a href="#t2019-06-12T14:47:50" class="time">14:47</a></td></tr>
<tr id="t2019-06-12T15:52:28"><td class="action" colspan="2">* zeddii notes that the pacific timezone blows for trying to keep up with mailing list threads.</td><td><a href="#t2019-06-12T15:52:28" class="time">15:52</a></td></tr>
<tr id="t2019-06-12T15:52:33"><th class="nick" style="background: #57a657">zeddii</th><td class="text" style="color: #57a657">always last to comment :D</td><td class="time"><a href="#t2019-06-12T15:52:33" class="time">15:52</a></td></tr>
<tr id="t2019-06-12T17:14:26"><th class="nick" style="background: #5959a9">erakis</th><td class="text" style="color: #5959a9">Hi, when a systemd service (node js app) is configured as `StandardOutput=journal+console` and then I output something to the console like this `process.stdout.write('HELLO\n');`, am I supposed to see the message passed in my console when I start the service with `systemctl start myservice` ? I guest that as the service is started with a different shell then the output cannot be display on MY console.</td><td class="time"><a href="#t2019-06-12T17:14:26" class="time">17:14</a></td></tr>
<tr id="t2019-06-12T17:55:40"><th class="nick" style="background: #adad5b">sashko</th><td class="text" style="color: #adad5b">I try to run tests, but get this: images/qemux86/core-image-sato-qemux86.testdata.json Not Found. Have you built the image with INHERIT+="testimage" in the conf/local.conf?</td><td class="time"><a href="#t2019-06-12T17:55:40" class="time">17:55</a></td></tr>
<tr id="t2019-06-12T17:55:50"><th class="nick" style="background: #adad5b">sashko</th><td class="text" style="color: #adad5b">I have INHERIT+="testimage" in my local.conf</td><td class="time"><a href="#t2019-06-12T17:55:50" class="time">17:55</a></td></tr>
<tr id="t2019-06-12T17:56:04"><th class="nick" style="background: #adad5b">sashko</th><td class="text" style="color: #adad5b">MACHINE = "qemux86"</td><td class="time"><a href="#t2019-06-12T17:56:04" class="time">17:56</a></td></tr>
<tr id="t2019-06-12T17:56:16"><th class="nick" style="background: #adad5b">sashko</th><td class="text" style="color: #adad5b">I build it with bitbake core-image-sato -c testimage</td><td class="time"><a href="#t2019-06-12T17:56:16" class="time">17:56</a></td></tr>
<tr id="t2019-06-12T18:28:09"><th class="nick" style="background: #b15db1">ecdhe</th><td class="text" style="color: #b15db1">I added a layer 'meta-mytest' and a basic "helloworld" recipe.&nbsp;&nbsp;`bitbake helloworld' successfully compiles the simple program, but when I try to bitbake my full system image, I get the message "ERROR: Nothing RPROVIDES 'mytest'"</td><td class="time"><a href="#t2019-06-12T18:28:09" class="time">18:28</a></td></tr>
<tr id="t2019-06-12T18:28:49"><th class="nick" style="background: #b15db1">ecdhe</th><td class="text" style="color: #b15db1">The next line says: NOTE: Runtime target 'mytest' is unbuildable, removing...</td><td class="time"><a href="#t2019-06-12T18:28:49" class="time">18:28</a></td></tr>
<tr id="t2019-06-12T18:29:48"><th class="nick" style="background: #b15db1">ecdhe</th><td class="text" style="color: #b15db1">How is "mytest" becoming a target instead of just a layer?&nbsp;&nbsp;The only place that the string "mytest" appears in a file is inside poky/build/conf/bblayers.conf</td><td class="time"><a href="#t2019-06-12T18:29:48" class="time">18:29</a></td></tr>
<tr id="t2019-06-12T18:38:55"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">ecdhe, did you add that to the BBLAYERCOLLECTION? (or whatever it's called)</td><td class="time"><a href="#t2019-06-12T18:38:55" class="time">18:38</a></td></tr>
<tr id="t2019-06-12T18:41:27"><th class="nick" style="background: #b15db1">ecdhe</th><td class="text" style="color: #b15db1">BBFILE_COLLECTIONS += "mytest"</td><td class="time"><a href="#t2019-06-12T18:41:27" class="time">18:41</a></td></tr>
<tr id="t2019-06-12T18:41:48"><th class="nick" style="background: #b15db1">ecdhe</th><td class="text" style="color: #b15db1">litb: yes</td><td class="time"><a href="#t2019-06-12T18:41:48" class="time">18:41</a></td></tr>
<tr id="t2019-06-12T18:43:33"><th class="nick" style="background: #b15db1">ecdhe</th><td class="text" style="color: #b15db1">it was my understanding (per tutorials) that BBFILE_COLLECTIONS names a variable suffix that bitbake can then append to a set of known basenames for parameter discovery.</td><td class="time"><a href="#t2019-06-12T18:43:33" class="time">18:43</a></td></tr>
<tr id="t2019-06-12T18:43:57"><th class="nick" style="background: #b15db1">ecdhe</th><td class="text" style="color: #b15db1">e.g, BBFILE_PATTERN_mytest, BBFILE_PRIORITY_mytest etc</td><td class="time"><a href="#t2019-06-12T18:43:57" class="time">18:43</a></td></tr>
<tr id="t2019-06-12T18:51:48"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">that's my understanding aswell</td><td class="time"><a href="#t2019-06-12T18:51:48" class="time">18:51</a></td></tr>
<tr id="t2019-06-12T18:52:15"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">and in BBLAYERDIRS or whatever it's called, you need to add all the directories of all your layers I think</td><td class="time"><a href="#t2019-06-12T18:52:15" class="time">18:52</a></td></tr>
<tr id="t2019-06-12T18:52:26"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">in conf/bblayers.conf</td><td class="time"><a href="#t2019-06-12T18:52:26" class="time">18:52</a></td></tr>
<tr id="t2019-06-12T18:56:54"><th class="nick" style="background: #b15db1">ecdhe</th><td class="text" style="color: #b15db1">litb: that's where I've got my layer listed.&nbsp;&nbsp;to make sure the syntax was right, I used the 'add-layer' command of I forget what tool.</td><td class="time"><a href="#t2019-06-12T18:56:54" class="time">18:56</a></td></tr>
<tr id="t2019-06-12T18:57:32"><th class="nick" style="background: #b15db1">ecdhe</th><td class="text" style="color: #b15db1">If I removed my custom layer from bblayers.conf, the RDEPENDS issue goes away, but of course, my packages can't be included</td><td class="time"><a href="#t2019-06-12T18:57:32" class="time">18:57</a></td></tr>
<tr id="t2019-06-12T19:00:15"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">I think I had that issue aswell. I renamed my layer name , and then it worked</td><td class="time"><a href="#t2019-06-12T19:00:15" class="time">19:00</a></td></tr>
<tr id="t2019-06-12T19:00:17"><th class="nick" style="background: #5fb4b4">litb</th><td class="text" style="color: #5fb4b4">ecdhe, ^</td><td class="time"><a href="#t2019-06-12T19:00:17" class="time">19:00</a></td></tr>
<tr id="t2019-06-12T19:00:32"><th class="nick" style="background: #b15db1">ecdhe</th><td class="text" style="color: #b15db1">litb: is there a cache I can clear instead?</td><td class="time"><a href="#t2019-06-12T19:00:32" class="time">19:00</a></td></tr>
<tr id="t2019-06-12T19:05:37"><th class="nick" style="background: #b15db1">ecdhe</th><td class="text" style="color: #b15db1">litb, this is very interesting; I renamed my layer to "fourtest" but I'm still getting the error about 'mytest' being required but not provided.&nbsp;&nbsp;the name 'mytest' seems to be cached somewhere!</td><td class="time"><a href="#t2019-06-12T19:05:37" class="time">19:05</a></td></tr>
<tr id="t2019-06-12T19:06:47"><th class="nick" style="background: #b86161">kergoth</th><td class="text" style="color: #b86161">unlikely. try grep</td><td class="time"><a href="#t2019-06-12T19:06:47" class="time">19:06</a></td></tr>
<tr id="t2019-06-12T19:07:14"><th class="nick" style="background: #b15db1">ecdhe</th><td class="text" style="color: #b15db1">kergoth, running `grep -r mytest'</td><td class="time"><a href="#t2019-06-12T19:07:14" class="time">19:07</a></td></tr>
<tr id="t2019-06-12T19:10:59"><th class="nick" style="background: #b15db1">ecdhe</th><td class="text" style="color: #b15db1">kergoth: you were right.&nbsp;&nbsp;the file 'meta-fourtest/recipes-images/core-image.bbappend' was trying to append the layer name (not the package name) with an IMAGE_INSTALL_append directive.</td><td class="time"><a href="#t2019-06-12T19:10:59" class="time">19:10</a></td></tr>
<tr id="t2019-06-12T19:11:34"><th class="nick" style="background: #b15db1">ecdhe</th><td class="text" style="color: #b15db1">This was from my inadequate mental model of layers/recipes/packages earlier today</td><td class="time"><a href="#t2019-06-12T19:11:34" class="time">19:11</a></td></tr>
<tr id="t2019-06-12T19:11:41"><th class="nick" style="background: #b15db1">ecdhe</th><td class="text" style="color: #b15db1">The thing is finally building!</td><td class="time"><a href="#t2019-06-12T19:11:41" class="time">19:11</a></td></tr>
<tr id="t2019-06-12T19:40:18"><td class="nickchange" colspan="2">*** aidanh_ is now known as aidanh</td><td><a href="#t2019-06-12T19:40:18" class="time">19:40</a></td></tr>
<tr id="t2019-06-12T20:24:21"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2019-06-12T20:24:21" class="time">20:24</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-06-11.log.html">&#171; Tuesday, 2019-06-11</a> <a href="index.html">Index</a> <a href="%23yocto.2019-06-13.log.html">Thursday, 2019-06-13 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
