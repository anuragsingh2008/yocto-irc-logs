<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Tuesday, 2019-11-19</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Tuesday, 2019-11-19</h1>
<div class="navigation"> <a href="%23yocto.2019-11-18.log.html">&#171; Monday, 2019-11-18</a> <a href="index.html">Index</a> <a href="%23yocto.2019-11-20.log.html">Wednesday, 2019-11-20 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-11-19T00:01:19"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">adelcast: I think I've perhaps done the best I can with this and it may be better to let you take a look from here</td><td class="time"><a href="#t2019-11-19T00:01:19" class="time">00:01</a></td></tr>
<tr id="t2019-11-19T00:01:50"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">adelcast: I'm hoping you can at least reproduce it now you know where the double free is and the kind of package that is triggering it</td><td class="time"><a href="#t2019-11-19T00:01:50" class="time">00:01</a></td></tr>
<tr id="t2019-11-19T00:02:09"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">adelcast: let me know if you need more info from me I guess or if I can help further</td><td class="time"><a href="#t2019-11-19T00:02:09" class="time">00:02</a></td></tr>
<tr id="t2019-11-19T00:03:14"><th class="nick" style="background: #42427e">adelcast</th><td class="text" style="color: #42427e">thanks RP, I quickly looked at the ticket and I think I have everything I need to fix the particular bug</td><td class="time"><a href="#t2019-11-19T00:03:14" class="time">00:03</a></td></tr>
<tr id="t2019-11-19T00:03:33"><th class="nick" style="background: #42427e">adelcast</th><td class="text" style="color: #42427e">after that, I'll try to get rid of the error buffering</td><td class="time"><a href="#t2019-11-19T00:03:33" class="time">00:03</a></td></tr>
<tr id="t2019-11-19T00:03:52"><th class="nick" style="background: #42427e">adelcast</th><td class="text" style="color: #42427e">I agree, that buffering is&nbsp;&nbsp;just confusing</td><td class="time"><a href="#t2019-11-19T00:03:52" class="time">00:03</a></td></tr>
<tr id="t2019-11-19T00:03:57"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">adelcast: thanks, much appreciated!</td><td class="time"><a href="#t2019-11-19T00:03:57" class="time">00:03</a></td></tr>
<tr id="t2019-11-19T00:04:05"><th class="nick" style="background: #42427e">adelcast</th><td class="text" style="color: #42427e">np, =)</td><td class="time"><a href="#t2019-11-19T00:04:05" class="time">00:04</a></td></tr>
<tr id="t2019-11-19T00:04:41"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">adelcast: I still haven;t figured out how reproducibile builds generate empty packages but I'm not sure I want to know ;-)</td><td class="time"><a href="#t2019-11-19T00:04:41" class="time">00:04</a></td></tr>
<tr id="t2019-11-19T00:05:24"><th class="nick" style="background: #42427e">adelcast</th><td class="text" style="color: #42427e">hehe, mm, well, I assume maybe those are virtual packages to group packagroups?</td><td class="time"><a href="#t2019-11-19T00:05:24" class="time">00:05</a></td></tr>
<tr id="t2019-11-19T00:08:35"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">adelcast: yes, I'm guessing timestamps disappear from the tar file or something which makes it empty</td><td class="time"><a href="#t2019-11-19T00:08:35" class="time">00:08</a></td></tr>
<tr id="t2019-11-19T00:08:52"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">adelcast: and we probably only detect double free on some libcs</td><td class="time"><a href="#t2019-11-19T00:08:52" class="time">00:08</a></td></tr>
<tr id="t2019-11-19T00:10:29"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">hmm, locally it has module info in that package</td><td class="time"><a href="#t2019-11-19T00:10:29" class="time">00:10</a></td></tr>
<tr id="t2019-11-19T00:12:25"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">ok, a problem for tomorrow, should sleep!</td><td class="time"><a href="#t2019-11-19T00:12:25" class="time">00:12</a></td></tr>
<tr id="t2019-11-19T00:13:03"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">adelcast: thanks again. I put my fix the double free patch into the bug, I suspect there is a bit more needed to avoid the underlying empty file error though</td><td class="time"><a href="#t2019-11-19T00:13:03" class="time">00:13</a></td></tr>
<tr id="t2019-11-19T05:18:29"><th class="nick" style="background: #818144">moto-timo</th><td class="text" style="color: #818144">khem: if I want to include compiler on target image (but it might be gcc or musl)... best practices?</td><td class="time"><a href="#t2019-11-19T05:18:29" class="time">05:18</a></td></tr>
<tr id="t2019-11-19T05:24:58"><th class="nick" style="background: #854685">khem</th><td class="text" style="color: #854685">moto-timo: EXTRA_IMAGE_FEATURES_append = " tools-sdk packagegroup-core-buildessential"</td><td class="time"><a href="#t2019-11-19T05:24:58" class="time">05:24</a></td></tr>
<tr id="t2019-11-19T05:25:22"><th class="nick" style="background: #818144">moto-timo</th><td class="text" style="color: #818144">khem: right. thank you. must be tired</td><td class="time"><a href="#t2019-11-19T05:25:22" class="time">05:25</a></td></tr>
<tr id="t2019-11-19T09:25:41"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">hi</td><td class="time"><a href="#t2019-11-19T09:25:41" class="time">09:25</a></td></tr>
<tr id="t2019-11-19T09:27:16"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">is my understanding correct, that the mesa recipe packages a copy of the *same* file for every driver?</td><td class="time"><a href="#t2019-11-19T09:27:16" class="time">09:27</a></td></tr>
<tr id="t2019-11-19T09:28:02"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">i.e. a copy of the megadriver?</td><td class="time"><a href="#t2019-11-19T09:28:02" class="time">09:28</a></td></tr>
<tr id="t2019-11-19T09:59:00"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">bluelightning: hi, I'm trying to get qt4-embedded to compile on warrior but that does not work well ATM. I fixed builds for qemux86, qemuarm, qemuarm64 and beaglebone-yocto and one error on qemux86-64 but the latter is still failing (missing lrelease in native-sysroot)</td><td class="time"><a href="#t2019-11-19T09:59:00" class="time">09:59</a></td></tr>
<tr id="t2019-11-19T10:00:15"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">bluelightning: the qt4-embedded issue on warrior is because GCC v8 now refuses to compile `asm volatile` lines. As per the documentation, volatile is the default qualifier for asm so we should be good removing it</td><td class="time"><a href="#t2019-11-19T10:00:15" class="time">10:00</a></td></tr>
<tr id="t2019-11-19T10:00:49"><th class="nick" style="background: #4b904b">bluelightning</th><td class="text" style="color: #4b904b">qschulz: ok - if you could send your patch(es) I can apply them</td><td class="time"><a href="#t2019-11-19T10:00:49" class="time">10:00</a></td></tr>
<tr id="t2019-11-19T10:01:05"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">however, I saw this error only in some JavascriptCore JStubs file and nowhere else even though asm volatile is present in different files</td><td class="time"><a href="#t2019-11-19T10:01:05" class="time">10:01</a></td></tr>
<tr id="t2019-11-19T10:01:25"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">are you fine with a patch that is fixing the issues I saw even though it's not fixing all the `asm volatile` occurences?</td><td class="time"><a href="#t2019-11-19T10:01:25" class="time">10:01</a></td></tr>
<tr id="t2019-11-19T10:02:28"><th class="nick" style="background: #4b904b">bluelightning</th><td class="text" style="color: #4b904b">qschulz: yep that's fine, if others become problematic they can be fixed as and when</td><td class="time"><a href="#t2019-11-19T10:02:28" class="time">10:02</a></td></tr>
<tr id="t2019-11-19T10:04:44"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">bluelightning: ok! Expect some mails today and if not, scream at me tomorrow :)</td><td class="time"><a href="#t2019-11-19T10:04:44" class="time">10:04</a></td></tr>
<tr id="t2019-11-19T10:12:45"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2019-11-19T10:12:45" class="time">10:12</a></td></tr>
<tr id="t2019-11-19T10:16:35"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">T_UNIX: no, it packages hardlinks</td><td class="time"><a href="#t2019-11-19T10:16:35" class="time">10:16</a></td></tr>
<tr id="t2019-11-19T10:17:20"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">ok</td><td class="time"><a href="#t2019-11-19T10:17:20" class="time">10:17</a></td></tr>
<tr id="t2019-11-19T10:18:10"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">look like in the mesa i have, there are two real libraries and lots of hardlinks</td><td class="time"><a href="#t2019-11-19T10:18:10" class="time">10:18</a></td></tr>
<tr id="t2019-11-19T10:42:20"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">yeah. My fault. Got mislead by `scp -r` instead of `rsync -rH`</td><td class="time"><a href="#t2019-11-19T10:42:20" class="time">10:42</a></td></tr>
<tr id="t2019-11-19T10:53:27"><th class="nick" style="background: #97974f">LetoThe2nd</th><td class="text" style="color: #97974f">when trying to use tmux on a rather simple image, i get "tmux: need UTF-8 locale (LC_CTYPE) but have ANSI_X3.4-1968"</td><td class="time"><a href="#t2019-11-19T10:53:27" class="time">10:53</a></td></tr>
<tr id="t2019-11-19T10:53:30"><th class="nick" style="background: #97974f">LetoThe2nd</th><td class="text" style="color: #97974f">any pointers?</td><td class="time"><a href="#t2019-11-19T10:53:30" class="time">10:53</a></td></tr>
<tr id="t2019-11-19T10:58:51"><th class="nick" style="background: #97974f">LetoThe2nd</th><td class="text" style="color: #97974f">might the IAMGE_LINGUAS + GLIBS_GENERATE_LOCALES dance fix this?</td><td class="time"><a href="#t2019-11-19T10:58:51" class="time">10:58</a></td></tr>
<tr id="t2019-11-19T11:13:16"><th class="nick" style="background: #9b519b">hyper_dave</th><td class="text" style="color: #9b519b">Hey everyone, How do I download a file with SRC_URI with different name?</td><td class="time"><a href="#t2019-11-19T11:13:16" class="time">11:13</a></td></tr>
<tr id="t2019-11-19T11:13:53"><th class="nick" style="background: #9b519b">hyper_dave</th><td class="text" style="color: #9b519b">I am using SRC_URI = "<a href="https://fonts.google.com/download?family=Roboto" rel="nofollow">https://fonts.google.com/download?family=Roboto</a>" and it is downloading a the file as download?familly=Roboto</td><td class="time"><a href="#t2019-11-19T11:13:53" class="time">11:13</a></td></tr>
<tr id="t2019-11-19T11:20:29"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">hyper_dave: <a href="https://www.yoctoproject.org/docs/latest/bitbake-user-manual/bitbake-user-manual.html#http-ftp-fetcher" rel="nofollow">https://www.yoctoproject.org/docs/latest/bitbake-user-manual/bitbake-user-manual.html#http-ftp-fetcher</a></td><td class="time"><a href="#t2019-11-19T11:20:29" class="time">11:20</a></td></tr>
<tr id="t2019-11-19T11:21:03"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">LetoThe2nd: does sound like you need a locale installed</td><td class="time"><a href="#t2019-11-19T11:21:03" class="time">11:21</a></td></tr>
<tr id="t2019-11-19T11:49:24"><th class="nick" style="background: #97974f">LetoThe2nd</th><td class="text" style="color: #97974f">RP: yeah something along those lines</td><td class="time"><a href="#t2019-11-19T11:49:24" class="time">11:49</a></td></tr>
<tr id="t2019-11-19T11:58:57"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">If recipe A required artifacts from recipe B, but only for building, does recipe B need a "do_install" section for putting everything into like a STAGING_DIR_NATIVE?</td><td class="time"><a href="#t2019-11-19T11:58:57" class="time">11:58</a></td></tr>
<tr id="t2019-11-19T11:59:07"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">requires*</td><td class="time"><a href="#t2019-11-19T11:59:07" class="time">11:59</a></td></tr>
<tr id="t2019-11-19T12:03:25"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">jofr: thats usually the difference betwenn `DEPENDS` and `RDEPENDS`. Where `R` is short for runtime.</td><td class="time"><a href="#t2019-11-19T12:03:25" class="time">12:03</a></td></tr>
<tr id="t2019-11-19T12:04:18"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">do `A.bb` would contain a line like `DEPENDS += "B"`</td><td class="time"><a href="#t2019-11-19T12:04:18" class="time">12:04</a></td></tr>
<tr id="t2019-11-19T12:04:38"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Yeah, I haven't been able to fully wrap my head around that. i.e. the full relation between DEPENDS vs. RDEPENDS and then native-recipes.</td><td class="time"><a href="#t2019-11-19T12:04:38" class="time">12:04</a></td></tr>
<tr id="t2019-11-19T12:05:11"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">did you read about `cross-canadian` in the context of compilation?</td><td class="time"><a href="#t2019-11-19T12:05:11" class="time">12:05</a></td></tr>
<tr id="t2019-11-19T12:05:38"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Yes yes.</td><td class="time"><a href="#t2019-11-19T12:05:38" class="time">12:05</a></td></tr>
<tr id="t2019-11-19T12:06:05"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">So in my head, native recipes are for doing basically what I want. Provide stuff that should be used at compile-time</td><td class="time"><a href="#t2019-11-19T12:06:05" class="time">12:06</a></td></tr>
<tr id="t2019-11-19T12:06:27"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">But what then is the difference between depending and rdepending on a native recipe?</td><td class="time"><a href="#t2019-11-19T12:06:27" class="time">12:06</a></td></tr>
<tr id="t2019-11-19T12:07:07"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">usually you need the `-native` version only if you need to execute an architecture binary tool</td><td class="time"><a href="#t2019-11-19T12:07:07" class="time">12:07</a></td></tr>
<tr id="t2019-11-19T12:07:19"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">(when I say native, I mean a recipe the classextends and is used with the -native suffix)</td><td class="time"><a href="#t2019-11-19T12:07:19" class="time">12:07</a></td></tr>
<tr id="t2019-11-19T12:07:28"><th class="nick" style="background: #a25555">yocti</th><td class="text" style="color: #a25555">New news from stackoverflow: About the use of yocto toaster? &lt;<a href="https://stackoverflow.com/questions/58933755/about-the-use-of-yocto-toaster&gt;" rel="nofollow">https://stackoverflow.com/questions/58933755/about-the-use-of-yocto-toaster&gt;</a></td><td class="time"><a href="#t2019-11-19T12:07:28" class="time">12:07</a></td></tr>
<tr id="t2019-11-19T12:11:07"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">jofr: look at <a href="http://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/recipes-core/psplash/psplash_git.bb" rel="nofollow">http://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/recipes-core/psplash/psplash_git.bb</a></td><td class="time"><a href="#t2019-11-19T12:11:07" class="time">12:11</a></td></tr>
<tr id="t2019-11-19T12:11:55"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">as you can see it invokes <a href="http://git.yoctoproject.org/cgit/cgit.cgi/psplash/tree/make-image-header.sh" rel="nofollow">http://git.yoctoproject.org/cgit/cgit.cgi/psplash/tree/make-image-header.sh</a></td><td class="time"><a href="#t2019-11-19T12:11:55" class="time">12:11</a></td></tr>
<tr id="t2019-11-19T12:12:13"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">which, in turn, invokes `gdk-pixbuf-csource`</td><td class="time"><a href="#t2019-11-19T12:12:13" class="time">12:12</a></td></tr>
<tr id="t2019-11-19T12:15:08"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">so `psplash` eventually requires `gdk-pixbuf-native`, which might `DEPENDS`ed on `libpng-native` to be built and `RDEPENDS` on `libpng-native` to execute.</td><td class="time"><a href="#t2019-11-19T12:15:08" class="time">12:15</a></td></tr>
<tr id="t2019-11-19T12:16:18"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">but at the point of executing the recipe for `psplash`, it neglects the `DEPENDS` of `gdk-pixbuf-native` and only stages the files covered by mentioned `RDEPENDS`.</td><td class="time"><a href="#t2019-11-19T12:16:18" class="time">12:16</a></td></tr>
<tr id="t2019-11-19T12:16:37"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">which - in this very case - *might* be the same.</td><td class="time"><a href="#t2019-11-19T12:16:37" class="time">12:16</a></td></tr>
<tr id="t2019-11-19T12:18:34"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">jofr: if you think about linking architecture specific applications statically, it might make more sense.</td><td class="time"><a href="#t2019-11-19T12:18:34" class="time">12:18</a></td></tr>
<tr id="t2019-11-19T12:22:19"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">jofr: B should install its stuff into the sysroot like normal.&nbsp;&nbsp;A will depend on B, and A's sysroot has stuff from B in.</td><td class="time"><a href="#t2019-11-19T12:22:19" class="time">12:22</a></td></tr>
<tr id="t2019-11-19T12:22:50"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">rburton: Ok. I'll make up some paths then&nbsp;&nbsp;:)</td><td class="time"><a href="#t2019-11-19T12:22:50" class="time">12:22</a></td></tr>
<tr id="t2019-11-19T12:22:58"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">But thanks both of you&nbsp;&nbsp;:)</td><td class="time"><a href="#t2019-11-19T12:22:58" class="time">12:22</a></td></tr>
<tr id="t2019-11-19T12:23:01"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">jofr: rdepending on a native recipe makes no sense at all</td><td class="time"><a href="#t2019-11-19T12:23:01" class="time">12:23</a></td></tr>
<tr id="t2019-11-19T12:23:21"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">rburton: I just found out.. QA gave me a warning</td><td class="time"><a href="#t2019-11-19T12:23:21" class="time">12:23</a></td></tr>
<tr id="t2019-11-19T12:23:22"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">(unless you're a native recipe)</td><td class="time"><a href="#t2019-11-19T12:23:22" class="time">12:23</a></td></tr>
<tr id="t2019-11-19T12:24:37"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">jofr: so native recipes are entirely for stuff that *runs* at build time.&nbsp;&nbsp;if you've a recipe that just ships a pile of data that another recipe needs, then its still a target recipe.</td><td class="time"><a href="#t2019-11-19T12:24:37" class="time">12:24</a></td></tr>
<tr id="t2019-11-19T12:24:59"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">rburton: then, I assume, `-native` packages are depending on the corresponding `-native` version automagically? or are the handled in some parallel namespace?</td><td class="time"><a href="#t2019-11-19T12:24:59" class="time">12:24</a></td></tr>
<tr id="t2019-11-19T12:25:19"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">not sure i understand, got a concrete example?</td><td class="time"><a href="#t2019-11-19T12:25:19" class="time">12:25</a></td></tr>
<tr id="t2019-11-19T12:25:21"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">But for such an do_install section.. I think I might be too verbose: {D}${STAGING_DIR_NATIVE}${includedir}?</td><td class="time"><a href="#t2019-11-19T12:25:21" class="time">12:25</a></td></tr>
<tr id="t2019-11-19T12:25:31"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">(missing $)</td><td class="time"><a href="#t2019-11-19T12:25:31" class="time">12:25</a></td></tr>
<tr id="t2019-11-19T12:25:41"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">not STAGING_DIR_NATIVE</td><td class="time"><a href="#t2019-11-19T12:25:41" class="time">12:25</a></td></tr>
<tr id="t2019-11-19T12:25:46"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Aight.</td><td class="time"><a href="#t2019-11-19T12:25:46" class="time">12:25</a></td></tr>
<tr id="t2019-11-19T12:25:47"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">install like normal, ${D}${includedir}</td><td class="time"><a href="#t2019-11-19T12:25:47" class="time">12:25</a></td></tr>
<tr id="t2019-11-19T12:25:54"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Thanks!</td><td class="time"><a href="#t2019-11-19T12:25:54" class="time">12:25</a></td></tr>
<tr id="t2019-11-19T12:26:39"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">one day we'll do something awesome and lock down writes during builds so do_install can't write into directories it shouldn't be writing into</td><td class="time"><a href="#t2019-11-19T12:26:39" class="time">12:26</a></td></tr>
<tr id="t2019-11-19T12:29:34"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">rburton: And recipe A should DEPENDS on B-native?</td><td class="time"><a href="#t2019-11-19T12:29:34" class="time">12:29</a></td></tr>
<tr id="t2019-11-19T12:30:11"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Or RDEPENDS on B?</td><td class="time"><a href="#t2019-11-19T12:30:11" class="time">12:30</a></td></tr>
<tr id="t2019-11-19T12:30:21"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">jofr: `-native` is not necessary if your data is not architecture specific to your build system :)</td><td class="time"><a href="#t2019-11-19T12:30:21" class="time">12:30</a></td></tr>
<tr id="t2019-11-19T12:30:48"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">jofr: do you need the data to be there, when you want to execute A on the target?</td><td class="time"><a href="#t2019-11-19T12:30:48" class="time">12:30</a></td></tr>
<tr id="t2019-11-19T12:31:20"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Nope. Recipe generates (among other things) a header-file that recipe A uses when building.</td><td class="time"><a href="#t2019-11-19T12:31:20" class="time">12:31</a></td></tr>
<tr id="t2019-11-19T12:31:43"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Nope. Recipe B generates (among other things) a header-file that recipe A uses when building.</td><td class="time"><a href="#t2019-11-19T12:31:43" class="time">12:31</a></td></tr>
<tr id="t2019-11-19T12:32:55"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">It's a bit convoluted, I know. But those artifacts from B are required my more than recipe-A. i.e. there are multiple recipe-A's&nbsp;&nbsp;;)</td><td class="time"><a href="#t2019-11-19T12:32:55" class="time">12:32</a></td></tr>
<tr id="t2019-11-19T12:33:13"><th class="nick" style="background: #488888">T_UNIX</th><td class="text" style="color: #488888">then B should provide and create some `-dev` package and `A` should `DEPEND` on `B` :)</td><td class="time"><a href="#t2019-11-19T12:33:13" class="time">12:33</a></td></tr>
<tr id="t2019-11-19T12:35:06"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">jofr: definitely no native involved</td><td class="time"><a href="#t2019-11-19T12:35:06" class="time">12:35</a></td></tr>
<tr id="t2019-11-19T12:35:56"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">jofr: its not convoluteld: you've a recipe that generates a header.&nbsp;&nbsp;put it in $D$includedir.</td><td class="time"><a href="#t2019-11-19T12:35:56" class="time">12:35</a></td></tr>
<tr id="t2019-11-19T12:36:10"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">you'll then also get a B-dev package for if you want to rebuild A on target for free</td><td class="time"><a href="#t2019-11-19T12:36:10" class="time">12:36</a></td></tr>
<tr id="t2019-11-19T12:37:35"><th class="nick" style="background: #a25555">yocti</th><td class="text" style="color: #a25555">New news from stackoverflow: Yocto recipes not found &lt;<a href="https://stackoverflow.com/questions/57233257/yocto-recipes-not-found&gt;" rel="nofollow">https://stackoverflow.com/questions/57233257/yocto-recipes-not-found&gt;</a></td><td class="time"><a href="#t2019-11-19T12:37:35" class="time">12:37</a></td></tr>
<tr id="t2019-11-19T12:38:09"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Nice. Thanks!</td><td class="time"><a href="#t2019-11-19T12:38:09" class="time">12:38</a></td></tr>
<tr id="t2019-11-19T12:38:36"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Now. A completely different problem.</td><td class="time"><a href="#t2019-11-19T12:38:36" class="time">12:38</a></td></tr>
<tr id="t2019-11-19T12:38:48"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Which I do have a workaround for, but I think it's ugly has hell.</td><td class="time"><a href="#t2019-11-19T12:38:48" class="time">12:38</a></td></tr>
<tr id="t2019-11-19T12:42:26"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">I have a recipe for a custom-package. But I would like to do that build as a part of our CI-system, and that includes building for pull-requests. I'm having some SRC_URI problems, because in that case, the "Git-path" isn't a normal branch (refs/head), but rather a pull-branch (refs/pull). Anyone solved that problem before?</td><td class="time"><a href="#t2019-11-19T12:42:26" class="time">12:42</a></td></tr>
<tr id="t2019-11-19T12:44:44"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">The branch-name (and commit-hash as well actually) is passed as an evironment variable (which I have whitelisted and all that is fine), and I have Python snippet that mangles the SRC_URI to conditionally add the "nobranch=1" if that branch-name starts with "refs/pull".</td><td class="time"><a href="#t2019-11-19T12:44:44" class="time">12:44</a></td></tr>
<tr id="t2019-11-19T12:45:28"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Isn't there a better solution?</td><td class="time"><a href="#t2019-11-19T12:45:28" class="time">12:45</a></td></tr>
<tr id="t2019-11-19T12:47:41"><th class="nick" style="background: #57a657">bigMT1</th><td class="text" style="color: #57a657">Hi All, I am new to this chat. Learning my way in to Yocto (and IRC)</td><td class="time"><a href="#t2019-11-19T12:47:41" class="time">12:47</a></td></tr>
<tr id="t2019-11-19T12:49:44"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Hi, bigMT1 :)</td><td class="time"><a href="#t2019-11-19T12:49:44" class="time">12:49</a></td></tr>
<tr id="t2019-11-19T12:49:53"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">bigMT1: welcome!</td><td class="time"><a href="#t2019-11-19T12:49:53" class="time">12:49</a></td></tr>
<tr id="t2019-11-19T12:53:33"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">rburton: One last question. Recipe B installs its stuff to ${D}${includedir}, but what is the full-path on the other-side, from recipe-A's perspective?</td><td class="time"><a href="#t2019-11-19T12:53:33" class="time">12:53</a></td></tr>
<tr id="t2019-11-19T12:53:56"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">${D} isn't the same on both sides, is it?</td><td class="time"><a href="#t2019-11-19T12:53:56" class="time">12:53</a></td></tr>
<tr id="t2019-11-19T12:54:53"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">(I wish those variables were populated in the -c devshell)</td><td class="time"><a href="#t2019-11-19T12:54:53" class="time">12:54</a></td></tr>
<tr id="t2019-11-19T12:55:49"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">D is Destination</td><td class="time"><a href="#t2019-11-19T12:55:49" class="time">12:55</a></td></tr>
<tr id="t2019-11-19T12:55:53"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">jofr: it's going to be in recipe-sysroot (or recipe-sysroot-native if native package)</td><td class="time"><a href="#t2019-11-19T12:55:53" class="time">12:55</a></td></tr>
<tr id="t2019-11-19T12:55:55"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">when installing, write to D</td><td class="time"><a href="#t2019-11-19T12:55:55" class="time">12:55</a></td></tr>
<tr id="t2019-11-19T12:56:05"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">the include file will just be in the sysroot like every other include file</td><td class="time"><a href="#t2019-11-19T12:56:05" class="time">12:56</a></td></tr>
<tr id="t2019-11-19T12:57:31"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Yes.. But if I have other files where I need to specify their full path?</td><td class="time"><a href="#t2019-11-19T12:57:31" class="time">12:57</a></td></tr>
<tr id="t2019-11-19T12:57:55"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">jofr: IRL example?</td><td class="time"><a href="#t2019-11-19T12:57:55" class="time">12:57</a></td></tr>
<tr id="t2019-11-19T12:58:52"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">(IIRC, a few tools get a --sysroot argument from yocto before executing any stuff on the source code of recipes)</td><td class="time"><a href="#t2019-11-19T12:58:52" class="time">12:58</a></td></tr>
<tr id="t2019-11-19T12:59:38"><th class="nick" style="background: #57a657">bigMT1</th><td class="text" style="color: #57a657">A newbie question i suppose: I have build a default image for a raspberry pi. It boots, but my keyboard does not work. The screen shows messages that identifies the keyboard when I (re-plug) the keyboard in another port. Any suggestions?</td><td class="time"><a href="#t2019-11-19T12:59:38" class="time">12:59</a></td></tr>
<tr id="t2019-11-19T13:01:35"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">jofr: STAGING_DATADIR etc will be the absolute path into the sysroot</td><td class="time"><a href="#t2019-11-19T13:01:35" class="time">13:01</a></td></tr>
<tr id="t2019-11-19T13:01:45"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">bigMT1: missing driver is the kernel</td><td class="time"><a href="#t2019-11-19T13:01:45" class="time">13:01</a></td></tr>
<tr id="t2019-11-19T13:01:49"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">is/in</td><td class="time"><a href="#t2019-11-19T13:01:49" class="time">13:01</a></td></tr>
<tr id="t2019-11-19T13:02:02"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">jofr: note that not everything is in the sysroot by default, ie $datadir isn't included unless you tell it</td><td class="time"><a href="#t2019-11-19T13:02:02" class="time">13:02</a></td></tr>
<tr id="t2019-11-19T13:05:19"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Yeah, I think I should just explain the whole thing. So what I'm messing with is the u-boot-environment. I have an environment specified in a file. Then I have a Python parser that parses that file and makes it nice for a header-file which is then #defined as CONFIG_EXTRA_ENV_SETTINGS in u-boot. So what I used to do was generate that header and then copy it into ${S}/include/configs where ${S} has been defined as the WORKDIR/git for the u</td><td class="time"><a href="#t2019-11-19T13:05:19" class="time">13:05</a></td></tr>
<tr id="t2019-11-19T13:05:19"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">-boot recipes. This header file is used by u-boot, but also for u-boot-fw-utils.</td><td class="time"><a href="#t2019-11-19T13:05:19" class="time">13:05</a></td></tr>
<tr id="t2019-11-19T13:05:19"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Now I've added another dependency on such an output, that one is actually not using the same parser, because the output-format needs to be slightly different, but it mangles the same u-boot-environment to make it compatible for passing to (U-Boot) fw_setenv --script (this can happed at update-time if required). That part actually doesn't need to go anywhere in the sysroot, I can just "deploy" it to the image-folder (similar to some other</td><td class="time"><a href="#t2019-11-19T13:05:19" class="time">13:05</a></td></tr>
<tr id="t2019-11-19T13:05:19"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">final-artifacts).</td><td class="time"><a href="#t2019-11-19T13:05:19" class="time">13:05</a></td></tr>
<tr id="t2019-11-19T13:06:00"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">So, In order not to change my u-boot build too much, I would really like to copy this header to ${S}/include/configs in U-boot..</td><td class="time"><a href="#t2019-11-19T13:06:00" class="time">13:06</a></td></tr>
<tr id="t2019-11-19T13:07:16"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">why don't you use bbappends for U-Boot directly?</td><td class="time"><a href="#t2019-11-19T13:07:16" class="time">13:07</a></td></tr>
<tr id="t2019-11-19T13:09:12"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">put your logic in an .inc shared by both u-boot and u-boot-fw-utils and add them in bbappends so you don't duplicate code. But I feel like I'm suggesting something you didn't want or that is not fixing your issue, what am I missing?</td><td class="time"><a href="#t2019-11-19T13:09:12" class="time">13:09</a></td></tr>
<tr id="t2019-11-19T13:56:56"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">qschulz: That's what I had at first. So I just had a "files" folder and in my bbappend, I copied my files/&lt;custom-board&gt;_defconfig, my files/&lt;custom-board&gt;.h (the one I'm talking about here), etc. into the appropriate places within ${S}. But then me and other people found it so annoying to maintain the &lt;custom-board&gt;.h with the #define CONFIG_EXTRA_ENV_SETTINGS, making sure that the newline-escapes (the "string" \ ) were always ok, etc. S</td><td class="time"><a href="#t2019-11-19T13:56:56" class="time">13:56</a></td></tr>
<tr id="t2019-11-19T13:56:56"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">o I created this parser-thing that takes a nicer input, where the environment can be properly indented and so on and turns it into the string required by #define CONFIG_EXTRA_ENV_SETTINGS.</td><td class="time"><a href="#t2019-11-19T13:56:56" class="time">13:56</a></td></tr>
<tr id="t2019-11-19T13:56:57"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">Now the update-system has gotten a little more complicated than it used to be. The update didn't update u-boot at all, and actually still doesn't, but it may require changes to the u-boot environment. So at build-time, the environment that gets compiled into the new u-boot as the default-environment, also gets output to a file that's compatible with "fw_setenv --script" so it can be used to update the u-boot-environment on the target. Tha</td><td class="time"><a href="#t2019-11-19T13:56:57" class="time">13:56</a></td></tr>
<tr id="t2019-11-19T13:56:57"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">t required another parser, because now instead of doing the "&lt;string&gt;" \ business, it needs to remove newlines from each variable and so on. That environment-file/script then gets released with the update.</td><td class="time"><a href="#t2019-11-19T13:56:57" class="time">13:56</a></td></tr>
<tr id="t2019-11-19T14:01:30"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">So what I have now is a recipe called "u-boot-extra-env-settings(.bb)" and everything that it entails. Then u-boot and u-boot-fw-utils depend on this new recipe, and that's how it now gets its &lt;custom-board&gt;.h file. But, then there's the update system. That's a recipe that creates a "package", which is just a zip-file that consists for the artifacts, a JSON-manifest and a update-shellscript. That recipe required this other output from "u-</td><td class="time"><a href="#t2019-11-19T14:01:30" class="time">14:01</a></td></tr>
<tr id="t2019-11-19T14:01:30"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">boot-extra-env-settings".</td><td class="time"><a href="#t2019-11-19T14:01:30" class="time">14:01</a></td></tr>
<tr id="t2019-11-19T14:03:16"><th class="nick" style="background: #539e9e">jofr</th><td class="text" style="color: #539e9e">s/for the artifacts/of the artifacts/</td><td class="time"><a href="#t2019-11-19T14:03:16" class="time">14:03</a></td></tr>
<tr id="t2019-11-19T14:30:34"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">jofr: find a way for u-boot to take header files from the sysroot, don't copy it from your custom recipe's syrsroot to u-boot icnlude/configs.</td><td class="time"><a href="#t2019-11-19T14:30:34" class="time">14:30</a></td></tr>
<tr id="t2019-11-19T14:31:36"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">jofr: also, maybe you can use your u-boot-extra-env-settings binary as a native tool in your u-boot* recipes and create the header file directly in your u-boot* source code</td><td class="time"><a href="#t2019-11-19T14:31:36" class="time">14:31</a></td></tr>
<tr id="t2019-11-19T14:42:18"><td class="nickchange" colspan="2">*** camus is now known as kaspter</td><td><a href="#t2019-11-19T14:42:18" class="time">14:42</a></td></tr>
<tr id="t2019-11-19T14:52:15"><th class="nick" style="background: #9b519b">hyper_dave</th><td class="text" style="color: #9b519b">Hey everyone, How can I manually trigger the build of a package?</td><td class="time"><a href="#t2019-11-19T14:52:15" class="time">14:52</a></td></tr>
<tr id="t2019-11-19T14:52:28"><th class="nick" style="background: #9b519b">hyper_dave</th><td class="text" style="color: #9b519b">starting from do_fetch</td><td class="time"><a href="#t2019-11-19T14:52:28" class="time">14:52</a></td></tr>
<tr id="t2019-11-19T14:52:59"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">bitbake -C fetch &lt;recipe&gt;</td><td class="time"><a href="#t2019-11-19T14:52:59" class="time">14:52</a></td></tr>
<tr id="t2019-11-19T14:53:39"><th class="nick" style="background: #9b519b">hyper_dave</th><td class="text" style="color: #9b519b">Okay, thanks</td><td class="time"><a href="#t2019-11-19T14:53:39" class="time">14:53</a></td></tr>
<tr id="t2019-11-19T15:02:57"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">just bitbake [recipe] will work unless you want to force a rebuild</td><td class="time"><a href="#t2019-11-19T15:02:57" class="time">15:02</a></td></tr>
<tr id="t2019-11-19T15:03:05"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">in which case -C fetch is the trick</td><td class="time"><a href="#t2019-11-19T15:03:05" class="time">15:03</a></td></tr>
<tr id="t2019-11-19T15:03:35"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">i prefer -C unpack if you don't need to force a re-download</td><td class="time"><a href="#t2019-11-19T15:03:35" class="time">15:03</a></td></tr>
<tr id="t2019-11-19T16:29:14"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">armpit: am I up to date with patch merging for the stable branches?</td><td class="time"><a href="#t2019-11-19T16:29:14" class="time">16:29</a></td></tr>
<tr id="t2019-11-19T16:30:45"><th class="nick" style="background: #adad5b">armpit</th><td class="text" style="color: #adad5b">let me check</td><td class="time"><a href="#t2019-11-19T16:30:45" class="time">16:30</a></td></tr>
<tr id="t2019-11-19T16:31:47"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">armpit: FWIW I want to get this hashequiv fix I'm working on into zeus</td><td class="time"><a href="#t2019-11-19T16:31:47" class="time">16:31</a></td></tr>
<tr id="t2019-11-19T16:32:55"><th class="nick" style="background: #adad5b">armpit</th><td class="text" style="color: #adad5b">RP, you are up to date</td><td class="time"><a href="#t2019-11-19T16:32:55" class="time">16:32</a></td></tr>
<tr id="t2019-11-19T16:33:02"><th class="nick" style="background: #adad5b">armpit</th><td class="text" style="color: #adad5b">k</td><td class="time"><a href="#t2019-11-19T16:33:02" class="time">16:33</a></td></tr>
<tr id="t2019-11-19T16:33:13"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">armpit: great, thanks</td><td class="time"><a href="#t2019-11-19T16:33:13" class="time">16:33</a></td></tr>
<tr id="t2019-11-19T16:41:59"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">adelcast: I was thinking more about the error handling in opkg - I think the "easy" fix may be to leave the collected error code but *also* print it at the time it happens?</td><td class="time"><a href="#t2019-11-19T16:41:59" class="time">16:41</a></td></tr>
<tr id="t2019-11-19T17:49:38"><td class="nickchange" colspan="2">*** bradleyb is now known as radsquirrel</td><td><a href="#t2019-11-19T17:49:38" class="time">17:49</a></td></tr>
<tr id="t2019-11-19T19:29:10"><th class="nick" style="background: #b15db1">fullstop</th><td class="text" style="color: #b15db1">I am trying to be a good citizen when it comes to shared library sonames.&nbsp;&nbsp;Yocto is forcing me to do so, actually.</td><td class="time"><a href="#t2019-11-19T19:29:10" class="time">19:29</a></td></tr>
<tr id="t2019-11-19T19:30:27"><th class="nick" style="background: #b15db1">fullstop</th><td class="text" style="color: #b15db1">In my project I am using opkg.&nbsp;&nbsp;Let's say that a project, bar, links to libfoo.1.2.so.&nbsp;&nbsp;Can I upgrade libfoo to libfoo.1.3.so (which are ABI compatible) without updating all of the packages which depend on libfoo?</td><td class="time"><a href="#t2019-11-19T19:30:27" class="time">19:30</a></td></tr>
<tr id="t2019-11-19T19:30:40"><th class="nick" style="background: #b15db1">fullstop</th><td class="text" style="color: #b15db1">What happens to libfoo.1.2.so when the package is upgraded?</td><td class="time"><a href="#t2019-11-19T19:30:40" class="time">19:30</a></td></tr>
<tr id="t2019-11-19T19:31:59"><th class="nick" style="background: #b15db1">fullstop</th><td class="text" style="color: #b15db1">and, yes, I mean libfoo.so.1.2 etc.</td><td class="time"><a href="#t2019-11-19T19:31:59" class="time">19:31</a></td></tr>
<tr id="t2019-11-19T19:34:54"><th class="nick" style="background: #b15db1">fullstop</th><td class="text" style="color: #b15db1">I see for things like libglib executables link to libglib-2.0.so.0 which is a symlink to a specific version.</td><td class="time"><a href="#t2019-11-19T19:34:54" class="time">19:34</a></td></tr>
<tr id="t2019-11-19T19:35:38"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">if it's compatible, then the new version needs to provide BOTH 1.3 and 1.2 sonames</td><td class="time"><a href="#t2019-11-19T19:35:38" class="time">19:35</a></td></tr>
<tr id="t2019-11-19T19:36:01"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">usual failure is someone releases 1.3, with a 1.2 compatible ABI, but never defines BOTH the 1.3 and 1.2 sonames</td><td class="time"><a href="#t2019-11-19T19:36:01" class="time">19:36</a></td></tr>
<tr id="t2019-11-19T19:36:28"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">the YP build system inspects libraries, and if they're not defined right you will get dependency errors</td><td class="time"><a href="#t2019-11-19T19:36:28" class="time">19:36</a></td></tr>
<tr id="t2019-11-19T19:37:39"><th class="nick" style="background: #b15db1">fullstop</th><td class="text" style="color: #b15db1">I will aim for that</td><td class="time"><a href="#t2019-11-19T19:37:39" class="time">19:37</a></td></tr>
<tr id="t2019-11-19T19:37:56"><th class="nick" style="background: #b15db1">fullstop</th><td class="text" style="color: #b15db1">not the usual failure case, multiple sonames</td><td class="time"><a href="#t2019-11-19T19:37:56" class="time">19:37</a></td></tr>
<tr id="t2019-11-19T19:38:38"><th class="nick" style="background: #b15db1">fullstop</th><td class="text" style="color: #b15db1">does that mean multiple -Wl arguments to ld?</td><td class="time"><a href="#t2019-11-19T19:38:38" class="time">19:38</a></td></tr>
<tr id="t2019-11-19T19:39:30"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">sorry I don't have an example offhand</td><td class="time"><a href="#t2019-11-19T19:39:30" class="time">19:39</a></td></tr>
<tr id="t2019-11-19T19:39:53"><th class="nick" style="background: #b15db1">fullstop</th><td class="text" style="color: #b15db1">darn.&nbsp;&nbsp;I'll dig through recipes I guess.</td><td class="time"><a href="#t2019-11-19T19:39:53" class="time">19:39</a></td></tr>
<tr id="t2019-11-19T19:40:24"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">usuaully not recipe specific, but buried in the upstream code..</td><td class="time"><a href="#t2019-11-19T19:40:24" class="time">19:40</a></td></tr>
<tr id="t2019-11-19T19:40:34"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">but ya, it's multiple -Wl arguments, just don't remember the format offhand</td><td class="time"><a href="#t2019-11-19T19:40:34" class="time">19:40</a></td></tr>
<tr id="t2019-11-19T19:41:20"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">gcc -shared -o libfoo.so.x.y -Wl,-soname,libfoo.so.x some_file.o ...</td><td class="time"><a href="#t2019-11-19T19:41:20" class="time">19:41</a></td></tr>
<tr id="t2019-11-19T19:41:25"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">try specifying -soname multiple times</td><td class="time"><a href="#t2019-11-19T19:41:25" class="time">19:41</a></td></tr>
<tr id="t2019-11-19T19:41:39"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">recipe processing will automatically see this, and setup everything</td><td class="time"><a href="#t2019-11-19T19:41:39" class="time">19:41</a></td></tr>
<tr id="t2019-11-19T19:41:44"><th class="nick" style="background: #b15db1">fullstop</th><td class="text" style="color: #b15db1">I have libraries which, for better or worse, are done in a Makefile.. so I'm the buried upstream code at the moment.&nbsp;&nbsp;:-)</td><td class="time"><a href="#t2019-11-19T19:41:44" class="time">19:41</a></td></tr>
<tr id="t2019-11-19T19:41:51"><th class="nick" style="background: #b15db1">fullstop</th><td class="text" style="color: #b15db1">roger</td><td class="time"><a href="#t2019-11-19T19:41:51" class="time">19:41</a></td></tr>
<tr id="t2019-11-19T20:08:51"><th class="nick" style="background: #a25555">yocti</th><td class="text" style="color: #a25555">New news from stackoverflow: Yocto generated linux modules do not contain all the drivers selected in config &lt;<a href="https://stackoverflow.com/questions/58941714/yocto-generated-linux-modules-do-not-contain-all-the-drivers-selected-in-config&gt;" rel="nofollow">https://stackoverflow.com/questions/58941714/yocto-generated-linux-modules-do-not-contain-all-the-drivers-selected-in-config&gt;</a></td><td class="time"><a href="#t2019-11-19T20:08:51" class="time">20:08</a></td></tr>
<tr id="t2019-11-19T21:39:04"><th class="nick" style="background: #a25555">yocti</th><td class="text" style="color: #a25555">New news from stackoverflow: Unable to add Kernel Module in the final image &lt;<a href="https://stackoverflow.com/questions/58943148/unable-to-add-kernel-module-in-the-final-image&gt;" rel="nofollow">https://stackoverflow.com/questions/58943148/unable-to-add-kernel-module-in-the-final-image&gt;</a></td><td class="time"><a href="#t2019-11-19T21:39:04" class="time">21:39</a></td></tr>
<tr id="t2019-11-19T21:57:30"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">JPEW: an interesting dilemma. How do we clean things out of the hash equiv database when we realise something is broken?</td><td class="time"><a href="#t2019-11-19T21:57:30" class="time">21:57</a></td></tr>
<tr id="t2019-11-19T21:58:00"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Ya, that is a interesting situation</td><td class="time"><a href="#t2019-11-19T21:58:00" class="time">21:58</a></td></tr>
<tr id="t2019-11-19T22:00:09"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Did you run into a problem with that?</td><td class="time"><a href="#t2019-11-19T22:00:09" class="time">22:00</a></td></tr>
<tr id="t2019-11-19T22:01:35"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">JPEW: we have zero size broken packages in the sstate cache :/</td><td class="time"><a href="#t2019-11-19T22:01:35" class="time">22:01</a></td></tr>
<tr id="t2019-11-19T22:01:46"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">I'm just not sure how to clean them out :(</td><td class="time"><a href="#t2019-11-19T22:01:46" class="time">22:01</a></td></tr>
<tr id="t2019-11-19T22:02:14"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">I guess if I remove them the hadhequiv entry is less of an issue than the broken sstate</td><td class="time"><a href="#t2019-11-19T22:02:14" class="time">22:02</a></td></tr>
<tr id="t2019-11-19T22:02:51"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: I would expect so... only another broken package should (theortically) be detected as equivalent</td><td class="time"><a href="#t2019-11-19T22:02:51" class="time">22:02</a></td></tr>
<tr id="t2019-11-19T22:03:47"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">Bump PR on the broken recipes?</td><td class="time"><a href="#t2019-11-19T22:03:47" class="time">22:03</a></td></tr>
<tr id="t2019-11-19T22:04:06"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">JPEW: I don't know exactly which broke :(</td><td class="time"><a href="#t2019-11-19T22:04:06" class="time">22:04</a></td></tr>
<tr id="t2019-11-19T22:04:16"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Ah, well, that won't work then</td><td class="time"><a href="#t2019-11-19T22:04:16" class="time">22:04</a></td></tr>
<tr id="t2019-11-19T22:04:41"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">Are they completely empty?</td><td class="time"><a href="#t2019-11-19T22:04:41" class="time">22:04</a></td></tr>
<tr id="t2019-11-19T22:04:51"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">JPEW: yes, I think so</td><td class="time"><a href="#t2019-11-19T22:04:51" class="time">22:04</a></td></tr>
<tr id="t2019-11-19T22:05:15"><td class="nickchange" colspan="2">*** camus is now known as kaspter</td><td><a href="#t2019-11-19T22:05:15" class="time">22:05</a></td></tr>
<tr id="t2019-11-19T22:05:50"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">JPEW: well, they're packages with no files so they have control data but no actual files</td><td class="time"><a href="#t2019-11-19T22:05:50" class="time">22:05</a></td></tr>
<tr id="t2019-11-19T22:06:02"><th class="nick" style="background: #57a657">bigMT1</th><td class="text" style="color: #57a657">Hi, I am trying to build an image for my Raspberry Pi. Using straightforward the poky warrior, meta-raspberrypi and meta-openembedded. I managed to boot it, it recognizes my keyboard but does not work. It has been suggested to include keyboard drivers to the kernel. How do I do this? Any help appreciated for this newbie.</td><td class="time"><a href="#t2019-11-19T22:06:02" class="time">22:06</a></td></tr>
<tr id="t2019-11-19T22:06:46"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">bigMT1: sounds like you need to change the kernel defconfig and add in the pieces you need, then rebuild</td><td class="time"><a href="#t2019-11-19T22:06:46" class="time">22:06</a></td></tr>
<tr id="t2019-11-19T22:06:47"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Ah, I was thinking that they might all have the same outhash in the hashequiv database, but even if they were completely empty, it still wouldn't be the case because the outhash has a few recipes specific vars hashed in</td><td class="time"><a href="#t2019-11-19T22:06:47" class="time">22:06</a></td></tr>
<tr id="t2019-11-19T22:07:26"><th class="nick" style="background: #57a657">bigMT1</th><td class="text" style="color: #57a657">RP: Do you have an example or a link at hand?</td><td class="time"><a href="#t2019-11-19T22:07:26" class="time">22:07</a></td></tr>
<tr id="t2019-11-19T22:07:54"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">bigMT1: I'm afraid not</td><td class="time"><a href="#t2019-11-19T22:07:54" class="time">22:07</a></td></tr>
<tr id="t2019-11-19T22:08:04"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">JPEW: right, its not a simple issue :/</td><td class="time"><a href="#t2019-11-19T22:08:04" class="time">22:08</a></td></tr>
<tr id="t2019-11-19T22:08:49"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Anyway, I still think that the hashequiv part isn't a huge deal... it would only match in the event you re-created that same output anyway (which seems unlikely).</td><td class="time"><a href="#t2019-11-19T22:08:49" class="time">22:08</a></td></tr>
<tr id="t2019-11-19T22:09:11"><th class="nick" style="background: #b86161">vam52</th><td class="text" style="color: #b86161">Hi all, does anyone know why attr depends on kernel?</td><td class="time"><a href="#t2019-11-19T22:09:11" class="time">22:09</a></td></tr>
<tr id="t2019-11-19T22:09:23"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">The other option is to delete all hashequiv recipes for the broken recipes (assuming you can find which they are, which appears the be the bigger problem)</td><td class="time"><a href="#t2019-11-19T22:09:23" class="time">22:09</a></td></tr>
<tr id="t2019-11-19T22:12:49"><th class="nick" style="background: #b86161">vam52</th><td class="text" style="color: #b86161">"attr.do_build" -&gt; "linux-yocto.do_deploy"</td><td class="time"><a href="#t2019-11-19T22:12:49" class="time">22:12</a></td></tr>
<tr id="t2019-11-19T22:12:56"><th class="nick" style="background: #b86161">vam52</th><td class="text" style="color: #b86161">it is not clear from the recipe =\</td><td class="time"><a href="#t2019-11-19T22:12:56" class="time">22:12</a></td></tr>
<tr id="t2019-11-19T22:14:22"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">JPEW: what is worrying me is how this problem persisted over some changes :/</td><td class="time"><a href="#t2019-11-19T22:14:22" class="time">22:14</a></td></tr>
<tr id="t2019-11-19T22:14:37"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">something isn't adding up</td><td class="time"><a href="#t2019-11-19T22:14:37" class="time">22:14</a></td></tr>
<tr id="t2019-11-19T22:14:52"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Was it undetected?</td><td class="time"><a href="#t2019-11-19T22:14:52" class="time">22:14</a></td></tr>
<tr id="t2019-11-19T22:17:15"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">JPEW: I added some tests to do_package so empty packages are detected. I'm assuming I fixed the hash equiv runqueue issue that generated them. I guess I should change it again to make it error, that should invalidate all hashes. I guess it means there is still a latent runqueue bug</td><td class="time"><a href="#t2019-11-19T22:17:15" class="time">22:17</a></td></tr>
<tr id="t2019-11-19T22:17:29"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">too many different issues at once :(</td><td class="time"><a href="#t2019-11-19T22:17:29" class="time">22:17</a></td></tr>
<tr id="t2019-11-19T22:20:58"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: 59b7001767d ("bitbake: runqueue: Fix hash equivalence duplicate tasks running") ?</td><td class="time"><a href="#t2019-11-19T22:20:58" class="time">22:20</a></td></tr>
<tr id="t2019-11-19T22:21:36"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">I *think* that change won't cause the taskhashes to change, meaning the hashequivalence server won't know the hashes are equivalent.</td><td class="time"><a href="#t2019-11-19T22:21:36" class="time">22:21</a></td></tr>
<tr id="t2019-11-19T22:21:47"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">*aren't equivalent</td><td class="time"><a href="#t2019-11-19T22:21:47" class="time">22:21</a></td></tr>
<tr id="t2019-11-19T22:24:20"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">JPEW: That won't but the package.bbclass change in OE-Core will</td><td class="time"><a href="#t2019-11-19T22:24:20" class="time">22:24</a></td></tr>
<tr id="t2019-11-19T22:30:42"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Sorry, I have to go :( You might be able to find the taskhashes before and after than change in the database and validate that they do indeed have distinct outhashes?</td><td class="time"><a href="#t2019-11-19T22:30:42" class="time">22:30</a></td></tr>
<tr id="t2019-11-19T22:36:39"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">JPEW: np, thanks. I need to think further about what is going on I guess</td><td class="time"><a href="#t2019-11-19T22:36:39" class="time">22:36</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-11-18.log.html">&#171; Monday, 2019-11-18</a> <a href="index.html">Index</a> <a href="%23yocto.2019-11-20.log.html">Wednesday, 2019-11-20 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
