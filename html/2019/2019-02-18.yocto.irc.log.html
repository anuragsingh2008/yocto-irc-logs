<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Monday, 2019-02-18</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Monday, 2019-02-18</h1>
<div class="navigation"> <a href="%23yocto.2019-02-17.log.html">&#171; Sunday, 2019-02-17</a> <a href="index.html">Index</a> <a href="%23yocto.2019-02-19.log.html">Tuesday, 2019-02-19 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-02-18T01:07:04"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">what would cause a problem with connecting to the bitback server</td><td class="time"><a href="#t2019-02-18T01:07:04" class="time">01:07</a></td></tr>
<tr id="t2019-02-18T01:07:18"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">or rather <a href="http://codepad.org/hKh0Bti2" rel="nofollow">http://codepad.org/hKh0Bti2</a></td><td class="time"><a href="#t2019-02-18T01:07:18" class="time">01:07</a></td></tr>
<tr id="t2019-02-18T01:54:05"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">what would cause "ERROR: Unable to connect to bitbake server, or start one"</td><td class="time"><a href="#t2019-02-18T01:54:05" class="time">01:54</a></td></tr>
<tr id="t2019-02-18T01:54:32"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">the most obvious is that you cant connect</td><td class="time"><a href="#t2019-02-18T01:54:32" class="time">01:54</a></td></tr>
<tr id="t2019-02-18T02:08:06"><th class="nick" style="background: #407a40">black_13</th><td class="text" style="color: #407a40">the reason is that i was build in a shared directory</td><td class="time"><a href="#t2019-02-18T02:08:06" class="time">02:08</a></td></tr>
<tr id="t2019-02-18T07:35:12"><th class="nick" style="background: #42427e">lukma</th><td class="text" style="color: #42427e">Is there any way to see arguments of nested functions (either with bash/python) without the need to recompile everything?</td><td class="time"><a href="#t2019-02-18T07:35:12" class="time">07:35</a></td></tr>
<tr id="t2019-02-18T07:35:52"><th class="nick" style="background: #42427e">lukma</th><td class="text" style="color: #42427e">For example the staging.bbclass</td><td class="time"><a href="#t2019-02-18T07:35:52" class="time">07:35</a></td></tr>
<tr id="t2019-02-18T07:36:24"><th class="nick" style="background: #42427e">lukma</th><td class="text" style="color: #42427e">we do have in it: python路do_populate_sysroot -&gt; bb.build.exec_func("sysroot_stage_all",路d) -&gt; sysroot_stage_dirs路${D}路${SYSROOT_DESTDIR}$</td><td class="time"><a href="#t2019-02-18T07:36:24" class="time">07:36</a></td></tr>
<tr id="t2019-02-18T07:36:49"><th class="nick" style="background: #42427e">lukma</th><td class="text" style="color: #42427e">In the debug (-v) I only see the "sysroot_stage_all" executed</td><td class="time"><a href="#t2019-02-18T07:36:49" class="time">07:36</a></td></tr>
<tr id="t2019-02-18T07:37:01"><th class="nick" style="background: #42427e">lukma</th><td class="text" style="color: #42427e">but no functions nested</td><td class="time"><a href="#t2019-02-18T07:37:01" class="time">07:37</a></td></tr>
<tr id="t2019-02-18T07:37:12"><th class="nick" style="background: #42427e">lukma</th><td class="text" style="color: #42427e">If I add bb.note() then I do need to rebuild everything</td><td class="time"><a href="#t2019-02-18T07:37:12" class="time">07:37</a></td></tr>
<tr id="t2019-02-18T07:37:28"><th class="nick" style="background: #42427e">lukma</th><td class="text" style="color: #42427e">is there any switch which would allow me to see the arguments?</td><td class="time"><a href="#t2019-02-18T07:37:28" class="time">07:37</a></td></tr>
<tr id="t2019-02-18T07:37:37"><th class="nick" style="background: #42427e">lukma</th><td class="text" style="color: #42427e">(-DD neither -v is not working)</td><td class="time"><a href="#t2019-02-18T07:37:37" class="time">07:37</a></td></tr>
<tr id="t2019-02-18T08:19:33"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2019-02-18T08:19:33" class="time">08:19</a></td></tr>
<tr id="t2019-02-18T08:24:01"><td class="part" colspan="2">*** prabhakarlad &lt;prabhakarlad!~prabhakar@194.75.40.178&gt; has left #yocto</td><td><a href="#t2019-02-18T08:24:01" class="time">08:24</a></td></tr>
<tr id="t2019-02-18T08:32:31"><td class="part" colspan="2">*** jofr &lt;jofr!~jofr@193.182.166.3&gt; has left #yocto</td><td><a href="#t2019-02-18T08:32:31" class="time">08:32</a></td></tr>
<tr id="t2019-02-18T09:19:56"><th class="nick" style="background: #818144">willie_</th><td class="text" style="color: #818144">Hello, Is it possible to modify splash screen more than just to change the image with psplash?</td><td class="time"><a href="#t2019-02-18T09:19:56" class="time">09:19</a></td></tr>
<tr id="t2019-02-18T09:20:13"><th class="nick" style="background: #818144">willie_</th><td class="text" style="color: #818144">I would like to turn image + load bar upside down but i have so far been unable</td><td class="time"><a href="#t2019-02-18T09:20:13" class="time">09:20</a></td></tr>
<tr id="t2019-02-18T09:20:50"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">willie_: its a very simple piece of code so I suspect it is possible but you'd have to edit it</td><td class="time"><a href="#t2019-02-18T09:20:50" class="time">09:20</a></td></tr>
<tr id="t2019-02-18T09:22:03"><th class="nick" style="background: #818144">willie_</th><td class="text" style="color: #818144">thanks RP, are you refering to the "make-image-header" script? I'll have a look at it :)</td><td class="time"><a href="#t2019-02-18T09:22:03" class="time">09:22</a></td></tr>
<tr id="t2019-02-18T09:24:13"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">kanavin: RP told me to talk to you about this.</td><td class="time"><a href="#t2019-02-18T09:24:13" class="time">09:24</a></td></tr>
<tr id="t2019-02-18T09:24:22"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">kanavin: I think I found an issue concerning .pyc files in both the 3.5.x and the new 3.7.2 recipes: The file modification timestamp in the .pyc files lags behind the file filestamp of the actual .py files and thus precompiling them is of no use.</td><td class="time"><a href="#t2019-02-18T09:24:22" class="time">09:24</a></td></tr>
<tr id="t2019-02-18T09:25:15"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: I know you looked at this, I can't remember what the conclusion was though</td><td class="time"><a href="#t2019-02-18T09:25:15" class="time">09:25</a></td></tr>
<tr id="t2019-02-18T09:25:55"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">willie_: you'd also have to look at the code drawing the progress bar as it would need to be rotated too</td><td class="time"><a href="#t2019-02-18T09:25:55" class="time">09:25</a></td></tr>
<tr id="t2019-02-18T09:41:27"><th class="nick" style="background: #818144">willie_</th><td class="text" style="color: #818144">@RP, turns out i could simply edit the init file!</td><td class="time"><a href="#t2019-02-18T09:41:27" class="time">09:41</a></td></tr>
<tr id="t2019-02-18T09:49:34"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2019-02-18T09:49:34" class="time">09:49</a></td></tr>
<tr id="t2019-02-18T10:12:13"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">tristanram_, RP: I compared the .pyc files between two multilib installations, but I did not compare the timestamps vs the original .py files, assuming that python installation would take care of them being right</td><td class="time"><a href="#t2019-02-18T10:12:13" class="time">10:12</a></td></tr>
<tr id="t2019-02-18T10:13:24"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">tristanram_, if you have a reproducer for the issue, we could take a look</td><td class="time"><a href="#t2019-02-18T10:13:24" class="time">10:13</a></td></tr>
<tr id="t2019-02-18T10:14:04"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">kanavin: could it be that during the packaging process or some late build stage the .py files are copied around and thus the mtime changed?</td><td class="time"><a href="#t2019-02-18T10:14:04" class="time">10:14</a></td></tr>
<tr id="t2019-02-18T10:14:43"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">kanavin: Also, where are the .pyc generated in the python3 recipe? For python2.7 it was in distutils.bbclass i think</td><td class="time"><a href="#t2019-02-18T10:14:43" class="time">10:14</a></td></tr>
<tr id="t2019-02-18T10:14:53"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">tristanram_, I don't know to be honest :)</td><td class="time"><a href="#t2019-02-18T10:14:53" class="time">10:14</a></td></tr>
<tr id="t2019-02-18T10:15:42"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">my goal was to make builds green and tests (including on-target ones) pass, I only looked into what is going on when there were issues :)</td><td class="time"><a href="#t2019-02-18T10:15:42" class="time">10:15</a></td></tr>
<tr id="t2019-02-18T10:15:55"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">with this, there were no visible issues and so I didn't look</td><td class="time"><a href="#t2019-02-18T10:15:55" class="time">10:15</a></td></tr>
<tr id="t2019-02-18T10:20:44"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">kanavin: RP told me on #oe that there are no tests to check those .pyc files.</td><td class="time"><a href="#t2019-02-18T10:20:44" class="time">10:20</a></td></tr>
<tr id="t2019-02-18T10:20:58"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">I don't think so. Can you write one?</td><td class="time"><a href="#t2019-02-18T10:20:58" class="time">10:20</a></td></tr>
<tr id="t2019-02-18T10:21:18"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">how did you discover the issue?</td><td class="time"><a href="#t2019-02-18T10:21:18" class="time">10:21</a></td></tr>
<tr id="t2019-02-18T10:22:45"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">kanavin: Possibly, but first I would have to find out where those .pyc files are generated, why the mtime of the .py files changed since the .pyc creation and fix that. Else you would just have a test which would always fail.</td><td class="time"><a href="#t2019-02-18T10:22:45" class="time">10:22</a></td></tr>
<tr id="t2019-02-18T10:23:46"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">kanavin: I most use a readonly rfs. I recently started python in verbose (python3 -vv -c"") to check where the long interpreter startup time might some from.</td><td class="time"><a href="#t2019-02-18T10:23:46" class="time">10:23</a></td></tr>
<tr id="t2019-02-18T10:24:18"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">kanavin: I was able to spot many messages like "bytecode is stale for 'site'"</td><td class="time"><a href="#t2019-02-18T10:24:18" class="time">10:24</a></td></tr>
<tr id="t2019-02-18T10:24:27"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">tristanram_, ah, right.</td><td class="time"><a href="#t2019-02-18T10:24:27" class="time">10:24</a></td></tr>
<tr id="t2019-02-18T10:25:42"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">Since my rfs is readonly, I have them everytime. Python3 of course works, but I think it always tries to compile py to pyc only then to find out that the rfs is readonly: '/usr/lib/python3.7/__pycache__/site.cpython-37.pyc': OSError(30, 'Read-only file system')</td><td class="time"><a href="#t2019-02-18T10:25:42" class="time">10:25</a></td></tr>
<tr id="t2019-02-18T10:26:27"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">kanavin: As my focus is on fast boot time, I think it would be better if the .pyc files where actually not stale</td><td class="time"><a href="#t2019-02-18T10:26:27" class="time">10:26</a></td></tr>
<tr id="t2019-02-18T10:26:56"><td class="part" colspan="2">*** TafThorne &lt;TafThorne!~thomas@158.255.10.131&gt; has left #yocto</td><td><a href="#t2019-02-18T10:26:56" class="time">10:26</a></td></tr>
<tr id="t2019-02-18T10:28:03"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">kanavin: Can I be of any assistance with helping you to recreate this issue on your side?</td><td class="time"><a href="#t2019-02-18T10:28:03" class="time">10:28</a></td></tr>
<tr id="t2019-02-18T10:28:41"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: the trouble is we're rather constrained on people with time to look into things like this :(</td><td class="time"><a href="#t2019-02-18T10:28:41" class="time">10:28</a></td></tr>
<tr id="t2019-02-18T10:29:00"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">tristanram_, I cannot promise I will solve it in good time. Too much on my plate.</td><td class="time"><a href="#t2019-02-18T10:29:00" class="time">10:29</a></td></tr>
<tr id="t2019-02-18T10:29:30"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: We definitely should have a bug opened for it but I know we're struggling to find people with time to work on such things :(</td><td class="time"><a href="#t2019-02-18T10:29:30" class="time">10:29</a></td></tr>
<tr id="t2019-02-18T10:31:43"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">tristanram_, obviously we would greatly appreciate any help from you, but the optimal way is that you look into the issue, and devise a solution and a regression test. I can promise that anything you send will be reviewed promptly :)</td><td class="time"><a href="#t2019-02-18T10:31:43" class="time">10:31</a></td></tr>
<tr id="t2019-02-18T10:33:50"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">kanavin, RP: I can try to have a look at it as one of my sideprojects :). Should I open an issue on <a href="https://bugzilla.yoctoproject.org" rel="nofollow">https://bugzilla.yoctoproject.org</a> for this?</td><td class="time"><a href="#t2019-02-18T10:33:50" class="time">10:33</a></td></tr>
<tr id="t2019-02-18T10:34:33"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: yes please, we should track it</td><td class="time"><a href="#t2019-02-18T10:34:33" class="time">10:34</a></td></tr>
<tr id="t2019-02-18T10:37:41"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">kanavin, RP: Ok, I will open an issue then. If I start looking into it, I would start looking into to packaging process. I did not yet look into the packaging process. Where can I find any kind of documentation on how the build output is processed and then lands in the image at the very end?</td><td class="time"><a href="#t2019-02-18T10:37:41" class="time">10:37</a></td></tr>
<tr id="t2019-02-18T10:38:28"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: Not to be funny, but the manuals?</td><td class="time"><a href="#t2019-02-18T10:38:28" class="time">10:38</a></td></tr>
<tr id="t2019-02-18T10:39:30"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: basially do_install is run under a fakeroot environment called pseudo, do_package (package.bbclass) does lots of processing of the files including splitting into packages, then do_package_write_XXX writes out the package</td><td class="time"><a href="#t2019-02-18T10:39:30" class="time">10:39</a></td></tr>
<tr id="t2019-02-18T10:39:44"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: the image is then built from the packages</td><td class="time"><a href="#t2019-02-18T10:39:44" class="time">10:39</a></td></tr>
<tr id="t2019-02-18T10:40:18"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: so first step is to look at the contents of the packages and see if the times match inside those. That would then be a rootfs or packaging issue depending on what you fine</td><td class="time"><a href="#t2019-02-18T10:40:18" class="time">10:40</a></td></tr>
<tr id="t2019-02-18T10:40:21"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">find</td><td class="time"><a href="#t2019-02-18T10:40:21" class="time">10:40</a></td></tr>
<tr id="t2019-02-18T10:43:01"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">RP: The manuals would have been among the first thinks I checked. But I just asked because there might be some "hidden" comment-based-doc in some bbclass that you might know of by heart ;)</td><td class="time"><a href="#t2019-02-18T10:43:01" class="time">10:43</a></td></tr>
<tr id="t2019-02-18T10:44:01"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: Our manuals are pretty comprehensive, to the point you may struggle to find the info you want. That's partly why I gave you a set of keywords above</td><td class="time"><a href="#t2019-02-18T10:44:01" class="time">10:44</a></td></tr>
<tr id="t2019-02-18T11:12:42"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">Greetings! I've built a GTK3 app, and integrated it in an image i cloned from core-weston (which includes gtk3-demo) : it goes into segfault as soon as it is done building the template</td><td class="time"><a href="#t2019-02-18T11:12:42" class="time">11:12</a></td></tr>
<tr id="t2019-02-18T11:12:51"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">The same code works on the host</td><td class="time"><a href="#t2019-02-18T11:12:51" class="time">11:12</a></td></tr>
<tr id="t2019-02-18T11:15:39"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">RP: Ok here is the issue <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=13186" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=13186</a></td><td class="time"><a href="#t2019-02-18T11:15:39" class="time">11:15</a></td></tr>
<tr id="t2019-02-18T11:15:40"><th class="nick" style="background: #4d4d93">yocti</th><td class="text" style="color: #4d4d93">Bug 13186: normal, Undecided, ---, paul.eggleton, NEW , Precompiled python3 bytecode is stale</td><td class="time"><a href="#t2019-02-18T11:15:40" class="time">11:15</a></td></tr>
<tr id="t2019-02-18T11:16:24"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">RP: It might also be possible to make use of the new python 3.7 hash based byte code invalidation mode</td><td class="time"><a href="#t2019-02-18T11:16:24" class="time">11:16</a></td></tr>
<tr id="t2019-02-18T11:17:17"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: kanavin mentioned that, we worried it meant a lot of startup overhead hashing files though</td><td class="time"><a href="#t2019-02-18T11:17:17" class="time">11:17</a></td></tr>
<tr id="t2019-02-18T11:18:15"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">RP: Yes, that's what I would be worried too. Even if the hash method is blake2, it might take quite some time to read every file.</td><td class="time"><a href="#t2019-02-18T11:18:15" class="time">11:18</a></td></tr>
<tr id="t2019-02-18T11:18:51"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">RP: But for "readonly" rfs, UNCHECKED_HASH might be the best solution</td><td class="time"><a href="#t2019-02-18T11:18:51" class="time">11:18</a></td></tr>
<tr id="t2019-02-18T11:19:26"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: we don't know a given python is going to end up on a readonly rootfs in advance. Can you set that somewhere at runtime?</td><td class="time"><a href="#t2019-02-18T11:19:26" class="time">11:19</a></td></tr>
<tr id="t2019-02-18T11:20:10"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">RP: I know in my case: EXTRA_IMAGE_FEATURES = "read-only-rootfs"</td><td class="time"><a href="#t2019-02-18T11:20:10" class="time">11:20</a></td></tr>
<tr id="t2019-02-18T11:20:43"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">RP: Why not just check if "read-only-rootfs" is set?</td><td class="time"><a href="#t2019-02-18T11:20:43" class="time">11:20</a></td></tr>
<tr id="t2019-02-18T11:20:51"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: right, but what I mean is can the rootfs code tweak the python to use UNCHECKED_HASH</td><td class="time"><a href="#t2019-02-18T11:20:51" class="time">11:20</a></td></tr>
<tr id="t2019-02-18T11:21:50"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">RP: Ah, is the EXTRA_IMAGE_FEATURES not globally available?</td><td class="time"><a href="#t2019-02-18T11:21:50" class="time">11:21</a></td></tr>
<tr id="t2019-02-18T11:22:07"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: we don't build a custom python for each image! :)</td><td class="time"><a href="#t2019-02-18T11:22:07" class="time">11:22</a></td></tr>
<tr id="t2019-02-18T11:24:17"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">RP: Hmm ok, I see. Maybe my world is just too small with only my one image ;).</td><td class="time"><a href="#t2019-02-18T11:24:17" class="time">11:24</a></td></tr>
<tr id="t2019-02-18T12:18:21"><th class="nick" style="background: #97974f">sergius_lane</th><td class="text" style="color: #97974f"><a href="https://downloadlagu-mp3.club/" rel="nofollow">https://downloadlagu-mp3.club/</a></td><td class="time"><a href="#t2019-02-18T12:18:21" class="time">12:18</a></td></tr>
<tr id="t2019-02-18T13:05:04"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: btw, did I do the right thing in <a href="http://git.yoctoproject.org/cgit.cgi/poky/commit/?id=c29ec9bf57486018e61ea90fb9314fbb76879eac" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky/commit/?id=c29ec9bf57486018e61ea90fb9314fbb76879eac</a> ? Not sure its quite showing up in the rrs as we'd want?</td><td class="time"><a href="#t2019-02-18T13:05:04" class="time">13:05</a></td></tr>
<tr id="t2019-02-18T13:06:08"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: at least from the AUH perspective it's right, it will skip the recipe from now on</td><td class="time"><a href="#t2019-02-18T13:06:08" class="time">13:06</a></td></tr>
<tr id="t2019-02-18T13:06:38"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: I wasn't sure if that was the right variable to use...</td><td class="time"><a href="#t2019-02-18T13:06:38" class="time">13:06</a></td></tr>
<tr id="t2019-02-18T13:08:13"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: we have it in several recipes in oe-core</td><td class="time"><a href="#t2019-02-18T13:08:13" class="time">13:08</a></td></tr>
<tr id="t2019-02-18T13:09:21"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: that is fine, just wanted to check, thanks</td><td class="time"><a href="#t2019-02-18T13:09:21" class="time">13:09</a></td></tr>
<tr id="t2019-02-18T13:24:01"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/15/builds/532" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/15/builds/532</a> :(</td><td class="time"><a href="#t2019-02-18T13:24:01" class="time">13:24</a></td></tr>
<tr id="t2019-02-18T13:37:03"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">RP: Timestamp in "tmp-glibc/work/cortexa7hf-neon-vfpv4-oe-linux-gnueabi/python3/3.7.2-r0/image" are correct but timestamps in the tar and ubifs are newer</td><td class="time"><a href="#t2019-02-18T13:37:03" class="time">13:37</a></td></tr>
<tr id="t2019-02-18T13:39:49"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">tristanram_, next step is to check the timestamps in packages/ and package-split/</td><td class="time"><a href="#t2019-02-18T13:39:49" class="time">13:39</a></td></tr>
<tr id="t2019-02-18T13:40:32"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">kanavin: those are also correct. Whats the next step?</td><td class="time"><a href="#t2019-02-18T13:40:32" class="time">13:40</a></td></tr>
<tr id="t2019-02-18T13:44:55"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">tristanram_, check the content of actual package files in deploy-*/</td><td class="time"><a href="#t2019-02-18T13:44:55" class="time">13:44</a></td></tr>
<tr id="t2019-02-18T13:45:16"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">you can usually 'unpack' those from the command line, not sure what package format are you using</td><td class="time"><a href="#t2019-02-18T13:45:16" class="time">13:45</a></td></tr>
<tr id="t2019-02-18T13:46:00"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">tristanram_, or you can skip to the do_rootfs step for your image and see what gets written to the rootfs/ directory in the image's ${WORKDIR}</td><td class="time"><a href="#t2019-02-18T13:46:00" class="time">13:46</a></td></tr>
<tr id="t2019-02-18T13:48:02"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">kanavin: ok, I will take a ipk from the deploy folder and check its contents next</td><td class="time"><a href="#t2019-02-18T13:48:02" class="time">13:48</a></td></tr>
<tr id="t2019-02-18T13:49:07"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: that's a centos 7 specific failure, I'll grab lunch and get back to it</td><td class="time"><a href="#t2019-02-18T13:49:07" class="time">13:49</a></td></tr>
<tr id="t2019-02-18T13:50:20"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: ar -x should "open" the ipk, its like a deb</td><td class="time"><a href="#t2019-02-18T13:50:20" class="time">13:50</a></td></tr>
<tr id="t2019-02-18T14:00:01"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">RP, kanavin: Ty, timestamp is altered in the extracted ipk</td><td class="time"><a href="#t2019-02-18T14:00:01" class="time">14:00</a></td></tr>
<tr id="t2019-02-18T14:00:54"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">RP, kanavin: image: ok, package: ok, package-split: ok, ipk: nok</td><td class="time"><a href="#t2019-02-18T14:00:54" class="time">14:00</a></td></tr>
<tr id="t2019-02-18T14:03:48"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: ok, that means its something to do with opkg-build in package_ipk.bbclass</td><td class="time"><a href="#t2019-02-18T14:03:48" class="time">14:03</a></td></tr>
<tr id="t2019-02-18T14:05:56"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: looking at opkg-build in the opkg-utils-native recipe, its using --mtime=@$build_date</td><td class="time"><a href="#t2019-02-18T14:05:56" class="time">14:05</a></td></tr>
<tr id="t2019-02-18T14:06:00"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">(to tar)</td><td class="time"><a href="#t2019-02-18T14:06:00" class="time">14:06</a></td></tr>
<tr id="t2019-02-18T14:07:44"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">RP: the mtime argument would explain the different timestamps</td><td class="time"><a href="#t2019-02-18T14:07:44" class="time">14:07</a></td></tr>
<tr id="t2019-02-18T14:08:08"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: yes. I think this is an effort to make it reproducible which has broken the python embedded timestamp</td><td class="time"><a href="#t2019-02-18T14:08:08" class="time">14:08</a></td></tr>
<tr id="t2019-02-18T14:11:20"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: nice thing is its a shell script so you could hack it easily</td><td class="time"><a href="#t2019-02-18T14:11:20" class="time">14:11</a></td></tr>
<tr id="t2019-02-18T14:15:50"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">RP: i could add a patch for opkg-build in my layer</td><td class="time"><a href="#t2019-02-18T14:15:50" class="time">14:15</a></td></tr>
<tr id="t2019-02-18T14:18:14"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">RP: I'm gonna try that and see if it works for me. But I'm thinking about a less hacky fix</td><td class="time"><a href="#t2019-02-18T14:18:14" class="time">14:18</a></td></tr>
<tr id="t2019-02-18T14:19:06"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: I don't think that --mtime option should be being applied to data.tar.gz, only the control one</td><td class="time"><a href="#t2019-02-18T14:19:06" class="time">14:19</a></td></tr>
<tr id="t2019-02-18T14:19:45"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: I'm hoping Alejandro, the opkg maintainer is around later. You could put the details in the bug and cc him there</td><td class="time"><a href="#t2019-02-18T14:19:45" class="time">14:19</a></td></tr>
<tr id="t2019-02-18T14:20:34"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">So, a GTK app runs perfectly with a simple scp to a fresh-minted Debian 9 VM, will segfault on Yocto in spite of any added library. Any hint on how to debug this?</td><td class="time"><a href="#t2019-02-18T14:20:34" class="time">14:20</a></td></tr>
<tr id="t2019-02-18T14:21:10"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">sk_tandt, with gdb?</td><td class="time"><a href="#t2019-02-18T14:21:10" class="time">14:21</a></td></tr>
<tr id="t2019-02-18T14:21:16"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">sk_tandt: 1) use proper toolchain 2) use proper toolchain 3) use proper toolchain :)</td><td class="time"><a href="#t2019-02-18T14:21:16" class="time">14:21</a></td></tr>
<tr id="t2019-02-18T14:21:24"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: it was a recent change: <a href="http://git.yoctoproject.org/cgit.cgi/opkg-utils/commit/?id=682f8c5e35b8854a9bb858b8ee1714d27e0c00db" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/opkg-utils/commit/?id=682f8c5e35b8854a9bb858b8ee1714d27e0c00db</a></td><td class="time"><a href="#t2019-02-18T14:21:24" class="time">14:21</a></td></tr>
<tr id="t2019-02-18T14:21:35"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">er, a year ago even :/</td><td class="time"><a href="#t2019-02-18T14:21:35" class="time">14:21</a></td></tr>
<tr id="t2019-02-18T14:21:36"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">sk_tandt: besides that, strace, and check that you are using a proper toolchain :)</td><td class="time"><a href="#t2019-02-18T14:21:36" class="time">14:21</a></td></tr>
<tr id="t2019-02-18T14:21:49"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">RP: Oh, nice in that case it might be fixable this way. I will update the issue in bugzilla</td><td class="time"><a href="#t2019-02-18T14:21:49" class="time">14:21</a></td></tr>
<tr id="t2019-02-18T14:23:25"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">LetoThe2nd, proper toolchain?</td><td class="time"><a href="#t2019-02-18T14:23:25" class="time">14:23</a></td></tr>
<tr id="t2019-02-18T14:26:58"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">sk_tandt: -&gt; the toolchain that matches the image on the target in use, specifically its ABI</td><td class="time"><a href="#t2019-02-18T14:26:58" class="time">14:26</a></td></tr>
<tr id="t2019-02-18T14:27:50"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">sk_tandt: thats why there are ways to create an sdk/esdk</td><td class="time"><a href="#t2019-02-18T14:27:50" class="time">14:27</a></td></tr>
<tr id="t2019-02-18T14:28:56"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">I'm afraid I'm not following: I suppose that has a purpose only for debugging, right?</td><td class="time"><a href="#t2019-02-18T14:28:56" class="time">14:28</a></td></tr>
<tr id="t2019-02-18T14:29:27"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">sk_tandt: no. it has a purpose specifically to compile for the target</td><td class="time"><a href="#t2019-02-18T14:29:27" class="time">14:29</a></td></tr>
<tr id="t2019-02-18T14:33:43"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">Mh, then I'm afraid I'm missing something. Once I've set a machine (Say, qemux86-64), added necessary layers and added packages with IMAGE_INSTALL entries, isn't everything in place?</td><td class="time"><a href="#t2019-02-18T14:33:43" class="time">14:33</a></td></tr>
<tr id="t2019-02-18T14:34:07"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">sk_tandt, how did you build the binary?</td><td class="time"><a href="#t2019-02-18T14:34:07" class="time">14:34</a></td></tr>
<tr id="t2019-02-18T14:34:10"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">for your app?</td><td class="time"><a href="#t2019-02-18T14:34:10" class="time">14:34</a></td></tr>
<tr id="t2019-02-18T14:34:21"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">sk_tandt: the point is rather: where are you compiling? using which toolchain, provided by whom? which headers for the libraries?</td><td class="time"><a href="#t2019-02-18T14:34:21" class="time">14:34</a></td></tr>
<tr id="t2019-02-18T14:35:21"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">sk_tandt: thats exactly why you can use -c populate_sdk to generate a toolchain that comes with the sysroot matching the image.</td><td class="time"><a href="#t2019-02-18T14:35:21" class="time">14:35</a></td></tr>
<tr id="t2019-02-18T14:35:28"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">kanavin, I've added DEPENDS += "gtk+3"</td><td class="time"><a href="#t2019-02-18T14:35:28" class="time">14:35</a></td></tr>
<tr id="t2019-02-18T14:38:02"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">LetoThe2nd, I was following the Yocto Quick Build guide, but I'm starting to assume that isn't viable?</td><td class="time"><a href="#t2019-02-18T14:38:02" class="time">14:38</a></td></tr>
<tr id="t2019-02-18T14:38:46"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">sk_tandt: the quick build guide is good, but you are still not telling us how you are building what, and how it relates to that debian vm you mentioned</td><td class="time"><a href="#t2019-02-18T14:38:46" class="time">14:38</a></td></tr>
<tr id="t2019-02-18T14:39:06"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">sk_tandt: so, lets start at the beginning. you have an application in source, right?</td><td class="time"><a href="#t2019-02-18T14:39:06" class="time">14:39</a></td></tr>
<tr id="t2019-02-18T14:41:10"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">Yep!</td><td class="time"><a href="#t2019-02-18T14:41:10" class="time">14:41</a></td></tr>
<tr id="t2019-02-18T14:41:29"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">sk_tandt: and how are you *BUILDING* the application?</td><td class="time"><a href="#t2019-02-18T14:41:29" class="time">14:41</a></td></tr>
<tr id="t2019-02-18T14:42:03"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">Autotools, as generated by the Yocto Eclipse plugin</td><td class="time"><a href="#t2019-02-18T14:42:03" class="time">14:42</a></td></tr>
<tr id="t2019-02-18T14:42:39"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">sk_tandt: and how are you *TRIGGERING* the autotools build? what is the very definitive, manual action that you do that starts the building process?</td><td class="time"><a href="#t2019-02-18T14:42:39" class="time">14:42</a></td></tr>
<tr id="t2019-02-18T14:43:20"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">...should there be one? I thought adding a recipe to an image and invoking "bitbake my-image" would've done it automatically</td><td class="time"><a href="#t2019-02-18T14:43:20" class="time">14:43</a></td></tr>
<tr id="t2019-02-18T14:44:19"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">if you have added it to the image and are building the image, then this is the action, yes. but you haven't ever mentioned that so far.</td><td class="time"><a href="#t2019-02-18T14:44:19" class="time">14:44</a></td></tr>
<tr id="t2019-02-18T14:44:31"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">Sorry, my bad</td><td class="time"><a href="#t2019-02-18T14:44:31" class="time">14:44</a></td></tr>
<tr id="t2019-02-18T14:44:48"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">I did</td><td class="time"><a href="#t2019-02-18T14:44:48" class="time">14:44</a></td></tr>
<tr id="t2019-02-18T14:44:48"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">sk_tandt: so you build the image, the application gets automatically built and included, right?</td><td class="time"><a href="#t2019-02-18T14:44:48" class="time">14:44</a></td></tr>
<tr id="t2019-02-18T14:45:01"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">Yup, I can find the executable within /usr/bin</td><td class="time"><a href="#t2019-02-18T14:45:01" class="time">14:45</a></td></tr>
<tr id="t2019-02-18T14:45:21"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">And even the files that must be copied during the installation</td><td class="time"><a href="#t2019-02-18T14:45:21" class="time">14:45</a></td></tr>
<tr id="t2019-02-18T14:45:24"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">ok. so now what does that have to do with the debian vm then?</td><td class="time"><a href="#t2019-02-18T14:45:24" class="time">14:45</a></td></tr>
<tr id="t2019-02-18T14:47:25"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">I wanted to figure out was was missing in the built image for the app to work</td><td class="time"><a href="#t2019-02-18T14:47:25" class="time">14:47</a></td></tr>
<tr id="t2019-02-18T14:48:05"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">And/or reproduce the problem with the source code</td><td class="time"><a href="#t2019-02-18T14:48:05" class="time">14:48</a></td></tr>
<tr id="t2019-02-18T14:48:58"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">sk_tandt: please, stop annotating the non-given asnwers. are took the binary from the target build and copied it out, or what?</td><td class="time"><a href="#t2019-02-18T14:48:58" class="time">14:48</a></td></tr>
<tr id="t2019-02-18T14:52:53"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">i mean, we can't see what you are doing. so if you tell or explain something, be sure to include all bits and pieces. do not take any circumstances for granted.</td><td class="time"><a href="#t2019-02-18T14:52:53" class="time">14:52</a></td></tr>
<tr id="t2019-02-18T14:53:55"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">my bets are that you are taking some assumuption about the system that the application shall run on somewhere, but don't check it explicitly</td><td class="time"><a href="#t2019-02-18T14:53:55" class="time">14:53</a></td></tr>
<tr id="t2019-02-18T14:54:31"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">but starting inside gdb and waiting for a backtrace to hit might give you a hint.</td><td class="time"><a href="#t2019-02-18T14:54:31" class="time">14:54</a></td></tr>
<tr id="t2019-02-18T15:04:12"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">Sorry, got back: LetoThe2nd, you're quite right, missed the balance between dumping too much and not giving enough info</td><td class="time"><a href="#t2019-02-18T15:04:12" class="time">15:04</a></td></tr>
<tr id="t2019-02-18T15:04:50"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">The built executable was indeed scp'ed to the end vm, and not rebuilt</td><td class="time"><a href="#t2019-02-18T15:04:50" class="time">15:04</a></td></tr>
<tr id="t2019-02-18T15:05:06"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">As for setting up gdb, will come back as soon as I have something!</td><td class="time"><a href="#t2019-02-18T15:05:06" class="time">15:05</a></td></tr>
<tr id="t2019-02-18T15:07:45"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">sk_tandt, so you transferred some pre-built binary into the qemu image? don't do that, write a recipe for your code, make sure the image pulls in the package produced by the recipe.</td><td class="time"><a href="#t2019-02-18T15:07:45" class="time">15:07</a></td></tr>
<tr id="t2019-02-18T15:08:52"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">kanavin, nope: I did build a recipe for the app, but I tried to replicate its issues copying the built executable in a vm</td><td class="time"><a href="#t2019-02-18T15:08:52" class="time">15:08</a></td></tr>
<tr id="t2019-02-18T15:09:59"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">kanavin: as far as i understood it, he copied the recipe-built binary out. hence my assumption that the autotools/build process of the app makes an assumption somewhere, and does not properly chack it.</td><td class="time"><a href="#t2019-02-18T15:09:59" class="time">15:09</a></td></tr>
<tr id="t2019-02-18T15:10:52"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">s/chack/check/g</td><td class="time"><a href="#t2019-02-18T15:10:52" class="time">15:10</a></td></tr>
<tr id="t2019-02-18T15:13:47"><th class="nick" style="background: #539e9e">willie</th><td class="text" style="color: #539e9e">Can someone point on my error in this thought process.. If i set "logo.nologo" at the end of mmcargs i can succesfully boot without tux</td><td class="time"><a href="#t2019-02-18T15:13:47" class="time">15:13</a></td></tr>
<tr id="t2019-02-18T15:14:21"><th class="nick" style="background: #539e9e">willie</th><td class="text" style="color: #539e9e">But when i try to re-compile with "rootfstype=${rootfstype}" \ "logo.nologo\0"&nbsp;&nbsp;\ at the end of mmcargs i get kernel panic</td><td class="time"><a href="#t2019-02-18T15:14:21" class="time">15:14</a></td></tr>
<tr id="t2019-02-18T15:14:37"><th class="nick" style="background: #539e9e">willie</th><td class="text" style="color: #539e9e">recompiling u-boot that is</td><td class="time"><a href="#t2019-02-18T15:14:37" class="time">15:14</a></td></tr>
<tr id="t2019-02-18T15:24:13"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: fix for gdk-pixbuf sent</td><td class="time"><a href="#t2019-02-18T15:24:13" class="time">15:24</a></td></tr>
<tr id="t2019-02-18T15:26:36"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">RP: Just patched away the --mtime stuff and no more stale .pyc's. Only matches. Interpreter startup time on my embedded board at idle dropped from 5s to around 1s.</td><td class="time"><a href="#t2019-02-18T15:26:36" class="time">15:26</a></td></tr>
<tr id="t2019-02-18T15:30:40"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">tristanram_, you need to discuss this with opkg upstream I guess</td><td class="time"><a href="#t2019-02-18T15:30:40" class="time">15:30</a></td></tr>
<tr id="t2019-02-18T15:55:03"><td class="part" colspan="2">*** arielm &lt;arielm!~quassel@192.100.196.156&gt; has left #yocto</td><td><a href="#t2019-02-18T15:55:03" class="time">15:55</a></td></tr>
<tr id="t2019-02-18T16:04:21"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">How may I know if my Eclipse is pointing to the correct toolchain?</td><td class="time"><a href="#t2019-02-18T16:04:21" class="time">16:04</a></td></tr>
<tr id="t2019-02-18T16:04:58"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">sk_tandt: just don't use it :P</td><td class="time"><a href="#t2019-02-18T16:04:58" class="time">16:04</a></td></tr>
<tr id="t2019-02-18T16:05:21"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">sk_tandt: sorry to but the eclipse plugin is mostly unmaintained and problem ridden</td><td class="time"><a href="#t2019-02-18T16:05:21" class="time">16:05</a></td></tr>
<tr id="t2019-02-18T16:06:49"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">*say.</td><td class="time"><a href="#t2019-02-18T16:06:49" class="time">16:06</a></td></tr>
<tr id="t2019-02-18T16:08:07"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">Oh, nice! I was using it to generate the autotools configuration files: is that part of the plugin bugged ?</td><td class="time"><a href="#t2019-02-18T16:08:07" class="time">16:08</a></td></tr>
<tr id="t2019-02-18T16:10:27"><th class="nick" style="background: #9b519b">LetoThe2nd</th><td class="text" style="color: #9b519b">consider every part being bugged.</td><td class="time"><a href="#t2019-02-18T16:10:27" class="time">16:10</a></td></tr>
<tr id="t2019-02-18T16:10:41"><th class="nick" style="background: #4b904b">sk_tandt</th><td class="text" style="color: #4b904b">Sigh, thanks</td><td class="time"><a href="#t2019-02-18T16:10:41" class="time">16:10</a></td></tr>
<tr id="t2019-02-18T16:31:17"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: I also sent a patch for glib meson issue (core-image-full-cmdline failures)</td><td class="time"><a href="#t2019-02-18T16:31:17" class="time">16:31</a></td></tr>
<tr id="t2019-02-18T16:48:39"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: adelcast is the person we need to talk to</td><td class="time"><a href="#t2019-02-18T16:48:39" class="time">16:48</a></td></tr>
<tr id="t2019-02-18T16:49:16"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">adelcast: We're seeing a problem where python's cache files (pyc) are invalid which is particularly problematic in a readonly rootfs</td><td class="time"><a href="#t2019-02-18T16:49:16" class="time">16:49</a></td></tr>
<tr id="t2019-02-18T16:50:11"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">adelcast: the problem is that opkg-build changes the data.tgz mtimes of the files from <a href="http://git.yoctoproject.org/cgit.cgi/opkg-utils/commit/?id=682f8c5e35b8854a9bb858b8ee1714d27e0c00db" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/opkg-utils/commit/?id=682f8c5e35b8854a9bb858b8ee1714d27e0c00db</a></td><td class="time"><a href="#t2019-02-18T16:50:11" class="time">16:50</a></td></tr>
<tr id="t2019-02-18T17:01:20"><th class="nick" style="background: #a25555">adelcast</th><td class="text" style="color: #a25555">RP: so, change the mtime makes Python think that the files are invalid?</td><td class="time"><a href="#t2019-02-18T17:01:20" class="time">17:01</a></td></tr>
<tr id="t2019-02-18T17:01:26"><th class="nick" style="background: #a25555">adelcast</th><td class="text" style="color: #a25555">change -&gt; changing</td><td class="time"><a href="#t2019-02-18T17:01:26" class="time">17:01</a></td></tr>
<tr id="t2019-02-18T17:03:04"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">adelcast: correct</td><td class="time"><a href="#t2019-02-18T17:03:04" class="time">17:03</a></td></tr>
<tr id="t2019-02-18T17:03:47"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">adelcast: I'm wondering if we should only set the mtime for the outer archive and the control files/archive but not data</td><td class="time"><a href="#t2019-02-18T17:03:47" class="time">17:03</a></td></tr>
<tr id="t2019-02-18T17:05:21"><th class="nick" style="background: #a25555">adelcast</th><td class="text" style="color: #a25555">I am looking at <a href="https://bugs.python.org/issue29708" rel="nofollow">https://bugs.python.org/issue29708</a></td><td class="time"><a href="#t2019-02-18T17:05:21" class="time">17:05</a></td></tr>
<tr id="t2019-02-18T17:08:48"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">adelcast, I think --mtime=$build_date should happen only if SOURCE_DATE_EPOCH is set. If that is the case, python3 itself will switch to hash-based mechanism automatically.</td><td class="time"><a href="#t2019-02-18T17:08:48" class="time">17:08</a></td></tr>
<tr id="t2019-02-18T17:09:54"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">if SOURCE_DATE_EPOCH is not set, then mtime shouldn't be set to what the date is right now, as it does nothing for reproducibility, and breaks the cache mechanism</td><td class="time"><a href="#t2019-02-18T17:09:54" class="time">17:09</a></td></tr>
<tr id="t2019-02-18T17:10:53"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">(if I'm reading that opkg patch correctly)</td><td class="time"><a href="#t2019-02-18T17:10:53" class="time">17:10</a></td></tr>
<tr id="t2019-02-18T17:11:07"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: I'm not sure it should happen at all for data.tar</td><td class="time"><a href="#t2019-02-18T17:11:07" class="time">17:11</a></td></tr>
<tr id="t2019-02-18T17:11:46"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: right</td><td class="time"><a href="#t2019-02-18T17:11:46" class="time">17:11</a></td></tr>
<tr id="t2019-02-18T17:13:43"><th class="nick" style="background: #a25555">adelcast</th><td class="text" style="color: #a25555">RP: if the mtime is not set on data.tar, how is the build reproducible?</td><td class="time"><a href="#t2019-02-18T17:13:43" class="time">17:13</a></td></tr>
<tr id="t2019-02-18T17:15:24"><th class="nick" style="background: #a25555">adelcast</th><td class="text" style="color: #a25555">kanavin: that makes sense, if SOURCE_DATE_EPOCH&nbsp;&nbsp;is not set, then we should just not even try</td><td class="time"><a href="#t2019-02-18T17:15:24" class="time">17:15</a></td></tr>
<tr id="t2019-02-18T17:16:00"><th class="nick" style="background: #a25555">adelcast</th><td class="text" style="color: #a25555">however, if SOURCE_DATE_EPOCH is set, and python &lt; 3.6, then we will hit the original problem</td><td class="time"><a href="#t2019-02-18T17:16:00" class="time">17:16</a></td></tr>
<tr id="t2019-02-18T17:16:46"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">adelcast, oe-core master has 3.7.2 now :)</td><td class="time"><a href="#t2019-02-18T17:16:46" class="time">17:16</a></td></tr>
<tr id="t2019-02-18T17:17:40"><th class="nick" style="background: #a25555">adelcast</th><td class="text" style="color: #a25555">sweet, then that could work</td><td class="time"><a href="#t2019-02-18T17:17:40" class="time">17:17</a></td></tr>
<tr id="t2019-02-18T17:18:15"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">adelcast, I actually agree with RP - don't rewrite mtimes of files in data tarball at all</td><td class="time"><a href="#t2019-02-18T17:18:15" class="time">17:18</a></td></tr>
<tr id="t2019-02-18T17:20:58"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">the package manager should not be concerned with what timestamps those files have - if the goal is to have a reproducible build, then the build system that actually creates those files in the first place will take care of it</td><td class="time"><a href="#t2019-02-18T17:20:58" class="time">17:20</a></td></tr>
<tr id="t2019-02-18T17:22:55"><th class="nick" style="background: #a25555">adelcast</th><td class="text" style="color: #a25555">oh right....that does makes sense, opkg should make sure the binaries it creates are reproducible, not the binaries it consumes</td><td class="time"><a href="#t2019-02-18T17:22:55" class="time">17:22</a></td></tr>
<tr id="t2019-02-18T17:23:25"><th class="nick" style="background: #a25555">adelcast</th><td class="text" style="color: #a25555">that should be a simple change</td><td class="time"><a href="#t2019-02-18T17:23:25" class="time">17:23</a></td></tr>
<tr id="t2019-02-18T17:25:13"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">yep, I guess dropping --mtime=$build_date from data.tar line would suffice</td><td class="time"><a href="#t2019-02-18T17:25:13" class="time">17:25</a></td></tr>
<tr id="t2019-02-18T17:26:31"><th class="nick" style="background: #a25555">adelcast</th><td class="text" style="color: #a25555">yeah</td><td class="time"><a href="#t2019-02-18T17:26:31" class="time">17:26</a></td></tr>
<tr id="t2019-02-18T17:26:49"><th class="nick" style="background: #a25555">adelcast</th><td class="text" style="color: #a25555">I can submit a patch shortly</td><td class="time"><a href="#t2019-02-18T17:26:49" class="time">17:26</a></td></tr>
<tr id="t2019-02-18T17:42:10"><th class="nick" style="background: #57a657">retoatwork</th><td class="text" style="color: #57a657">I would like to add pre-built u-boot images to my distribution. They should be included in the .swu files created for SWUpdate and therefore need to be copied into the deploy folder. The bin_package.class offers a nice solution when copying the file(s) into the sysroot - is there something similar for files supposed to end up in the deployment folder?</td><td class="time"><a href="#t2019-02-18T17:42:10" class="time">17:42</a></td></tr>
<tr id="t2019-02-18T17:42:33"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">adelcast: right, I was thinking the underlying files were the build system's remit, opkg should only worry about its own files</td><td class="time"><a href="#t2019-02-18T17:42:33" class="time">17:42</a></td></tr>
<tr id="t2019-02-18T17:43:16"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">adelcast: thanks for helping :)</td><td class="time"><a href="#t2019-02-18T17:43:16" class="time">17:43</a></td></tr>
<tr id="t2019-02-18T17:43:25"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">tristanram_: ^^^</td><td class="time"><a href="#t2019-02-18T17:43:25" class="time">17:43</a></td></tr>
<tr id="t2019-02-18T18:26:57"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: AUH is done :)</td><td class="time"><a href="#t2019-02-18T18:26:57" class="time">18:26</a></td></tr>
<tr id="t2019-02-18T18:39:30"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">kanavin: ah, great. I should prepare for an influx of patches then? :)</td><td class="time"><a href="#t2019-02-18T18:39:30" class="time">18:39</a></td></tr>
<tr id="t2019-02-18T18:40:15"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">in theory :)</td><td class="time"><a href="#t2019-02-18T18:40:15" class="time">18:40</a></td></tr>
<tr id="t2019-02-18T18:41:56"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">in practice, you'll probably have to grab most of them from /home/auh/build/upgrade-helper/20190217000703/all on the auh machine</td><td class="time"><a href="#t2019-02-18T18:41:56" class="time">18:41</a></td></tr>
<tr id="t2019-02-18T18:42:10"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">but let's wait a few days as usual :)</td><td class="time"><a href="#t2019-02-18T18:42:10" class="time">18:42</a></td></tr>
<tr id="t2019-02-18T19:39:21"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">adelcast: seems to be ok with removing --mtime in one line of the script "( cd $pkg_dir &amp;&amp; tar $ogargs $tsortargs -X $tmp_dir/tarX -c $tarformat . | $compressor $compressorargs &gt; $tmp_dir/data.tar.$cext ) || rc=$?"</td><td class="time"><a href="#t2019-02-18T19:39:21" class="time">19:39</a></td></tr>
<tr id="t2019-02-18T19:40:28"><th class="nick" style="background: #488888">tristanram_</th><td class="text" style="color: #488888">adelcast: I can test it tomorrow and update the issue in bugzilla accordingly</td><td class="time"><a href="#t2019-02-18T19:40:28" class="time">19:40</a></td></tr>
<tr id="t2019-02-18T19:41:25"><th class="nick" style="background: #a25555">adelcast</th><td class="text" style="color: #a25555">tristanram_: that sounds great, do you have the bugzilla #?</td><td class="time"><a href="#t2019-02-18T19:41:25" class="time">19:41</a></td></tr>
<tr id="t2019-02-18T19:57:46"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">adelcast: 13186</td><td class="time"><a href="#t2019-02-18T19:57:46" class="time">19:57</a></td></tr>
<tr id="t2019-02-18T20:20:47"><th class="nick" style="background: #a25555">adelcast</th><td class="text" style="color: #a25555">thanks, just added myself to the list, once I get the notification that the test passed, I can send patches</td><td class="time"><a href="#t2019-02-18T20:20:47" class="time">20:20</a></td></tr>
<tr id="t2019-02-18T20:42:24"><td class="action" colspan="2">* armpit auh is done.. check</td><td><a href="#t2019-02-18T20:42:24" class="time">20:42</a></td></tr>
<tr id="t2019-02-18T20:47:01"><th class="nick" style="background: #5959a9">armpit</th><td class="text" style="color: #5959a9">so are we automatically update packages that pass?</td><td class="time"><a href="#t2019-02-18T20:47:01" class="time">20:47</a></td></tr>
<tr id="t2019-02-18T22:27:40"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">armpit: we didn't decide to do that as yet</td><td class="time"><a href="#t2019-02-18T22:27:40" class="time">22:27</a></td></tr>
<tr id="t2019-02-18T22:52:14"><th class="nick" style="background: #adad5b">GeramyL</th><td class="text" style="color: #adad5b">Hi, I created my own machine and kernel for a custom x86/64 tablet, it needed a lot of customization to get it to work properly and i'm also building a custom embedded application. But when I go to run bitbake -c populate_sdk core-image-sato it gives me a nice little error I was hoping one of you could help me out, it says: meta-environment-surface-go-x86_64-1.0-r8 do_package_write_deb: Fatal errors occurred in subprocesses</td><td class="time"><a href="#t2019-02-18T22:52:14" class="time">22:52</a></td></tr>
<tr id="t2019-02-18T22:53:41"><th class="nick" style="background: #adad5b">GeramyL</th><td class="text" style="color: #adad5b"><a href="https://pastebin.com/899drCMD" rel="nofollow">https://pastebin.com/899drCMD</a></td><td class="time"><a href="#t2019-02-18T22:53:41" class="time">22:53</a></td></tr>
<tr id="t2019-02-18T22:55:49"><th class="nick" style="background: #adad5b">GeramyL</th><td class="text" style="color: #adad5b">so far I can tell i'm missing this: x86_64-pokysdk-linux but I do have x86_64 executable binary</td><td class="time"><a href="#t2019-02-18T22:55:49" class="time">22:55</a></td></tr>
<tr id="t2019-02-18T23:05:22"><th class="nick" style="background: #b15db1">neverpanic</th><td class="text" style="color: #b15db1">GeramyL: The command that fails is dpkg-deb -b $WORK/packages-split-meta-environment-surface-go-x86_64 $WORK/deploy-debs/x86_64-nativesdk</td><td class="time"><a href="#t2019-02-18T23:05:22" class="time">23:05</a></td></tr>
<tr id="t2019-02-18T23:05:38"><th class="nick" style="background: #b15db1">neverpanic</th><td class="text" style="color: #b15db1">Unfortunately it doesn't seem to give you the stderr output, which might help you out finding why it failed</td><td class="time"><a href="#t2019-02-18T23:05:38" class="time">23:05</a></td></tr>
<tr id="t2019-02-18T23:07:11"><th class="nick" style="background: #adad5b">GeramyL</th><td class="text" style="color: #adad5b">neverpanic: If this is a custom machine and kernel meta-layer what would I be missing so that the sdk builds? Do you know?</td><td class="time"><a href="#t2019-02-18T23:07:11" class="time">23:07</a></td></tr>
<tr id="t2019-02-18T23:12:06"><th class="nick" style="background: #b15db1">neverpanic</th><td class="text" style="color: #b15db1">I don't know. I'm telling you, packaging fails, so that's likely a problem with your packaging, not with your machine or kernel.</td><td class="time"><a href="#t2019-02-18T23:12:06" class="time">23:12</a></td></tr>
<tr id="t2019-02-18T23:12:26"><th class="nick" style="background: #b15db1">neverpanic</th><td class="text" style="color: #b15db1">May I suggest you try to reproduce this command manually and see if it prints helpful output?</td><td class="time"><a href="#t2019-02-18T23:12:26" class="time">23:12</a></td></tr>
<tr id="t2019-02-18T23:15:47"><th class="nick" style="background: #adad5b">GeramyL</th><td class="text" style="color: #adad5b">neverpanic: thats a good suggestion yeah let me do that :)</td><td class="time"><a href="#t2019-02-18T23:15:47" class="time">23:15</a></td></tr>
<tr id="t2019-02-18T23:52:25"><th class="nick" style="background: #adad5b">GeramyL</th><td class="text" style="color: #adad5b">neverpanic: sorry to ask such a dumb question, but how do you propose I run the command separately?</td><td class="time"><a href="#t2019-02-18T23:52:25" class="time">23:52</a></td></tr>
<tr id="t2019-02-18T23:55:50"><th class="nick" style="background: #adad5b">GeramyL</th><td class="text" style="color: #adad5b">dpkg-deb: error: failed to open package info file '/home/geramy/Documents/Yocto_Kiosk_Surface_Go/Surface_Go_Build/tmp/work/x86_64-nativesdk-pokysdk-linux/meta-environment-surface-go-x86_64/1.0-r8/packages-split/meta-environment-surface-go-x86_64/DEBIAN/control' for reading: No such file or directory</td><td class="time"><a href="#t2019-02-18T23:55:50" class="time">23:55</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-02-17.log.html">&#171; Sunday, 2019-02-17</a> <a href="index.html">Index</a> <a href="%23yocto.2019-02-19.log.html">Tuesday, 2019-02-19 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
